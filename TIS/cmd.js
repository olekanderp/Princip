[{"id":"3e6d1bd5.6da5d4","type":"serial out","z":"67a7ca62.555054","name":"","serial":"bdc6c6f9.a0db78","x":630,"y":500,"wires":[]},{"id":"5b211304.1168fc","type":"debug","z":"67a7ca62.555054","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":630,"y":560,"wires":[]},{"id":"d9f677be.eca1b8","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":460,"wires":[["fd95e6e8.3a0198"]]},{"id":"fd95e6e8.3a0198","type":"function","z":"67a7ca62.555054","name":"led_of","func":"//msg.payload = \"C003241001000\";\n\n                                                        //31 включити\nvar cmd = String.fromCharCode(0xf2,0x00,0x03,0x43,0x35,0x30);\n    \n msg.payload = Buffer.from(\"f2000343353009ee\", \"hex\");  \n\nreturn msg;\n//String.fromCharCode(65, 66, 67);\n//Buffer.from('33323431303031303030', 'hex')\n//String.fromCharCode(f2,00,03,43,35,31,19,cf);\n/*\nf2000343353119cf\nPlease use “$” before the each Hex character.\nIt is also possible to enter “C003241001000”\n\n*/","outputs":1,"noerr":0,"x":270,"y":460,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"261ee4d.027831c","type":"function","z":"67a7ca62.555054","name":"init","func":"/*\nmsg.payload = \nString.fromCharCode(0xf2, 0x00, 0x0d, 0x43, 0x30, 0x30, 0x33, \n0x32, 0x34, 0x31, 0x30, 0x30, 0x31, 0x30, 0x30, 0x30, 0xf6, 0x73);\n*/\n\nmsg.payload = Buffer.from('f2000d43303033323431303031303030f673', 'hex')\n\n//msg.payload = cmd;\nreturn msg;\n//String.fromCharCode(65, 66, 67);\n//Buffer.from('f2000d43303033323431303031303030f673', 'hex')\n//String.fromCharCode(f2,00,03,43,35,31,19,cf);\n/*\n    f2000d43303033323431303031303030f673                                                            \n\n\n*/","outputs":1,"noerr":0,"x":270,"y":500,"wires":[["3e6d1bd5.6da5d4","5b211304.1168fc"]]},{"id":"d63fbe6.21b574","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":500,"wires":[["261ee4d.027831c"]]},{"id":"1c5f8627.9ec88a","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":540,"wires":[["d21b8b86.7de228"]]},{"id":"d21b8b86.7de228","type":"function","z":"67a7ca62.555054","name":"led_on_g","func":"//msg.payload = \"C003241001000\";\n\n                                                        //31 включити\nvar cmd = String.fromCharCode(0xf2,0x00,0x03,0x43,0x35,0x30);\n    \n msg.payload = Buffer.from(\"f2000343353119cf\", \"hex\");  \n\nreturn msg;\n//String.fromCharCode(65, 66, 67);\n//Buffer.from('33323431303031303030', 'hex')\n//String.fromCharCode(f2,00,03,43,35,31,19,cf);\n/*\nf2000343353119cf\nPlease use “$” before the each Hex character.\nIt is also possible to enter “C003241001000”\n\n*/","outputs":1,"noerr":0,"x":283,"y":539.0000038146973,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"8d755c86.d4f7","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":699.0000038146973,"wires":[["2af6feec.0515f2"]]},{"id":"2af6feec.0515f2","type":"function","z":"67a7ca62.555054","name":"Status","func":"//P1102 - є каоточка\n//P1100 - немає карточки\n//P1101 - карточку треба достати\nmsg.payload = Buffer.from(\"f20003433131D50B\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":270,"y":699.0000038146973,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"7f5637b2.2c35e8","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":739.9999732971191,"wires":[["779d4045.03aa6"]]},{"id":"779d4045.03aa6","type":"function","z":"67a7ca62.555054","name":"Status 30","func":"        \n  \nmsg.payload = Buffer.from(\"f20003433130c52a\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":280,"y":739.9999732971191,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"98fc5d20.d560f","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":779.9999732971191,"wires":[["a994d08e.41e02"]]},{"id":"a994d08e.41e02","type":"function","z":"67a7ca62.555054","name":"Узяти картку","func":"        \n  \nmsg.payload = Buffer.from(\"f20003433a3019d0\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":290,"y":779.9999732971191,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"bc79d71a.660a78","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":120,"y":820.9999732971191,"wires":[["223ddc70.7f6464"]]},{"id":"223ddc70.7f6464","type":"function","z":"67a7ca62.555054","name":"Прочитати","func":"\n  \nmsg.payload = Buffer.from(\"f200034336350c18\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":290,"y":820.9999732971191,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"16dafb12.26a395","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":119,"y":861.9999732971191,"wires":[["20c38e29.28a2b2"]]},{"id":"20c38e29.28a2b2","type":"function","z":"67a7ca62.555054","name":"Видати картку","func":"//    f2 00 03 43 33 30 a3 48                           т..C30ЈH         \n\n  \nmsg.payload = Buffer.from(\"f20003433330a348\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":299,"y":861.9999732971191,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"436fdceb.a9f5c4","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":118.71427917480469,"y":578.4285621643066,"wires":[["5d1ad87e.105c18"]]},{"id":"5d1ad87e.105c18","type":"function","z":"67a7ca62.555054","name":"led_on_r","func":"\nmsg.payload = Buffer.from(\"f2000343353229ac\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":281.7142791748047,"y":577.4285659790039,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"dbf3b78b.3184a8","type":"inject","z":"67a7ca62.555054","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":114.71427917480469,"y":612.4285621643066,"wires":[["813d3010.26fc4"]]},{"id":"813d3010.26fc4","type":"function","z":"67a7ca62.555054","name":"led_on_o","func":"msg.payload = Buffer.from(\"f20003433533398d\", \"hex\");  \n\nreturn msg;\n","outputs":1,"noerr":0,"x":277.7142791748047,"y":611.4285659790039,"wires":[["3e6d1bd5.6da5d4"]]},{"id":"bdc6c6f9.a0db78","type":"serial-port","z":"","serialport":"/dev/ttyUSB0","serialbaud":"9600","databits":"8","parity":"even","stopbits":"1","waitfor":"","dtr":"none","rts":"none","cts":"none","dsr":"none","newline":"200","bin":"bin","out":"time","addchar":"","responsetimeout":"10000"}]
