[
    {
        "id": "ba6aff56e0d973f1",
        "type": "tab",
        "label": "Поток 3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "23e9bddd877d7d66",
        "type": "tab",
        "label": "Поток 4",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "835ba4690849c5a7",
        "type": "tab",
        "label": "Barcode",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "da2fcd75b90b9ad8",
        "type": "tab",
        "label": "1C",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72983c2150b8b211",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 60,
                "sy": 48,
                "gx": 20,
                "gy": 20,
                "cx": 6,
                "cy": 6,
                "px": 10,
                "py": 10
            }
        }
    },
    {
        "id": "3aef43e7.c8f8dc",
        "type": "ui_group",
        "name": "Склад-виробництва-насіння",
        "tab": "a3294d63.00075",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9a45071b.cbde08",
        "type": "ui_group",
        "name": "Час",
        "tab": "a3294d63.00075",
        "order": 3,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ad64ab44.dcf718",
        "type": "ui_group",
        "name": "Оновлення",
        "tab": "a3294d63.00075",
        "order": 4,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7d4453f6.d2b9ac",
        "type": "ui_group",
        "name": "Зважування",
        "tab": "a3294d63.00075",
        "order": 5,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "797ee753.4370e8",
        "type": "ui_group",
        "name": "Зона-встановлення",
        "tab": "a3294d63.00075",
        "order": 6,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a3294d63.00075",
        "type": "ui_tab",
        "name": "CFG-Main",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "79d066d6.ddfe68",
        "type": "ui_group",
        "name": "Час",
        "tab": "c381e312.c116c",
        "order": 2,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "37efe74b.96dfb8",
        "type": "ui_group",
        "name": "Пункт-призначення",
        "tab": "c381e312.c116c",
        "order": 5,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ab3d1d0c.4aa5c",
        "type": "ui_group",
        "name": "Замовлення-обрати",
        "tab": "c381e312.c116c",
        "order": 8,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "44925aea.069c34",
        "type": "ui_group",
        "name": "На-головну",
        "tab": "c381e312.c116c",
        "order": 9,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c26ceb1c.203f28",
        "type": "ui_group",
        "name": "Зберегти",
        "tab": "c381e312.c116c",
        "order": 11,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b9898d6b.30001",
        "type": "ui_group",
        "name": "Вага",
        "tab": "c381e312.c116c",
        "order": 10,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "dc35f511.32c468",
        "type": "ui_group",
        "name": "Склад-насіння",
        "tab": "c381e312.c116c",
        "order": 3,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d5135391.36c54",
        "type": "ui_group",
        "name": "Замовлення",
        "tab": "c381e312.c116c",
        "order": 7,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c381e312.c116c",
        "type": "ui_tab",
        "name": "Зважування",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "dbb149b1b79dfef6",
        "type": "ui_group",
        "name": "qwerty",
        "tab": "a3294d63.00075",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "99c87b21599d7665",
        "type": "ui_group",
        "name": "Склад-виробництва-насіння",
        "tab": "c381e312.c116c",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "adaaf27f618c67ac",
        "type": "ui_group",
        "name": "Склад-насіння-текст",
        "tab": "c381e312.c116c",
        "order": 4,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "634c14da443baa6c",
        "type": "ui_group",
        "name": "Замовлення-text",
        "tab": "c381e312.c116c",
        "order": 6,
        "disp": true,
        "width": "9",
        "collapse": false,
        "className": ""
    },
    {
        "id": "17abb50b.0974db",
        "type": "ui_dropdown",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "label": "Оберіть із списку",
        "tooltip": "",
        "place": "",
        "group": "3aef43e7.c8f8dc",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "widgetbr",
        "x": 490,
        "y": 180,
        "wires": [
            [
                "1239277d.6dccc9",
                "9c0c676600817c2f",
                "3a2d3b43d4f0c859"
            ]
        ]
    },
    {
        "id": "e84b00dd.32a13",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 240,
        "wires": [
            [
                "9d31b49f.084168",
                "21de63526c5c9e29"
            ]
        ]
    },
    {
        "id": "62b973a9.836afc",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "parse",
        "func": "msg.options = [ \n    {\"Склад виробництва насіння (м.Хоростків)\":\"1\"}, \n    {\"Склад виробництва насіння (с.Батятичі)\":\"2\"}, \n    {\"Тест\":\"3\"} ]\n\nvar metadataName = msg.payload\nvar newOption = []\n\nfor(let house of metadataName.data){\n    let option = {}\n    option[house.Warehouse] = { Warehouse: house.Warehouse, WarehouseCode: house.WarehouseCode}\n    newOption.push(option)\n}\n\nmsg.payload = newOption\nmsg.options = newOption\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 180,
        "wires": [
            [
                "17abb50b.0974db",
                "2d7e0576.8e49ea"
            ]
        ]
    },
    {
        "id": "1239277d.6dccc9",
        "type": "debug",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 730,
        "y": 180,
        "wires": []
    },
    {
        "id": "7e0c7ea.54be08",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "час",
        "func": "var d = new Date();\n\nvar utc = d.getTime() + (d.getTimezoneOffset() * 60000);\n\nvar offset = 2; // This is the offset for UTC+3, in your case (UTC+1) should be 1\n\nconst newDate = new Date(utc + (3600000*offset));\n//let text = d.toLocaleString();\n//msg.payload = newDate;\nvar dateLocal = newDate.toLocaleString(\"ru-RU\",{hour12:false});\nmsg.payload = dateLocal.replace(\",\",\"\");\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 60,
        "wires": [
            [
                "c951577e.f74f38"
            ]
        ]
    },
    {
        "id": "df0670b9.79289",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "7e0c7ea.54be08"
            ]
        ]
    },
    {
        "id": "c951577e.f74f38",
        "type": "ui_text",
        "z": "ba6aff56e0d973f1",
        "group": "9a45071b.cbde08",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 510,
        "y": 60,
        "wires": []
    },
    {
        "id": "6c621401.b4407c",
        "type": "ui_button",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "group": "ad64ab44.dcf718",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Оновлення",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "",
        "topicType": "str",
        "x": 310,
        "y": 300,
        "wires": [
            [
                "4519b3e.051b14c",
                "9d31b49f.084168",
                "558055675dd6235c",
                "2c37f7dfa106f6f7",
                "21de63526c5c9e29"
            ]
        ]
    },
    {
        "id": "4519b3e.051b14c",
        "type": "debug",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 490,
        "y": 240,
        "wires": []
    },
    {
        "id": "63394877.33f8c8",
        "type": "ui_button",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "group": "7d4453f6.d2b9ac",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Зважування",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "",
        "topicType": "str",
        "x": 490,
        "y": 600,
        "wires": [
            [
                "f532777b.a0ad58"
            ]
        ]
    },
    {
        "id": "f03ba944.aab088",
        "type": "ui_button",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "group": "797ee753.4370e8",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Зона встановлення",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "date",
        "topic": "",
        "topicType": "str",
        "x": 140,
        "y": 440,
        "wires": [
            [
                "e9d9731d3cc32c3c",
                "9d31b49f.084168"
            ]
        ]
    },
    {
        "id": "9d31b49f.084168",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "Date",
        "func": "// msg.payload = {\n//     \"metadataName\": \"seedswarehouses\",\n//     \"count\": 2,\n//     \"data\": [{\n//             \"Warehouse\": \"Склад виробництва насіння (м.Хоростків)\",\n//             \"WarehouseCode\": \"000000000064\"\n//         }, {\n//             \"Warehouse\": \"Склад виробництва насіння (с.Батятичі)\",\n//             \"WarehouseCode\": \"000000000065\"\n//         }\n//     ]\n// }\n\nmsg.payload = flow.get(\"main_sklad\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 240,
        "wires": [
            [
                "4519b3e.051b14c",
                "62b973a9.836afc"
            ]
        ]
    },
    {
        "id": "2d7e0576.8e49ea",
        "type": "debug",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 730,
        "y": 140,
        "wires": []
    },
    {
        "id": "ebdbc2f7.b8192",
        "type": "ui_ui_control",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "x": 700,
        "y": 640,
        "wires": [
            [
                "24fc80c2.3989f",
                "c97854ae17673a50"
            ]
        ]
    },
    {
        "id": "24fc80c2.3989f",
        "type": "debug",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 640,
        "wires": []
    },
    {
        "id": "f532777b.a0ad58",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "func": "msg.payload = {tab:\"Зважування\"}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 200,
        "y": 660,
        "wires": [
            [
                "ebdbc2f7.b8192"
            ]
        ]
    },
    {
        "id": "8e489bb31ed74d6a",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 820,
        "wires": [
            [
                "02293093b2cf0ef1"
            ]
        ]
    },
    {
        "id": "02293093b2cf0ef1",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 1",
        "func": "msg.payload = { \n    group: { \n        hide: [\"CFG-Main_Склад-виробництва-насіння\"],\n        show: [\"CFG-Main_qwerty\", \"CFG-Main_Час\", \"CFG-Main_Оновлення\", \"CFG-Main_Зважування\", \"CFG-Main_Зона-встановлення\"]\n    } \n}\n\nlet qwerty = { \n    \"group\": { \n        \"hide\": [\"tab_name_group_name_with_underscores\"], \n        \"show\": [\"reveal_another_group\"], \n        \"focus\": true \n    } \n}\n//        hide: [\"CFG-Main_qwerty\", \"CFG-Main_Час\", \"CFG-Main_Оновлення\", \"CFG-Main_Зважування\", \"CFG-Main_Зона-встановлення\", \"CFG-Main_Склад-виробництва-насіння\"]\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 820,
        "wires": [
            [
                "ebdbc2f7.b8192",
                "0232f7d35235344a"
            ]
        ]
    },
    {
        "id": "e9d9731d3cc32c3c",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "hide/show DropDown",
        "func": "msg.payload = { \n    \"group\": { \n        \"hide\": [\"CFG-Main_qwerty\"], \n        \"show\": [\"CFG-Main_Склад-виробництва-насіння\"] \n    } \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 500,
        "wires": [
            [
                "ebdbc2f7.b8192"
            ]
        ]
    },
    {
        "id": "cb67812d49fe285f",
        "type": "ui_text",
        "z": "ba6aff56e0d973f1",
        "group": "dbb149b1b79dfef6",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Склад:",
        "format": "{{msg.info}}",
        "layout": "row-spread",
        "className": "",
        "x": 780,
        "y": 360,
        "wires": []
    },
    {
        "id": "0232f7d35235344a",
        "type": "debug",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 490,
        "y": 820,
        "wires": []
    },
    {
        "id": "21de63526c5c9e29",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 2",
        "func": "msg.payload = \"Потрібно обрати\"\nflow.set(\"main_skald\", null);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 360,
        "wires": [
            [
                "cb67812d49fe285f"
            ]
        ]
    },
    {
        "id": "9c0c676600817c2f",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "hide/show DropDown",
        "func": "msg.payload = { \n    \"group\": { \n        \"hide\": [\"CFG-Main_Склад-виробництва-насіння\"], \n        \"show\": [\"CFG-Main_qwerty\" ] \n    } \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 460,
        "wires": [
            [
                "ebdbc2f7.b8192",
                "168d950b9939992b"
            ]
        ]
    },
    {
        "id": "cad641f92386ec30",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 3",
        "func": "var sklad = flow.get(\"main_skald\");\nif (!sklad){\n    msg.enabled = false;\n}else{\n    msg.enabled = true;\n}\n\nreturn msg;\n\n//flow.set(\"main_skald\", msg.payload.Warehouse);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 760,
        "wires": [
            [
                "63394877.33f8c8",
                "0232f7d35235344a"
            ]
        ]
    },
    {
        "id": "168d950b9939992b",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 4",
        "func": "msg.enabled = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 500,
        "wires": [
            [
                "63394877.33f8c8"
            ]
        ]
    },
    {
        "id": "3a2d3b43d4f0c859",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 5",
        "func": "//msg.payload = msg.payload.Warehouse\nvar inDate = msg.payload\nmsg.info = inDate.Warehouse\nflow.set(\"main_skald\", msg.info);\nmsg.payload = inDate\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 320,
        "wires": [
            [
                "cb67812d49fe285f",
                "d449fd22fb79b4cb"
            ]
        ]
    },
    {
        "id": "d449fd22fb79b4cb",
        "type": "link out",
        "z": "ba6aff56e0d973f1",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "065dc67c51c9d586"
        ],
        "x": 1015,
        "y": 280,
        "wires": []
    },
    {
        "id": "7bd97aaf8ecf3d2c",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "Запит 1",
        "func": "//Куінтус, нас., 1 р, 2021\nmsg.payload = {\n    \"metadataName\": \"seedstaskordersnew\",\n    \"count\": 1,\n    \"data\": [{\n        \"DocumentNumber\": \"000000000064\",\n        \"DocumentDate\": \"2022-02-01T00:00:00\",\n        \"PartyName\": \"10000-100622-0911\",\n        \"Note\": \"Тернопіль, Схема 2\",\n        \"NomenclatureName\": \"Нас. оз. пш. Мулан\",\n        \"NomenclatureCode\": \"Ц0000056426\",\n        \"NomenclatureCharacteristics\": \"Мулан, нас., 1 р, 2019\",\n        \"Disinfectant1\": \"Вайбранс Інтеграл\",\n        \"DisinfectantCode1\": \"Ц0000100594\",\n        \"Disinfectant2\": \"Цензор XL\",\n        \"DisinfectantCode2\": \"Ц0000102126\",\n        \"Disinfectant3\": \"Яра Віта Рексолін АВС Фульвогумін\",\n        \"DisinfectantCode3\": \"Ц0000100669\",\n        \"Disinfectant4\": \"Вітазим К\",\n        \"DisinfectantCode4\": \"Ц0000085308\",\n        \"WHouseName\": \"МРІЯ НАСІННЄВИЙ ЗАВОД, ТОВ (Хоростків)\",\n        \"WHouseCode\": \"ЦК0007135\",\n        \"BarcodeCode\": \"430\",\n        \"MassOfThousands\": \"0.080\"\n    },\n    {\n        \"DocumentNumber\": \"000000000020\",\n        \"DocumentDate\": \"2022-02-01T00:00:00\",\n        \"PartyName\": \"20000-200222-0222\",\n        \"Note\": \"Тернопіль, Схема 3\",\n        \"NomenclatureName\": \"Нас. оз. пш. Тіфун\",\n        \"NomenclatureCode\": \"Ц0000056439\",\n        \"NomenclatureCharacteristics\": \"Куінтус, нас., 2 р, 2021\",\n        \"Disinfectant1\": \"Вайбранс Інтеграл\",\n        \"DisinfectantCode1\": \"Ц0000100594\",\n        \"Disinfectant2\": \"Цензор XL\",\n        \"DisinfectantCode2\": \"Ц0000102126\",\n        \"Disinfectant3\": \"Яра Віта Рексолін АВС Фульвогумін\",\n        \"DisinfectantCode3\": \"Ц0000100669\",\n        \"Disinfectant4\": \"Вітазим К\",\n        \"DisinfectantCode4\": \"Ц0000085308\",\n        \"WHouseName\": \"ТІФУН НАСІННЄВИЙ ЗАВОД, ТОВ (Мангуш)\",\n        \"WHouseCode\": \"ЦК0007135\",\n        \"BarcodeCode\": \"430\",\n        \"MassOfThousands\": \"0.080\"\n    },\n    {\n        \"DocumentNumber\": \"0000000000350\",\n        \"DocumentDate\": \"2022-04-06T00:00:00\",\n        \"PartyName\": \"80000-200888-0888\",\n        \"Note\": \"Суми, Схема 5\",\n        \"NomenclatureName\": \"Нас. оз. пш. Тіфун\",\n        \"NomenclatureCode\": \"Ц0000056439\",\n        \"NomenclatureCharacteristics\": \"Кактус, нас., 3 р, 2022\",\n        \"Disinfectant1\": \"Вайсберг\",\n        \"DisinfectantCode1\": \"Ц0000100594\",\n        \"Disinfectant2\": \"Захист 10\",\n        \"DisinfectantCode2\": \"Ц0000102126\",\n        \"Disinfectant3\": \"Фульвогумін\",\n        \"DisinfectantCode3\": \"Ц0000100669\",\n        \"Disinfectant4\": \"Кович У\",\n        \"DisinfectantCode4\": \"Ц0000085308\",\n        \"WHouseName\": \"Солін НАСІННЄВИЙ ЗАВОД, ТОВ (Солін)\",\n        \"WHouseCode\": \"ЦК0007135\",\n        \"BarcodeCode\": \"430\",\n        \"MassOfThousands\": \"0.080\"\n    }\n    ]\n}\n\n\nflow.set(\"main_orders\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "1b88963bb7c46b8d",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "Запит 2",
        "func": "msg.payload = {\n    \"metadataName\": \"seedswarehouses\",\n    \"count\": 2,\n    \"data\": [{\n        \"Warehouse\": \"Склад виробництва насіння (м.Хоростків)\",\n        \"WarehouseCode\": \"000000000064\"\n    }, {\n        \"Warehouse\": \"Склад виробництва насіння (с.Батятичі)\",\n        \"WarehouseCode\": \"000000000065\"\n    }\n    ]\n}\nflow.set(\"main_sklad\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "4244dd4fae4ad6d0",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1220,
        "wires": [
            [
                "7bd97aaf8ecf3d2c"
            ]
        ]
    },
    {
        "id": "e59565bca1c4ddd5",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1260,
        "wires": [
            [
                "1b88963bb7c46b8d"
            ]
        ]
    },
    {
        "id": "558055675dd6235c",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 13",
        "func": "msg.payload = \"\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 280,
        "wires": [
            [
                "d449fd22fb79b4cb"
            ]
        ]
    },
    {
        "id": "2c37f7dfa106f6f7",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "function 14",
        "func": "msg.enabled = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 440,
        "wires": [
            [
                "63394877.33f8c8"
            ]
        ]
    },
    {
        "id": "c97854ae17673a50",
        "type": "switch",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "connect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 730,
        "y": 720,
        "wires": [
            [
                "02293093b2cf0ef1"
            ]
        ]
    },
    {
        "id": "e493d4a5f6bef446",
        "type": "ui_template",
        "z": "ba6aff56e0d973f1",
        "group": "9a45071b.cbde08",
        "name": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .masonry-container {\n        width: 1200px;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 320,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "d117f22e0c076b88",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 860,
        "wires": [
            [
                "e493d4a5f6bef446"
            ]
        ]
    },
    {
        "id": "91a0833a15a6acfd",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "0.5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 760,
        "wires": [
            [
                "cad641f92386ec30"
            ]
        ]
    },
    {
        "id": "9009483ff998fa94",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 900,
        "wires": [
            [
                "41c61100ab7018fe"
            ]
        ]
    },
    {
        "id": "41c61100ab7018fe",
        "type": "function",
        "z": "ba6aff56e0d973f1",
        "name": "init var",
        "func": "flow.set(\"main_skald\", null);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "af8d6880e9ba4464",
        "type": "inject",
        "z": "ba6aff56e0d973f1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "main_skald",
        "payloadType": "flow",
        "x": 220,
        "y": 940,
        "wires": [
            [
                "93f7d18878f81bb9"
            ]
        ]
    },
    {
        "id": "93f7d18878f81bb9",
        "type": "debug",
        "z": "ba6aff56e0d973f1",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 940,
        "wires": []
    },
    {
        "id": "0ce68d60af0b910d",
        "type": "comment",
        "z": "ba6aff56e0d973f1",
        "name": "Отримання даних зовні",
        "info": "",
        "x": 150,
        "y": 1180,
        "wires": []
    },
    {
        "id": "56bcaa69.6208a4",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "Час",
        "func": "var d = new Date();\n\nvar utc = d.getTime() + (d.getTimezoneOffset() * 60000);\n\nvar offset = 2; // This is the offset for UTC+3, in your case (UTC+1) should be 1\n\nconst newDate = new Date(utc + (3600000*offset));\n//let text = d.toLocaleString();\n//msg.payload = newDate;\nvar dateLocal = newDate.toLocaleString(\"ru-RU\",{hour12:false});\nmsg.payload = dateLocal.replace(\",\",\"\");\n\nglobal.set(\"dateHlobal\", msg.payload.split(\" \")[0])\nglobal.set(\"dateGlobalForPDF\", msg.payload.replace(\" \", \"_\"))\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 20,
        "wires": [
            [
                "4d5ce05d.de0b2"
            ]
        ]
    },
    {
        "id": "c68a9133.4f85c",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 20,
        "wires": [
            [
                "56bcaa69.6208a4"
            ]
        ]
    },
    {
        "id": "4d5ce05d.de0b2",
        "type": "ui_text",
        "z": "23e9bddd877d7d66",
        "group": "79d066d6.ddfe68",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Час",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 490,
        "y": 20,
        "wires": []
    },
    {
        "id": "ff01aba5.542df8",
        "type": "ui_button",
        "z": "23e9bddd877d7d66",
        "name": "",
        "group": "37efe74b.96dfb8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Пункт призначення",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 140,
        "y": 420,
        "wires": [
            [
                "11fd056b560a5a92",
                "4adf41de.9a308",
                "648aaf887fbbe407"
            ]
        ]
    },
    {
        "id": "df997a60.d8efd8",
        "type": "ui_button",
        "z": "23e9bddd877d7d66",
        "name": "",
        "group": "ab3d1d0c.4aa5c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Замовлення",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 640,
        "wires": [
            [
                "0242ad9ea78a012f",
                "64654081.618aa",
                "648aaf887fbbe407"
            ]
        ]
    },
    {
        "id": "2a541a53.e497b6",
        "type": "ui_button",
        "z": "23e9bddd877d7d66",
        "name": "",
        "group": "44925aea.069c34",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "На головну",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 170,
        "y": 1020,
        "wires": [
            [
                "73e10b877ca7f299"
            ]
        ]
    },
    {
        "id": "6b4d80df.cdace",
        "type": "ui_button",
        "z": "23e9bddd877d7d66",
        "name": "",
        "group": "c26ceb1c.203f28",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Зберегти",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "open",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 120,
        "y": 820,
        "wires": [
            [
                "ab3bc33ec9b2842b"
            ]
        ]
    },
    {
        "id": "52f402ec.1911fc",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "Вага",
        "func": "function getRandomFloat(min, max, decimals) {\n  const str = (Math.random() * (max - min) + min).toFixed(decimals);\n\n  return parseFloat(str);\n}\n\nmsg.payload = getRandomFloat(1.5, 300.5, 1); \n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 240,
        "wires": [
            [
                "abc3589b.a47608",
                "e6ed7b33ee7019cf"
            ]
        ]
    },
    {
        "id": "b49f35d8.fcc878",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 240,
        "wires": [
            [
                "52f402ec.1911fc"
            ]
        ]
    },
    {
        "id": "abc3589b.a47608",
        "type": "ui_text",
        "z": "23e9bddd877d7d66",
        "group": "b9898d6b.30001",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 410,
        "y": 240,
        "wires": []
    },
    {
        "id": "1f425441.2c75cc",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 380,
        "wires": [
            [
                "4adf41de.9a308"
            ]
        ]
    },
    {
        "id": "4adf41de.9a308",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "main_orders",
        "func": "msg.payload = flow.get(\"main_orders\")\n//WHouseName\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 380,
        "wires": [
            [
                "23fe5ced.a2c8f4"
            ]
        ]
    },
    {
        "id": "23fe5ced.a2c8f4",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "Склад",
        "func": "// {\n// \"metadataName\": \"seedstaskordersnew\",\n// \"count\": 1,\n// \"data\": [{\n//     \"DocumentNumber\": \"000000000064\",\n//     \"DocumentDate\": \"2022-02-01T00:00:00\",\n//     \"PartyName\": \"10000-100622-0911\",\n//     \"Note\": \"Тернопіль, Схема 2\",\n//     \"NomenclatureName\": \"Нас. оз. пш. Мулан\",\n//     \"NomenclatureCode\": \"Ц0000056426\",\n//     \"NomenclatureCharacteristics\": \"Мулан, нас., ЕН, 2019\",\n//     \"Disinfectant1\": \"Вайбранс Інтеграл\",\n//     \"DisinfectantCode1\": \"Ц0000100594\",\n//     \"Disinfectant2\": \"Цензор XL\",\n//     \"DisinfectantCode2\": \"Ц0000102126\",\n//     \"Disinfectant3\": \"Яра Віта Рексолін АВС Фульвогумін\",\n//     \"DisinfectantCode3\": \"Ц0000100669\",\n//     \"Disinfectant4\": \"Вітазим К\",\n//     \"DisinfectantCode4\": \"Ц0000085308\",\n//     \"WHouseName\": \"МРІЯ НАСІННЄВИЙ ЗАВОД, ТОВ (Хоростків)\",\n//     \"WHouseCode\": \"ЦК0007135\",\n//     \"BarcodeCode\": \"430\",\n//     \"MassOfThousands\": \"0.080\"\n// }\n// ]\n// }\n\n\nvar metadataName = msg.payload\nvar newOption = []\n\nfor (let house of metadataName.data) {\n    let option = {}\n    option[house.WHouseName] = house\n    newOption.push(option)\n}\n\nmsg.payload = newOption\nmsg.options = newOption\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 380,
        "wires": [
            [
                "7da8ac29.956254"
            ]
        ]
    },
    {
        "id": "7da8ac29.956254",
        "type": "ui_dropdown",
        "z": "23e9bddd877d7d66",
        "name": "",
        "label": "Оберіть із списку",
        "tooltip": "",
        "place": "",
        "group": "dc35f511.32c468",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 630,
        "y": 380,
        "wires": [
            [
                "0ea26731383852c4",
                "a51eb3643ab2fa94",
                "6990552f.65d86c",
                "cbabe26e5d7b2a8e",
                "b1d53a57abf4f077"
            ]
        ]
    },
    {
        "id": "64654081.618aa",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "",
        "func": "msg.payload = flow.get(\"sklad\")\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 600,
        "wires": [
            [
                "6990552f.65d86c"
            ]
        ]
    },
    {
        "id": "6990552f.65d86c",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "INFO",
        "func": "// {\n// \"metadataName\": \"seedstaskordersnew\",\n// \"count\": 1,\n// \"data\": [{\n//     \"DocumentNumber\": \"000000000064\",\n//     \"DocumentDate\": \"2022-02-01T00:00:00\",\n//     \"PartyName\": \"10000-100622-0911\",\n//     \"Note\": \"Тернопіль, Схема 2\",\n//     \"NomenclatureName\": \"Нас. оз. пш. Мулан\",\n//     \"NomenclatureCode\": \"Ц0000056426\",\n//     \"NomenclatureCharacteristics\": \"Мулан, нас., ЕН, 2019\",\n//     \"Disinfectant1\": \"Вайбранс Інтеграл\",\n//     \"DisinfectantCode1\": \"Ц0000100594\",\n//     \"Disinfectant2\": \"Цензор XL\",\n//     \"DisinfectantCode2\": \"Ц0000102126\",\n//     \"Disinfectant3\": \"Яра Віта Рексолін АВС Фульвогумін\",\n//     \"DisinfectantCode3\": \"Ц0000100669\",\n//     \"Disinfectant4\": \"Вітазим К\",\n//     \"DisinfectantCode4\": \"Ц0000085308\",\n//     \"WHouseName\": \"МРІЯ НАСІННЄВИЙ ЗАВОД, ТОВ (Хоростків)\",\n//     \"WHouseCode\": \"ЦК0007135\",\n//     \"BarcodeCode\": \"430\",\n//     \"MassOfThousands\": \"0.080\"\n// }\n// ]\n// }\n\nvar metadataName = [msg.payload]\nvar newOption = []\n\nfor (let house of metadataName) {\n    let option = {}\n    house.optionVirtual = `${house.DocumentNumber} ${house.NomenclatureName}`\n    option[`${house.DocumentNumber} ${house.NomenclatureName}`] = house\n    newOption.push(option)\n}\n\nmsg.payload = newOption\nmsg.options = newOption\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 600,
        "wires": [
            [
                "edf589c0.133f88"
            ]
        ]
    },
    {
        "id": "edf589c0.133f88",
        "type": "ui_dropdown",
        "z": "23e9bddd877d7d66",
        "name": "",
        "label": "Оберіть із списку",
        "tooltip": "",
        "place": "",
        "group": "d5135391.36c54",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 570,
        "y": 600,
        "wires": [
            [
                "17237860ce308556",
                "9d703f9dc187d15d",
                "72089e928ac04c29"
            ]
        ]
    },
    {
        "id": "65c2d109b2618ef0",
        "type": "ui_ui_control",
        "z": "23e9bddd877d7d66",
        "name": "ui control",
        "x": 420,
        "y": 1060,
        "wires": [
            [
                "b11bde3e3659d805",
                "70a88c40a149e108"
            ]
        ]
    },
    {
        "id": "b11bde3e3659d805",
        "type": "debug",
        "z": "23e9bddd877d7d66",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "false",
        "x": 590,
        "y": 1060,
        "wires": []
    },
    {
        "id": "73e10b877ca7f299",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "",
        "func": "msg.payload = { tab:\"CFG-Main\"}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1060,
        "wires": [
            [
                "65c2d109b2618ef0"
            ]
        ]
    },
    {
        "id": "f953df9f56312c8a",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1120,
        "wires": [
            [
                "d62f2692d31b880f"
            ]
        ]
    },
    {
        "id": "d62f2692d31b880f",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "function 6",
        "func": "msg.payload = { \n    group: { \n        hide: [\"Зважування_Склад-насіння\", \"Зважування_Замовлення\", \"Зважування_Link\"],\n        show: [\"Зважування_Замовлення-text\", \"Зважування_Склад-насіння-текст\", \"Зважування_Склад-виробництва-насіння\", \"Зважування_Час\", \"Зважування_Склад-насіння\", \"Зважування_Пункт-призначення\", \"Зважування_INFO\", \"Зважування_Замовлення-обрати\", \"Зважування_На-головну\", \"Зважування_Вага\", \"Зважування_Зберегти\"]\n    } \n}\n\n//[\"Зважування_Склад-виробництва-насіння\", \"Зважування_Склад-виробництва-насіння-2\", \"Зважування_Час\", \"Зважування_Склад-насіння\", \"Зважування_Пункт-призначення\", \"Зважування_INFO\", \"Зважування_Замовлення\", \"Зважування_На-головну\", \"Зважування_Вага\", \"Зважування_Зберегти\"],\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 1120,
        "wires": [
            [
                "65c2d109b2618ef0"
            ]
        ]
    },
    {
        "id": "577e9afa7372a65f",
        "type": "ui_text",
        "z": "23e9bddd877d7d66",
        "group": "99c87b21599d7665",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Склад-виробництва-насіння",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "className": "",
        "x": 580,
        "y": 100,
        "wires": []
    },
    {
        "id": "065dc67c51c9d586",
        "type": "link in",
        "z": "23e9bddd877d7d66",
        "name": "Склад-виробництва-насіння",
        "links": [
            "d449fd22fb79b4cb"
        ],
        "x": 55,
        "y": 140,
        "wires": [
            [
                "28ab2c81e385c5b1",
                "a6f76ce8c5a657e4"
            ]
        ]
    },
    {
        "id": "438733d35e85be3c",
        "type": "ui_text",
        "z": "23e9bddd877d7d66",
        "group": "adaaf27f618c67ac",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Обраний:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 980,
        "y": 320,
        "wires": []
    },
    {
        "id": "0ea26731383852c4",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "text",
        "func": "msg.payload = msg.payload.WHouseName\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 320,
        "wires": [
            [
                "438733d35e85be3c"
            ]
        ]
    },
    {
        "id": "11fd056b560a5a92",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "hide/show DropDown",
        "func": "msg.payload = { \n    \"group\": { \n        \"hide\": [\"Зважування_Склад-насіння-текст\"], \n        \"show\": [\"Зважування_Склад-насіння\"] \n    } \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 420,
        "wires": [
            [
                "65c2d109b2618ef0"
            ]
        ]
    },
    {
        "id": "a51eb3643ab2fa94",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "hide/show DropDown",
        "func": "msg.payload = { \n    \"group\": { \n        \"hide\": [\"Зважування_Склад-насіння\"], \n        \"show\": [\"Зважування_Склад-насіння-текст\"] \n    } \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 420,
        "wires": [
            [
                "65c2d109b2618ef0"
            ]
        ]
    },
    {
        "id": "17237860ce308556",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "text",
        "func": "msg.payload = msg.payload.optionVirtual\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 540,
        "wires": [
            [
                "c4e896785bab5636"
            ]
        ]
    },
    {
        "id": "c4e896785bab5636",
        "type": "ui_text",
        "z": "23e9bddd877d7d66",
        "group": "634c14da443baa6c",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Обране:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 1000,
        "y": 540,
        "wires": []
    },
    {
        "id": "0242ad9ea78a012f",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "hide/show DropDown",
        "func": "msg.payload = { \n    \"group\": { \n        \"hide\": [\"Зважування_Замовлення-text\"], \n        \"show\": [\"Зважування_Замовлення\"] \n    } \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 640,
        "wires": [
            [
                "65c2d109b2618ef0"
            ]
        ]
    },
    {
        "id": "9d703f9dc187d15d",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "hide/show DropDown",
        "func": "msg.payload = {\n    \"group\": {\n        \"hide\": [\"Зважування_Замовлення\"],\n        \"show\": [\"Зважування_Замовлення-text\"]\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 660,
        "wires": [
            [
                "65c2d109b2618ef0"
            ]
        ]
    },
    {
        "id": "0fff89af25e3e0a5",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "set ",
        "func": "\n\n\nflow.set(\"sklad\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "72089e928ac04c29",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "set ",
        "func": "flow.set(\"order\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "28ab2c81e385c5b1",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "set ",
        "func": "if (msg.payload == \"\"){\n    flow.set(\"main_skald\",null);\n}else{\n    flow.set(\"main_skald\", msg.payload);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "7ced7bc0a4722cf0",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "init var",
        "func": "flow.set(\"main_skald\", null);\nflow.set(\"sklad\", null);\nflow.set(\"order\", null);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "71a1bced96f9b81c",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1160,
        "wires": [
            [
                "7ced7bc0a4722cf0"
            ]
        ]
    },
    {
        "id": "d7013ddd1ac11792",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "main_skald",
        "payloadType": "flow",
        "x": 160,
        "y": 1240,
        "wires": [
            [
                "0df57ecb8fdd88a8"
            ]
        ]
    },
    {
        "id": "c794b1b16d6420eb",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "timer",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "e13622f5f63260e0"
            ]
        ]
    },
    {
        "id": "e13622f5f63260e0",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "enb save",
        "func": "var main_skald = flow.get(\"main_skald\");\nvar sklad = flow.get(\"sklad\");\nvar order = flow.get(\"order\");\nvar weight = flow.get(\"weight\");\n\n\nif (main_skald && sklad && order && (weight > 50)){\n    msg.enabled = true;\n}else{\n    msg.enabled = false;\n}\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 120,
        "y": 780,
        "wires": [
            [
                "6b4d80df.cdace"
            ]
        ]
    },
    {
        "id": "0df57ecb8fdd88a8",
        "type": "debug",
        "z": "23e9bddd877d7d66",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 370,
        "y": 1240,
        "wires": []
    },
    {
        "id": "6ec3093b3c4fb05a",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "sklad",
        "payloadType": "flow",
        "x": 140,
        "y": 1280,
        "wires": [
            [
                "0df57ecb8fdd88a8"
            ]
        ]
    },
    {
        "id": "feefd6752008430d",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "order",
        "payloadType": "flow",
        "x": 140,
        "y": 1320,
        "wires": [
            [
                "0df57ecb8fdd88a8"
            ]
        ]
    },
    {
        "id": "e6ed7b33ee7019cf",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "set ",
        "func": "flow.set(\"weight\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "ab3bc33ec9b2842b",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "get all data",
        "func": "var main_skald = flow.get(\"main_skald\");\nvar sklad = flow.get(\"sklad\");\nvar order = flow.get(\"order\");\nvar weight = flow.get(\"weight\");\n\n\n\nmsg.payload = { main_skald, sklad, weight }\nmsg.info = { main_skald, sklad, weight }\nflow.set(\"all\", msg.payload)\nmsg.payload = \"open\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 820,
        "wires": [
            [
                "dc23318d77484ba0",
                "f0f3db20d30f54d3"
            ]
        ]
    },
    {
        "id": "71a6897ce52af72f",
        "type": "ui_template",
        "z": "23e9bddd877d7d66",
        "group": "c26ceb1c.203f28",
        "name": "window redirect",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<!-- <script>\n(function(scope) {\n    scope.$watch('msg.payload', function(data) {\n        if(data == \"open\") {\n            window.location.href = \"http://192.168.0.105:1880/getDate\";\n        }\n        \n    });\n})(scope);\n</script> -->\n\n\n<script>\n    (function(scope) {\n    scope.$watch('msg.payload', function(data) {\n        if (data == \"open\") {\n          //window.open(\"https://www.nodered.org\");\n          window.location.href = \"/getLabel\";\n        } \n        if (data == \"GitHub\") {\n          //window.open(\"https://github.com/node-red\");\n          window.location.href = \"https://github.com/node-red\";\n        } \n    });\n})(scope);\n</script>",
        "storeOutMessages": false,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "34667bb5bf6304d1",
        "type": "http in",
        "z": "23e9bddd877d7d66",
        "name": "",
        "url": "/getDate",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 110,
        "y": 1440,
        "wires": [
            [
                "ff4a946f605e7b62"
            ]
        ]
    },
    {
        "id": "ff4a946f605e7b62",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "function 11",
        "func": "msg.payload = flow.get(\"all\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1440,
        "wires": [
            [
                "74efbdae98da7ba9"
            ]
        ]
    },
    {
        "id": "74efbdae98da7ba9",
        "type": "http response",
        "z": "23e9bddd877d7d66",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 510,
        "y": 1440,
        "wires": []
    },
    {
        "id": "0f2a556e04fc5a7c",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "Запит 1",
        "func": "//Куінтус, нас., 1 р, 2021\nmsg.payload = {\n    \"metadataName\": \"seedstaskordersnew\",\n    \"count\": 1,\n    \"data\": [{\n        \"DocumentNumber\": \"000000000064\",\n        \"DocumentDate\": \"2022-02-01T00:00:00\",\n        \"PartyName\": \"10000-100622-0911\",\n        \"Note\": \"Тернопіль, Схема 2\",\n        \"NomenclatureName\": \"Нас. оз. пш. Мулан\",\n        \"NomenclatureCode\": \"Ц0000056426\",\n        \"NomenclatureCharacteristics\": \"Мулан, нас., 1 р, 2019\",\n        \"Disinfectant1\": \"Вайбранс Інтеграл\",\n        \"DisinfectantCode1\": \"Ц0000100594\",\n        \"Disinfectant2\": \"Цензор XL\",\n        \"DisinfectantCode2\": \"Ц0000102126\",\n        \"Disinfectant3\": \"Яра Віта Рексолін АВС Фульвогумін\",\n        \"DisinfectantCode3\": \"Ц0000100669\",\n        \"Disinfectant4\": \"Вітазим К\",\n        \"DisinfectantCode4\": \"Ц0000085308\",\n        \"WHouseName\": \"МРІЯ НАСІННЄВИЙ ЗАВОД, ТОВ (Хоростків)\",\n        \"WHouseCode\": \"ЦК0007135\",\n        \"BarcodeCode\": \"430\",\n        \"MassOfThousands\": \"0.080\"\n    },\n    {\n        \"DocumentNumber\": \"000000000020\",\n        \"DocumentDate\": \"2022-02-01T00:00:00\",\n        \"PartyName\": \"20000-200222-0222\",\n        \"Note\": \"Тернопіль, Схема 3\",\n        \"NomenclatureName\": \"Нас. оз. пш. Тіфун\",\n        \"NomenclatureCode\": \"Ц0000056439\",\n        \"NomenclatureCharacteristics\": \"Куінтус, нас., 2 р, 2021\",\n        \"Disinfectant1\": \"Вайбранс Інтеграл\",\n        \"DisinfectantCode1\": \"Ц0000100594\",\n        \"Disinfectant2\": \"Цензор XL\",\n        \"DisinfectantCode2\": \"Ц0000102126\",\n        \"Disinfectant3\": \"Яра Віта Рексолін АВС Фульвогумін\",\n        \"DisinfectantCode3\": \"Ц0000100669\",\n        \"Disinfectant4\": \"Вітазим К\",\n        \"DisinfectantCode4\": \"Ц0000085308\",\n        \"WHouseName\": \"ТІФУН НАСІННЄВИЙ ЗАВОД, ТОВ (Мангуш)\",\n        \"WHouseCode\": \"ЦК0007135\",\n        \"BarcodeCode\": \"430\",\n        \"MassOfThousands\": \"0.080\"\n    },\n    {\n        \"DocumentNumber\": \"0000000000350\",\n        \"DocumentDate\": \"2022-04-06T00:00:00\",\n        \"PartyName\": \"80000-200888-0888\",\n        \"Note\": \"Суми, Схема 5\",\n        \"NomenclatureName\": \"Нас. оз. пш. Солін\",\n        \"NomenclatureCode\": \"Ц0000056439\",\n        \"NomenclatureCharacteristics\": \"Кактус, нас., 3 р, 2022\",\n        \"Disinfectant1\": \"Вайсберг\",\n        \"DisinfectantCode1\": \"Ц0000100594\",\n        \"Disinfectant2\": \"Захист 10\",\n        \"DisinfectantCode2\": \"Ц0000102126\",\n        \"Disinfectant3\": \"Фульвогумін\",\n        \"DisinfectantCode3\": \"Ц0000100669\",\n        \"Disinfectant4\": \"Кович У\",\n        \"DisinfectantCode4\": \"Ц0000085308\",\n        \"WHouseName\": \"Солін НАСІННЄВИЙ ЗАВОД, ТОВ (Солін)\",\n        \"WHouseCode\": \"ЦК0007135\",\n        \"BarcodeCode\": \"430\",\n        \"MassOfThousands\": \"0.080\"\n    }\n    ]\n}\n\n\nflow.set(\"main_orders\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "5b6401e288d92ce3",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "Запит 2",
        "func": "msg.payload = {\n    \"metadataName\": \"seedswarehouses\",\n    \"count\": 2,\n    \"data\": [{\n        \"Warehouse\": \"Склад виробництва насіння (м.Хоростків)\",\n        \"WarehouseCode\": \"000000000064\"\n    }, {\n        \"Warehouse\": \"Склад виробництва насіння (с.Батятичі)\",\n        \"WarehouseCode\": \"000000000065\"\n    }\n    ]\n}\nflow.set(\"main_sklad\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "206aa9e5cdae445f",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1580,
        "wires": [
            [
                "0f2a556e04fc5a7c"
            ]
        ]
    },
    {
        "id": "4e17ffafc7222981",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1620,
        "wires": [
            [
                "5b6401e288d92ce3"
            ]
        ]
    },
    {
        "id": "70a88c40a149e108",
        "type": "switch",
        "z": "23e9bddd877d7d66",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "connect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 590,
        "y": 1120,
        "wires": [
            [
                "d62f2692d31b880f"
            ]
        ]
    },
    {
        "id": "1d0958a5ac23ca85",
        "type": "ui_template",
        "z": "23e9bddd877d7d66",
        "group": "b9898d6b.30001",
        "name": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .masonry-container {\n        width: 1200px;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 360,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "5a786fefecb0da18",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1200,
        "wires": [
            [
                "1d0958a5ac23ca85"
            ]
        ]
    },
    {
        "id": "a6f76ce8c5a657e4",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "function 18",
        "func": "msg.payload = msg.payload.Warehouse\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 100,
        "wires": [
            [
                "577e9afa7372a65f"
            ]
        ]
    },
    {
        "id": "9a92deaa.cce04",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "648aaf887fbbe407",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "enb save",
        "func": "msg.enabled = false;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 780,
        "wires": [
            [
                "6b4d80df.cdace"
            ]
        ]
    },
    {
        "id": "bb0d727843902308",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Потрібно обрати",
        "payloadType": "str",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "577e9afa7372a65f"
            ]
        ]
    },
    {
        "id": "0a86179338293786",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Потрібно обрати",
        "payloadType": "str",
        "x": 790,
        "y": 300,
        "wires": [
            [
                "438733d35e85be3c"
            ]
        ]
    },
    {
        "id": "1ca94a1a461230ae",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Потрібно обрати",
        "payloadType": "str",
        "x": 810,
        "y": 520,
        "wires": [
            [
                "c4e896785bab5636"
            ]
        ]
    },
    {
        "id": "2cb6f2bef8b38bed",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 90,
        "y": 180,
        "wires": [
            [
                "28ab2c81e385c5b1"
            ]
        ]
    },
    {
        "id": "324a9968edc1e15e",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 970,
        "y": 360,
        "wires": [
            [
                "0fff89af25e3e0a5"
            ]
        ]
    },
    {
        "id": "b6c6f21225f96d80",
        "type": "inject",
        "z": "23e9bddd877d7d66",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 970,
        "y": 580,
        "wires": [
            [
                "72089e928ac04c29"
            ]
        ]
    },
    {
        "id": "cbabe26e5d7b2a8e",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "ser/reset order",
        "func": "var newData = msg.payload;\nvar oldData = flow.get(\"sklad\");\nif (newData !== oldData){\n    msg.payload = \"Оновіть замовлення\"\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 480,
        "wires": [
            [
                "c4e896785bab5636",
                "31efa504a0598b9c"
            ]
        ]
    },
    {
        "id": "b1d53a57abf4f077",
        "type": "delay",
        "z": "23e9bddd877d7d66",
        "name": "",
        "pauseType": "delay",
        "timeout": "300",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 950,
        "y": 400,
        "wires": [
            [
                "0fff89af25e3e0a5"
            ]
        ]
    },
    {
        "id": "31efa504a0598b9c",
        "type": "function",
        "z": "23e9bddd877d7d66",
        "name": "function 19",
        "func": "msg.payload = false\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 480,
        "wires": [
            [
                "72089e928ac04c29"
            ]
        ]
    },
    {
        "id": "dc23318d77484ba0",
        "type": "link out",
        "z": "23e9bddd877d7d66",
        "name": "toBarcode",
        "mode": "link",
        "links": [
            "814e614f8b152036"
        ],
        "x": 895,
        "y": 820,
        "wires": []
    },
    {
        "id": "f0f3db20d30f54d3",
        "type": "delay",
        "z": "23e9bddd877d7d66",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 230,
        "y": 880,
        "wires": [
            [
                "71a6897ce52af72f"
            ]
        ]
    },
    {
        "id": "0de5ec0d7a579e7a",
        "type": "comment",
        "z": "23e9bddd877d7d66",
        "name": "Отримання даних зовні",
        "info": "",
        "x": 150,
        "y": 1540,
        "wires": []
    },
    {
        "id": "8c7e8b568ff498a6",
        "type": "Barcode Generator",
        "z": "835ba4690849c5a7",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "barcode": "ean13",
        "barcodeType": "barcode",
        "options": "",
        "optionsType": "ui",
        "sendProperty": "payload",
        "props": [
            {
                "p": "includetext",
                "v": "true",
                "vt": "bool"
            },
            {
                "p": "textxalign",
                "v": "center",
                "vt": "str"
            },
            {
                "p": "backgroundcolor",
                "v": "ffffff",
                "vt": "str"
            }
        ],
        "x": 310,
        "y": 260,
        "wires": [
            [
                "f2b8d28259491ba1"
            ]
        ]
    },
    {
        "id": "0319f33c4391eb03",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "str1",
        "func": "msg.str1 = msg.info.sklad.NomenclatureName; //\"Нас. оз. пш. Мулан\"\nmsg.str2 = msg.info.sklad.NomenclatureCharacteristics; //\"Мулан, нас., ЕН, 2019\"\nmsg.str3 = \"Сорт: \" + msg.info.sklad.NomenclatureCharacteristics.split(',')[0]//\"Сорт: Мулан\"\nmsg.str4 = \"Репродукція: \" + msg.info.sklad.NomenclatureCharacteristics.split(',')[2]//доробити\nmsg.str5 = msg.info.weight + \" кг.\"//\"973 кг\"\n\n\nmsg.str6 = \"Протруйники: \" + (msg.info.sklad.Disinfectant1 ? msg.info.sklad.Disinfectant1 + \", \" : \"\") + (msg.info.sklad.Disinfectant2 ? msg.info.sklad.Disinfectant2 + \", \" : \"\") + (msg.info.sklad.Disinfectant3 ? msg.info.sklad.Disinfectant3 + \", \" : \"\") + (msg.info.sklad.Disinfectant4 ? msg.info.sklad.Disinfectant4 + \", \"  : \"\")\nmsg.str7 = \"L99482284\" // Доробити\nmsg.str8 = \"Примітка: \" + msg.info.sklad.Note\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 340,
        "wires": [
            [
                "f1333f5fdb0babb8"
            ]
        ]
    },
    {
        "id": "7898d2b1ebf16ef1",
        "type": "pdfmake",
        "z": "835ba4690849c5a7",
        "name": "",
        "outputType": "Buffer",
        "inputProperty": "payload",
        "options": "{}",
        "outputProperty": "payload",
        "x": 600,
        "y": 420,
        "wires": [
            [
                "50d70cb80778d9b5"
            ]
        ]
    },
    {
        "id": "23a78ebb1858a405",
        "type": "file",
        "z": "835ba4690849c5a7",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 320,
        "y": 460,
        "wires": [
            [
                "800993e72422a576"
            ]
        ]
    },
    {
        "id": "800993e72422a576",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 460,
        "wires": []
    },
    {
        "id": "f1333f5fdb0babb8",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 16",
        "func": "var barcode = msg.barcode\nvar str1 = msg.str1\nvar str2 = msg.str2\nvar str3 = msg.str3\nvar str4 = msg.str4\nvar str5 = msg.str5//вес\nvar str6 = msg.str6\nvar str7 = msg.str7\nvar str8 = msg.str8\nvar verticalText = `\n          <svg>\n            <text\n              transform=\"translate(24, 120) rotate(-90)\"\n              font-weight=\"bold\"\n              style=\"font-size: 10px;\"\n            >\n              Дата: ${global.get(\"dateHlobal\")}\n            </text>\n          </svg>\n        `\n\nmsg.payload = {\n    \"content\": [\n        { text: str1, fontSize: 20, bold: true },\n        { text: str2, fontSize: 14, bold: true },\n        str3,\n        str4,\n        {\n          columns: [\n            { text: \"H/B::\", fontSize: 14},\n            { text: str5, fontSize: 16, bold: true }\n          ]\n        },\n        str6,\n        {\n          columns: [\n            { text: \"Номер пломби: \" + str7},\n            { text: \"Маса т.з.:\", margin: [45, 0, 0, 0]}\n          ]\n        },\n        str8,\n        {\n            columns: [\n                {\n                    image: barcode,\n                    width: 240,\n                    height: 150\n                },\n                {\n                    width: 32,\n                    svg: verticalText\n                },\n            ]\n        }\n    ],\n    pageSize: {\n        width: 400,\n        height: 380\n    }\n    \n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 380,
        "wires": [
            [
                "7898d2b1ebf16ef1"
            ]
        ]
    },
    {
        "id": "f2b8d28259491ba1",
        "type": "jimp-image",
        "z": "835ba4690849c5a7",
        "name": "",
        "data": "payload",
        "dataType": "msg",
        "ret": "b64",
        "parameter1": "",
        "parameter1Type": "msg",
        "parameter2": "",
        "parameter2Type": "msg",
        "parameter3": "",
        "parameter3Type": "msg",
        "parameter4": "",
        "parameter4Type": "msg",
        "parameter5": "",
        "parameter5Type": "msg",
        "parameter6": "",
        "parameter6Type": "msg",
        "parameter7": "",
        "parameter7Type": "msg",
        "parameter8": "",
        "parameter8Type": "msg",
        "sendProperty": "barcode",
        "sendPropertyType": "msg",
        "parameterCount": 0,
        "jimpFunction": "none",
        "selectedJimpFunction": {
            "name": "none",
            "fn": "none",
            "description": "Just loads the image.",
            "parameters": []
        },
        "x": 330,
        "y": 300,
        "wires": [
            [
                "0319f33c4391eb03"
            ]
        ]
    },
    {
        "id": "c7e341a0.381cc",
        "type": "http in",
        "z": "835ba4690849c5a7",
        "name": "",
        "url": "/getLabel",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 90,
        "y": 560,
        "wires": [
            [
                "2fb1c354.d04e3c"
            ]
        ]
    },
    {
        "id": "2fb1c354.d04e3c",
        "type": "file in",
        "z": "835ba4690849c5a7",
        "name": "",
        "filename": "/home/pi/barvode7.pdf",
        "filenameType": "str",
        "format": "",
        "allProps": false,
        "x": 280,
        "y": 560,
        "wires": [
            [
                "c9e28681.361d78"
            ]
        ]
    },
    {
        "id": "c9e28681.361d78",
        "type": "change",
        "z": "835ba4690849c5a7",
        "name": "Set Headers",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "application/pdf",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 560,
        "wires": [
            [
                "88974243.7768c"
            ]
        ]
    },
    {
        "id": "88974243.7768c",
        "type": "http response",
        "z": "835ba4690849c5a7",
        "name": "",
        "x": 670,
        "y": 560,
        "wires": []
    },
    {
        "id": "814e614f8b152036",
        "type": "link in",
        "z": "835ba4690849c5a7",
        "name": "link in 1",
        "links": [
            "dc23318d77484ba0"
        ],
        "x": 55,
        "y": 160,
        "wires": [
            [
                "ee91cce6f541a0ed"
            ]
        ]
    },
    {
        "id": "ee91cce6f541a0ed",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 20",
        "func": "// 1\t«4» - префікс типу штрихкода\n// 2 - 3\tРік виробництва, наприклад «21», «22»\n// 4 - 7\tНомер завдання на виробництво, наприклад «0025»\n// 8 - 12\tПорядковий номер у завданні.Початковий номер(0, якщо початок виробництва по завданню) + виготовлені мішки.\nvar inData = msg.info\n\nconst year = new Date().getFullYear().toString().substring(2,4);\nvar orderNumber = Number(inData.sklad.DocumentNumber);\nif (orderNumber < 100){\n    orderNumber = \"00\" + orderNumber\n} else if (orderNumber > 100 && orderNumber < 1000){\n    orderNumber = \"0\" + orderNumber\n}\nvar firstNumber = \"00001\"\n\n\n\n\n\nvar barcode = 4 + year + orderNumber + firstNumber\nmsg.payload = barcode\nmsg.info.barcode = barcode\nmsg.info.sealNumber = \"L99482284\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 160,
        "wires": [
            [
                "8c7e8b568ff498a6",
                "3e23b813514cfee0"
            ]
        ]
    },
    {
        "id": "6de24f6203a20cfe",
        "type": "comment",
        "z": "835ba4690849c5a7",
        "name": "",
        "info": "402002000001\n422002000001\n4072610852405",
        "x": 150,
        "y": 200,
        "wires": []
    },
    {
        "id": "3e23b813514cfee0",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 21",
        "func": "var mainData = msg.info\nmainData.id = Date.now();\nvar file = \"/home/pi/db_date/db_log.txt\"\nmsg.filename = file;\nmsg.payload = mainData;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 160,
        "wires": [
            [
                "73027c22f37fb36b",
                "80d80305a20d4fa9"
            ]
        ]
    },
    {
        "id": "73027c22f37fb36b",
        "type": "file",
        "z": "835ba4690849c5a7",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "utf8",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "50d70cb80778d9b5",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 22",
        "func": "var mainData = msg.info\n//global.set(\"dateGlobalForPDF\", msg.payload.replace(\" \", \"_\"))\nvar file = \"/home/pi/barcodeLib/\" + mainData.barcode + \"_\" + global.get(\"dateGlobalForPDF\") + \".pdf\"\nmsg.filename = file;\n//msg.payload = mainData;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 150,
        "y": 460,
        "wires": [
            [
                "23a78ebb1858a405"
            ]
        ]
    },
    {
        "id": "c78b8d4a8a362d72",
        "type": "inject",
        "z": "835ba4690849c5a7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 700,
        "wires": [
            [
                "512bb817e87a3f0d"
            ]
        ]
    },
    {
        "id": "512bb817e87a3f0d",
        "type": "exec",
        "z": "835ba4690849c5a7",
        "command": "cat /home/pi/db_date/db_log.txt",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "read DB",
        "x": 120,
        "y": 760,
        "wires": [
            [
                "b6a684b3b9810f14"
            ],
            [],
            []
        ]
    },
    {
        "id": "5fb745df4ef5a03b",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 9",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 740,
        "wires": []
    },
    {
        "id": "b6a684b3b9810f14",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 23",
        "func": "var arrayDb = msg.payload.split(\"\\n\");\narrayDb.pop()\n\nfor (let i = 0; i < arrayDb.length; i++) {\n    arrayDb[i] = JSON.parse(arrayDb[i])\n}\n\n\narrayDb.sort(function (a, b) {\n    return a.id - b.id;\n});\n\nflow.set(\"DB_log\", arrayDb);\nmsg.payload = arrayDb;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 740,
        "wires": [
            [
                "5fb745df4ef5a03b"
            ]
        ]
    },
    {
        "id": "80d80305a20d4fa9",
        "type": "http request",
        "z": "835ba4690849c5a7",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.101:1880/send",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 610,
        "y": 80,
        "wires": [
            [
                "d5f3b4bc53f02048",
                "ac2597eb11787e7a"
            ]
        ]
    },
    {
        "id": "d5f3b4bc53f02048",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 40,
        "wires": []
    },
    {
        "id": "ac2597eb11787e7a",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 25",
        "func": "var mainData = msg.info\nvar statusCode = msg.statusCode\nif (mainData && statusCode == 200){\n    var file = \"/home/pi/db_date/db_log_send_1C.txt\"\n    msg.filename = file;\n    msg.payload = mainData.id;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 80,
        "wires": [
            [
                "c7da681f2009a1bf"
            ]
        ]
    },
    {
        "id": "c7da681f2009a1bf",
        "type": "file",
        "z": "835ba4690849c5a7",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "utf8",
        "x": 980,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b75d675abf7072bf",
        "type": "inject",
        "z": "835ba4690849c5a7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 860,
        "wires": [
            [
                "8cb14a35668458ff"
            ]
        ]
    },
    {
        "id": "8cb14a35668458ff",
        "type": "exec",
        "z": "835ba4690849c5a7",
        "command": "cat /home/pi/db_date/db_log_send_1C.txt",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "read DB 1C",
        "x": 130,
        "y": 920,
        "wires": [
            [
                "4d2066e0eccad748"
            ],
            [],
            []
        ]
    },
    {
        "id": "69cccd1047118ea3",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 11",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 900,
        "wires": []
    },
    {
        "id": "4d2066e0eccad748",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 26",
        "func": "var arrayDb = msg.payload.split(\"\\n\");\narrayDb.pop()\n\nfor (let i = 0; i < arrayDb.length; i++) {\n    arrayDb[i] = Number(arrayDb[i])\n}\n\n\n\nflow.set(\"DB_log_1C\", arrayDb);\nmsg.payload = arrayDb;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 900,
        "wires": [
            [
                "69cccd1047118ea3"
            ]
        ]
    },
    {
        "id": "149a5ae40fa0a6fd",
        "type": "inject",
        "z": "835ba4690849c5a7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1080,
        "wires": [
            [
                "d8c7e5bfbf8cc7b3"
            ]
        ]
    },
    {
        "id": "d8c7e5bfbf8cc7b3",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 27",
        "func": "var dateLog = flow.get(\"DB_log\");\nvar dateLog1C = flow.get(\"DB_log_1C\");\nvar mustSend = []\n\nfor (let i = 0; i < dateLog.length; i++) {\n    //const array1 = [1, 2, 3];\n    //console.log(array1.includes(2));\n    // expected output: true\n    if (dateLog1C.includes(dateLog[i].id)){\n        \n    }else{\n        mustSend.push(dateLog[i])\n    }\n    \n    \n}\n\n//msg.payload = mustSend;\nif (mustSend.length){\n    msg.info = mustSend[0];\n    msg.payload = mustSend[0];\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1080,
        "wires": [
            [
                "51e0bc61f4589689",
                "2e2b48222ee8b2c9"
            ]
        ]
    },
    {
        "id": "51e0bc61f4589689",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 1040,
        "wires": []
    },
    {
        "id": "36fd26a4d66aa58a",
        "type": "inject",
        "z": "835ba4690849c5a7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "DB_log",
        "payloadType": "flow",
        "x": 110,
        "y": 1140,
        "wires": [
            [
                "0999384918cd7d59"
            ]
        ]
    },
    {
        "id": "5faef9ae7cbae1ab",
        "type": "inject",
        "z": "835ba4690849c5a7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "DB_log_1C",
        "payloadType": "flow",
        "x": 120,
        "y": 1180,
        "wires": [
            [
                "0999384918cd7d59"
            ]
        ]
    },
    {
        "id": "0999384918cd7d59",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 13",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 300,
        "y": 1140,
        "wires": []
    },
    {
        "id": "2e2b48222ee8b2c9",
        "type": "http request",
        "z": "835ba4690849c5a7",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.101:1880/send",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 530,
        "y": 1080,
        "wires": [
            [
                "2e043a86bed747a1",
                "7e9708b10a5e1ba8"
            ]
        ]
    },
    {
        "id": "2e043a86bed747a1",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 14",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 1040,
        "wires": []
    },
    {
        "id": "7e9708b10a5e1ba8",
        "type": "function",
        "z": "835ba4690849c5a7",
        "name": "function 28",
        "func": "var mainData = msg.info\nvar statusCode = msg.statusCode\nif (mainData && statusCode == 200){\n    var file = \"/home/pi/db_date/db_log_send_1C.txt\"\n    msg.filename = file;\n    msg.payload = mainData.id;\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1080,
        "wires": [
            [
                "e4f8f3e77ec1cf18"
            ]
        ]
    },
    {
        "id": "e4f8f3e77ec1cf18",
        "type": "file",
        "z": "835ba4690849c5a7",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "utf8",
        "x": 900,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "6dcd34ac5e121350",
        "type": "http request",
        "z": "835ba4690849c5a7",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.102:1880/send",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 310,
        "y": 1400,
        "wires": [
            [
                "b35584c0b306f8b8"
            ]
        ]
    },
    {
        "id": "a875a8bbed3e70b3",
        "type": "inject",
        "z": "835ba4690849c5a7",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1400,
        "wires": [
            [
                "6dcd34ac5e121350"
            ]
        ]
    },
    {
        "id": "b35584c0b306f8b8",
        "type": "debug",
        "z": "835ba4690849c5a7",
        "name": "debug 15",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 480,
        "y": 1400,
        "wires": []
    },
    {
        "id": "6480c95571fca356",
        "type": "http in",
        "z": "da2fcd75b90b9ad8",
        "name": "",
        "url": "/send",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 160,
        "wires": [
            [
                "b3e4fd452455c259"
            ]
        ]
    },
    {
        "id": "b3e4fd452455c259",
        "type": "function",
        "z": "da2fcd75b90b9ad8",
        "name": "function 24",
        "func": "msg.payload = \"\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 160,
        "wires": [
            [
                "892c2bb729816fe4"
            ]
        ]
    },
    {
        "id": "892c2bb729816fe4",
        "type": "http response",
        "z": "da2fcd75b90b9ad8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 470,
        "y": 160,
        "wires": []
    }
]
