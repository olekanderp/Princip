[{"id":"45a7bc55.ce0694","type":"tab","label":"Flow 1"},{"id":"3f191518.93022a","type":"tab","label":"Flow 2"},{"id":"4f8aadbf.236a74","type":"tab","label":"Log Page"},{"id":"e7b8ce48.16e24","type":"serial-port","z":"","serialport":"/dev/string_2","serialbaud":"9600","databits":"8","parity":"none","stopbits":"1","newline":"\\n","bin":"false","out":"char","addchar":false},{"id":"aa628afe.d88b98","type":"serial-port","z":"","serialport":"/dev/string_1","serialbaud":"9600","databits":"8","parity":"none","stopbits":"1","newline":"\\n","bin":"false","out":"char","addchar":false},{"id":"f4968d49.5fc06","type":"serial in","z":"45a7bc55.ce0694","name":"","serial":"e7b8ce48.16e24","x":90,"y":880,"wires":[["8a4913ec.005e6","97b19089.84fa1","b7a19061.7f3ee","e8f466.4feaab98"]]},{"id":"61a4b88d.b26f68","type":"serial in","z":"45a7bc55.ce0694","name":"","serial":"aa628afe.d88b98","x":92,"y":818,"wires":[["1a2dbbfa.604084","c2117400.9db4b8","f4d5236b.a4647","f5a5b825.0ae198"]]},{"id":"d16ee030.37d9d","type":"serial out","z":"45a7bc55.ce0694","name":"","serial":"e7b8ce48.16e24","x":1610,"y":440,"wires":[]},{"id":"6fc4702d.58a49","type":"serial out","z":"45a7bc55.ce0694","name":"","serial":"aa628afe.d88b98","x":1610,"y":360,"wires":[]},{"id":"8a4913ec.005e6","type":"debug","z":"45a7bc55.ce0694","name":"COM 2","active":false,"console":"false","complete":"payload","x":280,"y":900,"wires":[]},{"id":"1a2dbbfa.604084","type":"debug","z":"45a7bc55.ce0694","name":"COM 1","active":false,"console":"false","complete":"payload","x":280,"y":840,"wires":[]},{"id":"7253bea4.ef235","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1160,"y":620,"wires":[["acdd3604.c27118"]]},{"id":"acdd3604.c27118","type":"function","z":"45a7bc55.ce0694","name":"clear 2 row","func":"msg.payload = \" \";\nreturn msg;","outputs":1,"noerr":0,"x":1310,"y":620,"wires":[["d16ee030.37d9d"]]},{"id":"f9ea43f7.7a5bf","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1160,"y":580,"wires":[["7734061a.6abac8"]]},{"id":"7734061a.6abac8","type":"function","z":"45a7bc55.ce0694","name":"clear 1 row","func":"msg.payload = \" \";\nreturn msg;","outputs":1,"noerr":0,"x":1310,"y":580,"wires":[["6fc4702d.58a49"]]},{"id":"5a26f45.90c1a0c","type":"function","z":"45a7bc55.ce0694","name":"replace I","func":"var str = msg.payload;\nvar strArray = str.split(\"\");\n\n\nfor (var i = 0; i < strArray.length; i++) {\n    if(strArray[i] == 'і') {\n        strArray[i] = 'i';\n    } else if(strArray[i] == 'І'){\n        strArray[i] = 'I';\n    } else if(strArray[i] == 'Ї'){\n        strArray[i] = 'I';\n    }else if(strArray[i] == 'ї'){\n        strArray[i] = 'і';\n    }else if(strArray[i] == 'є'){\n        strArray[i] = 'e';\n    }\n}\n\n\nmsg.payload = strArray.join(\"\");\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1140,"y":360,"wires":[["c31ee88c.afdd88","6fc4702d.58a49","41478322.9bdeec"]]},{"id":"e874d93a.c0bd78","type":"function","z":"45a7bc55.ce0694","name":"replace I","func":"var str = msg.payload;\nvar strArray = str.split(\"\");\n\nfor (var i = 0; i < strArray.length; i++) {\n    if(strArray[i] == 'і') {\n        strArray[i] = 'i';\n    } else if(strArray[i] == 'І'){\n        strArray[i] = 'I';\n    } else if(strArray[i] == 'Ї'){\n        strArray[i] = 'I';\n    }else if(strArray[i] == 'ї'){\n        strArray[i] = 'і';\n    }else if(strArray[i] == 'є'){\n        strArray[i] = 'e';\n    }\n\n  \n}\n\n\nmsg.payload = strArray.join(\"\");\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":440,"wires":[["c40113cc.88c13","d16ee030.37d9d","3eb102b9.bdb7de"]]},{"id":"373bc01e.c92cd","type":"function","z":"45a7bc55.ce0694","name":"Send string","func":"//  msg.payload = {\n//      'АдресУстройства': 1,\n//      'Строка1': \"<s1>\",\n//      'Строка2': \"<s2>\",\n//  };\n\nvar string_1 = msg.payload.Строка1;\nvar string_2 = msg.payload.Строка2;\n\nvar newstr_1 = string_1.replace(/<s1>/gi, '');\nvar newstr_2 = string_2.replace(/<s2>/gi, '');\n\nmsg.payload = {newstr_1, newstr_2};\n\n//msg.payload.Строка1 = \"<s1> \" + msg.payload.Строка1;\n//msg.payload.Строка2 = \"<s2> \" + msg.payload.Строка2;\n\nreturn msg;\n","outputs":"1","noerr":0,"x":470,"y":180,"wires":[["11f0c735.0dafa9","b8df8d25.9e186"]]},{"id":"c25eb2e8.2ddd2","type":"tcp in","z":"45a7bc55.ce0694","name":"","server":"server","host":"","port":"4002","datamode":"single","datatype":"utf8","newline":"","topic":"","base64":false,"x":80,"y":180,"wires":[["a192f47a.d457b8","88db828a.c0098","f0442c39.46735"]]},{"id":"88db828a.c0098","type":"json","z":"45a7bc55.ce0694","name":"","x":330,"y":180,"wires":[["373bc01e.c92cd"]]},{"id":"9f13969.8c2c768","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"Тест Грищенко","payloadType":"str","repeat":"","crontab":"","once":false,"x":160,"y":420,"wires":[["4f1a6c7c.d50274"]]},{"id":"d05c46ea.005ee8","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"$Тест 1C","payloadType":"str","repeat":"","crontab":"","once":false,"x":140,"y":460,"wires":[["4f1a6c7c.d50274"]]},{"id":"4f1a6c7c.d50274","type":"function","z":"45a7bc55.ce0694","name":"2","func":"msg.payload = {\n    newstr_2: msg.payload\n}\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":420,"wires":[["b8df8d25.9e186"]]},{"id":"c69df1a2.c24cc","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"1с Тест","payloadType":"str","repeat":"","crontab":"","once":false,"x":130,"y":300,"wires":[["5c9d6cf6.7324c4"]]},{"id":"e0e76f4c.499f4","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"$АВ5824ВХ.Розвант.дозволено:СРА 1, Силос 4.13.7.Якість:по ДСТУ. Пшениця 4 клас, протеїн 13.3,вол 13, сміт.дом.1.8,натура 730.","payloadType":"str","repeat":"","crontab":"","once":false,"x":130,"y":340,"wires":[["5c9d6cf6.7324c4"]]},{"id":"5c9d6cf6.7324c4","type":"function","z":"45a7bc55.ce0694","name":"1","func":"msg.payload = {\n    newstr_1: msg.payload\n}\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":300,"wires":[["11f0c735.0dafa9"]]},{"id":"3114c7fd.f27768","type":"comment","z":"45a7bc55.ce0694","name":"Clear tablo","info":"","x":1240,"y":540,"wires":[]},{"id":"187bdfca.7560f","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"$1с рух тест","payloadType":"str","repeat":"","crontab":"","once":false,"x":150,"y":380,"wires":[["5c9d6cf6.7324c4"]]},{"id":"a192f47a.d457b8","type":"debug","z":"45a7bc55.ce0694","name":"","active":false,"console":"false","complete":"false","x":150,"y":140,"wires":[]},{"id":"8e4c07b1.d83348","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"x":210,"y":380,"wires":[["13c58f70.9b8e41"]]},{"id":"13c58f70.9b8e41","type":"switch","z":"3f191518.93022a","name":"","property":"triger_1","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","outputs":1,"x":350,"y":380,"wires":[["4f4f201.83a40e"]]},{"id":"7a432102.40aa5","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":190,"y":40,"wires":[["860bd62a.a02a58"]]},{"id":"860bd62a.a02a58","type":"function","z":"3f191518.93022a","name":"Init Conf","func":"flow.set('array_Str_1', [])\nflow.set('array_Str_2', [])\nflow.set('res_tablo', true)\nflow.set('triger_1', true)\nflow.set('triger_2', true)\nreturn msg;","outputs":1,"noerr":0,"x":360,"y":40,"wires":[[]]},{"id":"3cf3ec46.359be4","type":"inject","z":"3f191518.93022a","name":"1c send","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":130,"y":160,"wires":[["c7148a1a.33fc78"]]},{"id":"c188ba35.52cf28","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"array_Str_1","payloadType":"flow","repeat":"","crontab":"","once":false,"x":160,"y":620,"wires":[["21a19bfc.dc76b4"]]},{"id":"21a19bfc.dc76b4","type":"debug","z":"3f191518.93022a","name":"","active":true,"console":"false","complete":"false","x":350,"y":620,"wires":[]},{"id":"4f4f201.83a40e","type":"function","z":"3f191518.93022a","name":"str1","func":"var array = flow.get('array_Str_1');\n\n\nif(array.length > 0){\n    flow.set('triger_1', false);\n  \n    var send = array[0];\n    var index_$ = send.indexOf('$');\n    if(index_$ > -1 && array.length == 1){\n        flow.set('array_Str_1', array);\n        msg.payload = send;\n        return msg;\n    }else {\n        flow.set('array_Str_1', array);\n        array.shift();\n        msg.payload = send;\n        return msg;\n    }\n    \n    \n}\n","outputs":1,"noerr":0,"x":490,"y":380,"wires":[["344dd0c3.e9fe6"]]},{"id":"71e0803b.b1d2d","type":"function","z":"3f191518.93022a","name":"str1 res","func":"flow.set('triger_1', true)\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":760,"wires":[[]]},{"id":"23a86331.53f77c","type":"inject","z":"3f191518.93022a","name":"1c send","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":150,"y":760,"wires":[["71e0803b.b1d2d"]]},{"id":"dfe55908.ff9878","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"triger_2","payloadType":"flow","repeat":"","crontab":"","once":false,"x":170,"y":660,"wires":[["21a19bfc.dc76b4"]]},{"id":"344dd0c3.e9fe6","type":"debug","z":"3f191518.93022a","name":"str1","active":true,"console":"false","complete":"payload","x":880,"y":380,"wires":[]},{"id":"e7e1283a.6f58f8","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"triger_1","payloadType":"flow","repeat":"","crontab":"","once":false,"x":170,"y":580,"wires":[["21a19bfc.dc76b4"]]},{"id":"77db2ead.c3d82","type":"function","z":"3f191518.93022a","name":"Send string","func":"//  msg.payload = {\n//      'АдресУстройства': 1,\n//      'Строка1': \"<s1>\",\n//      'Строка2': \"<s2>\",\n//  };\n\nvar string_1 = msg.payload.Строка1;\nvar string_2 = msg.payload.Строка2;\n\nvar newstr_1 = string_1.replace(/<s1>/gi, '');\nvar newstr_2 = string_2.replace(/<s2>/gi, '');\n\nmsg.payload = {newstr_1, newstr_2};\n\n//msg.payload.Строка1 = \"<s1> \" + msg.payload.Строка1;\n//msg.payload.Строка2 = \"<s2> \" + msg.payload.Строка2;\n\nreturn msg;\n","outputs":"1","noerr":0,"x":470,"y":180,"wires":[["d22eef05.32d98","9d37c1c.6d9204"]]},{"id":"c7148a1a.33fc78","type":"function","z":"3f191518.93022a","name":"test data","func":"msg.payload = {\n    \"НастройкиGPIO\":[],\n    \"АдресУстройства\":\"15\",\n    \"Строка1\":`<s1> 1: ${new Date()}`,\n    \"Строка2\":`<s2> 2: ${new Date()}`\n    \n};\nreturn msg;","outputs":1,"noerr":0,"x":280,"y":160,"wires":[["77db2ead.c3d82"]]},{"id":"d22eef05.32d98","type":"function","z":"3f191518.93022a","name":"array_Str_1","func":"var array_Str_1 = flow.get('array_Str_1');\n\n\narray_Str_1.push(msg.payload.newstr_1);\nflow.set('array_Str_1', array_Str_1);\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":160,"wires":[[]]},{"id":"9d37c1c.6d9204","type":"function","z":"3f191518.93022a","name":"array_Str_2","func":"var array_Str_2 = flow.get('array_Str_2');\n\n\narray_Str_2.push(msg.payload.newstr_2);\nflow.set('array_Str_2', array_Str_2);\nreturn msg;","outputs":1,"noerr":0,"x":650,"y":200,"wires":[[]]},{"id":"e4623327.086bc","type":"function","z":"3f191518.93022a","name":"str2 res","func":"flow.set('triger_2', true)\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":840,"wires":[[]]},{"id":"6df644ff.abb71c","type":"inject","z":"3f191518.93022a","name":"1c send","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":150,"y":840,"wires":[["e4623327.086bc"]]},{"id":"10a73612.73473a","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"x":210,"y":460,"wires":[["97a73be5.89c5e8"]]},{"id":"97a73be5.89c5e8","type":"switch","z":"3f191518.93022a","name":"","property":"triger_2","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","outputs":1,"x":350,"y":460,"wires":[["e9817cdd.18e39"]]},{"id":"e9817cdd.18e39","type":"function","z":"3f191518.93022a","name":"str2","func":"var array = flow.get('array_Str_2');\n\nif(array.length > 0){\n    flow.set('triger_2', false);\n  \n    var send = array[0];\n    var index_$ = send.indexOf('$');\n    if(index_$ > -1 && array.length == 1){\n        flow.set('array_Str_2', array);\n        msg.payload = send;\n        return msg;\n    }else {\n        flow.set('array_Str_2', array);\n        array.shift();\n        msg.payload = send;\n        return msg;\n    }\n}\n","outputs":1,"noerr":0,"x":490,"y":460,"wires":[["9b3757ca.872858"]]},{"id":"9b3757ca.872858","type":"debug","z":"3f191518.93022a","name":"str2","active":true,"console":"false","complete":"payload","x":880,"y":460,"wires":[]},{"id":"c8d3f790.78cea8","type":"inject","z":"3f191518.93022a","name":"1c send","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":170,"y":240,"wires":[["11a333f4.37c5ac"]]},{"id":"11a333f4.37c5ac","type":"function","z":"3f191518.93022a","name":"test data","func":"msg.payload = {\n    \"НастройкиGPIO\":[],\n    \"АдресУстройства\":\"15\",\n    \"Строка1\":`<s1> 1:$ ${new Date()}`,\n    \"Строка2\":`<s2> 2:$ ${new Date()}`\n    \n};\nreturn msg;","outputs":1,"noerr":0,"x":320,"y":240,"wires":[["77db2ead.c3d82"]]},{"id":"c31ee88c.afdd88","type":"debug","z":"45a7bc55.ce0694","name":"","active":false,"console":"false","complete":"false","x":1330,"y":300,"wires":[]},{"id":"cd35e4f2.54b3d8","type":"inject","z":"3f191518.93022a","name":"","topic":"","payload":"array_Str_2","payloadType":"flow","repeat":"","crontab":"","once":false,"x":160,"y":700,"wires":[["21a19bfc.dc76b4"]]},{"id":"3eebebe6.4f99e4","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"x":730,"y":360,"wires":[["18e40a9f.146195"]]},{"id":"18e40a9f.146195","type":"switch","z":"45a7bc55.ce0694","name":"","property":"triger_1","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","outputs":1,"x":870,"y":360,"wires":[["e1a7cd8f.6ed81"]]},{"id":"e1a7cd8f.6ed81","type":"function","z":"45a7bc55.ce0694","name":"str1","func":"var array = flow.get('array_Str_1');\n\n\nif(array.length > 0){\n    flow.set('triger_1', false);\n  \n    var send = array[0];\n    var index_$ = send.indexOf('$');\n    if(index_$ > -1 && array.length == 1){\n        flow.set('array_Str_1', array);\n        msg.payload = send;\n        return msg;\n    }else {\n        array.shift();\n        flow.set('array_Str_1', array);\n        msg.payload = send;\n        return msg;\n    }\n    \n    \n}\n","outputs":1,"noerr":0,"x":990,"y":360,"wires":[["5a26f45.90c1a0c"]]},{"id":"6eda3d2f.c43304","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"","payloadType":"date","repeat":"1","crontab":"","once":false,"x":730,"y":440,"wires":[["d7a288b1.e6dcd8"]]},{"id":"d7a288b1.e6dcd8","type":"switch","z":"45a7bc55.ce0694","name":"","property":"triger_2","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","outputs":1,"x":870,"y":440,"wires":[["d265c4d6.67f5b8"]]},{"id":"d265c4d6.67f5b8","type":"function","z":"45a7bc55.ce0694","name":"str2","func":"var array = flow.get('array_Str_2');\n\nif(array.length > 0){\n    flow.set('triger_2', false);\n  \n    var send = array[0];\n    var index_$ = send.indexOf('$');\n    if(index_$ > -1 && array.length == 1){\n        flow.set('array_Str_2', array);\n        msg.payload = send;\n        return msg;\n    }else {\n        array.shift();\n        flow.set('array_Str_2', array);\n        msg.payload = send;\n        return msg;\n    }\n}\n","outputs":1,"noerr":0,"x":990,"y":440,"wires":[["e874d93a.c0bd78"]]},{"id":"b07b762e.b5aa08","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":170,"y":40,"wires":[["3b8424d4.1086bc"]]},{"id":"3b8424d4.1086bc","type":"function","z":"45a7bc55.ce0694","name":"Init Conf","func":"flow.set('array_Str_1', [])\nflow.set('array_Str_2', [])\nflow.set('res_tablo', true)\nflow.set('triger_1', true)\nflow.set('triger_2', true)\nreturn msg;","outputs":1,"noerr":0,"x":340,"y":40,"wires":[[]]},{"id":"11f0c735.0dafa9","type":"function","z":"45a7bc55.ce0694","name":"array_Str_1","func":"var array_Str_1 = flow.get('array_Str_1');\n\n\narray_Str_1.push(msg.payload.newstr_1);\nflow.set('array_Str_1', array_Str_1);\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":160,"wires":[[]]},{"id":"b8df8d25.9e186","type":"function","z":"45a7bc55.ce0694","name":"array_Str_2","func":"var array_Str_2 = flow.get('array_Str_2');\n\n\narray_Str_2.push(msg.payload.newstr_2);\nflow.set('array_Str_2', array_Str_2);\nreturn msg;","outputs":1,"noerr":0,"x":710,"y":200,"wires":[[]]},{"id":"c2117400.9db4b8","type":"function","z":"45a7bc55.ce0694","name":"str1 res","func":"var resString = msg.payload;\nvar end_scroll = resString.indexOf('end scroll');\nvar static_String = resString.indexOf('statisc string');\nvar send_replay;\n\nif(end_scroll !== -1 || static_String !== -1){\n    flow.set('triger_1', true);\n    return msg;\n}\n\n\n\n\n\n","outputs":1,"noerr":0,"x":520,"y":820,"wires":[[]]},{"id":"97b19089.84fa1","type":"function","z":"45a7bc55.ce0694","name":"str2 res","func":"var resString = msg.payload;\nvar end_scroll = resString.indexOf('end scroll');\nvar static_String = resString.indexOf('statisc string');\nvar send_replay;\n\nif(end_scroll !== -1 || static_String !== -1){\n    flow.set('triger_2', true);\n    return msg;\n}\n\n\n\n","outputs":1,"noerr":0,"x":520,"y":880,"wires":[[]]},{"id":"c40113cc.88c13","type":"debug","z":"45a7bc55.ce0694","name":"","active":true,"console":"false","complete":"false","x":1310,"y":480,"wires":[]},{"id":"99508d18.c1949","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"array_Str_1","payloadType":"flow","repeat":"","crontab":"","once":false,"x":720,"y":560,"wires":[["47204b51.c76154"]]},{"id":"47204b51.c76154","type":"debug","z":"45a7bc55.ce0694","name":"","active":true,"console":"false","complete":"false","x":910,"y":560,"wires":[]},{"id":"e0850a7e.0ac128","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"triger_2","payloadType":"flow","repeat":"","crontab":"","once":false,"x":730,"y":600,"wires":[["47204b51.c76154"]]},{"id":"4eb661d2.d82fc","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"triger_1","payloadType":"flow","repeat":"","crontab":"","once":false,"x":730,"y":520,"wires":[["47204b51.c76154"]]},{"id":"5a8749ea.0e6348","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"array_Str_2","payloadType":"flow","repeat":"","crontab":"","once":false,"x":720,"y":640,"wires":[["47204b51.c76154"]]},{"id":"17840e90.9abde1","type":"trigger","z":"45a7bc55.ce0694","op1":"","op2":"end scroll: send next","op1type":"nul","op2type":"str","duration":"55","extend":false,"units":"s","reset":"","name":"","x":390,"y":760,"wires":[["c2117400.9db4b8"]]},{"id":"f4d5236b.a4647","type":"function","z":"45a7bc55.ce0694","name":"","func":"var in_STR = msg.payload;\n\nif(in_STR.length > 5){\n    msg.reset = true;\n    return msg;\n}","outputs":1,"noerr":0,"x":250,"y":760,"wires":[["17840e90.9abde1"]]},{"id":"e8f466.4feaab98","type":"function","z":"45a7bc55.ce0694","name":"","func":"var in_STR = msg.payload;\n\nif(in_STR.length > 5){\n    msg.reset = true\n    return msg;\n}\n","outputs":1,"noerr":0,"x":250,"y":1000,"wires":[["1e3a5ff8.6bc4c"]]},{"id":"1e3a5ff8.6bc4c","type":"trigger","z":"45a7bc55.ce0694","op1":"","op2":"end scroll: send next","op1type":"nul","op2type":"str","duration":"55","extend":false,"units":"s","reset":"","name":"","x":390,"y":1000,"wires":[["97b19089.84fa1"]]},{"id":"f0442c39.46735","type":"link out","z":"45a7bc55.ce0694","name":"log in STR","links":["3f4db18e.9e038e"],"x":80,"y":260,"wires":[]},{"id":"6466767e.cf0e78","type":"function","z":"4f8aadbf.236a74","name":"logs 1 row","func":"msg.payload = {\n    string: msg.payload,\n    date: new Date(),\n};\nreturn msg;","outputs":1,"noerr":0,"x":350,"y":200,"wires":[["9dc513a5.62b2a"]]},{"id":"9dc513a5.62b2a","type":"file","z":"4f8aadbf.236a74","name":"","filename":"/distr/data/log_send.txt","appendNewline":true,"createDir":false,"overwriteFile":"false","x":540,"y":200,"wires":[]},{"id":"3f4db18e.9e038e","type":"link in","z":"4f8aadbf.236a74","name":"","links":["f0442c39.46735"],"x":120,"y":200,"wires":[["6466767e.cf0e78"]]},{"id":"ec1542cc.153d2","type":"file","z":"4f8aadbf.236a74","name":"","filename":"/distr/data/log_get.txt","appendNewline":true,"createDir":false,"overwriteFile":"false","x":580,"y":320,"wires":[]},{"id":"7231d3a4.02628c","type":"function","z":"4f8aadbf.236a74","name":"logs 1 row","func":"msg.payload = {\n    string: msg.payload,\n    date: new Date(),\n    row: 1\n};\nreturn msg;","outputs":1,"noerr":0,"x":353,"y":324,"wires":[["ec1542cc.153d2"]]},{"id":"26eb9f72.77968","type":"function","z":"4f8aadbf.236a74","name":"logs 2 row","func":"msg.payload = {\n    string: msg.payload,\n    date: new Date(),\n    row: 2\n};\nreturn msg;","outputs":1,"noerr":0,"x":351,"y":361,"wires":[["ec1542cc.153d2"]]},{"id":"5d1413bc.2d6abc","type":"link in","z":"4f8aadbf.236a74","name":"res 1 str","links":["f5a5b825.0ae198"],"x":115,"y":300,"wires":[["7231d3a4.02628c"]]},{"id":"996cb5c.1ffae48","type":"link in","z":"4f8aadbf.236a74","name":"res 2 str","links":["b7a19061.7f3ee"],"x":115,"y":340,"wires":[["26eb9f72.77968"]]},{"id":"f5a5b825.0ae198","type":"link out","z":"45a7bc55.ce0694","name":"log res 1 str","links":["5d1413bc.2d6abc"],"x":195,"y":1140,"wires":[]},{"id":"b7a19061.7f3ee","type":"link out","z":"45a7bc55.ce0694","name":"log res str 2","links":["996cb5c.1ffae48"],"x":195,"y":1200,"wires":[]},{"id":"419b18e4.b5f538","type":"link in","z":"45a7bc55.ce0694","name":"simulate res str 1","links":["41478322.9bdeec"],"x":275,"y":720,"wires":[["17840e90.9abde1"]]},{"id":"f221fc58.a39e7","type":"link in","z":"45a7bc55.ce0694","name":"simulate res str 2","links":["3eb102b9.bdb7de"],"x":275,"y":960,"wires":[["1e3a5ff8.6bc4c"]]},{"id":"41478322.9bdeec","type":"link out","z":"45a7bc55.ce0694","name":"","links":["419b18e4.b5f538"],"x":1255,"y":340,"wires":[]},{"id":"3eb102b9.bdb7de","type":"link out","z":"45a7bc55.ce0694","name":"","links":["f221fc58.a39e7"],"x":1255,"y":420,"wires":[]},{"id":"66c3f293.fffdec","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"end scroll: send next","payloadType":"str","repeat":"","crontab":"","once":false,"x":370,"y":1040,"wires":[["97b19089.84fa1"]]},{"id":"7652f9a3.cd2d08","type":"inject","z":"45a7bc55.ce0694","name":"","topic":"","payload":"$АВ5824ВХ.Розвант.дозволено:СРА 1, Силос 4.13.7.Якість:по ДСТУ. Пшениця 4 клас, протеїн 13.3,вол 13, сміт.дом.1.8,натура 730.","payloadType":"str","repeat":"","crontab":"","once":false,"x":130,"y":500,"wires":[["4f1a6c7c.d50274"]]}]
