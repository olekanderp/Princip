[{"id":"6827c201.44d26c","type":"tab","label":"ARM Naliv"},{"id":"2b7caf95.f1aa6","type":"tab","label":"Interface"},{"id":"4e43cc07.6e3564","type":"tab","label":"ARM naliva STATUS data"},{"id":"a3ec1c26.65c37","type":"tab","label":"always_monitor_status_1_2_3"},{"id":"64e1bfa5.5ebd3","type":"tab","label":"always_monitor_status_4_5_6"},{"id":"ec6b84fa.e5e0a8","type":"tab","label":"always_monitor_status_PLC1"},{"id":"51c1bf61.e1ba4","type":"tab","label":"always_monitor_status_PLC2"},{"id":"962bc35a.d7be5","type":"tab","label":"always_monitor_status_PLC3"},{"id":"6557d31.1a8692c","type":"tab","label":"always_monitor_status_PLC4"},{"id":"f6b46311.79746","type":"tab","label":"always_monitor_status_PLC5"},{"id":"ebf61fb2.31eb4","type":"tab","label":"always_monitor_status_PLC6"},{"id":"c71237bc.072448","type":"tab","label":"Тест на КСК"},{"id":"9338adab.2ba02","type":"tab","label":"ARM Naliv PLC2"},{"id":"40593e3c.6faec","type":"tab","label":"ARM nalive STATUS PLC2"},{"id":"4907b097.a19c","type":"tab","label":"ARM Naliv PLC3"},{"id":"24affbf6.cc6d74","type":"tab","label":"ARM nalive STATUS PLC3"},{"id":"57146746.fd06d8","type":"tab","label":"ARM Naliv PLC4"},{"id":"fd5a6464.b11a38","type":"tab","label":"ARM nalive STATUS PLC4"},{"id":"974abb37.699ac8","type":"tab","label":"ARM Naliv PLC5"},{"id":"c8d8ffb8.80f03","type":"tab","label":"ARM nalive STATUS PLC5"},{"id":"ad835810.94cb78","type":"tab","label":"ARM Naliv PLC6"},{"id":"758be521.7f57fc","type":"tab","label":"ARM nalive STATUS PLC6"},{"id":"5d4a5441.06d74c","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":false,"stateLogEnabled":false,"tcpHost":"192.168.0.201","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":100,"clientTimeout":1000,"reconnectTimeout":2000},{"id":"93b99d9e.1cf4b","type":"ui_tab","z":"","name":"Modbus","icon":"memory","order":15},{"id":"867b16e8.ba5d18","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":false,"stateLogEnabled":false,"tcpHost":"192.168.0.202","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":100,"clientTimeout":1000,"reconnectTimeout":2000},{"id":"dab05af0.723d98","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":false,"stateLogEnabled":false,"tcpHost":"192.168.0.203","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":100,"clientTimeout":1000,"reconnectTimeout":2000},{"id":"4a121b8d.bc20c4","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":true,"tcpHost":"192.168.0.204","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"100","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"9f2bbfe9.d69b","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":false,"stateLogEnabled":false,"tcpHost":"192.168.0.206","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":100,"clientTimeout":1000,"reconnectTimeout":2000},{"id":"b2485314.7c836","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":false,"stateLogEnabled":false,"tcpHost":"192.168.0.205","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":100,"clientTimeout":1000,"reconnectTimeout":2000},{"id":"341c3350.a4422c","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":652,"y":88,"wires":[[],["cafb3f5.57ad1c","b3fd5df5.06e9a"]]},{"id":"cc89cfcf.c0b06","type":"function","z":"6827c201.44d26c","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":478.22222900390625,"y":86.66667175292969,"wires":[["341c3350.a4422c"]]},{"id":"b3fd5df5.06e9a","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":808.333251953125,"y":141.88890075683594,"wires":[]},{"id":"19f53f48.9e6111","type":"function","z":"6827c201.44d26c","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":342.22220611572266,"y":85.5555534362793,"wires":[["cc89cfcf.c0b06"]]},{"id":"95ae3977.c24668","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/setOrders","method":"post","swaggerDoc":"","x":130,"y":20,"wires":[["19f53f48.9e6111","49881f5f.9f8db"]]},{"id":"fe4929d.54e73d8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":124.44445037841797,"y":82.22222232818604,"wires":[["19f53f48.9e6111"]]},{"id":"6ec54daf.930d64","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":574.5555419921875,"y":143.22222137451172,"wires":[["b3fd5df5.06e9a"],["36d2fb36.55a8f4"]]},{"id":"36d2fb36.55a8f4","type":"function","z":"6827c201.44d26c","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":268.6667175292969,"y":190.44442749023438,"wires":[["aa5937b7.c85218"]]},{"id":"aa5937b7.c85218","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":451.00006103515625,"y":192.33334350585938,"wires":[[],["325f070b.aeb478"]]},{"id":"e8f49779.3786e8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/status","method":"get","swaggerDoc":"","x":1550.00004196167,"y":912.3018388748169,"wires":[["9e09af31.592ff"]]},{"id":"49881f5f.9f8db","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":350,"y":20,"wires":[]},{"id":"486afa29.4bc8e4","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/status","method":"post","swaggerDoc":"","x":1586.666618347168,"y":1115.9563941955566,"wires":[["d480b459.5e8528","4679b12b.404c6"]]},{"id":"d480b459.5e8528","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1776.416618347168,"y":1119.2064018249512,"wires":[["6c5b3ff3.df2e8"]]},{"id":"6c5b3ff3.df2e8","type":"function","z":"6827c201.44d26c","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1906.6666069030762,"y":1122.6229972839355,"wires":[["d3a2dd7f.347aa"]]},{"id":"3d95dd8d.d87252","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2290.0795402526855,"y":912.9367761611938,"wires":[]},{"id":"ca564506.db3438","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1542.7778129577637,"y":865.6351499557495,"wires":[["9e09af31.592ff"]]},{"id":"d3a2dd7f.347aa","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2075.5554962158203,"y":1123.7341289520264,"wires":[[],["d4427682.9ec0f8"]]},{"id":"d4427682.9ec0f8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2260.8610458374023,"y":1129.206413269043,"wires":[]},{"id":"b92a475c.fd1df8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1908.5833854675293,"y":914.6073846817017,"wires":[["aedee1db.844ff"],[]]},{"id":"9e09af31.592ff","type":"function","z":"6827c201.44d26c","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1734.8056030273438,"y":912.3851613998413,"wires":[["b92a475c.fd1df8"]]},{"id":"bb398ecf.6b61b","type":"comment","z":"6827c201.44d26c","name":"Read_R5002","info":"","x":1850.6667213439941,"y":867.5240287780762,"wires":[]},{"id":"48ce71c6.96334","type":"comment","z":"6827c201.44d26c","name":"Write_R5002","info":"","x":1868.6390228271484,"y":1010.1589736938477,"wires":[]},{"id":"7fdf34a0.aea48c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1546.416618347168,"y":1079.2064018249512,"wires":[["d480b459.5e8528"]]},{"id":"d1ebbd58.8bb8f","type":"http response","z":"6827c201.44d26c","name":"","x":2342.0635375976562,"y":972.1431121826172,"wires":[]},{"id":"b8f2a494.c57eb8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2122.2222175598145,"y":968.9685277938843,"wires":[["d1ebbd58.8bb8f"]]},{"id":"325f070b.aeb478","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"false","x":803.8778686523438,"y":189.22222900390625,"wires":[]},{"id":"407e36b8.d0e8a8","type":"function","z":"6827c201.44d26c","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":401.5555725097656,"y":144.88887786865234,"wires":[["6ec54daf.930d64"]]},{"id":"cafb3f5.57ad1c","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":263.88887786865234,"y":143.66668510437012,"wires":[["407e36b8.d0e8a8"]]},{"id":"34dc86a5.7eea0a","type":"comment","z":"6827c201.44d26c","name":"read_PLC input status","info":"","x":1803.0000610351562,"y":671.2064018249512,"wires":[]},{"id":"2b91fbd8.0716b4","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PLCInputStatus","method":"get","swaggerDoc":"","x":1521.5556144714355,"y":710.4286909103394,"wires":[["f4ff6c06.1e238"]]},{"id":"f4ff6c06.1e238","type":"function","z":"6827c201.44d26c","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1722.5556144714355,"y":708.4286909103394,"wires":[["7bcc395b.3d8bf8"]]},{"id":"7bcc395b.3d8bf8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1918.5556144714355,"y":715.4286909103394,"wires":[["3ff95cb0.b63394","70805aaf.af48d4"],[]]},{"id":"3ff95cb0.b63394","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2117.5556144714355,"y":709.4286909103394,"wires":[]},{"id":"19d81e5b.225f52","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1460.5556144714355,"y":659.4286909103394,"wires":[["f4ff6c06.1e238"]]},{"id":"a0322562.cde268","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/RegisterError","method":"get","swaggerDoc":"","x":3438.8928833007812,"y":1847.226411819458,"wires":[["9d964d97.bdfda"]]},{"id":"4bcb654.b94f99c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3460.7501678466797,"y":1786.2263565063477,"wires":[["9d964d97.bdfda"]]},{"id":"439fa641.4a7db8","type":"comment","z":"6827c201.44d26c","name":"read_Speed_flow","info":"","x":438,"y":1282.8888082504272,"wires":[]},{"id":"63af063d.fa46b8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/SpeedFlow","method":"get","swaggerDoc":"","x":135,"y":1338.8888082504272,"wires":[["a5ae6f67.a3896"]]},{"id":"a5ae6f67.a3896","type":"function","z":"6827c201.44d26c","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":336,"y":1336.8888082504272,"wires":[["ae70b752.0be748"]]},{"id":"ae70b752.0be748","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":532,"y":1343.8888082504272,"wires":[["5e05f1fb.3e3db"],[]]},{"id":"5aaca9e.ded6258","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":74,"y":1287.8888082504272,"wires":[["a5ae6f67.a3896"]]},{"id":"413f37d8.4be368","type":"comment","z":"6827c201.44d26c","name":"read_V_flow","info":"","x":406.44444274902344,"y":1397.3332242965698,"wires":[]},{"id":"8f042192.cd4ef","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/VFlow","method":"get","swaggerDoc":"","x":119.44444274902344,"y":1474.3332242965698,"wires":[["5dc4eba2.77d9a4"]]},{"id":"5dc4eba2.77d9a4","type":"function","z":"6827c201.44d26c","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1472.3332242965698,"wires":[["9acf827e.cf3d6"]]},{"id":"9acf827e.cf3d6","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":1479.3332242965698,"wires":[["3b48b378.f73a7c"],[]]},{"id":"303dbd33.755412","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1423.3332242965698,"wires":[["5dc4eba2.77d9a4"]]},{"id":"86d76607.4a70c8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/resetError","method":"post","swaggerDoc":"","x":178.88893508911133,"y":1073.6666439771652,"wires":[["ee693202.cbb68","ec871507.fb1368"]]},{"id":"441be100.be8e8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":888.9999580383301,"y":1068.6666439771652,"wires":[]},{"id":"46b17c67.e8f084","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":707.6667060852051,"y":1069.7777279615402,"wires":[["441be100.be8e8"],["441be100.be8e8"]]},{"id":"32261e9c.2f48b2","type":"function","z":"6827c201.44d26c","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":525.8889656066895,"y":1069.4443539381027,"wires":[["46b17c67.e8f084"]]},{"id":"ee693202.cbb68","type":"function","z":"6827c201.44d26c","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":383.8889350891113,"y":1070.33329474926,"wires":[["32261e9c.2f48b2"]]},{"id":"7b6d7968.8f0458","type":"comment","z":"6827c201.44d26c","name":"read_M_flow","info":"","x":411.44444274902344,"y":1571.3332242965698,"wires":[]},{"id":"5ac8fa05.914bb4","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/MFlow","method":"get","swaggerDoc":"","x":134.44444274902344,"y":1648.3332242965698,"wires":[["8e9b9322.28b77"]]},{"id":"8e9b9322.28b77","type":"function","z":"6827c201.44d26c","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":345.44444274902344,"y":1646.3332242965698,"wires":[["48b1f594.ca452c"]]},{"id":"48b1f594.ca452c","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":541.4444427490234,"y":1653.3332242965698,"wires":[["caba9f73.04581"],[]]},{"id":"362dfcff.e2f414","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1055.4444541931152,"y":1648.9998807907104,"wires":[]},{"id":"8864025.deabc","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":83.44444274902344,"y":1597.3332242965698,"wires":[["8e9b9322.28b77"]]},{"id":"6c8ce18e.db8c4","type":"comment","z":"6827c201.44d26c","name":"read_T_flow","info":"","x":406.44444274902344,"y":1733.3332242965698,"wires":[]},{"id":"2b2fb847.2b5578","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlow","method":"get","swaggerDoc":"","x":109.44444274902344,"y":1810.3332242965698,"wires":[["a0867fba.76faf"]]},{"id":"a0867fba.76faf","type":"function","z":"6827c201.44d26c","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1808.3332242965698,"wires":[["d08f6cca.c8a79"]]},{"id":"d08f6cca.c8a79","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":1815.3332242965698,"wires":[["6676e9b7.348bf8"],[]]},{"id":"c9b17457.da6df8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1038.7777786254883,"y":1814.3332605361938,"wires":[]},{"id":"5a16bac3.674a44","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1759.3332242965698,"wires":[["a0867fba.76faf"]]},{"id":"2440ac9f.372b84","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow","info":"","x":426.44444274902344,"y":1885.3332242965698,"wires":[]},{"id":"98aeca2a.c942b8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostFlow","method":"get","swaggerDoc":"","x":149.44444274902344,"y":1962.3332242965698,"wires":[["53d91241.c5c47c"]]},{"id":"53d91241.c5c47c","type":"function","z":"6827c201.44d26c","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1960.3332242965698,"wires":[["53c3cd2a.abadf4"]]},{"id":"53c3cd2a.abadf4","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":1967.3332242965698,"wires":[["405e3dd1.7be1c4"],[]]},{"id":"6565f56a.d7e9cc","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1911.3332242965698,"wires":[["53d91241.c5c47c"]]},{"id":"2b3a92a4.7634be","type":"comment","z":"6827c201.44d26c","name":"read_T_flow_middle","info":"","x":412,"y":2072.8888664245605,"wires":[]},{"id":"c2ee268.74753d8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlowMiddle","method":"get","swaggerDoc":"","x":149.44444274902344,"y":2124.33322429657,"wires":[["cce66826.d91bd8"]]},{"id":"cce66826.d91bd8","type":"function","z":"6827c201.44d26c","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":2122.33322429657,"wires":[["fcab227f.56daa"]]},{"id":"fcab227f.56daa","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":2129.33322429657,"wires":[["65d43092.7d928"],[]]},{"id":"195065ad.21381a","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":2073.33322429657,"wires":[["cce66826.d91bd8"]]},{"id":"b4f42a30.7b3308","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_middle","info":"","x":436.6666946411133,"y":2247.000082015991,"wires":[]},{"id":"e6a312d5.e9214","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostMiddle","method":"get","swaggerDoc":"","x":156.3333740234375,"y":2307.333320617676,"wires":[["85e8ac57.87916"]]},{"id":"85e8ac57.87916","type":"function","z":"6827c201.44d26c","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":347.3333740234375,"y":2305.333320617676,"wires":[["1dc1830e.8ae3fd"]]},{"id":"1dc1830e.8ae3fd","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.3333740234375,"y":2312.333320617676,"wires":[["ebf16ff3.90f6"],[]]},{"id":"69ad4f47.9c15d","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":85.3333740234375,"y":2256.333320617676,"wires":[["85e8ac57.87916"]]},{"id":"7217faa3.3f26b4","type":"comment","z":"6827c201.44d26c","name":"write_error_reset","info":"","x":470.7778091430664,"y":1023.6666144132614,"wires":[]},{"id":"f27f9581.996cd8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/ResetCounter12","method":"post","swaggerDoc":"","x":177.9167022705078,"y":2523.3332929611206,"wires":[["6c5a5d43.01dda4","a2506d50.4e6f9"]]},{"id":"1770a983.99eeb6","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":989.694450378418,"y":2531.0437145233154,"wires":[]},{"id":"a861c0fc.56acc","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":734.6111221313477,"y":2529.8332929611206,"wires":[[],["1770a983.99eeb6"]]},{"id":"b41f483f.eff0e8","type":"function","z":"6827c201.44d26c","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":576.138952255249,"y":2525.3332843780518,"wires":[["a861c0fc.56acc"]]},{"id":"6c5a5d43.01dda4","type":"function","z":"6827c201.44d26c","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":426.6111526489258,"y":2523.7778730392456,"wires":[["b41f483f.eff0e8"]]},{"id":"f53acd71.2fa38","type":"comment","z":"6827c201.44d26c","name":"write_Reset_counter1/2","info":"","x":471.9166946411133,"y":2479.3332920074463,"wires":[]},{"id":"e63db09c.07606","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/ResetCounter3","method":"post","swaggerDoc":"","x":159.16670989990234,"y":2630.8333349227905,"wires":[["40fafac9.53ff94","332be98.30b5f16"]]},{"id":"9d1fcb52.766778","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":914.6110687255859,"y":2629.6110849380493,"wires":[]},{"id":"89abd34d.b242c","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":709.0555953979492,"y":2634.722222328186,"wires":[[],["9d1fcb52.766778"]]},{"id":"71b6d2f4.0e7c1c","type":"function","z":"6827c201.44d26c","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":537.3889350891113,"y":2632.944390773773,"wires":[["89abd34d.b242c"]]},{"id":"40fafac9.53ff94","type":"function","z":"6827c201.44d26c","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":394.16670989990234,"y":2632.5000829696655,"wires":[["71b6d2f4.0e7c1c"]]},{"id":"c73c8f2f.646c","type":"comment","z":"6827c201.44d26c","name":"write_Reset_counter_3","info":"","x":481.63893127441406,"y":2576.388753890991,"wires":[]},{"id":"8c3acabb.3376c8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/SetLflowStart","method":"post","swaggerDoc":"","x":145,"y":2880.9722118377686,"wires":[["59cb2639.321eb8","8b52bfb7.3a4f4"]]},{"id":"6ab889ad.96f5e8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":930.9999084472656,"y":2951.0001182556152,"wires":[]},{"id":"9145d5a9.bc8728","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":744.4722633361816,"y":2957.0832357406616,"wires":[["6ab889ad.96f5e8"],[]]},{"id":"f60306a6.0e8b28","type":"function","z":"6827c201.44d26c","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":558.3610801696777,"y":2959.7498474121094,"wires":[["9145d5a9.bc8728"]]},{"id":"59cb2639.321eb8","type":"function","z":"6827c201.44d26c","name":"with_1c","func":"var setflowstart = msg.payload;\n /*var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":269.02783966064453,"y":2960.555675506592,"wires":[["6c6b1093.1d8d3"]]},{"id":"3900fed7.d847c2","type":"comment","z":"6827c201.44d26c","name":"write_Set_Lflow_start","info":"","x":479.5555877685547,"y":2849.16654586792,"wires":[]},{"id":"986b24c4.eb8ca8","type":"comment","z":"6827c201.44d26c","name":"read_Set_Lflow_start","info":"","x":452.44446563720703,"y":3022.916549682617,"wires":[]},{"id":"2d6eb20f.45248e","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/SetLflowStart","method":"get","swaggerDoc":"","x":182.94446563720703,"y":3085.750045776367,"wires":[["49324060.b1edb"]]},{"id":"49324060.b1edb","type":"function","z":"6827c201.44d26c","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":395.19446563720703,"y":3085.000045776367,"wires":[["d66a163.ef56fe8"]]},{"id":"d66a163.ef56fe8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":601.194465637207,"y":3070.750045776367,"wires":[["7254d10f.a0a5e"],[]]},{"id":"c0f303fe.81254","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1141.444480895996,"y":3066.00044631958,"wires":[]},{"id":"90f02e53.5212","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.19446563720703,"y":3036.000045776367,"wires":[["49324060.b1edb"]]},{"id":"6c6b1093.1d8d3","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":408.2777442932129,"y":2958.028284072876,"wires":[["f60306a6.0e8b28"]]},{"id":"de3e5a68.f4d748","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/SetLflowStop","method":"post","swaggerDoc":"","x":145.83335876464844,"y":3216.666551589966,"wires":[["3eac5770.72a0f8","3a00a561.5e8d7a"]]},{"id":"5d844a69.328264","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":795.7222442626953,"y":3218.194383621216,"wires":[["84e559ea.42b318"],[]]},{"id":"22c894b9.c5166c","type":"function","z":"6827c201.44d26c","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":636.1388664245605,"y":3218.6387214660645,"wires":[["5d844a69.328264"]]},{"id":"3eac5770.72a0f8","type":"function","z":"6827c201.44d26c","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":359.4445114135742,"y":3215.138719558716,"wires":[["941c118.ac7a9f"]]},{"id":"ac95a3ca.738a1","type":"comment","z":"6827c201.44d26c","name":"write_Set_Lflow_stop","info":"","x":499.55558013916016,"y":3164.8608860969543,"wires":[]},{"id":"5b98e7dd.76e358","type":"comment","z":"6827c201.44d26c","name":"read_Set_Lflow_stopt","info":"","x":501.8888931274414,"y":3273.333101272583,"wires":[]},{"id":"fae9c56a.6ed6c8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/SetLflowStop","method":"get","swaggerDoc":"","x":221.5555419921875,"y":3359.222074508667,"wires":[["1be20af5.3419b5"]]},{"id":"1be20af5.3419b5","type":"function","z":"6827c201.44d26c","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":422.5555419921875,"y":3357.222074508667,"wires":[["5e716d79.674984"]]},{"id":"5e716d79.674984","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":608.5555419921875,"y":3364.222074508667,"wires":[["63e2b9d7.2ff008"],[]]},{"id":"980abacc.bf04b8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":150.5555419921875,"y":3308.222074508667,"wires":[["1be20af5.3419b5"]]},{"id":"941c118.ac7a9f","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":502.4444046020508,"y":3217.750292778015,"wires":[["22c894b9.c5166c"]]},{"id":"84e559ea.42b318","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":985.2777099609375,"y":3215.5832805633545,"wires":[]},{"id":"9b546985.b404b8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/ProtokMin","method":"post","swaggerDoc":"","x":140.41671752929688,"y":3715.6943588256836,"wires":[["f7f52b5e.814508","c12811cd.7858d"]]},{"id":"fd7914af.349f58","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":776.5555953979492,"y":3694.7221908569336,"wires":[["d2481380.a3cc6"],[]]},{"id":"601b9bfd.903f04","type":"function","z":"6827c201.44d26c","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":611.972225189209,"y":3712.6665267944336,"wires":[["fd7914af.349f58"]]},{"id":"f7f52b5e.814508","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":341.52788162231445,"y":3715.4165258407593,"wires":[["1c3a23cb.c6eacc"]]},{"id":"6079868b.d75478","type":"comment","z":"6827c201.44d26c","name":"write_Protok_min","info":"","x":556.6389465332031,"y":3624.138671875,"wires":[]},{"id":"2f692d79.8e4a82","type":"comment","z":"6827c201.44d26c","name":"read_Protok_Min","info":"","x":475.63890838623047,"y":3795.4165267944336,"wires":[]},{"id":"7852be78.a2dce","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/ProtokMin","method":"get","swaggerDoc":"","x":181.55558013916016,"y":3864.3613500595093,"wires":[["bae6d919.a7ba28"]]},{"id":"bae6d919.a7ba28","type":"function","z":"6827c201.44d26c","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":395.88890838623047,"y":3861.250024795532,"wires":[["53b4d1df.a8ac8"]]},{"id":"53b4d1df.a8ac8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":581.8889083862305,"y":3868.250024795532,"wires":[["65d27d03.ef7dc4"],[]]},{"id":"b7e34ee.53299b","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":123.88890838623047,"y":3812.250024795532,"wires":[["bae6d919.a7ba28"]]},{"id":"1c3a23cb.c6eacc","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":477.0277633666992,"y":3715.5280990600586,"wires":[["601b9bfd.903f04"]]},{"id":"d2481380.a3cc6","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":959.611083984375,"y":3738.3608627319336,"wires":[]},{"id":"2fc89027.b48d4","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/ProtokDeadTime","method":"post","swaggerDoc":"","x":158.33335876464844,"y":4023.74978351593,"wires":[["b38eb291.2c52d","db7b25e7.b8b748"]]},{"id":"3a9306f7.a500fa","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":772.8056488037109,"y":4098.77779006958,"wires":[["96fee46e.23f6c8"],[]]},{"id":"a053d897.b04058","type":"comment","z":"6827c201.44d26c","name":"write_Protok_Dead_time","info":"","x":496.63893127441406,"y":3971.944118499756,"wires":[]},{"id":"fc9a648c.c70378","type":"comment","z":"6827c201.44d26c","name":"read_Protok_Dead_time","info":"","x":478.13890838623047,"y":4164.721953392029,"wires":[]},{"id":"54b92806.39aea8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/ProtokDeadTime","method":"get","swaggerDoc":"","x":158.33335876464844,"y":4249.916778564453,"wires":[["efc5b126.8b90a"]]},{"id":"efc5b126.8b90a","type":"function","z":"6827c201.44d26c","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":375.88890838623047,"y":4248.055450439453,"wires":[["34be1c88.516d94"]]},{"id":"34be1c88.516d94","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":546.8889083862305,"y":4246.305450439453,"wires":[["93c1f2b6.33791"],[]]},{"id":"f02a82cb.a48","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":117.6389045715332,"y":4209.055449485779,"wires":[["efc5b126.8b90a"]]},{"id":"96fee46e.23f6c8","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1003.8610877990723,"y":4088.6667881011963,"wires":[]},{"id":"afecfb24.d0f7d8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":113.75003051757812,"y":2931.111083984375,"wires":[["59cb2639.321eb8"]]},{"id":"34648aa1.936456","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":104.44449615478516,"y":3984.7219524383545,"wires":[["db7b25e7.b8b748"]]},{"id":"4679b12b.404c6","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":1796.416603088379,"y":1061.4285984039307,"wires":[]},{"id":"8a5affac.3a023","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_marshrut","info":"","x":1941.0555114746094,"y":156.98430347442627,"wires":[]},{"id":"25c22e24.8461b2","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1396.3890380859375,"y":243.53977298736572,"wires":[["3fb0cd76.4bd362"]]},{"id":"a582baac.161a48","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1441.2223739624023,"y":194.76202869415283,"wires":[["3fb0cd76.4bd362"]]},{"id":"18b7dfb8.400f6","type":"http response","z":"6827c201.44d26c","name":"","x":2261.1111488342285,"y":749.7620496749878,"wires":[]},{"id":"70805aaf.af48d4","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2105.555595397949,"y":754.2064723968506,"wires":[["18b7dfb8.400f6"]]},{"id":"ec871507.fb1368","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":292.7777976989746,"y":1028.8888367414474,"wires":[]},{"id":"b6338849.f79788","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":121.00001525878906,"y":1030.9999359846115,"wires":[["ee693202.cbb68"]]},{"id":"2862063d.520b6a","type":"http response","z":"6827c201.44d26c","name":"","x":1133.8887176513672,"y":1719.444260597229,"wires":[]},{"id":"bdd75326.cd5fc","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":982.7777481079102,"y":1721.6665105819702,"wires":[["2862063d.520b6a"]]},{"id":"65b696ba.b32608","type":"http response","z":"6827c201.44d26c","name":"","x":1143.8888931274414,"y":1899.4443731307983,"wires":[]},{"id":"986ff7a7.430858","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":992.7778015136719,"y":1898.333264350891,"wires":[["65b696ba.b32608"]]},{"id":"332be98.30b5f16","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":252.0833511352539,"y":2573.3332948684692,"wires":[]},{"id":"a2506d50.4e6f9","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":277.0833435058594,"y":2454.583254814148,"wires":[]},{"id":"b894c6dc.fdd5d8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/SecondForScada","method":"get","swaggerDoc":"","x":155,"y":2791.25,"wires":[["5592b12f.b626b"]]},{"id":"b4a8d601.a7a8e8","type":"comment","z":"6827c201.44d26c","name":"read_Second_for_scada","info":"","x":487.4722213745117,"y":2736.8054189682007,"wires":[]},{"id":"5592b12f.b626b","type":"function","z":"6827c201.44d26c","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":365.0000057220459,"y":2793.75004196167,"wires":[["3b7daf9c.ae918"]]},{"id":"3b7daf9c.ae918","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.25,"y":2793.75,"wires":[["e18d19a0.576a28"],[]]},{"id":"d464ac06.d98b4","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":959.5357933044434,"y":2782.0356607437134,"wires":[]},{"id":"6172168b.76bcd8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":713.3334197998047,"y":2854.7500801086426,"wires":[["905b11eb.fc8bb"]]},{"id":"905b11eb.fc8bb","type":"http response","z":"6827c201.44d26c","name":"","x":856.6666412353516,"y":2854.75,"wires":[]},{"id":"37ee089c.45ece8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":93.75,"y":2751.25,"wires":[["5592b12f.b626b"]]},{"id":"b8be5235.7cc17","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1155.8333282470703,"y":3148.749963760376,"wires":[["82ff15d0.ec75d8"]]},{"id":"82ff15d0.ec75d8","type":"http response","z":"6827c201.44d26c","name":"","x":1300.8333206176758,"y":3147.0833225250244,"wires":[]},{"id":"8b52bfb7.3a4f4","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":370.00000762939453,"y":2911.2500429153442,"wires":[]},{"id":"3a00a561.5e8d7a","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":257.50000762939453,"y":3147.500045776367,"wires":[]},{"id":"3a2f8682.c1882a","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":3165,"wires":[["3eac5770.72a0f8"]]},{"id":"c12811cd.7858d","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":363.61112213134766,"y":3659.722158432007,"wires":[]},{"id":"a26f19d3.080fd8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100.83335876464844,"y":3640.833221435547,"wires":[["f7f52b5e.814508"]]},{"id":"b38eb291.2c52d","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":403.33336639404297,"y":4025.833278656006,"wires":[]},{"id":"74b96a49.a0e774","type":"comment","z":"6827c201.44d26c","name":"read_Counter_1","info":"","x":444.80554962158203,"y":4505.71453666687,"wires":[]},{"id":"1bd4d2da.2a7bed","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/Counter1","method":"get","swaggerDoc":"","x":125,"y":4590.909361839294,"wires":[["b06ccc12.eb6cb"]]},{"id":"b06ccc12.eb6cb","type":"function","z":"6827c201.44d26c","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":372.55554962158203,"y":4589.048033714294,"wires":[["cd85068e.ce4448"]]},{"id":"cd85068e.ce4448","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.555549621582,"y":4587.298033714294,"wires":[["b950de21.b632f"],[]]},{"id":"19665c68.018c64","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":114.30554580688477,"y":4550.04803276062,"wires":[["b06ccc12.eb6cb"]]},{"id":"a88b730c.c7fd8","type":"comment","z":"6827c201.44d26c","name":"read_Counter_2","info":"","x":444.80554962158203,"y":4648.095472335815,"wires":[]},{"id":"88b1d679.bd7f98","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/Counter2","method":"get","swaggerDoc":"","x":125,"y":4733.29029750824,"wires":[["505cad54.42d4e4"]]},{"id":"505cad54.42d4e4","type":"function","z":"6827c201.44d26c","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":372.55554962158203,"y":4731.42896938324,"wires":[["a312544a.241a48"]]},{"id":"a312544a.241a48","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.555549621582,"y":4729.67896938324,"wires":[["744d2e4.e0c76d"],[]]},{"id":"20e9cc61.c94db4","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":114.30554580688477,"y":4692.428968429565,"wires":[["505cad54.42d4e4"]]},{"id":"7254d10f.a0a5e","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":879.9999542236328,"y":3071.666301727295,"wires":[["c0f303fe.81254","b8be5235.7cc17"]]},{"id":"6676e9b7.348bf8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":784.4443893432617,"y":1813.3330976963043,"wires":[["c9b17457.da6df8","986ff7a7.430858"]]},{"id":"caba9f73.04581","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":781.1109924316406,"y":1651.6665048599243,"wires":[["bdd75326.cd5fc","362dfcff.e2f414"]]},{"id":"4990b90e.79a368","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1046.111083984375,"y":1481.6664762496948,"wires":[]},{"id":"374e38a8.bb9bb8","type":"http response","z":"6827c201.44d26c","name":"","x":1124.555347442627,"y":1552.1108560562134,"wires":[]},{"id":"b6294d5b.02201","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":973.4443778991699,"y":1554.3331060409546,"wires":[["374e38a8.bb9bb8"]]},{"id":"3b48b378.f73a7c","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":771.7776222229004,"y":1484.3331003189087,"wires":[["b6294d5b.02201","4990b90e.79a368"]]},{"id":"b3e28ca4.1c67a","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1052.7777099609375,"y":1338.3332242965698,"wires":[]},{"id":"5af107cc.0df058","type":"http response","z":"6827c201.44d26c","name":"","x":1131.2219734191895,"y":1408.7776041030884,"wires":[]},{"id":"bb65182d.2e4d98","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.1110038757324,"y":1410.9998540878296,"wires":[["5af107cc.0df058"]]},{"id":"5e05f1fb.3e3db","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":774.1585540771484,"y":1321.47603225708,"wires":[["bb65182d.2e4d98","b3e28ca4.1c67a"]]},{"id":"e3c96573.429bb8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1052.7777099609375,"y":1963.3332242965698,"wires":[]},{"id":"5acc0fe4.346e9","type":"http response","z":"6827c201.44d26c","name":"","x":1131.2219734191895,"y":2033.7776041030884,"wires":[]},{"id":"8682b19a.7970d","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.1110038757324,"y":2035.9998540878296,"wires":[["5acc0fe4.346e9"]]},{"id":"405e3dd1.7be1c4","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":778.4442481994629,"y":1965.9998483657837,"wires":[["8682b19a.7970d","e3c96573.429bb8"]]},{"id":"d6356fa7.56479","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1091.111083984375,"y":2121.666476249695,"wires":[]},{"id":"da5f7de9.eb0a","type":"http response","z":"6827c201.44d26c","name":"","x":1169.555347442627,"y":2192.1108560562134,"wires":[]},{"id":"8c14f4f6.761368","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1018.4443778991699,"y":2194.3331060409546,"wires":[["da5f7de9.eb0a"]]},{"id":"65d43092.7d928","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":816.7776222229004,"y":2124.3331003189087,"wires":[["8c14f4f6.761368","d6356fa7.56479"]]},{"id":"fd1443b.18cd1c","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1065.000015258789,"y":2309.999824523926,"wires":[]},{"id":"d1b2afe3.051d6","type":"http response","z":"6827c201.44d26c","name":"","x":1185.1109466552734,"y":2373.77783870697,"wires":[]},{"id":"9031f3a3.f0b93","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1033.9999771118164,"y":2376.0000886917114,"wires":[["d1b2afe3.051d6"]]},{"id":"ebf16ff3.90f6","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":790.6665534973145,"y":2312.6664485931396,"wires":[["9031f3a3.f0b93","fd1443b.18cd1c"]]},{"id":"3d200177.7de0ae","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1121.6666259765625,"y":3356.66650390625,"wires":[]},{"id":"bb4a825f.5f406","type":"http response","z":"6827c201.44d26c","name":"","x":1200.1108894348145,"y":3427.1108837127686,"wires":[]},{"id":"cbc40d62.68df1","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1048.9999198913574,"y":3429.3331336975098,"wires":[["bb4a825f.5f406"]]},{"id":"63e2b9d7.2ff008","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":847.3331642150879,"y":3359.333127975464,"wires":[["cbc40d62.68df1","3d200177.7de0ae"]]},{"id":"1e94ba96.09d775","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1091.3334045410156,"y":3861.6667346954346,"wires":[]},{"id":"bca7d30b.bbd4b","type":"http response","z":"6827c201.44d26c","name":"","x":1166.7776222229004,"y":3932.1108531951904,"wires":[]},{"id":"a43cbdf9.4c59d","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1015.6666526794434,"y":3934.3331031799316,"wires":[["bca7d30b.bbd4b"]]},{"id":"65d27d03.ef7dc4","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":813.9999923706055,"y":3884.3331155776978,"wires":[["a43cbdf9.4c59d","1e94ba96.09d775"]]},{"id":"fe4c6781.4ba538","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1073.3333587646484,"y":4236.666473388672,"wires":[]},{"id":"f0a2cb6a.73f198","type":"http response","z":"6827c201.44d26c","name":"","x":1151.7776222229004,"y":4307.11085319519,"wires":[]},{"id":"698182d5.b6bc2c","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1000.6666526794434,"y":4309.333103179932,"wires":[["f0a2cb6a.73f198"]]},{"id":"f38e87e4.1cf7b8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1088.333251953125,"y":4581.66668510437,"wires":[]},{"id":"7c27d3b7.77bfec","type":"http response","z":"6827c201.44d26c","name":"","x":1166.777515411377,"y":4652.111064910889,"wires":[]},{"id":"a87b71c2.49109","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1015.6665458679199,"y":4654.33331489563,"wires":[["7c27d3b7.77bfec"]]},{"id":"b950de21.b632f","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":813.9997901916504,"y":4584.333309173584,"wires":[["a87b71c2.49109","f38e87e4.1cf7b8"]]},{"id":"5d662c5f.e968d4","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1045,"y":4723.333265304565,"wires":[]},{"id":"478e41c8.46bc8","type":"http response","z":"6827c201.44d26c","name":"","x":1123.444263458252,"y":4793.777645111084,"wires":[]},{"id":"c1fbb732.d3a228","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":972.3332939147949,"y":4795.999895095825,"wires":[["478e41c8.46bc8"]]},{"id":"744d2e4.e0c76d","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":770.6665382385254,"y":4725.999889373779,"wires":[["c1fbb732.d3a228","5d662c5f.e968d4"]]},{"id":"3a0813be.63944c","type":"comment","z":"6827c201.44d26c","name":"read_Counter_3","info":"","x":458.8333511352539,"y":4801.666712760925,"wires":[]},{"id":"8b667ded.f6e4b","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/Counter3","method":"get","swaggerDoc":"","x":139.02780151367188,"y":4886.86153793335,"wires":[["c4ddaebd.5ca5f"]]},{"id":"c4ddaebd.5ca5f","type":"function","z":"6827c201.44d26c","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":371.58336639404297,"y":4885.000385284424,"wires":[["1855b977.6cc987"]]},{"id":"1855b977.6cc987","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":557.5833511352539,"y":4883.25020980835,"wires":[["f1c21fdd.0cf95"],[]]},{"id":"1938c49b.f3860b","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":128.33334732055664,"y":4846.000208854675,"wires":[["c4ddaebd.5ca5f"]]},{"id":"a0757f42.1022e","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1059.0278015136719,"y":4876.904505729675,"wires":[]},{"id":"1265c8e7.780c17","type":"http response","z":"6827c201.44d26c","name":"","x":1137.4720649719238,"y":4947.348885536194,"wires":[]},{"id":"dc912ad7.4726e8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":986.3610954284668,"y":4949.571135520935,"wires":[["1265c8e7.780c17"]]},{"id":"f1c21fdd.0cf95","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.7777137756348,"y":4872.777660369873,"wires":[["dc912ad7.4726e8","a0757f42.1022e"]]},{"id":"b5b983c0.c9c97","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/send_start_write_date","method":"post","swaggerDoc":"","x":2070.238235473633,"y":2223.143114566803,"wires":[["41164a8a.a6e784","17093dc7.96bfb2"]]},{"id":"6ee6c652.6d52d8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2986.7781143188477,"y":2216.4287281036377,"wires":[]},{"id":"b1794c14.62e3e","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2654.016098022461,"y":2227.539499282837,"wires":[["6ee6c652.6d52d8"],[]]},{"id":"18ad8ce.cc7e273","type":"comment","z":"6827c201.44d26c","name":"Write_comand_time","info":"","x":2466.015998840332,"y":2126.9843640327454,"wires":[]},{"id":"41164a8a.a6e784","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":2377.540023803711,"y":2185.758162021637,"wires":[]},{"id":"9811714c.6774c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2121.984233856201,"y":2172.8414311408997,"wires":[["17093dc7.96bfb2"]]},{"id":"17093dc7.96bfb2","type":"function","z":"6827c201.44d26c","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2358.0952911376953,"y":2225.7144923210144,"wires":[["78dc62a8.25e8ec"]]},{"id":"78dc62a8.25e8ec","type":"function","z":"6827c201.44d26c","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2488.3811264038086,"y":2226.8255591392517,"wires":[["b1794c14.62e3e"]]},{"id":"e167425c.26d8d","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":2754.2066764831543,"y":2331.0001091957092,"wires":[]},{"id":"c48d6f69.58bd9","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2550.8736610412598,"y":2332.730516910553,"wires":[["e167425c.26d8d"],[]]},{"id":"8f3e9863.6a2388","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":2780.022415161133,"y":2528.3386554718018,"wires":[]},{"id":"753b0264.427adc","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2597.5780487060547,"y":2527.0687713623047,"wires":[["8f3e9863.6a2388"],[]]},{"id":"14cef5a8.53652a","type":"comment","z":"6827c201.44d26c","name":"write_18b_status_pump","info":"","x":2379.451072692871,"y":2403.783405303955,"wires":[]},{"id":"a64c4d4f.9c407","type":"function","z":"6827c201.44d26c","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2301.4192504882812,"y":2525.3389184474945,"wires":[["b07f05bb.6642d8"]]},{"id":"b07f05bb.6642d8","type":"function","z":"6827c201.44d26c","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2437.2448768615723,"y":2527.8785922527313,"wires":[["753b0264.427adc"]]},{"id":"1dc2d1d8.6d0cee","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/send18bI_status_pump","method":"post","swaggerDoc":"","x":2034.022315979004,"y":2531.11617064476,"wires":[["2971f492.2cbaac","a64c4d4f.9c407"]]},{"id":"2971f492.2cbaac","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":2286.7683639526367,"y":2448.481230735779,"wires":[]},{"id":"dbc2d6a0.a4a2e8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.990581512451,"y":2459.592288017273,"wires":[["a64c4d4f.9c407"]]},{"id":"ce098e53.26365","type":"function","z":"6827c201.44d26c","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2193.0502319335938,"y":2328.8088574409485,"wires":[["5f76903a.b5bd2"]]},{"id":"5f76903a.b5bd2","type":"function","z":"6827c201.44d26c","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2345.936611175537,"y":2330.004135608673,"wires":[["c48d6f69.58bd9"]]},{"id":"52ec2506.7c897c","type":"comment","z":"6827c201.44d26c","name":"Write_comand_time","info":"","x":2511.686408996582,"y":2287.0042605400085,"wires":[]},{"id":"8164daa3.76b788","type":"http in","z":"2b7caf95.f1aa6","name":"Отримуємо методи для 1С","url":"/getMethods","method":"get","swaggerDoc":"","x":160.89453125,"y":173.33593678474426,"wires":[["7b4bc3ef.7a540c"]]},{"id":"7b4bc3ef.7a540c","type":"template","z":"2b7caf95.f1aa6","name":"Описуємо доступні методи","field":"payload","fieldType":"msg","format":"json","syntax":"mustache","template":"{\n    \"source\":\"/api/platform\",\n    \"methods\":[\n                {\n                    \"description\":\"Установлює заявку, маршрут, обєм перед початком наливу\",\n                    \"source\":\"/setOrders\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"orderId\": 1234,\n                        \"track\": 0,\n                        \"volume\": 978.20\n                    }\n                },\n                {\n                    \"description\":\"Запис всіх сетпоінт\",\n                    \"source\":\"/kt/setOrders\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                      \"volume1\": 978.20,\n                      \"volume2\": 978.20,\n                      \"volume3\": 978.20,\n                      \"volume4\": 978.20,\n                      \"volume5\": 978.20,\n                      \"volume6\": 555.65\n                    }\n                },\n                {\n                    \"description\":\"Зчитує всі дані статусів системи 4,5,6 PLC (плостійний моніторинг)\",\n                    \"source\":\"/status/all_system_4_5_6\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0_status_pump\": 0,\n                        \"bit_18_status_pump\": 0,\n                        \"bit_0_status_klapan\": 0,\n                        \"bit_1_status_klapan\": 0,\n                        \"status_hend_vent_bit_0\":0,\n                        \"status_hend_vent_bit_1\":0,\n                        \"status_hend_vent_bit_2\":0,\n                        \"register_error_status_bit_0\": 0,\n                        \"register_error_status_bit_1\": 0,\n                        \"register_error_status_bit_2\": 0,\n                        \"register_error_status_bit_3\": 0,\n                        \"register_error_status_bit_4\": 0,\n                        \"t_flow\": 0,\n                        \"plotnost_flow\": 0,\n                        \"second_for_scada\": 0,\n                        \"mode_system\": 0,\n                        \"zayavka\": 0,\n                        \"marshrut_setpoint_bit_0\": 0,\n                        \"marshrut_setpoint_bit_1\": 0,\n                        \"marshrut_setpoint_bit_2\": 0,\n                        \"setpoint\": 0,\n                        \"set_lflow_start\": 0,\n                        \"set_lflow_stop\": 0,\n                        \"protok_min\": 0,\n                        \"protok_dead_time\": 0,\n                        \"counter_1\": 0,\n                        \"counter_2\": 0,\n                        \"counter_3\": 0\n                    }\n                },\n                {\n                    \"description\":\"Зчитує всі дані статусів системи 1,2,3 PLC(плостійний моніторинг)\",\n                    \"source\":\"/status/all_system_1_2_3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0_status_pump\": 0,\n                        \"bit_18_status_pump\": 0,\n                        \"bit_0_status_klapan\": 0,\n                        \"bit_1_status_klapan\": 0,\n                        \"status_hend_vent_bit_0\":0,\n                        \"status_hend_vent_bit_1\":0,\n                        \"status_hend_vent_bit_2\":0,\n                        \"register_error_status_bit_0\": 0,\n                        \"register_error_status_bit_1\": 0,\n                        \"register_error_status_bit_2\": 0,\n                        \"register_error_status_bit_3\": 0,\n                        \"register_error_status_bit_4\": 0,\n                        \"t_flow\": 0,\n                        \"plotnost_flow\": 0,\n                        \"second_for_scada\": 0,\n                        \"mode_system\": 0,\n                        \"zayavka\": 0,\n                        \"marshrut_setpoint_bit_0\": 0,\n                        \"marshrut_setpoint_bit_1\": 0,\n                        \"marshrut_setpoint_bit_2\": 0,\n                        \"setpoint\": 0,\n                        \"set_lflow_start\": 0,\n                        \"set_lflow_stop\": 0,\n                        \"protok_min\": 0,\n                        \"protok_dead_time\": 0,\n                        \"counter_1\": 0,\n                        \"counter_2\": 0,\n                        \"counter_3\": 0\n                    }\n                },\n                {\n                    \"description\":\"Зчитує всі дані статусів системи(плостійний моніторинг)\",\n                    \"source\":\"/status/all_system\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0_status_pump\": 0,\n                        \"bit_18_status_pump\": 0,\n                        \"bit_0_status_klapan\": 0,\n                        \"bit_1_status_klapan\": 0,\n                        \"status_hend_vent_bit_0\":0,\n                        \"status_hend_vent_bit_1\":0,\n                        \"status_hend_vent_bit_2\":0,\n                        \"register_error_status_bit_0\": 0,\n                        \"register_error_status_bit_1\": 0,\n                        \"register_error_status_bit_2\": 0,\n                        \"register_error_status_bit_3\": 0,\n                        \"register_error_status_bit_4\": 0,\n                        \"t_flow\": 0,\n                        \"plotnost_flow\": 0,\n                        \"second_for_scada\": 0,\n                        \"mode_system\": 0,\n                        \"zayavka\": 0,\n                        \"marshrut_setpoint_bit_0\": 0,\n                        \"marshrut_setpoint_bit_1\": 0,\n                        \"marshrut_setpoint_bit_2\": 0,\n                        \"setpoint\": 0,\n                        \"set_lflow_start\": 0,\n                        \"set_lflow_stop\": 0,\n                        \"protok_min\": 0,\n                        \"protok_dead_time\": 0,\n                        \"counter_1\": 0,\n                        \"counter_2\": 0,\n                        \"counter_3\": 0\n                    }\n                },\n                {\n                    \"description\":\"Зчитує заявку, маршрут, обєм перед початком наливу\",\n                    \"source\":\"/setOrders\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"orderId\": 1234,\n                        \"track\": 0,\n                        \"volume\": 978.20\n                    }\n                },\n                {\n                    \"description\":\"Зчитує режим наливу(числове значння)\",\n                    \"source\":\"/status\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 2\n                    }\n                },\n                {\n                    \"description\":\"Установлює режим наливу(числове значння)\",\n                    \"source\":\"/status\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"cmd\": 2\n                    }\n                },\n                {\n                    \"description\":\"Зчитує статус насосу\",\n                    \"source\":\"/StatusPump\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_18\": 1\n                    }\n                },\n                {\n                    \"description\":\"Установлює умімкння/вимкнення носама 18 бітом 1/0\",\n                    \"source\":\"/send18bI_status_pump\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"write18b\": 4\n                    }\n                },\n                {\n                     \"description\":\"Зчитує всі сетпоінти\",\n                    \"source\":\"/kt/read5006\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"setp1\": 0,\n                        \"setp2\": 0,\n                        \"setp3\": 0,\n                        \"setp4\": 0,\n                        \"setp5\": 0,\n                        \"setp6\": 0\n                       \n                    }\n                },\n                {\n                     \"description\":\"Зчитує секунди час з усіх\",\n                    \"source\":\"/kt/SecondForScada\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"time1\": 0,\n                       \"time2\": 0,\n                       \"time3\": 0,\n                       \"time4\": 0,\n                       \"time5\": 0,\n                       \"time6\": 0\n                       \n                    }\n                },\n                {\n                     \"description\":\"Зчитує статус клапана біт 0 - 1 - малий протік, біт 1 - 1 - великий протік\",\n                    \"source\":\"/StatusKlapan\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"bit_0\": 0,\n                       \"bit_1\": 1\n                    }\n                },\n                {\n                    \"description\":\"Установлює маршрут КЛапан 5.2 - 0 біт, 5.4 - 1 біт, 5.6 - 2 біт ( 1 відкрито, 0 закрито)\",\n                    \"source\":\"/UpakovkaMarshrut\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_1\": 0,\n                        \"bit_2\": 0 \n                    }\n                },\n                {\n                   \"description\":\"Статус входів ПЛК\",\n                    \"source\":\"/PLCInputStatus\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 255 \n                    }\n                },\n                {\n                    \"description\":\"Регістр  аварій, для інформування про причину аварії  \",\n                    \"source\":\"/RegisterError\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_1\": 0,\n                        \"bit_2\": 0,\n                        \"bit_3\": 0,\n                        \"bit_4\": 0 \n                    }\n                },\n                {\n                    \"description\":\"Установка 15 біта в 1 і всі інші біти в 0 для скидання аварії\",\n                    \"source\":\"/resetError\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"Reset_Error\": 32768\n                    }\n                },\n                {\n                    \"description\":\"Зчитує швидкість потоку м/с  рег 30000 фн 04\",\n                    \"source\":\"/SpeedFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.89\n                    }\n                },\n                {\n                    \"description\":\"Зчитує об'ємну витрата  л/год\",\n                    \"source\":\"/VFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує массову витрата кг/год\",\n                    \"source\":\"/MFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує температуру град\",\n                    \"source\":\"/TFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує густину кг/л\",\n                    \"source\":\"/PlotnostFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує температуру середню град\",\n                    \"source\":\"/TFlowMiddle\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує густину сер кг/л\",\n                    \"source\":\"/PlotnostMiddle\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Запис 1(числа) для скидання лічильника 1 та 2 \",\n                    \"source\":\"/ResetCounter12\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"Reset_counter_1_2\": 1\n                       }\n                },\n                {\n                    \"description\":\"Запис 1(числа) для скидання лічильника 3 \",\n                    \"source\":\"/ResetCounter3\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"ResetCounter3\": 1 \n                       }\n                },\n                {\n                    \"description\":\"Зчитування секундного таймера 0-60 сек, для діагностики звязку з ПЛК \",\n                    \"source\":\"/SecondForScada\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5\n                    }\n                },\n                {\n                    \"description\":\"Запис об’єму первинного наливу (за замовчув. 20 л.)\",\n                    \"source\":\"/SetLflowStart\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"volume\": 789.89\n                       }\n                },\n                {\n                    \"description\":\"Зчутування об’єму первинного наливу (за замовчув. 20 л.)\",\n                    \"source\":\"/SetLflowStart\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчутування об’єму остаточного доливу в кінці (за замовчув. 40 л.) \",\n                    \"source\":\"/SetLflowStop\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Установка об’єму остаточного доливу в кінці (за замовчув. 40 л.) \",\n                    \"source\":\"/SetLflowStop\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"volume\": 789.25 \n                       }\n                },\n                {\n                    \"description\":\"Установка мінімальний поріг витрат НП при працюючому насосі \",\n                    \"source\":\"/ProtokMin\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"volume\": 668.75\n                       }\n                },\n                {\n                    \"description\":\"Зчутвання мінімальний поріг витрат НП при працюючому насосі \",\n                    \"source\":\"/ProtokMin\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Запис час для досягнення мінімального протоку (сек) \",\n                    \"source\":\"/ProtokDeadTime\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"volume\": 785.69\n                       }\n                },\n                {\n                    \"description\":\"Зчитування час для досягнення мінімального протоку (сек) \",\n                    \"source\":\"/ProtokDeadTime\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5858567\n                    }\n                },\n                {\n                    \"description\":\"Зчитування Значення лічильника 1\",\n                    \"source\":\"/Counter1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                    \n                },\n                {\n                    \"description\":\"Зчитування Значення лічильника 2\",\n                    \"source\":\"/Counter2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5858.56\n                    }\n                },\n                  {\n                    \"description\":\"Зчитування Значення лічильника 3 ( 64біта)\",\n                    \"source\":\"/Counter3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585546568.56\n                    }\n                },\n                {\n                    \"description\":\"Записуємо 1 для синхронізації часу/дати ПК з ПЛК\",\n                    \"source\":\"/send_start_write_date\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"sendI\": 1\n                       }\n                },\n                {\n                    \"description\":\"Записуємо поточний рік, місяць, день, година, хвелинни, секунда\",\n                    \"source\":\"/write_date_PLC\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"year\": 2018,\n                          \"mounth\": 2,\n                          \"day\": 21,\n                          \"hour\": 15,\n                          \"minute\": 54,\n                          \"second\": 18\n                       }\n                },\n                {\n                     \"description\":\"Зчитуємо дані, щойно завершеної заявки,  D92-143 \",\n                    \"source\":\"/status/data\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"order_req\": 1234,\n                        \"route\": 2,\n                        \"setpoint\": 25.65,\n                        \"counterr\": 25.65,\n                        \"t_flow_1\": 25.65,\n                        \"t_flow_2\": 25.65,\n                        \"t_flow_3\": 25.65,\n                        \"t_flow_4\": 25.65,\n                        \"t_flow_5\": 25.65,\n                        \"t_flow_middle\": 25.65,\n                        \"Plotnost_flow_1\": 25.65,\n                        \"Plotnost_flow_2\": 25.65,\n                        \"Plotnost_flow_3\": 25.65,\n                        \"Plotnost_flow_4\": 25.65,\n                        \"Plotnost_flow_5\": 25.65,\n                        \"Plotnost_middle\": 25.65,\n                        \"t_start_year\": 2018,\n                        \"t_start_month\": 2,\n                        \"t_start_day\": 3,\n                        \"t_start_hour\": 1,\n                        \"t_start_minute\": 25,\n                        \"t_end_year\":2018,\n                        \"t_end_month\":2,\n                        \"t_end_day\":3,\n                        \"t_end_hour\":10,\n                        \"t_end_minute\":20,\n                        \"Counter1M\":25.25,\n                        \"Counter_3\":789536.25,\n                        \"rezervf\": 25.25,\n                        \"rezervw1\": 123,\n                        \"rezervw2\": 123\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо резерв 26 регітр \",\n                    \"source\":\"/Upakovka5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо резерв 27 регітр \",\n                    \"source\":\"/Upakovka6\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58586\n                    }\n                    \n                },\n                {\n                    \"description\":\"Зчитуємо температуру 1 град\",\n                    \"source\":\"/TFlow1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 2 град\",\n                    \"source\":\"/TFlow2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 3 град\",\n                    \"source\":\"/TFlow3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 4 град\",\n                    \"source\":\"/TFlow4\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 5 град\",\n                    \"source\":\"/TFlow5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 1 кг/л\",\n                    \"source\":\"/PlotnostFlow1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 2 кг/л\",\n                    \"source\":\"/PlotnostFlow2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 3 кг/л\",\n                    \"source\":\"/PlotnostFlow3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 4 кг/л\",\n                    \"source\":\"/PlotnostFlow4\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густина 5 кг/л\",\n                    \"source\":\"/PlotnostFlow5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                }\n            ]\n            \n}","x":479.89849853515625,"y":171.78907775878906,"wires":[["94c3314b.c0f9f","934a2baf.24b468"]]},{"id":"94c3314b.c0f9f","type":"http response","z":"2b7caf95.f1aa6","name":"","x":694.8906478881836,"y":172.56252479553223,"wires":[]},{"id":"a01129e4.bc2448","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/write_date_PLC","method":"post","swaggerDoc":"","x":1961.686378479004,"y":2327.004107952118,"wires":[["36cd98f3.0665d8","ce098e53.26365"]]},{"id":"36cd98f3.0665d8","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":2183.6863327026367,"y":2282.0040459632874,"wires":[]},{"id":"98f4d0cd.8221a","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_5","info":"","x":2226.26961517334,"y":2752.5037803649902,"wires":[]},{"id":"98b19909.84e7d8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/Upakovka5","method":"get","swaggerDoc":"","x":1942.6029968261719,"y":2815.0592346191406,"wires":[["ce961ead.6237c"]]},{"id":"ce961ead.6237c","type":"function","z":"6827c201.44d26c","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2172.491886138916,"y":2798.6147785186768,"wires":[["ae8872d1.d9b7f"]]},{"id":"ae8872d1.d9b7f","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2331.8252143859863,"y":2798.94815826416,"wires":[["5c97dbf6.3f2294"],[]]},{"id":"60c048f6.9292a8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2668.1268463134766,"y":2790.091260910034,"wires":[]},{"id":"ef4aeb86.a95378","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1884.9363098144531,"y":2776.2815017700195,"wires":[["ce961ead.6237c"]]},{"id":"a2bc6932.b6f658","type":"http response","z":"6827c201.44d26c","name":"","x":2796.7615928649902,"y":2859.3289833068848,"wires":[]},{"id":"d2033e54.79353","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2531.0474243164062,"y":2851.392557144165,"wires":[["a2bc6932.b6f658"]]},{"id":"bbba571c.3fce18","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_6","info":"","x":2227.26961517334,"y":2873.5037803649902,"wires":[]},{"id":"84d94a34.a89ae8","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/Upakovka6","method":"get","swaggerDoc":"","x":1943.6029968261719,"y":2936.0592346191406,"wires":[["8b1c8b89.8bc188"]]},{"id":"8b1c8b89.8bc188","type":"function","z":"6827c201.44d26c","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2158.4919471740723,"y":2928.6147966384888,"wires":[["3e2b2b49.459ac4"]]},{"id":"3e2b2b49.459ac4","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2328.8252906799316,"y":2927.94820022583,"wires":[["b0fa800a.70074"],[]]},{"id":"568c206a.bd1f4","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1885.9363098144531,"y":2897.2815017700195,"wires":[["8b1c8b89.8bc188"]]},{"id":"d918d832.1a5038","type":"comment","z":"6827c201.44d26c","name":"REZERVU","info":"","x":2236.269691467285,"y":2657.5038261413574,"wires":[]},{"id":"7354f93f.ab6428","type":"comment","z":"6827c201.44d26c","name":"T_flow_1","info":"","x":2199.7697219848633,"y":3051.5038986206055,"wires":[]},{"id":"b2be7c45.6a59e","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlow1","method":"get","swaggerDoc":"","x":1927.2140579223633,"y":3108.9481382369995,"wires":[["962b059d.4f92d8"]]},{"id":"962b059d.4f92d8","type":"function","z":"6827c201.44d26c","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2138.2140579223633,"y":3106.9481382369995,"wires":[["6864a4ef.b61dac"]]},{"id":"6864a4ef.b61dac","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2334.2140579223633,"y":3113.9481382369995,"wires":[["d0fa148f.5a3aa8"],[]]},{"id":"3969399b.016bf6","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1876.2140579223633,"y":3057.9481382369995,"wires":[["962b059d.4f92d8"]]},{"id":"efc443cd.d6877","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":2778.8807525634766,"y":3109.6149253845215,"wires":[]},{"id":"7981bf6e.22038","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2779.5474395751953,"y":3175.6147422790527,"wires":[["63def5ef.ffe99c"]]},{"id":"d0fa148f.5a3aa8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2558.99169921875,"y":3110.0593423843384,"wires":[["7981bf6e.22038","efc443cd.d6877"]]},{"id":"63def5ef.ffe99c","type":"http response","z":"6827c201.44d26c","name":"","x":2920.6583766937256,"y":3174.503686904907,"wires":[]},{"id":"51d8f31f.b7b4fc","type":"comment","z":"6827c201.44d26c","name":"T_flow_2","info":"","x":2198.333335876465,"y":3196.8516807556152,"wires":[]},{"id":"8b4a42a0.5484f","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlow2","method":"get","swaggerDoc":"","x":1925.7776718139648,"y":3254.2959203720093,"wires":[["bfb02f2f.5a2f5"]]},{"id":"bfb02f2f.5a2f5","type":"function","z":"6827c201.44d26c","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2136.777671813965,"y":3252.2959203720093,"wires":[["3cedede2.154602"]]},{"id":"3cedede2.154602","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2332.777671813965,"y":3259.2959203720093,"wires":[["bcf5f39.068751"],[]]},{"id":"7bf8e3fd.99a65c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1874.7776718139648,"y":3203.2959203720093,"wires":[["bfb02f2f.5a2f5"]]},{"id":"ba52670a.d93a48","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2777.444366455078,"y":3254.9627075195312,"wires":[]},{"id":"6c64d4a6.03bdec","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2778.111053466797,"y":3320.9625244140625,"wires":[["942f85e3.f4f078"]]},{"id":"bcf5f39.068751","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2557.5553131103516,"y":3255.407124519348,"wires":[["6c64d4a6.03bdec","ba52670a.d93a48"]]},{"id":"942f85e3.f4f078","type":"http response","z":"6827c201.44d26c","name":"","x":2919.221990585327,"y":3319.851469039917,"wires":[]},{"id":"36d65d63.53be92","type":"comment","z":"6827c201.44d26c","name":"T_flow_3","info":"","x":2206.1110458374023,"y":3326.8516807556152,"wires":[]},{"id":"e616c283.24cd9","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlow3","method":"get","swaggerDoc":"","x":1933.5553817749023,"y":3384.2959203720093,"wires":[["65188ba1.a02b74"]]},{"id":"65188ba1.a02b74","type":"function","z":"6827c201.44d26c","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2144.5553817749023,"y":3382.2959203720093,"wires":[["342c198d.ac1526"]]},{"id":"342c198d.ac1526","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2340.5553817749023,"y":3389.2959203720093,"wires":[["903c1726.99bca8"],[]]},{"id":"2ea90043.0dc08","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1882.5553817749023,"y":3333.2959203720093,"wires":[["65188ba1.a02b74"]]},{"id":"b0699367.6817b","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2785.2220764160156,"y":3384.9627075195312,"wires":[]},{"id":"a83f4eac.2656e","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2785.8887634277344,"y":3450.9625244140625,"wires":[["38c7ab18.22c644"]]},{"id":"903c1726.99bca8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2565.333023071289,"y":3385.407124519348,"wires":[["a83f4eac.2656e","b0699367.6817b"]]},{"id":"38c7ab18.22c644","type":"http response","z":"6827c201.44d26c","name":"","x":2926.9997005462646,"y":3449.851469039917,"wires":[]},{"id":"209e4d0c.3659e2","type":"comment","z":"6827c201.44d26c","name":"T_flow_4","info":"","x":2202.7777938842773,"y":3461.2960166931152,"wires":[]},{"id":"25bfc031.9dc33","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlow4","method":"get","swaggerDoc":"","x":1930.2221298217773,"y":3518.7402563095093,"wires":[["cb73ff93.67622"]]},{"id":"cb73ff93.67622","type":"function","z":"6827c201.44d26c","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2141.2221298217773,"y":3516.7402563095093,"wires":[["c893c467.c4df38"]]},{"id":"c893c467.c4df38","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2337.2221298217773,"y":3523.7402563095093,"wires":[["791d4321.5d647c"],[]]},{"id":"47bf04aa.d0176c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1879.2221298217773,"y":3467.7402563095093,"wires":[["cb73ff93.67622"]]},{"id":"5e6df5ca.02135c","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2781.8888244628906,"y":3519.4070434570312,"wires":[]},{"id":"876166ff.d8e418","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2782.5555114746094,"y":3585.4068603515625,"wires":[["35425d7a.2dc042"]]},{"id":"791d4321.5d647c","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2561.999771118164,"y":3519.851460456848,"wires":[["876166ff.d8e418","5e6df5ca.02135c"]]},{"id":"35425d7a.2dc042","type":"http response","z":"6827c201.44d26c","name":"","x":2923.6664485931396,"y":3584.295804977417,"wires":[]},{"id":"f07df6c1.281cb8","type":"comment","z":"6827c201.44d26c","name":"T_flow_5","info":"","x":2197.2221298217773,"y":3597.5924034118652,"wires":[]},{"id":"15c33885.2d0aa7","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/TFlow5","method":"get","swaggerDoc":"","x":1924.6664657592773,"y":3655.0366430282593,"wires":[["f3db72a3.8b68a"]]},{"id":"f3db72a3.8b68a","type":"function","z":"6827c201.44d26c","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2135.6664657592773,"y":3653.0366430282593,"wires":[["1a86387e.b815d8"]]},{"id":"1a86387e.b815d8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2331.6664657592773,"y":3660.0366430282593,"wires":[["9cfcd914.241028"],[]]},{"id":"b91156dd.ef0ef8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1873.6664657592773,"y":3604.0366430282593,"wires":[["f3db72a3.8b68a"]]},{"id":"4020d6c3.c92c68","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2776.3331604003906,"y":3655.7034301757812,"wires":[]},{"id":"4bbdaf71.1580c","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2776.9998474121094,"y":3721.7032470703125,"wires":[["31b57cbd.2efde4"]]},{"id":"9cfcd914.241028","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2556.444107055664,"y":3656.147847175598,"wires":[["4bbdaf71.1580c","4020d6c3.c92c68"]]},{"id":"31b57cbd.2efde4","type":"http response","z":"6827c201.44d26c","name":"","x":2918.1107845306396,"y":3720.592191696167,"wires":[]},{"id":"c9f1afbb.8f74","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_1","info":"","x":2272.777671813965,"y":3827.2217979431152,"wires":[]},{"id":"b84d9177.d168e","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostFlow1","method":"get","swaggerDoc":"","x":1992.444351196289,"y":3887.5550365448,"wires":[["c882dc37.db415"]]},{"id":"c882dc37.db415","type":"function","z":"6827c201.44d26c","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2183.444351196289,"y":3885.5550365448,"wires":[["d6c6a817.45f0f8"]]},{"id":"d6c6a817.45f0f8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2379.444351196289,"y":3892.5550365448,"wires":[["f3a0732b.2e8be"],[]]},{"id":"1a6b39eb.ebdd46","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1921.444351196289,"y":3836.5550365448,"wires":[["c882dc37.db415"]]},{"id":"f3a0732b.2e8be","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2626.777530670166,"y":3892.8881645202637,"wires":[["812a87ad.46aba8","c8ffa9e9.b892d8"]]},{"id":"c8ffa9e9.b892d8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2901.1109924316406,"y":3890.22154045105,"wires":[]},{"id":"812a87ad.46aba8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2828.4442863464355,"y":3962.8881702423096,"wires":[["e40925a3.0d2a38"]]},{"id":"e40925a3.0d2a38","type":"http response","z":"6827c201.44d26c","name":"","x":2979.5552558898926,"y":3960.6659202575684,"wires":[]},{"id":"b6bf93a0.c2e31","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_2","info":"","x":2270.555503845215,"y":3967.9625205993652,"wires":[]},{"id":"8c6b6d72.02104","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostFlow2","method":"get","swaggerDoc":"","x":1990.222183227539,"y":4028.29575920105,"wires":[["990cd089.3c0ba"]]},{"id":"990cd089.3c0ba","type":"function","z":"6827c201.44d26c","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2181.222183227539,"y":4026.29575920105,"wires":[["703018.fdc10fe8"]]},{"id":"703018.fdc10fe8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2377.222183227539,"y":4033.29575920105,"wires":[["eb183352.4446d"],[]]},{"id":"276de27d.0eb78e","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1919.222183227539,"y":3977.29575920105,"wires":[["990cd089.3c0ba"]]},{"id":"eb183352.4446d","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2624.555362701416,"y":4033.6288871765137,"wires":[["c59f2a77.e4b758","eb025f31.d6ffd"]]},{"id":"eb025f31.d6ffd","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2898.8888244628906,"y":4030.9622631073,"wires":[]},{"id":"c59f2a77.e4b758","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2826.2221183776855,"y":4103.62889289856,"wires":[["1311bc70.40b284"]]},{"id":"1311bc70.40b284","type":"http response","z":"6827c201.44d26c","name":"","x":2977.3330879211426,"y":4101.406642913818,"wires":[]},{"id":"8a054d87.3a7c3","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_3","info":"","x":2257.2221298217773,"y":4125.740352630615,"wires":[]},{"id":"f445691b.074658","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostFlow3","method":"get","swaggerDoc":"","x":1951.8888702392578,"y":4185.073492050171,"wires":[["5f3f802b.45944"]]},{"id":"5f3f802b.45944","type":"function","z":"6827c201.44d26c","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2167.8888092041016,"y":4184.0735912323,"wires":[["ba8d9c6c.7a4ae"]]},{"id":"ba8d9c6c.7a4ae","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2363.8888092041016,"y":4191.0735912323,"wires":[["dd9cdb04.6575d8"],[]]},{"id":"e1722712.21a518","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1905.8888092041016,"y":4135.0735912323,"wires":[["5f3f802b.45944"]]},{"id":"dd9cdb04.6575d8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":2611.2219886779785,"y":4191.406719207764,"wires":[["510fb45a.70ce8c","19995c3e.669164"]]},{"id":"19995c3e.669164","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2885.555450439453,"y":4188.74009513855,"wires":[]},{"id":"510fb45a.70ce8c","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2812.888744354248,"y":4261.40672492981,"wires":[["43c01be9.4bff74"]]},{"id":"43c01be9.4bff74","type":"http response","z":"6827c201.44d26c","name":"","x":2963.999713897705,"y":4259.184474945068,"wires":[]},{"id":"f563e599.497308","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_4","info":"","x":2259.44441986084,"y":4270.18493270874,"wires":[]},{"id":"f9dc954e.34c278","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostFlow4","method":"get","swaggerDoc":"","x":1979.111099243164,"y":4330.518171310425,"wires":[["ff687db.7e4028"]]},{"id":"ff687db.7e4028","type":"function","z":"6827c201.44d26c","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2170.111099243164,"y":4328.518171310425,"wires":[["8e501118.d1836"]]},{"id":"8e501118.d1836","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2366.111099243164,"y":4335.518171310425,"wires":[["78dae9a7.cabe28"],[]]},{"id":"1a8644dd.82fe6b","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1908.111099243164,"y":4279.518171310425,"wires":[["ff687db.7e4028"]]},{"id":"78dae9a7.cabe28","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2613.444278717041,"y":4335.851299285889,"wires":[["253d4aea.7abeb6","5ba77815.1102a8"]]},{"id":"5ba77815.1102a8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2887.7777404785156,"y":4333.184675216675,"wires":[]},{"id":"253d4aea.7abeb6","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2815.1110343933105,"y":4405.851305007935,"wires":[["3df1eb20.b0c014"]]},{"id":"3df1eb20.b0c014","type":"http response","z":"6827c201.44d26c","name":"","x":2966.2220039367676,"y":4403.629055023193,"wires":[]},{"id":"da834981.572378","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_5","info":"","x":2259.44441986084,"y":4427.59215927124,"wires":[]},{"id":"4eb0a720.cb0e28","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/PlotnostFlow5","method":"get","swaggerDoc":"","x":1979.111099243164,"y":4487.925397872925,"wires":[["f2baa70a.a20308"]]},{"id":"f2baa70a.a20308","type":"function","z":"6827c201.44d26c","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2170.111099243164,"y":4485.925397872925,"wires":[["7eadf4c4.550ebc"]]},{"id":"7eadf4c4.550ebc","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2366.111099243164,"y":4492.925397872925,"wires":[["946125f4.c269c8"],[]]},{"id":"f6866f4.e7bc09","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1908.111099243164,"y":4436.925397872925,"wires":[["f2baa70a.a20308"]]},{"id":"946125f4.c269c8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2613.444278717041,"y":4493.258525848389,"wires":[["17b5e7b0.3d1358","7c8f7c0e.481f24"]]},{"id":"7c8f7c0e.481f24","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2887.7777404785156,"y":4490.591901779175,"wires":[]},{"id":"17b5e7b0.3d1358","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2815.1110343933105,"y":4563.258531570435,"wires":[["c928329c.77b83"]]},{"id":"c928329c.77b83","type":"http response","z":"6827c201.44d26c","name":"","x":2966.2220039367676,"y":4561.036281585693,"wires":[]},{"id":"db7b25e7.b8b748","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":282.77803802490234,"y":4105.223428726196,"wires":[["3fa6e5f0.19dbaa"]]},{"id":"3fa6e5f0.19dbaa","type":"function","z":"6827c201.44d26c","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":437.2778854370117,"y":4104.33443069458,"wires":[["ac8430.62045bd"]]},{"id":"ac8430.62045bd","type":"function","z":"6827c201.44d26c","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":605.7222290039062,"y":4099.222452163696,"wires":[["3a9306f7.a500fa"]]},{"id":"93c1f2b6.33791","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":784.3334045410156,"y":4247.333468437195,"wires":[["fe4c6781.4ba538","698182d5.b6bc2c"]]},{"id":"5146ea58.3014b4","type":"comment","z":"6827c201.44d26c","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":3822.742431640625,"y":50.434471130371094,"wires":[]},{"id":"934a2baf.24b468","type":"debug","z":"2b7caf95.f1aa6","name":"","active":true,"console":"false","complete":"false","x":651.1041564941406,"y":296.6119842529297,"wires":[]},{"id":"541b7987.624568","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/setOrders","method":"get","swaggerDoc":"","x":135,"y":386.6731262207031,"wires":[["4b8b696d.0a8008"]]},{"id":"4d5b1b4e.8f7634","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":107.77777099609375,"y":340.00643730163574,"wires":[["4b8b696d.0a8008"]]},{"id":"acf920b1.f4115","type":"comment","z":"6827c201.44d26c","name":"Read_R5004 5005 5006","info":"","x":414.00001525878906,"y":293.5619192123413,"wires":[]},{"id":"4b8b696d.0a8008","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":331.6991958618164,"y":388.3398199081421,"wires":[["46822503.f72bdc"]]},{"id":"ccba3bdf.85a088","type":"function","z":"6827c201.44d26c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":673.3656845092773,"y":678.3398265838623,"wires":[["78392f56.76da6"]]},{"id":"78392f56.76da6","type":"function","z":"6827c201.44d26c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":809.711109161377,"y":679.8754501342773,"wires":[["655aae.cdb90554","c549eb80.450cf8"]]},{"id":"655aae.cdb90554","type":"http response","z":"6827c201.44d26c","name":"","x":981.0682716369629,"y":642.1494741439819,"wires":[]},{"id":"c549eb80.450cf8","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1000.0565223693848,"y":678.7802200317383,"wires":[]},{"id":"46822503.f72bdc","type":"function","z":"6827c201.44d26c","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":525.0323257446289,"y":381.6731815338135,"wires":[["cd3f143f.77d238"]]},{"id":"3894c471.b0609c","type":"function","z":"6827c201.44d26c","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":491.69889068603516,"y":451.6731605529785,"wires":[["9824f1fb.d6bb1"]]},{"id":"cd3f143f.77d238","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":753.3656616210938,"y":383.3398036956787,"wires":[["410465fa.43e31c"],[]]},{"id":"9824f1fb.d6bb1","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":711.6989135742188,"y":461.6731472015381,"wires":[["6d9e222d.36977c"],[]]},{"id":"4d7726f8.4693d8","type":"function","z":"6827c201.44d26c","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":491.69905853271484,"y":516.6731805801392,"wires":[["5fb8c794.d84878"]]},{"id":"5fb8c794.d84878","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":699.3140029907227,"y":525.2723665237427,"wires":[["d080c8f.dd95f38"],[]]},{"id":"d080c8f.dd95f38","type":"function","z":"6827c201.44d26c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":903.2943649291992,"y":521.1373958587646,"wires":[["7c31d229.54037c"]]},{"id":"7c31d229.54037c","type":"function","z":"6827c201.44d26c","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":496.69905853271484,"y":575.0064935684204,"wires":[["ba7eff64.b1c29"]]},{"id":"ba7eff64.b1c29","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":704.3140029907227,"y":583.6056795120239,"wires":[["ccba3bdf.85a088"],[]]},{"id":"410465fa.43e31c","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":931.6993141174316,"y":380.00649070739746,"wires":[["3894c471.b0609c"]]},{"id":"6d9e222d.36977c","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":923.3654174804688,"y":456.67318534851074,"wires":[["4d7726f8.4693d8"]]},{"id":"aedee1db.844ff","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2100.1470375061035,"y":911.6724700927734,"wires":[["b8f2a494.c57eb8","3d95dd8d.d87252"]]},{"id":"e18d19a0.576a28","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":728.5993423461914,"y":2738.398859024048,"wires":[["6172168b.76bcd8","d464ac06.d98b4"]]},{"id":"5c97dbf6.3f2294","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2511.45654296875,"y":2721.43408203125,"wires":[["d2033e54.79353","60c048f6.9292a8"]]},{"id":"ee332954.4d4208","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2785.742198944092,"y":2924.2911410331726,"wires":[]},{"id":"8867d722.2a8368","type":"http response","z":"6827c201.44d26c","name":"","x":2787.2341861724854,"y":2993.5289163589478,"wires":[]},{"id":"c3b7e99a.031378","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2598.6627807617188,"y":2994.1640481948853,"wires":[["8867d722.2a8368"]]},{"id":"b0fa800a.70074","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2569.0718841552734,"y":2919.919725418091,"wires":[["c3b7e99a.031378","ee332954.4d4208"]]},{"id":"9feed88f.c979c8","type":"inject","z":"4e43cc07.6e3564","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":148,"y":43,"wires":[["467d1d8a.85ba54"]]},{"id":"467d1d8a.85ba54","type":"function","z":"4e43cc07.6e3564","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":389.4327621459961,"y":95.29520416259766,"wires":[["332df4b8.ed7c1c"]]},{"id":"1e980cf3.dd7bc3","type":"http in","z":"4e43cc07.6e3564","name":"","url":"/k1/status/data","method":"get","swaggerDoc":"","x":135,"y":120.75396156311035,"wires":[["467d1d8a.85ba54"]]},{"id":"332df4b8.ed7c1c","type":"function","z":"4e43cc07.6e3564","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":273.4167289733887,"y":184.11112022399902,"wires":[["f5de123e.0b28a"]]},{"id":"f5de123e.0b28a","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":484.26999282836914,"y":183.19844913482666,"wires":[["e09211c7.218ea"],[]]},{"id":"e09211c7.218ea","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":665.3612251281738,"y":181.86668395996094,"wires":[["b0703072.b833f"]]},{"id":"b0703072.b833f","type":"function","z":"4e43cc07.6e3564","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":244.28574752807617,"y":227.24208450317383,"wires":[["78e30f72.0683e"]]},{"id":"78e30f72.0683e","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":442.3452568054199,"y":228.33733558654785,"wires":[["c4de9c06.243d"],[]]},{"id":"c4de9c06.243d","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":632.504077911377,"y":227.58097314834595,"wires":[["cf7c04ff.c18ca8"]]},{"id":"cf7c04ff.c18ca8","type":"function","z":"4e43cc07.6e3564","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":250.10719680786133,"y":276.5635356903076,"wires":[["384a6a5f.9930e6"]]},{"id":"384a6a5f.9930e6","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":454.38879013061523,"y":273.49606800079346,"wires":[["fd47ecae.d0cf9"],[]]},{"id":"fd47ecae.d0cf9","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":658.3691520690918,"y":269.36109733581543,"wires":[["20b4414a.81830e"]]},{"id":"20b4414a.81830e","type":"function","z":"4e43cc07.6e3564","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":250.1429328918457,"y":321.31351375579834,"wires":[["97b19712.708468"]]},{"id":"97b19712.708468","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":461.8888359069824,"y":321.7103691101074,"wires":[["7b36b613.867fd8"],[]]},{"id":"7b36b613.867fd8","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":662.1907997131348,"y":314.83735179901123,"wires":[["3c38534f.e946ec"]]},{"id":"3c38534f.e946ec","type":"function","z":"4e43cc07.6e3564","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":249.79770278930664,"y":367.39678382873535,"wires":[["d688460.4bf73b8"]]},{"id":"d688460.4bf73b8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":458.5475730895996,"y":368.1110734939575,"wires":[["99a8aab2.d320b8"],[]]},{"id":"99a8aab2.d320b8","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":665.9924049377441,"y":362.6666069030762,"wires":[["c08e8bb3.dcb9c8"]]},{"id":"c08e8bb3.dcb9c8","type":"function","z":"4e43cc07.6e3564","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":256.4047431945801,"y":409.53964042663574,"wires":[["cb5aa9a8.dd2838"]]},{"id":"cb5aa9a8.dd2838","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":459.8527641296387,"y":411.5912809371948,"wires":[["47e49787.fe1418"],[]]},{"id":"47e49787.fe1418","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":654.4403762817383,"y":407.5753631591797,"wires":[["c4c83d92.52aa2"]]},{"id":"c4c83d92.52aa2","type":"function","z":"4e43cc07.6e3564","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":255.15472030639648,"y":453.6467704772949,"wires":[["5a97204a.4244a"]]},{"id":"5a97204a.4244a","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":457.70989990234375,"y":462.84127616882324,"wires":[["fc9f4f3.cfa10b"],[]]},{"id":"fc9f4f3.cfa10b","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":663.7261085510254,"y":447.3967704772949,"wires":[["c28bd9e8.e2f958"]]},{"id":"c28bd9e8.e2f958","type":"function","z":"4e43cc07.6e3564","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":242.65473556518555,"y":497.9325270652771,"wires":[["631b6394.76951c"]]},{"id":"631b6394.76951c","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":457.1742286682129,"y":509.8055534362793,"wires":[["3d0ce143.ca524e"],[]]},{"id":"3d0ce143.ca524e","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":661.7618217468262,"y":498.6468086242676,"wires":[["f08eb0e9.27876"]]},{"id":"f08eb0e9.27876","type":"function","z":"4e43cc07.6e3564","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":234.97612380981445,"y":549.7183437347412,"wires":[["1872f145.9c453f"]]},{"id":"1872f145.9c453f","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":465.0313606262207,"y":554.0912628173828,"wires":[["976c76cd.6182f8"],[]]},{"id":"976c76cd.6182f8","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":665.333251953125,"y":547.2182159423828,"wires":[["f1a458cd.2d6e98"]]},{"id":"f1a458cd.2d6e98","type":"function","z":"4e43cc07.6e3564","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":235.53573989868164,"y":598.9206600189209,"wires":[["d61dd4ce.c58218"]]},{"id":"d61dd4ce.c58218","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":460.2817268371582,"y":606.1746692657471,"wires":[["85103f42.3d24a"],[]]},{"id":"85103f42.3d24a","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":664.4403762817383,"y":601.9801254272461,"wires":[["fb33d169.19f46"]]},{"id":"fb33d169.19f46","type":"function","z":"4e43cc07.6e3564","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":232.45247268676758,"y":646.5276565551758,"wires":[["60828437.99d6fc"]]},{"id":"60828437.99d6fc","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":459.77377700805664,"y":657.2419247627258,"wires":[["f22c28e0.098118"],[]]},{"id":"f22c28e0.098118","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":664.3614654541016,"y":651.7974863052368,"wires":[["fc43b2d7.e30dc"]]},{"id":"fc43b2d7.e30dc","type":"function","z":"4e43cc07.6e3564","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":226.2023048400879,"y":698.6704959869385,"wires":[["2e7573be.bad96c"]]},{"id":"2e7573be.bad96c","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":473.9360580444336,"y":707.8649759292603,"wires":[["4ea161c2.aee92"],[]]},{"id":"4ea161c2.aee92","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":651.3808708190918,"y":706.7062015533447,"wires":[["a23178ef.7f3908"]]},{"id":"a23178ef.7f3908","type":"function","z":"4e43cc07.6e3564","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":220.66658401489258,"y":738.491925239563,"wires":[["9513bb85.3bd1a8"]]},{"id":"9513bb85.3bd1a8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":474.65031814575195,"y":754.8292617797852,"wires":[["f6228818.d69118"],[]]},{"id":"f6228818.d69118","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":662.0951652526855,"y":755.0990943908691,"wires":[["c53bfdd1.3059c"]]},{"id":"c53bfdd1.3059c","type":"function","z":"4e43cc07.6e3564","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":216.73804092407227,"y":791.3491744995117,"wires":[["fbf30e9b.ebab4"]]},{"id":"fbf30e9b.ebab4","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":471.2574577331543,"y":804.6507892608643,"wires":[["3596ba05.69ce96"],[]]},{"id":"3596ba05.69ce96","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":667.273754119873,"y":804.9206047058105,"wires":[["b0dc3930.011278"]]},{"id":"b0dc3930.011278","type":"function","z":"4e43cc07.6e3564","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":209.05946731567383,"y":857.4206800460815,"wires":[["3d9331a4.0cf5ee"]]},{"id":"3d9331a4.0cf5ee","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":470.54319763183594,"y":858.9365119934082,"wires":[["cbdc207e.654e"],[]]},{"id":"cbdc207e.654e","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":686.5594844818115,"y":854.9205780029297,"wires":[["e8b4d30d.dcb79"]]},{"id":"e8b4d30d.dcb79","type":"function","z":"4e43cc07.6e3564","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":209.61903762817383,"y":906.6229782104492,"wires":[["4f312d63.a3f324"]]},{"id":"4f312d63.a3f324","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":462.9364433288574,"y":905.305585861206,"wires":[["e59462f6.749be"],[]]},{"id":"e59462f6.749be","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":678.5237617492676,"y":908.253927230835,"wires":[["ae0459af.df5cf8"]]},{"id":"ae0459af.df5cf8","type":"function","z":"4e43cc07.6e3564","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":195.36122512817383,"y":947.580997467041,"wires":[["87d4f77b.c83818"]]},{"id":"87d4f77b.c83818","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":464.78588485717773,"y":953.811182975769,"wires":[["37dc770f.76b0b8"],[]]},{"id":"37dc770f.76b0b8","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":673.0200080871582,"y":951.0508899688721,"wires":[["d409074d.4ba8a8"]]},{"id":"d409074d.4ba8a8","type":"function","z":"4e43cc07.6e3564","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":185.36124801635742,"y":997.5809688568115,"wires":[["f8913e48.ae80e"]]},{"id":"f8913e48.ae80e","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":464.7859001159668,"y":1012.3825988769531,"wires":[["603d1fb1.678e6"],[]]},{"id":"603d1fb1.678e6","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":670.1628837585449,"y":1002.4793891906738,"wires":[["767c05ea.377f8c"]]},{"id":"767c05ea.377f8c","type":"function","z":"4e43cc07.6e3564","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":176.78981399536133,"y":1053.2952346801758,"wires":[["b5d8ad35.f521"]]},{"id":"b5d8ad35.f521","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":464.7859001159668,"y":1070.9539833068848,"wires":[["95f4979c.2bbe78"],[]]},{"id":"95f4979c.2bbe78","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":678.7343254089355,"y":1063.9079055786133,"wires":[["b3f6b8a4.830bd8"]]},{"id":"b3f6b8a4.830bd8","type":"function","z":"4e43cc07.6e3564","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":185.36125564575195,"y":1109.0096254348755,"wires":[["4860262d.b8b238"]]},{"id":"4860262d.b8b238","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":470.5002555847168,"y":1109.5255165100098,"wires":[["e0785a4b.1efe48"],[]]},{"id":"e0785a4b.1efe48","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":668.7342414855957,"y":1106.7651538848877,"wires":[["54406786.67a2d8"]]},{"id":"54406786.67a2d8","type":"function","z":"4e43cc07.6e3564","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":173.93268203735352,"y":1171.8666324615479,"wires":[["b28f248b.0810f8"]]},{"id":"b28f248b.0810f8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":477.64307022094727,"y":1180.9539699554443,"wires":[["e7fc16d4.806398"],[]]},{"id":"e7fc16d4.806398","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":675.8771018981934,"y":1165.3365173339844,"wires":[["f1dfde78.68a62"]]},{"id":"f1dfde78.68a62","type":"function","z":"4e43cc07.6e3564","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":179.6469612121582,"y":1240.4382305145264,"wires":[["748b74d6.705b6c"]]},{"id":"748b74d6.705b6c","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":456.21447372436523,"y":1252.3825721740723,"wires":[["782a1ddc.e3d4c4"],[]]},{"id":"782a1ddc.e3d4c4","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":664.4485816955566,"y":1236.7652225494385,"wires":[["27cf833f.41254c"]]},{"id":"27cf833f.41254c","type":"function","z":"4e43cc07.6e3564","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":168.21840286254883,"y":1291.8666276931763,"wires":[["d88aa622.9fc4b8"]]},{"id":"d88aa622.9fc4b8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":456.21446228027344,"y":1302.3826532363892,"wires":[["cddc5ff5.f541c"],[]]},{"id":"cddc5ff5.f541c","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":658.7343139648438,"y":1293.907904624939,"wires":[["8f4dd7cd.185058"]]},{"id":"8f4dd7cd.185058","type":"function","z":"4e43cc07.6e3564","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":169.64695358276367,"y":1340.4381694793701,"wires":[["5acffcbf.f66aa4"]]},{"id":"5acffcbf.f66aa4","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":460.500186920166,"y":1350.9539737701416,"wires":[["55ed2aec.eaa154"],[]]},{"id":"55ed2aec.eaa154","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":663.0200157165527,"y":1343.9078302383423,"wires":[["8d33f91f.3d57f8"]]},{"id":"8d33f91f.3d57f8","type":"function","z":"4e43cc07.6e3564","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":162.50410842895508,"y":1406.1525592803955,"wires":[["57eaf9c8.bd2828"]]},{"id":"57eaf9c8.bd2828","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":474.78594970703125,"y":1399.5255756378174,"wires":[["67eba996.d7ef98"],[]]},{"id":"67eba996.d7ef98","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":677.3056945800781,"y":1391.0507564544678,"wires":[["7f02cdb0.f98c04"]]},{"id":"7f02cdb0.f98c04","type":"function","z":"4e43cc07.6e3564","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":165.36124801635742,"y":1460.4380207061768,"wires":[["5cae7182.f3cac"]]},{"id":"5cae7182.f3cac","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":469.07166290283203,"y":1452.3826704025269,"wires":[["844f6740.4fa2e8"],[]]},{"id":"844f6740.4fa2e8","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":703.0199546813965,"y":1448.1935844421387,"wires":[["74a39969.a67a68"]]},{"id":"74a39969.a67a68","type":"function","z":"4e43cc07.6e3564","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":182.86120986938477,"y":1521.8666505813599,"wires":[["2b89474b.544f08"]]},{"id":"2b89474b.544f08","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":476.19467544555664,"y":1508.533543586731,"wires":[["d724ee42.ed818"],[]]},{"id":"d724ee42.ed818","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":708.5755043029785,"y":1509.0095949172974,"wires":[["dacc9161.f2d72"]]},{"id":"dacc9161.f2d72","type":"function","z":"4e43cc07.6e3564","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":183.41694259643555,"y":1571.3111944198608,"wires":[["18e1275f.922939"]]},{"id":"18e1275f.922939","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":495.63897705078125,"y":1582.4222965240479,"wires":[["135d67f9.8ba688"],[]]},{"id":"135d67f9.8ba688","type":"function","z":"4e43cc07.6e3564","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":705.7183570861816,"y":1579.0096292495728,"wires":[["27e91867.1ae768"]]},{"id":"27e91867.1ae768","type":"function","z":"4e43cc07.6e3564","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":168.4169921875,"y":1626.3111562728882,"wires":[["1491b002.e81bd"]]},{"id":"1491b002.e81bd","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":492.30580139160156,"y":1624.0889263153076,"wires":[["808c84b2.69c298"],[]]},{"id":"808c84b2.69c298","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":710.004093170166,"y":1629.0095949172974,"wires":[["991919a8.d5d178"]]},{"id":"991919a8.d5d178","type":"function","z":"4e43cc07.6e3564","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":180.08353424072266,"y":1674.6444311141968,"wires":[["16717c0d.1877c4"]]},{"id":"16717c0d.1877c4","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":482.3057174682617,"y":1667.4222421646118,"wires":[["3862497e.f03ba6"],[]]},{"id":"3862497e.f03ba6","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":712.8612098693848,"y":1684.7239503860474,"wires":[["d3c46b68.d2ddb8"]]},{"id":"d3c46b68.d2ddb8","type":"function","z":"4e43cc07.6e3564","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":185.08349227905273,"y":1729.644513130188,"wires":[["2839d958.7b23c6"]]},{"id":"2839d958.7b23c6","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":483.9723815917969,"y":1722.4222650527954,"wires":[["120c4989.eef166"],[]]},{"id":"120c4989.eef166","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":718.5755043029785,"y":1729.0097389221191,"wires":[["95030969.10bed8"]]},{"id":"95030969.10bed8","type":"function","z":"4e43cc07.6e3564","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":143.71638870239258,"y":1778.5377006530762,"wires":[["d4b760a6.fa93"]]},{"id":"d4b760a6.fa93","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":477.0497589111328,"y":1780.204348564148,"wires":[["6ff8515b.1b8cd"],[]]},{"id":"6ff8515b.1b8cd","type":"function","z":"4e43cc07.6e3564","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":650.0041160583496,"y":1777.5809364318848,"wires":[["33002289.90b2de"]]},{"id":"33002289.90b2de","type":"function","z":"4e43cc07.6e3564","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":786.3495407104492,"y":1779.1165599822998,"wires":[["b4337de1.1f1e3","905ea7a2.f06208"]]},{"id":"b4337de1.1f1e3","type":"http response","z":"4e43cc07.6e3564","name":"","x":957.7067031860352,"y":1741.3905839920044,"wires":[]},{"id":"905ea7a2.f06208","type":"debug","z":"4e43cc07.6e3564","name":"","active":true,"console":"false","complete":"payload","x":976.694953918457,"y":1778.0213298797607,"wires":[]},{"id":"795fa24a.2d7e4c","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3456.66650390625,"y":919.9999389648438,"wires":[["ad5091a5.e1221"],[]]},{"id":"fe30bae2.888b68","type":"function","z":"6827c201.44d26c","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3284.047409057617,"y":922.6190519332886,"wires":[["795fa24a.2d7e4c"]]},{"id":"ad5091a5.e1221","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3677.8572425842285,"y":905.9525289535522,"wires":[["405f7a9b.522954"]]},{"id":"bd0d8417.7be5f8","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3092.142936706543,"y":923.5714130401611,"wires":[["fe30bae2.888b68"]]},{"id":"405f7a9b.522954","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3864.4912643432617,"y":894.5237684249878,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e67a5eaa.91833"]]},{"id":"92b0307.ad020d","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2875.3643646240234,"y":872.3809976577759,"wires":[["bd0d8417.7be5f8"]]},{"id":"44ca94f7.24911c","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/StatusKlapan","method":"get","swaggerDoc":"","x":2839.729393005371,"y":924.7619390487671,"wires":[["bd0d8417.7be5f8"]]},{"id":"e67a5eaa.91833","type":"function","z":"6827c201.44d26c","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3102.1426544189453,"y":1044.5238466262817,"wires":[["b0bf61d4.49571"]]},{"id":"b0bf61d4.49571","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3313.095016479492,"y":1057.3808221817017,"wires":[["c7dbb807.7a5478"],[]]},{"id":"c7dbb807.7a5478","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3582.856922149658,"y":1037.3809213638306,"wires":[["ba0ffeba.ea472"]]},{"id":"ba0ffeba.ea472","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4006.3961067199707,"y":1024.7617826461792,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e6348fe6.2e0c"],[]]},{"id":"e6348fe6.2e0c","type":"function","z":"6827c201.44d26c","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3014.9676208496094,"y":1147.3809356689453,"wires":[["a69e42e9.6ae04"]]},{"id":"a69e42e9.6ae04","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3219.2531204223633,"y":1144.5238275527954,"wires":[["d95381b3.0f3ff"],[]]},{"id":"d95381b3.0f3ff","type":"function","z":"6827c201.44d26c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3400.681800842285,"y":1138.8096332550049,"wires":[["5b8b0a8f.3e9124"]]},{"id":"5b8b0a8f.3e9124","type":"function","z":"6827c201.44d26c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":3581.3129959106445,"y":1143.2024731636047,"wires":[["5f0d2fc1.84e64","ff412e15.d460f"]]},{"id":"5f0d2fc1.84e64","type":"http response","z":"6827c201.44d26c","name":"","x":3839.8128776550293,"y":1178.3334970474243,"wires":[]},{"id":"ff412e15.d460f","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":3858.801128387451,"y":1214.9642429351807,"wires":[]},{"id":"59c12094.c7998","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2882.189743041992,"y":416.6666884422302,"wires":[["83abd221.16f5d"]]},{"id":"83abd221.16f5d","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3098.9683151245117,"y":467.8571038246155,"wires":[["410b47b3.e45d38"]]},{"id":"410b47b3.e45d38","type":"function","z":"6827c201.44d26c","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3280.872787475586,"y":466.9047427177429,"wires":[["559f8f65.b8e77"]]},{"id":"f0739ae2.0d7e38","type":"function","z":"6827c201.44d26c","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3198.9680366516113,"y":565.4761652946472,"wires":[["e6a8fd3.71ceb"]]},{"id":"559f8f65.b8e77","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3463.4918823242188,"y":464.2856297492981,"wires":[["1b487135.0b37df"],[]]},{"id":"e6a8fd3.71ceb","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3453.253650665283,"y":568.3332505226135,"wires":[["e69e43c3.c104"],[]]},{"id":"1b487135.0b37df","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3664.6825790405273,"y":465.2382140159607,"wires":[["e42573b5.5d82d"]]},{"id":"e69e43c3.c104","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3656.3488750457764,"y":563.3332333564758,"wires":[["45d658c.67a9da8"]]},{"id":"e42573b5.5d82d","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3837.9833602905273,"y":360.47612142562866,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f0739ae2.0d7e38"]]},{"id":"45d658c.67a9da8","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3999.8881225585938,"y":519.04749584198,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["7bd212af.30dd8c"],[],[]]},{"id":"7bd212af.30dd8c","type":"function","z":"6827c201.44d26c","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3115.126289367676,"y":649.9998960494995,"wires":[["71b186d1.900b08"]]},{"id":"71b186d1.900b08","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3311.0784606933594,"y":658.8094234466553,"wires":[["cf38fd25.73fb7"],[]]},{"id":"cf38fd25.73fb7","type":"function","z":"6827c201.44d26c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3512.5072021484375,"y":659.7619752883911,"wires":[["9f7d3674.c8da48"]]},{"id":"9f7d3674.c8da48","type":"function","z":"6827c201.44d26c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":3646.4717407226562,"y":662.4880800247192,"wires":[["c4ea159e.951568","967c0729.790fe8"]]},{"id":"c4ea159e.951568","type":"http response","z":"6827c201.44d26c","name":"","x":3803.3049125671387,"y":662.6190395355225,"wires":[]},{"id":"967c0729.790fe8","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":3837.293197631836,"y":710.916522026062,"wires":[]},{"id":"7674aac2.ca3df4","type":"http in","z":"6827c201.44d26c","name":"","url":"/k1/StatusPump","method":"get","swaggerDoc":"","x":2836.55477142334,"y":469.04762983322144,"wires":[["83abd221.16f5d"]]},{"id":"67bcb827.1cce28","type":"http in","z":"a3ec1c26.65c37","name":"","url":"/status/all_system_1_2_3","method":"get","swaggerDoc":"","x":165,"y":52.85717010498047,"wires":[["fc70d303.09fde"]]},{"id":"17a11005.005af","type":"inject","z":"a3ec1c26.65c37","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":220.2063751220703,"y":106.76188850402832,"wires":[["fc70d303.09fde"]]},{"id":"e09516f5.e936a8","type":"function","z":"a3ec1c26.65c37","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":532.8897094726562,"y":105.95242500305176,"wires":[["c0a063d4.3ec42"]]},{"id":"82d9fe4b.1cfae","type":"function","z":"a3ec1c26.65c37","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":916.282958984375,"y":2935.833737373352,"wires":[["aa9141f3.0cd56"]]},{"id":"aa9141f3.0cd56","type":"function","z":"a3ec1c26.65c37","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\nvar k1 = msg.payload;\nflow.set('k1',k1);\nreturn msg;","outputs":1,"noerr":0,"x":1052.6283836364746,"y":2937.369360923767,"wires":[["238bec1e.7a2904"]]},{"id":"95fb27d8.32dae8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":767.3335723876953,"y":263.9167766571045,"wires":[["c026284f.a6fd58"],[]]},{"id":"7a937b71.be3ba4","type":"function","z":"a3ec1c26.65c37","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":559.7144203186035,"y":261.5358762741089,"wires":[["95fb27d8.32dae8"]]},{"id":"c026284f.a6fd58","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":996.0242233276367,"y":257.3693323135376,"wires":[["851f029e.423d6"]]},{"id":"851f029e.423d6","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1177.6581497192383,"y":334.6905765533447,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["72748819.a23a28"]]},{"id":"72748819.a23a28","type":"function","z":"a3ec1c26.65c37","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":529.8928146362305,"y":353.85735511779785,"wires":[["5b6f61ae.3980c"]]},{"id":"5b6f61ae.3980c","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":748.3452224731445,"y":357.96437072753906,"wires":[["34bb689a.eda8a8"],[]]},{"id":"34bb689a.eda8a8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":994.3571624755859,"y":354.2144498825073,"wires":[["ebfde99b.42eb08"]]},{"id":"ebfde99b.42eb08","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1381.229679107666,"y":378.26194763183594,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8fc13f3b.d2f1e"],[]]},{"id":"c0a063d4.3ec42","type":"function","z":"a3ec1c26.65c37","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":696.8967895507812,"y":104.51200866699219,"wires":[["2a5f5579.1558da"]]},{"id":"27030b4b.ec9d34","type":"function","z":"a3ec1c26.65c37","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":679.9921417236328,"y":175.58349990844727,"wires":[["c68bf387.c0adb"]]},{"id":"2a5f5579.1558da","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":892.0159454345703,"y":101.89288806915283,"wires":[["b4953913.2e91d8"],[]]},{"id":"c68bf387.c0adb","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":886.777660369873,"y":175.94053840637207,"wires":[["f9a55b37.394078"],[]]},{"id":"b4953913.2e91d8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.2065734863281,"y":99.09546375274658,"wires":[["3d0f51f7.059e0e"]]},{"id":"f9a55b37.394078","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1071.122917175293,"y":180.94051837921143,"wires":[["2c144fd2.30cdc"]]},{"id":"3d0f51f7.059e0e","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1344.8408737182617,"y":125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["27030b4b.ec9d34"]]},{"id":"2c144fd2.30cdc","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1503.8289260864258,"y":165.40474700927734,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["7a937b71.be3ba4"],[],[]]},{"id":"f9cf8d68.00a88","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":595.8333778381348,"y":962.0833292007446,"wires":[["c267ea94.108208"]]},{"id":"c267ea94.108208","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":829.2857856750488,"y":962.4402465820312,"wires":[["72606aa6.d0efe4"],[]]},{"id":"72606aa6.d0efe4","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1030.297779083252,"y":966.190408706665,"wires":[["5f893ac1.275944"]]},{"id":"b7839d91.2bef8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":792.5003204345703,"y":1610.4171524047852,"wires":[["7b704c04.0f3814"],[]]},{"id":"8309a304.73f91","type":"function","z":"a3ec1c26.65c37","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":500.0003318786621,"y":1617.9171714782715,"wires":[["b7839d91.2bef8"]]},{"id":"7b704c04.0f3814","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":987.5003967285156,"y":1612.91721534729,"wires":[["210385f9.57dc6a"]]},{"id":"c55f92d.eeaf27","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":790.0002632141113,"y":1672.917091369629,"wires":[["daca798c.32e248"],[]]},{"id":"210385f9.57dc6a","type":"function","z":"a3ec1c26.65c37","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":522.5002517700195,"y":1672.917091369629,"wires":[["c55f92d.eeaf27"]]},{"id":"daca798c.32e248","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":985.0003395080566,"y":1675.4171543121338,"wires":[["454c04af.e031fc"]]},{"id":"21bc0d73.13c512","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1000.0002632141113,"y":1744.167091369629,"wires":[["2b54a037.15299"]]},{"id":"4ae1d403.2af43c","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":798.9882698059082,"y":1740.4169292449951,"wires":[["21bc0d73.13c512"],[]]},{"id":"454c04af.e031fc","type":"function","z":"a3ec1c26.65c37","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":529.2858924865723,"y":1733.8100852966309,"wires":[["4ae1d403.2af43c"]]},{"id":"3c8824d.9c405dc","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1002.5002632141113,"y":1813.7504043579102,"wires":[["63f0a26b.683b0c"]]},{"id":"2b403215.74d87e","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":801.4882698059082,"y":1810.0002422332764,"wires":[["3c8824d.9c405dc"],[]]},{"id":"2b54a037.15299","type":"function","z":"a3ec1c26.65c37","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":528.7503318786621,"y":1803.7504377365112,"wires":[["2b403215.74d87e"]]},{"id":"105f9b45.cb6d15","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1000.0002632141113,"y":1880.8337173461914,"wires":[["6c747da9.2b77f4"]]},{"id":"b7cea435.a24768","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":798.9882698059082,"y":1877.0835552215576,"wires":[["105f9b45.cb6d15"],[]]},{"id":"63f0a26b.683b0c","type":"function","z":"a3ec1c26.65c37","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":506.2503318786621,"y":1865.8337154388428,"wires":[["b7cea435.a24768"]]},{"id":"5581e778.175388","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1080.0002136230469,"y":2005.08371925354,"wires":[["eaedc2d9.fae25"]]},{"id":"d91ed87b.0a7e68","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":876.4881820678711,"y":2009.8333530426025,"wires":[["5581e778.175388"],[]]},{"id":"3e92b609.ff5bfa","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":591.500244140625,"y":2019.333475112915,"wires":[["d91ed87b.0a7e68"]]},{"id":"5467d242.ed38ec","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1045.833641052246,"y":2317.917074203491,"wires":[["1ed7177c.0e0de9"]]},{"id":"60789ff1.cd0f7","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":832.0835647583008,"y":2316.667025566101,"wires":[["5467d242.ed38ec"],[]]},{"id":"bd96ffe5.443b6","type":"function","z":"a3ec1c26.65c37","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.095630645752,"y":2321.6675128936768,"wires":[["60789ff1.cd0f7"]]},{"id":"789d7008.7551d","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1039.5835647583008,"y":2379.167025566101,"wires":[["d5a807e5.d33698"]]},{"id":"d92ea135.544ab","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":825.8334884643555,"y":2377.916976928711,"wires":[["789d7008.7551d"],[]]},{"id":"1ed7177c.0e0de9","type":"function","z":"a3ec1c26.65c37","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":563.0955200195312,"y":2376.667187690735,"wires":[["d92ea135.544ab"]]},{"id":"5dc175ce.0a638c","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1019.5835647583008,"y":2455.000277519226,"wires":[["209ca890.678aa8"]]},{"id":"20a28bfd.fb6344","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":805.8334884643555,"y":2453.750228881836,"wires":[["5dc175ce.0a638c"],[]]},{"id":"d5a807e5.d33698","type":"function","z":"a3ec1c26.65c37","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.0955200195312,"y":2452.50043964386,"wires":[["20a28bfd.fb6344"]]},{"id":"1781b946.72a3d7","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1012.0835647583008,"y":2525.8336515426636,"wires":[["1d7f0b44.0e3e65"]]},{"id":"847aeb2a.d56b78","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":798.3334884643555,"y":2524.5836029052734,"wires":[["1781b946.72a3d7"],[]]},{"id":"209ca890.678aa8","type":"function","z":"a3ec1c26.65c37","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":525.5955200195312,"y":2523.3338136672974,"wires":[["847aeb2a.d56b78"]]},{"id":"2905d7f2.d5aec8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":787.0834884643555,"y":2590.4168548583984,"wires":[["f3baa47f.1f7998"],[]]},{"id":"1d7f0b44.0e3e65","type":"function","z":"a3ec1c26.65c37","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":514.583610534668,"y":2589.166850090027,"wires":[["2905d7f2.d5aec8"]]},{"id":"f3baa47f.1f7998","type":"function","z":"a3ec1c26.65c37","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1015.8336334228516,"y":2586.6668577194214,"wires":[["e9cd5f02.289ea"]]},{"id":"d6ca6e4d.130fa","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":814.5835647583008,"y":2674.1669034957886,"wires":[["bc517a.8991ae88"],[]]},{"id":"e9cd5f02.289ea","type":"function","z":"a3ec1c26.65c37","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.0836868286133,"y":2672.916898727417,"wires":[["d6ca6e4d.130fa"]]},{"id":"74dce6cc.b03f98","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1005.8335647583008,"y":2749.1669034957886,"wires":[["3230baa.66eec46"]]},{"id":"bc517a.8991ae88","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1025.8335647583008,"y":2673.3336515426636,"wires":[["c4ec264.c8f65d8"]]},{"id":"64f6e26e.519f1c","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":794.5835647583008,"y":2745.4169034957886,"wires":[["74dce6cc.b03f98"],[]]},{"id":"c4ec264.c8f65d8","type":"function","z":"a3ec1c26.65c37","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":492.0836868286133,"y":2744.166898727417,"wires":[["64f6e26e.519f1c"]]},{"id":"3ff49f2f.81ecf","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":748.3335647583008,"y":2823.3336515426636,"wires":[["28e38131.33858e"],[]]},{"id":"3230baa.66eec46","type":"function","z":"a3ec1c26.65c37","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":445.8336868286133,"y":2822.083646774292,"wires":[["3ff49f2f.81ecf"]]},{"id":"ce89fa8b.f35728","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":709.5835647583008,"y":2914.5836515426636,"wires":[["82d9fe4b.1cfae"],[]]},{"id":"c834cbea.feda18","type":"function","z":"a3ec1c26.65c37","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":407.0836868286133,"y":2913.333646774292,"wires":[["ce89fa8b.f35728"]]},{"id":"28e38131.33858e","type":"function","z":"a3ec1c26.65c37","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":985.8337135314941,"y":2821.666869163513,"wires":[["c834cbea.feda18"]]},{"id":"98e3205a.d308b","type":"switch","z":"c71237bc.072448","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"}],"checkall":"true","outputs":6,"x":273.4286308288574,"y":126.03928756713867,"wires":[["4727d62a.ede688"],["758607ba.1c24c8"],["79be2198.db458"],["a54803e1.4a45a"],["ea724f69.e419d"],["e815c951.9a0b88"]]},{"id":"5a847303.67cc0c","type":"join","z":"c71237bc.072448","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"","timeout":"0.5","count":"6","x":1065.5360832214355,"y":206.43201637268066,"wires":[["cac2c1e8.df097","ac7a4dbb.e505e"]]},{"id":"c8f0e413.6c4888","type":"inject","z":"c71237bc.072448","name":"","topic":"","payload":"5","payloadType":"num","repeat":"","crontab":"","once":true,"x":92.60708236694336,"y":89.54026985168457,"wires":[["98e3205a.d308b"]]},{"id":"f4738311.29f74","type":"debug","z":"c71237bc.072448","name":"","active":true,"console":"false","complete":"payload","x":1363.9999160766602,"y":201.03911685943604,"wires":[]},{"id":"4727d62a.ede688","type":"function","z":"c71237bc.072448","name":"83 201","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":1,"noerr":0,"x":536.1429061889648,"y":84.00005149841309,"wires":[["b905e918.2323e8"]]},{"id":"758607ba.1c24c8","type":"function","z":"c71237bc.072448","name":"83 202","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":530.9047584533691,"y":135.8253951072693,"wires":[["19c3ec5c.d90834"]]},{"id":"b905e918.2323e8","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc1","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":701.6192321777344,"y":64.23813247680664,"wires":[["baa910b7.1167b"],[]]},{"id":"19c3ec5c.d90834","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc2","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":701.380973815918,"y":122.57144165039062,"wires":[["7c307c48.a1fb84"],[]]},{"id":"baa910b7.1167b","type":"function","z":"c71237bc.072448","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nvar plc1 = msg.payload; \nflow.set('plc1',plc1);\nreturn msg;","outputs":1,"noerr":0,"x":869.9528884887695,"y":59.47624683380127,"wires":[["5a847303.67cc0c"]]},{"id":"7c307c48.a1fb84","type":"function","z":"c71237bc.072448","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nvar plc2 = msg.payload; \nflow.set('plc2',plc2);\nreturn msg;","outputs":1,"noerr":0,"x":860.3488006591797,"y":121.52382469177246,"wires":[["5a847303.67cc0c"]]},{"id":"cac2c1e8.df097","type":"function","z":"c71237bc.072448","name":"","func":"msg.payload = {\n    \"time1\":flow.get('plc1'),\n    \"time2\":flow.get('plc2'),\n    \"time3\":flow.get('plc3'),\n    \"time4\":flow.get('plc4'),\n    \"time5\":flow.get('plc5'),\n    \"time6\":flow.get('plc6')\n};\nreturn msg;","outputs":1,"noerr":0,"x":1213.1668968200684,"y":203.33336639404297,"wires":[["f4738311.29f74","14e6d015.41e68"]]},{"id":"ac7a4dbb.e505e","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1237.5002365112305,"y":297.6667022705078,"wires":[]},{"id":"79be2198.db458","type":"function","z":"c71237bc.072448","name":"83 203","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":530.0000419616699,"y":187.71429061889648,"wires":[["599f0cb2.20c304"]]},{"id":"a54803e1.4a45a","type":"function","z":"c71237bc.072448","name":"83 204","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":524.2857284545898,"y":232.0000457763672,"wires":[["d6da3554.26add8"]]},{"id":"d6da3554.26add8","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc4","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":691.4286727905273,"y":240.5714693069458,"wires":[["a43d44ae.e6b008"],[]]},{"id":"ea724f69.e419d","type":"function","z":"c71237bc.072448","name":"83 205","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":521.4285888671875,"y":281.9999589920044,"wires":[["2b9c87f4.993188"]]},{"id":"2b9c87f4.993188","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc5","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":690.0000915527344,"y":291.99999237060547,"wires":[["aa991082.c87a5"],[]]},{"id":"e815c951.9a0b88","type":"function","z":"c71237bc.072448","name":"83 206","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":501.42861557006836,"y":331.9999885559082,"wires":[["34e89526.f8bc0a"]]},{"id":"34e89526.f8bc0a","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc6","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":688.5715713500977,"y":354.8571376800537,"wires":[["9c239b15.5c4b68"],[]]},{"id":"a43d44ae.e6b008","type":"function","z":"c71237bc.072448","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nvar plc4 = msg.payload; \nflow.set('plc4',plc4);\nreturn msg;","outputs":1,"noerr":0,"x":869.5238494873047,"y":235.80953979492188,"wires":[["5a847303.67cc0c"]]},{"id":"aa991082.c87a5","type":"function","z":"c71237bc.072448","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nvar plc5 = msg.payload; \nflow.set('plc5',plc5);\nreturn msg;","outputs":1,"noerr":0,"x":860.9524383544922,"y":305.8095397949219,"wires":[["5a847303.67cc0c"]]},{"id":"9c239b15.5c4b68","type":"function","z":"c71237bc.072448","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nvar plc6 = msg.payload; \nflow.set('plc6', plc6);\nreturn msg;","outputs":1,"noerr":0,"x":866.6667327880859,"y":351.5238342285156,"wires":[["5a847303.67cc0c"]]},{"id":"599f0cb2.20c304","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc3","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":698.5714492797852,"y":184.85715866088867,"wires":[["986e79d.0524288"],[]]},{"id":"986e79d.0524288","type":"function","z":"c71237bc.072448","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nvar plc3 = msg.payload; \nflow.set('plc3',plc3);\nreturn msg;","outputs":1,"noerr":0,"x":860.9524383544922,"y":187.23809814453125,"wires":[["5a847303.67cc0c"]]},{"id":"69593eb6.3b727","type":"function","z":"c71237bc.072448","name":"83 201","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":1,"noerr":0,"x":540.3809623718262,"y":711.5238742828369,"wires":[["b85cd75a.7d46f8"]]},{"id":"3a50e9fb.5affb6","type":"function","z":"c71237bc.072448","name":"83 202","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":539.9046783447266,"y":751.2857055664062,"wires":[["be90508d.9edde"]]},{"id":"b85cd75a.7d46f8","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc1","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":724.4287147521973,"y":697.4762840270996,"wires":[["bec02c7b.a5dfc"],[]]},{"id":"be90508d.9edde","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc2","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":721.3332824707031,"y":741.5238409042358,"wires":[["36fdd3c5.4ce36c"],[]]},{"id":"ddae6057.faef7","type":"function","z":"c71237bc.072448","name":"83 203","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":534.634349822998,"y":812.2381477355957,"wires":[["54dcff8e.a7603"]]},{"id":"54dcff8e.a7603","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc3","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":726.0629043579102,"y":797.9524049758911,"wires":[["e875cada.b85fb8"],[]]},{"id":"9894874d.a9e3f8","type":"function","z":"c71237bc.072448","name":"83 204","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":536.0629539489746,"y":859.3809795379639,"wires":[["cb56e0eb.333c6"]]},{"id":"cb56e0eb.333c6","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc4","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":718.9201278686523,"y":853.6667156219482,"wires":[["de91bc4d.51b4b"],[]]},{"id":"d93627a6.6734d8","type":"function","z":"c71237bc.072448","name":"83 205","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":533.2058296203613,"y":912.2381057739258,"wires":[["deebc229.79c41"]]},{"id":"deebc229.79c41","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc5","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":717.4915466308594,"y":905.0952386856079,"wires":[["9e786549.66ff98"],[]]},{"id":"1e1d73d2.a0800c","type":"function","z":"c71237bc.072448","name":"83 206","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n","outputs":"1","noerr":0,"x":536.06298828125,"y":959.3809537887573,"wires":[["9ee5e4c6.4f5fa8"]]},{"id":"9ee5e4c6.4f5fa8","type":"modbus-flex-getter","z":"c71237bc.072448","name":"plc6","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":716.0630264282227,"y":967.9523839950562,"wires":[["fbaf636c.92aab"],[]]},{"id":"bec02c7b.a5dfc","type":"function","z":"c71237bc.072448","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nvar plc1_s = msg.payload; \nflow.set('plc1_s',plc1_s);\nreturn msg;","outputs":1,"noerr":0,"x":900.6455383300781,"y":691.1271133422852,"wires":[["3a0a9d70.efa472"]]},{"id":"36fdd3c5.4ce36c","type":"function","z":"c71237bc.072448","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nvar plc2_s = msg.payload; \nflow.set('plc2_s',plc2_s);\nreturn msg;","outputs":1,"noerr":0,"x":903.0264129638672,"y":736.9471759796143,"wires":[["3a0a9d70.efa472"]]},{"id":"e875cada.b85fb8","type":"function","z":"c71237bc.072448","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nvar plc3_s = msg.payload; \nflow.set('plc3_s',plc3_s);\nreturn msg;","outputs":1,"noerr":0,"x":901.5979385375977,"y":791.232816696167,"wires":[["3a0a9d70.efa472"]]},{"id":"de91bc4d.51b4b","type":"function","z":"c71237bc.072448","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nvar plc4_s = msg.payload; \nflow.set('plc4_s',plc4_s);\nreturn msg;","outputs":1,"noerr":0,"x":905.8836669921875,"y":849.3281784057617,"wires":[["3a0a9d70.efa472"]]},{"id":"9e786549.66ff98","type":"function","z":"c71237bc.072448","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nvar plc5_s = msg.payload; \nflow.set('plc5_s',plc5_s);\nreturn msg;","outputs":1,"noerr":0,"x":901.1216430664062,"y":898.375696182251,"wires":[["3a0a9d70.efa472"]]},{"id":"fbaf636c.92aab","type":"function","z":"c71237bc.072448","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nvar plc6_s = msg.payload; \nflow.set('plc6_s',plc6_s);\nreturn msg;","outputs":1,"noerr":0,"x":903.9787864685059,"y":963.1376304626465,"wires":[["3a0a9d70.efa472"]]},{"id":"482c2853.df5948","type":"switch","z":"c71237bc.072448","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"}],"checkall":"true","outputs":6,"x":268.95237731933594,"y":772.0001678466797,"wires":[["69593eb6.3b727"],["3a50e9fb.5affb6"],["ddae6057.faef7"],["9894874d.a9e3f8"],["d93627a6.6734d8"],["1e1d73d2.a0800c"]]},{"id":"bc60d31b.0f08d","type":"inject","z":"c71237bc.072448","name":"","topic":"","payload":"5","payloadType":"num","repeat":"","crontab":"","once":true,"x":80.7022590637207,"y":651.2153177261353,"wires":[["482c2853.df5948"]]},{"id":"3a0a9d70.efa472","type":"join","z":"c71237bc.072448","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"","timeout":"1","count":"6","x":1123.8095359802246,"y":811.6667747497559,"wires":[["71a9c4b5.316a6c","d9294fcb.fee5f"]]},{"id":"d7146e3.a46dc9","type":"debug","z":"c71237bc.072448","name":"","active":true,"console":"false","complete":"payload","x":1449.5237197875977,"y":819.666582107544,"wires":[]},{"id":"71a9c4b5.316a6c","type":"function","z":"c71237bc.072448","name":"","func":"msg.payload = {\n    \"setp1\":flow.get('plc1_s'),\n    \"setp2\":flow.get('plc2_s'),\n    \"setp3\":flow.get('plc3_s'),\n    \"setp4\":flow.get('plc4_s'),\n    \"setp5\":flow.get('plc5_s'),\n    \"setp6\":flow.get('plc6_s')\n};\nreturn msg;","outputs":1,"noerr":0,"x":1274.4048557281494,"y":812.2465829849243,"wires":[["d7146e3.a46dc9","d8679940.3ee318"]]},{"id":"d9294fcb.fee5f","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1300.595142364502,"y":871.2942199707031,"wires":[]},{"id":"b58de09c.f71cc","type":"http in","z":"c71237bc.072448","name":"","url":"/kt/SecondForScada","method":"get","swaggerDoc":"","x":168.57142639160156,"y":42.285715103149414,"wires":[["604e287b.36a2b8"]]},{"id":"f1323c1f.bc46a","type":"http in","z":"c71237bc.072448","name":"","url":"/kt/read5006","method":"get","swaggerDoc":"","x":125,"y":600.8571281433105,"wires":[["7f7e96a4.58e978"]]},{"id":"d8679940.3ee318","type":"function","z":"c71237bc.072448","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1343.6666107177734,"y":731.3809204101562,"wires":[["e0ece50.bac1718"]]},{"id":"e0ece50.bac1718","type":"http response","z":"c71237bc.072448","name":"","x":1496.2062797546387,"y":726.3016014099121,"wires":[]},{"id":"604e287b.36a2b8","type":"function","z":"c71237bc.072448","name":"","func":"msg.payload = 5;\nreturn msg;","outputs":1,"noerr":0,"x":414.0238571166992,"y":42.38096332550049,"wires":[["98e3205a.d308b"]]},{"id":"7f7e96a4.58e978","type":"function","z":"c71237bc.072448","name":"","func":"msg.payload = 5;\nreturn msg;","outputs":1,"noerr":0,"x":341.1428565979004,"y":600.5714454650879,"wires":[["482c2853.df5948"]]},{"id":"14e6d015.41e68","type":"function","z":"c71237bc.072448","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1317.761863708496,"y":101.14286804199219,"wires":[["8115cde2.0ad75"]]},{"id":"8115cde2.0ad75","type":"http response","z":"c71237bc.072448","name":"","x":1468.8728332519531,"y":98.92061805725098,"wires":[]},{"id":"8fc13f3b.d2f1e","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":621.8333511352539,"y":488.9166679382324,"wires":[["ea5e2094.859ac"]]},{"id":"ea5e2094.859ac","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":878.2857666015625,"y":499.7736015319824,"wires":[["7fd24687.5dbe68"],[]]},{"id":"7fd24687.5dbe68","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.797737121582,"y":496.2737560272217,"wires":[["e1d3522f.4d5d8"]]},{"id":"ef2d557c.728b98","type":"function","z":"c71237bc.072448","name":"83 201","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n} ;\n\nreturn msg;\n","outputs":1,"noerr":0,"x":305.73907470703125,"y":348.5863037109375,"wires":[[]]},{"id":"3d46f0a7.3d072","type":"function","z":"c71237bc.072448","name":"res_req","func":"flow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":1,"noerr":0,"x":162.46775436401367,"y":347.42848205566406,"wires":[["ef2d557c.728b98"]]},{"id":"2c730ba5.5eafe4","type":"function","z":"c71237bc.072448","name":"wirh_1C//","func":"//var orderu = msg.payload;\n var orderu = \n {\n   \"volume1\": 345.20,\n   \"volume2\": 978.12,\n   \"volume3\": 1111.20,\n   \"volume4\": 777.20,\n   \"volume5\": 978.20,\n   \"volume6\": 555.65\n };\n\nflow.set('orderu',orderu);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":362.88887786865234,"y":1305.0260009765625,"wires":[["26ab201a.843a4","16935085.b2475f","13d29bdc.995514","54bbd279.dc494c","16771a4f.21fd46","2570cd82.7c47d2"]]},{"id":"8dca6842.42a338","type":"http in","z":"c71237bc.072448","name":"","url":"/kt/setOrders","method":"post","swaggerDoc":"","x":135,"y":1208.4703330993652,"wires":[["2c730ba5.5eafe4","3249b42.28c754c"]]},{"id":"f079b51f.821088","type":"inject","z":"c71237bc.072448","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":171.44444274902344,"y":1299.3591747283936,"wires":[["2c730ba5.5eafe4"]]},{"id":"3249b42.28c754c","type":"http response","z":"c71237bc.072448","name":"send to 1C","x":392.9999694824219,"y":1208.4703330993652,"wires":[]},{"id":"ea956455.31e3e8","type":"function","z":"c71237bc.072448","name":"R_5006","func":"var x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\n\n\nreturn msg;","outputs":1,"noerr":0,"x":768.8890037536621,"y":1192.3118057250977,"wires":[["aa755928.651e78"]]},{"id":"2570cd82.7c47d2","type":"function","z":"c71237bc.072448","name":"To float","func":"var x = flow.get('orderu').volume1;\nmsg.req = '';\nmsg.res = '';\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":609.2222442626953,"y":1196.089638710022,"wires":[["ea956455.31e3e8"]]},{"id":"18b259e7.ceb6b6","type":"function","z":"c71237bc.072448","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":773.6955413818359,"y":1233.7187690734863,"wires":[["851b001e.a6e8a"]]},{"id":"16771a4f.21fd46","type":"function","z":"c71237bc.072448","name":"To float","func":"var x = flow.get('orderu').volume2;\nmsg.req = '';\nmsg.res = '';\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":610.0288848876953,"y":1233.4966640472412,"wires":[["18b259e7.ceb6b6"]]},{"id":"2aa3b063.41b58","type":"function","z":"c71237bc.072448","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":775.6956443786621,"y":1273.3855438232422,"wires":[["d3dfa831.459f18"]]},{"id":"54bbd279.dc494c","type":"function","z":"c71237bc.072448","name":"To float","func":"var x = flow.get('orderu').volume3;\nmsg.req = '';\nmsg.res = '';\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":608.0288848876953,"y":1275.1633749008179,"wires":[["2aa3b063.41b58"]]},{"id":"82549ebd.c9833","type":"function","z":"c71237bc.072448","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":776.6956443786621,"y":1318.052212715149,"wires":[["7e52a658.253fa8"]]},{"id":"13d29bdc.995514","type":"function","z":"c71237bc.072448","name":"To float","func":"var x = flow.get('orderu').volume4;\nmsg.req = '';\nmsg.res = '';\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":609.0288848876953,"y":1312.830044746399,"wires":[["82549ebd.c9833"]]},{"id":"66821fb3.fdf5b","type":"function","z":"c71237bc.072448","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":775.6956443786621,"y":1356.0522155761719,"wires":[["78103c61.f19714"]]},{"id":"16935085.b2475f","type":"function","z":"c71237bc.072448","name":"To float","func":"var x = flow.get('orderu').volume5;\nmsg.req = '';\nmsg.res = '';\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":606.6003799438477,"y":1352.25843334198,"wires":[["66821fb3.fdf5b"]]},{"id":"2be9b6f1.31d11a","type":"function","z":"c71237bc.072448","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":772.6956405639648,"y":1396.7664127349854,"wires":[["bc4b327b.c9022"]]},{"id":"26ab201a.843a4","type":"function","z":"c71237bc.072448","name":"To float","func":"var x = flow.get('orderu').volume6;\nmsg.req = '';\nmsg.res = '';\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":608.0288848876953,"y":1392.5442447662354,"wires":[["2be9b6f1.31d11a"]]},{"id":"aa755928.651e78","type":"modbus-flex-write","z":"c71237bc.072448","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":958.7432632446289,"y":1188.5026426315308,"wires":[[],["e6ed144.d37dfe8"]]},{"id":"851b001e.a6e8a","type":"modbus-flex-write","z":"c71237bc.072448","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":958.3507652282715,"y":1234.7491474151611,"wires":[[],["ee1570a6.018a2"]]},{"id":"d3dfa831.459f18","type":"modbus-flex-write","z":"c71237bc.072448","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":957.3507652282715,"y":1279.7491512298584,"wires":[[],["cef0f8c2.7298d8"]]},{"id":"7e52a658.253fa8","type":"modbus-flex-write","z":"c71237bc.072448","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":958.3507614135742,"y":1322.749153137207,"wires":[[],["1347e2d2.41b07d"]]},{"id":"78103c61.f19714","type":"modbus-flex-write","z":"c71237bc.072448","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":957.3507614135742,"y":1367.7489948272705,"wires":[[],["824c0d87.73c77"]]},{"id":"bc4b327b.c9022","type":"modbus-flex-write","z":"c71237bc.072448","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":958.3508453369141,"y":1412.1777095794678,"wires":[["3bc99669.97029a"],[]]},{"id":"e6ed144.d37dfe8","type":"debug","z":"c71237bc.072448","name":"","active":true,"console":"false","complete":"false","x":1191.1200675964355,"y":1185.5312871932983,"wires":[]},{"id":"ee1570a6.018a2","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1190.9772453308105,"y":1231.3885517120361,"wires":[]},{"id":"cef0f8c2.7298d8","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1189.8343391418457,"y":1285.6741981506348,"wires":[]},{"id":"1347e2d2.41b07d","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1191.1201095581055,"y":1329.1028728485107,"wires":[]},{"id":"824c0d87.73c77","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1192.5843811035156,"y":1367.102876663208,"wires":[]},{"id":"3bc99669.97029a","type":"debug","z":"c71237bc.072448","name":"","active":false,"console":"false","complete":"false","x":1185.5843811035156,"y":1415.924331665039,"wires":[]},{"id":"5ee9d160.b11b6","type":"comment","z":"c71237bc.072448","name":"read_6 plc time","info":"","x":688.4664154052733,"y":22.35532124837239,"wires":[]},{"id":"83354160.2e74f","type":"comment","z":"c71237bc.072448","name":"read_6 plc setpoint","info":"","x":666.695556640625,"y":628.3506469726562,"wires":[]},{"id":"e1d3522f.4d5d8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1530.299461364746,"y":507.37414360046387,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["36cc9047.0f22f"]]},{"id":"36cc9047.0f22f","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":614.8828125,"y":662.9297618865967,"wires":[["e402ce6d.b99e9"]]},{"id":"e402ce6d.b99e9","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":871.3352279663086,"y":673.7866954803467,"wires":[["eff7e580.aab7b8"],[]]},{"id":"eff7e580.aab7b8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1076.8471984863281,"y":670.2868499755859,"wires":[["71740113.9db7f"]]},{"id":"71740113.9db7f","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1291.1327209472656,"y":655.5686855316162,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["97b5236e.5941d"],[]]},{"id":"97b5236e.5941d","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":624.0495452880859,"y":803.9019775390625,"wires":[["49897f29.fa2f6"]]},{"id":"49897f29.fa2f6","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":888.0019607543945,"y":804.7589130401611,"wires":[["c00b161d.576108"],[]]},{"id":"c00b161d.576108","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.5139923095703,"y":798.7590274810791,"wires":[["b75f5b42.84e508"]]},{"id":"b75f5b42.84e508","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1477.7994689941406,"y":790.151912689209,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["f9cf8d68.00a88"],[],[]]},{"id":"5f893ac1.275944","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1299.8827171325684,"y":957.3741521835327,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["7b0e8240.61466c"]]},{"id":"7b0e8240.61466c","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":631.1328315734863,"y":1110.846342086792,"wires":[["f8a81d0d.1f974"]]},{"id":"f8a81d0d.1f974","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":893.3352394104004,"y":1113.7033290863037,"wires":[["5ccb76c8.a516c8"],[]]},{"id":"5ccb76c8.a516c8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1091.847354888916,"y":1113.7034645080566,"wires":[["dcd4a25f.f2c1a"]]},{"id":"dcd4a25f.f2c1a","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1539.8827476501465,"y":1082.0963649749756,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["4cae5ef8.6cada"],[]]},{"id":"4cae5ef8.6cada","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":595.7162017822266,"y":1219.318609237671,"wires":[["47c9d00d.3c3f3"]]},{"id":"47c9d00d.3c3f3","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":857.9186096191406,"y":1222.1755962371826,"wires":[["9c195edd.df30c"],[]]},{"id":"9c195edd.df30c","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1056.4307250976562,"y":1222.1757316589355,"wires":[["c4c84529.ef9ce8"]]},{"id":"c4c84529.ef9ce8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1360.7161407470703,"y":1255.568609237671,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["c0a47d23.fc857"],[],[]]},{"id":"c0a47d23.fc857","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":624.0494613647461,"y":1344.8741283416748,"wires":[["96b06190.d1329"]]},{"id":"96b06190.d1329","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":886.2518692016602,"y":1347.7311153411865,"wires":[["69848b24.4ffc54"],[]]},{"id":"69848b24.4ffc54","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1084.7639846801758,"y":1347.7312507629395,"wires":[["d6b32baf.7671a8"]]},{"id":"c4a885cb.5e83f8","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":603.6327819824219,"y":1518.2074718475342,"wires":[["6198ec48.662414"]]},{"id":"6198ec48.662414","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":865.8351898193359,"y":1521.064458847046,"wires":[["e90c597.28e16a8"],[]]},{"id":"e90c597.28e16a8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1064.3473052978516,"y":1521.0645942687988,"wires":[["e44e4d90.75cbb"]]},{"id":"d6b32baf.7671a8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1537.7994003295898,"y":1347.3741283416748,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["c4a885cb.5e83f8"],[],[],[]]},{"id":"e44e4d90.75cbb","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1361.1327209472656,"y":1509.7351818084717,"wires":[[],[],[],[],[],[],[],[],[],[],[],["8309a304.73f91"],[],[],[],[]]},{"id":"eaedc2d9.fae25","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1285.6331214904785,"y":1909.819076538086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["78e52f03.a52a8"]]},{"id":"dbdd6c31.d3594","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1054.9998683929443,"y":2055.7075338363647,"wires":[["bc976dc6.dc9a7"]]},{"id":"c8053444.118268","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":841.4878902435303,"y":2059.4572620391846,"wires":[["dbdd6c31.d3594"],[]]},{"id":"78e52f03.a52a8","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":577.4999313354492,"y":2061.957293510437,"wires":[["c8053444.118268"]]},{"id":"bc976dc6.dc9a7","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1443.132911682129,"y":2062.943161010742,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d3d9652b.c9e7f8"],[]]},{"id":"d3d9652b.c9e7f8","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":575.021598815918,"y":2189.4575338363647,"wires":[["d3eb1930.e40358"]]},{"id":"d3eb1930.e40358","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":839.009557723999,"y":2186.9575023651123,"wires":[["6f722862.d37478"],[]]},{"id":"6f722862.d37478","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1052.521535873413,"y":2183.2077741622925,"wires":[["f27ff5b7.fd2028"]]},{"id":"f27ff5b7.fd2028","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1250.1604537963867,"y":2199.4575338363647,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["bd96ffe5.443b6"],[],[]]},{"id":"6b42723b.237dac","type":"switch","z":"a3ec1c26.65c37","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"}],"checkall":"true","outputs":6,"x":1886.3740768432617,"y":50,"wires":[["e09516f5.e936a8"],["a27d4c94.f4028"],["329174c7.a4697c"],[],[],[]]},{"id":"fc70d303.09fde","type":"function","z":"a3ec1c26.65c37","name":"","func":"msg.payload = 5;\nreturn msg;","outputs":1,"noerr":0,"x":422.61211013793945,"y":35.20537567138672,"wires":[["6b42723b.237dac"]]},{"id":"a27d4c94.f4028","type":"function","z":"a3ec1c26.65c37","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all_k2 = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n \n };\n \nmsg.payload = status_all_k2;\nflow.set('status_all_k2',status_all_k2);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1958.1526184082031,"y":146.20238780975342,"wires":[["17de15e2.07b0aa"]]},{"id":"3fb3fe7f.86d3b2","type":"function","z":"a3ec1c26.65c37","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2796.5458488464355,"y":2910.1344871520996,"wires":[["b9c4b5c0.661b18"]]},{"id":"b9c4b5c0.661b18","type":"function","z":"a3ec1c26.65c37","name":"response","func":"msg.payload = flow.get('status_all_k2');\nvar k2 = msg.payload;\nflow.set('k2',k2);\nreturn msg;","outputs":1,"noerr":0,"x":2937.8910789489746,"y":2935.0034646987915,"wires":[["238bec1e.7a2904"]]},{"id":"56e291d9.ca775","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2335.9297981262207,"y":284.16673469543457,"wires":[["442dfbca.4c53e4"],[]]},{"id":"74c40416.cbb5ec","type":"function","z":"a3ec1c26.65c37","name":"R_12_b0","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.bit_18_status_pump = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2123.3106002807617,"y":292.5031909942627,"wires":[["56e291d9.ca775"]]},{"id":"442dfbca.4c53e4","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2547.9536628723145,"y":277.6193218231201,"wires":[["dc85ece2.280e3"]]},{"id":"dc85ece2.280e3","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2756.2545471191406,"y":411.6072082519531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["688cc4ea.eef3bc"]]},{"id":"688cc4ea.eef3bc","type":"function","z":"a3ec1c26.65c37","name":"R_12_b1","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.bit_0_status_klapan = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2061.8224601745605,"y":564.8246593475342,"wires":[["8552180a.4e32c8"]]},{"id":"8552180a.4e32c8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2280.2748680114746,"y":568.9316749572754,"wires":[["702500a2.e7e2b"],[]]},{"id":"702500a2.e7e2b","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2526.286808013916,"y":565.1817541122437,"wires":[["9a2d1865.290be8"]]},{"id":"9a2d1865.290be8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2898.1594276428223,"y":537.5625228881836,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f54078e3.429b98"],[]]},{"id":"17de15e2.07b0aa","type":"function","z":"a3ec1c26.65c37","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2167.159553527832,"y":148.09529399871826,"wires":[["78300ff5.edae2"]]},{"id":"8e1bd017.cde6e","type":"function","z":"a3ec1c26.65c37","name":"R_1_bit_3(18)","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.bit_0_status_pump = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2150.2549057006836,"y":219.16678524017334,"wires":[["ae7e9c7d.623d6"]]},{"id":"78300ff5.edae2","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2362.278709411621,"y":145.4761734008789,"wires":[["b4fd0b08.d22508"],[]]},{"id":"ae7e9c7d.623d6","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2357.040424346924,"y":219.52382373809814,"wires":[["555415b6.7b1dec"],[]]},{"id":"b4fd0b08.d22508","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2553.469337463379,"y":142.67874908447266,"wires":[["be0ddbcc.1ad468"]]},{"id":"555415b6.7b1dec","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2541.3856811523438,"y":224.5238037109375,"wires":[["4a2a753c.1a91cc"]]},{"id":"be0ddbcc.1ad468","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2748.436882019043,"y":161.66666412353516,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8e1bd017.cde6e"]]},{"id":"4a2a753c.1a91cc","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2927.424934387207,"y":228.98804473876953,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["74c40416.cbb5ec"],[],[]]},{"id":"5705798e.44f508","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_0","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2216.096279144287,"y":1033.050682067871,"wires":[["5ed0a6dd.bbda48"]]},{"id":"5ed0a6dd.bbda48","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2449.548686981201,"y":1033.4075994491577,"wires":[["82842510.fe5e78"],[]]},{"id":"82842510.fe5e78","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2650.5606803894043,"y":1037.1577615737915,"wires":[["eef8029d.cd34d"]]},{"id":"d8976694.457338","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2521.0966987609863,"y":1599.717674255371,"wires":[["4de48f2c.f89c6"],[]]},{"id":"baff3bd5.817488","type":"function","z":"a3ec1c26.65c37","name":"R_36+1_t_flow","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.register_error_status_bit_4 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2228.596710205078,"y":1607.2176933288574,"wires":[["d8976694.457338"]]},{"id":"4de48f2c.f89c6","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2716.0967750549316,"y":1602.217737197876,"wires":[["fabc7bea.29e588"]]},{"id":"3a8ad96d.c55ae6","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2518.5966415405273,"y":1662.2176132202148,"wires":[["625c52cc.19189c"],[]]},{"id":"fabc7bea.29e588","type":"function","z":"a3ec1c26.65c37","name":"R_38+1_plotnost_flow","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.t_flow  = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2251.0966300964355,"y":1662.2176132202148,"wires":[["3a8ad96d.c55ae6"]]},{"id":"625c52cc.19189c","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2713.5967178344727,"y":1664.7176761627197,"wires":[["45ac8557.431f7c"]]},{"id":"df814d17.3aa5d","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2728.5966415405273,"y":1733.4676132202148,"wires":[["518fd02.2fbac3"]]},{"id":"ed320ea4.f2637","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2527.584648132324,"y":1729.717451095581,"wires":[["df814d17.3aa5d"],[]]},{"id":"45ac8557.431f7c","type":"function","z":"a3ec1c26.65c37","name":"R_83_second_for_scada","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.plotnost_flow = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2257.8822708129883,"y":1723.1106071472168,"wires":[["ed320ea4.f2637"]]},{"id":"d26ebb08.e14cc8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2731.0966415405273,"y":1803.050926208496,"wires":[["b8732625.c236c8"]]},{"id":"55e2dd97.4ec734","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2530.084648132324,"y":1799.3007640838623,"wires":[["d26ebb08.e14cc8"],[]]},{"id":"518fd02.2fbac3","type":"function","z":"a3ec1c26.65c37","name":"R_5002_mode_system","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.second_for_scada  = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2257.346710205078,"y":1793.0509595870972,"wires":[["55e2dd97.4ec734"]]},{"id":"3c883edc.b29a22","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2728.9298706054688,"y":1856.8010082244873,"wires":[["8e0d56ac.6853f8"]]},{"id":"dc14f4b9.4c6708","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2506.917900085449,"y":1862.0510082244873,"wires":[["3c883edc.b29a22"],[]]},{"id":"b8732625.c236c8","type":"function","z":"a3ec1c26.65c37","name":"R_5004_zayavka","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.mode_system = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2187.1798553466797,"y":1853.801007270813,"wires":[["dc14f4b9.4c6708"]]},{"id":"983e276a.fb4768","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2776.9296131134033,"y":1989.717719078064,"wires":[["963cf45b.2f4d38"]]},{"id":"8429ff3d.3cb1c","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2563.4176349639893,"y":1993.4674472808838,"wires":[["983e276a.fb4768"],[]]},{"id":"4bbf8d40.d74524","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.marshrut_setpoint_number = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2299.429676055908,"y":1995.9674787521362,"wires":[["8429ff3d.3cb1c"]]},{"id":"6069bfb5.42a99","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2854.42977142334,"y":2337.217481613159,"wires":[["f56f24f8.f23118"]]},{"id":"9c6cf8ea.e20158","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2640.6796951293945,"y":2335.967432975769,"wires":[["6069bfb5.42a99"],[]]},{"id":"3fe039fe.e1a9f6","type":"function","z":"a3ec1c26.65c37","name":"R_5006+1_setpoint","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2351.6917610168457,"y":2340.9679203033447,"wires":[["9c6cf8ea.e20158"]]},{"id":"60f2e38a.5cd23c","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2848.1796951293945,"y":2398.467432975769,"wires":[["966cf0f4.b7d81"]]},{"id":"d2f29121.01fff","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2634.429618835449,"y":2397.217384338379,"wires":[["60f2e38a.5cd23c"],[]]},{"id":"f56f24f8.f23118","type":"function","z":"a3ec1c26.65c37","name":"R_5008+1_set_lflow_start","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.setpoint   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2371.691650390625,"y":2395.967595100403,"wires":[["d2f29121.01fff"]]},{"id":"bbda0114.51cf2","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2828.1796951293945,"y":2474.300684928894,"wires":[["72f85d1c.70bc94"]]},{"id":"959123a9.4585d","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2614.429618835449,"y":2473.050636291504,"wires":[["bbda0114.51cf2"],[]]},{"id":"966cf0f4.b7d81","type":"function","z":"a3ec1c26.65c37","name":"R_5010+1_set_lflow_stop","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.set_lflow_start   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2351.691650390625,"y":2471.800847053528,"wires":[["959123a9.4585d"]]},{"id":"351d53e0.076d4c","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2820.6796951293945,"y":2545.1340589523315,"wires":[["aadbdfae.1abe1"]]},{"id":"1bd11905.da7f47","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2606.929618835449,"y":2543.8840103149414,"wires":[["351d53e0.076d4c"],[]]},{"id":"72f85d1c.70bc94","type":"function","z":"a3ec1c26.65c37","name":"R_5012+1_protok_min","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.set_lflow_stop   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2334.191650390625,"y":2542.6342210769653,"wires":[["1bd11905.da7f47"]]},{"id":"53013610.0200c8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2595.679618835449,"y":2609.7172622680664,"wires":[["76fccee4.87c81"],[]]},{"id":"aadbdfae.1abe1","type":"function","z":"a3ec1c26.65c37","name":"R_5014+1_protok_dead_time","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.protok_min   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2323.1797409057617,"y":2608.467257499695,"wires":[["53013610.0200c8"]]},{"id":"76fccee4.87c81","type":"function","z":"a3ec1c26.65c37","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":2824.4297637939453,"y":2605.9672651290894,"wires":[["4e090e8f.97e5c"]]},{"id":"7e8e1d9.02933e4","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2689.8462562561035,"y":2681.800799369812,"wires":[["683efc04.31f1f4"],[]]},{"id":"4e090e8f.97e5c","type":"function","z":"a3ec1c26.65c37","name":"R_5016+1_counter_1","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.protok_dead_time   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2387.346378326416,"y":2680.5507946014404,"wires":[["7e8e1d9.02933e4"]]},{"id":"b0adad56.9e4c9","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2881.0962562561035,"y":2756.800799369812,"wires":[["7878699b.519748"]]},{"id":"683efc04.31f1f4","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2901.0962562561035,"y":2680.967547416687,"wires":[["814b8591.6666e8"]]},{"id":"25e1f0a4.bc637","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2669.8462562561035,"y":2753.050799369812,"wires":[["b0adad56.9e4c9"],[]]},{"id":"814b8591.6666e8","type":"function","z":"a3ec1c26.65c37","name":"R_5018+1_counter_2","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.counter_1   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2367.346378326416,"y":2751.8007946014404,"wires":[["25e1f0a4.bc637"]]},{"id":"326d686e.5d68c8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2623.5962562561035,"y":2830.967547416687,"wires":[["e2fe28a0.88f8b8"],[]]},{"id":"7878699b.519748","type":"function","z":"a3ec1c26.65c37","name":"R_5020+3_counter_3","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.counter_2   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2321.096378326416,"y":2829.7175426483154,"wires":[["326d686e.5d68c8"]]},{"id":"10d60e2e.8d1162","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2601.5130882263184,"y":2905.551070213318,"wires":[["3fb3fe7f.86d3b2"],[]]},{"id":"bd5ee52f.04ef68","type":"function","z":"a3ec1c26.65c37","name":"R_5020+3_counter_3","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.counter_3   = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2282.346378326416,"y":2920.9675426483154,"wires":[["10d60e2e.8d1162"]]},{"id":"e2fe28a0.88f8b8","type":"function","z":"a3ec1c26.65c37","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2861.096405029297,"y":2829.3007650375366,"wires":[["bd5ee52f.04ef68"]]},{"id":"f54078e3.429b98","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_0","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.bit_1_status_klapan = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2143.7627296447754,"y":673.2172966003418,"wires":[["1af647e9.1ebff8"]]},{"id":"1af647e9.1ebff8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2400.215145111084,"y":684.0742301940918,"wires":[["591faf59.379a2"],[]]},{"id":"591faf59.379a2","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2605.7271156311035,"y":680.574384689331,"wires":[["80275c78.5c974"]]},{"id":"80275c78.5c974","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3058.8959064483643,"y":670.0081100463867,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1e761408.28044c"]]},{"id":"1e761408.28044c","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_1","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2173.479145050049,"y":780.5636692047119,"wires":[["660ab76e.4caa48"]]},{"id":"660ab76e.4caa48","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2429.9315605163574,"y":791.4206027984619,"wires":[["54a27a.2dd20d88"],[]]},{"id":"54a27a.2dd20d88","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2635.443531036377,"y":787.9207572937012,"wires":[["296378e6.f4f108"]]},{"id":"296378e6.f4f108","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2909.7288665771484,"y":826.5359039306641,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["7b81c49d.32865c"],[]]},{"id":"7b81c49d.32865c","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_2","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2179.3123893737793,"y":911.5359172821045,"wires":[["b4b9bd41.009c6"]]},{"id":"b4b9bd41.009c6","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2443.264804840088,"y":912.3928527832031,"wires":[["c0c0d83a.e5bee8"],[]]},{"id":"c0c0d83a.e5bee8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2648.7768363952637,"y":906.3929672241211,"wires":[["e6a4c55d.ff4b38"]]},{"id":"e6a4c55d.ff4b38","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3076.395740509033,"y":961.1191558837891,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["5705798e.44f508"],[],[]]},{"id":"eef8029d.cd34d","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2918.478946685791,"y":1100.008071899414,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["4003819d.bd743"]]},{"id":"4003819d.bd743","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_1","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.register_error_status_bit_0 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2181.395648956299,"y":1158.480354309082,"wires":[["1e34bf6a.f3e4b1"]]},{"id":"1e34bf6a.f3e4b1","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2443.598056793213,"y":1161.3373413085938,"wires":[["f22eeb55.02b488"],[]]},{"id":"f22eeb55.02b488","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2642.1101722717285,"y":1161.3374767303467,"wires":[["f7005bc5.0eb658"]]},{"id":"f7005bc5.0eb658","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3091.8122177124023,"y":1234.7302703857422,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["763728f0.9138e8"],[]]},{"id":"763728f0.9138e8","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_2","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.register_error_status_bit_1 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2230.9790534973145,"y":1265.2858619689941,"wires":[["87d02211.6e668"]]},{"id":"87d02211.6e668","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2493.1814613342285,"y":1268.1428489685059,"wires":[["255a02a.784d0fe"],[]]},{"id":"255a02a.784d0fe","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2691.693576812744,"y":1268.1429843902588,"wires":[["6367d428.d029dc"]]},{"id":"6367d428.d029dc","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2912.6458053588867,"y":1354.869239807129,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["cb9b5350.d8d41"],[],[]]},{"id":"cb9b5350.d8d41","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_3","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.register_error_status_bit_2 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2262.6458015441895,"y":1410.8414335250854,"wires":[["b660a6a4.c85438"]]},{"id":"b660a6a4.c85438","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2524.8482093811035,"y":1413.6984205245972,"wires":[["258e8687.e8064a"],[]]},{"id":"258e8687.e8064a","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2723.360324859619,"y":1413.69855594635,"wires":[["1ee685ef.7e436a"]]},{"id":"784af20c.620ccc","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_4","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.register_error_status_bit_3 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2197.8961791992188,"y":1506.1747016906738,"wires":[["feb89259.2d42"]]},{"id":"feb89259.2d42","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2517.0986251831055,"y":1522.0318241119385,"wires":[["e41f533a.e376b"],[]]},{"id":"e41f533a.e376b","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2729.6105346679688,"y":1554.0318508148193,"wires":[["9c914b36.37abf8"]]},{"id":"1ee685ef.7e436a","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3134.7291526794434,"y":1480.0080947875977,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["784af20c.620ccc"],[],[],[]]},{"id":"9c914b36.37abf8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2978.062858581543,"y":1614.0359497070312,"wires":[[],[],[],[],[],[],[],[],[],[],[],["baff3bd5.817488"],[],[],[],[]]},{"id":"963cf45b.2f4d38","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2955.5623722076416,"y":1954.453125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e0a75df7.65885"]]},{"id":"40569499.c43e8c","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2768.5960121154785,"y":2105.008355140686,"wires":[["6aa01926.37ed18"]]},{"id":"1f450f10.ffb291","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2555.0840339660645,"y":2108.758083343506,"wires":[["40569499.c43e8c"],[]]},{"id":"e0a75df7.65885","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2291.0960750579834,"y":2111.2581148147583,"wires":[["1f450f10.ffb291"]]},{"id":"6aa01926.37ed18","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3109.728988647461,"y":2102.2438821792603,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f6cfde95.c2601"],[]]},{"id":"f6cfde95.c2601","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2288.617742538452,"y":2238.758355140686,"wires":[["480aab6a.bb9a04"]]},{"id":"480aab6a.bb9a04","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2552.605701446533,"y":2236.2583236694336,"wires":[["a7c5a875.384148"],[]]},{"id":"a7c5a875.384148","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2766.1176795959473,"y":2232.5085954666138,"wires":[["bdfe12c8.5bdd"]]},{"id":"bdfe12c8.5bdd","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2963.756597518921,"y":2248.758355140686,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["3fe039fe.e1a9f6"],[],[]]},{"id":"238bec1e.7a2904","type":"join","z":"a3ec1c26.65c37","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"","timeout":"0.3","count":"3","x":2138.362258911133,"y":3304.6473474502563,"wires":[["9c7bf017.74239"]]},{"id":"c544a103.e9ff2","type":"debug","z":"a3ec1c26.65c37","name":"","active":true,"console":"false","complete":"payload","x":1950.7430801391602,"y":2857.6472663879395,"wires":[]},{"id":"9c7bf017.74239","type":"function","z":"a3ec1c26.65c37","name":"","func":"msg.res = flow.get('res2');\nmsg.payload = {\n    \"plc1\":flow.get('k1'),\n    \"plc2\":flow.get('k2'),\n    \"plc3\":flow.get('k3')\n    \n};\nreturn msg;","outputs":1,"noerr":0,"x":1785.6242446899414,"y":2805.227533340454,"wires":[["c544a103.e9ff2","adb1f0e0.c3c31"]]},{"id":"adb1f0e0.c3c31","type":"http response","z":"a3ec1c26.65c37","name":"","x":2064.09232711792,"y":2720.9487438201904,"wires":[]},{"id":"329174c7.a4697c","type":"function","z":"a3ec1c26.65c37","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all_k3 = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n \n };\n \nmsg.payload = status_all_k3;\nflow.set('status_all_k3',status_all_k3);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3618.205810546875,"y":109.53572368621826,"wires":[["e2397291.64b76"]]},{"id":"e5d71bca.c4eaa8","type":"function","z":"a3ec1c26.65c37","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4456.599040985107,"y":2873.4678230285645,"wires":[["321d4507.07877a"]]},{"id":"321d4507.07877a","type":"function","z":"a3ec1c26.65c37","name":"response","func":"\nmsg.payload = flow.get('status_all_k3');\nvar k3 = msg.payload;\nflow.set('k3',k3);\nreturn msg;","outputs":1,"noerr":0,"x":4594.944808959961,"y":2877.336835861206,"wires":[["238bec1e.7a2904"]]},{"id":"bf711d2b.8fdf8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":3995.9829902648926,"y":247.5000705718994,"wires":[["44769e01.7753b"],[]]},{"id":"54cc51b.674a4b","type":"function","z":"a3ec1c26.65c37","name":"R_12_b0","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.bit_18_status_pump = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3783.3637924194336,"y":255.83652687072754,"wires":[["bf711d2b.8fdf8"]]},{"id":"44769e01.7753b","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4208.006855010986,"y":240.95265769958496,"wires":[["2acd5d2c.f5a5d2"]]},{"id":"2acd5d2c.f5a5d2","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4416.3077392578125,"y":374.94054412841797,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["30331b57.1c0ad4"]]},{"id":"30331b57.1c0ad4","type":"function","z":"a3ec1c26.65c37","name":"R_12_b1","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.bit_0_status_klapan = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3721.8756523132324,"y":528.157995223999,"wires":[["c07b845d.255308"]]},{"id":"c07b845d.255308","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":3940.3280601501465,"y":532.2650108337402,"wires":[["e8f57057.faf78"],[]]},{"id":"e8f57057.faf78","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4186.340000152588,"y":528.5150899887085,"wires":[["de2e9e61.b148f"]]},{"id":"de2e9e61.b148f","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4558.212619781494,"y":500.89585876464844,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["9da69be2.b85dd8"],[]]},{"id":"e2397291.64b76","type":"function","z":"a3ec1c26.65c37","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3827.212745666504,"y":111.4286298751831,"wires":[["e16b27ae.22db38"]]},{"id":"998a7332.5260b","type":"function","z":"a3ec1c26.65c37","name":"R_1_bit_3(18)","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.bit_0_status_pump = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3810.3080978393555,"y":182.50012111663818,"wires":[["9f574bb4.6fefd8"]]},{"id":"e16b27ae.22db38","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4022.331901550293,"y":108.80950927734375,"wires":[["ae0e4616.65e258"],[]]},{"id":"9f574bb4.6fefd8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4017.0936164855957,"y":182.857159614563,"wires":[["66d120a9.2c686"],[]]},{"id":"ae0e4616.65e258","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4213.522529602051,"y":106.0120849609375,"wires":[["50a716d5.51a628"]]},{"id":"66d120a9.2c686","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4201.438873291016,"y":187.85713958740234,"wires":[["7fdd1daa.d52f74"]]},{"id":"50a716d5.51a628","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4408.490074157715,"y":125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["998a7332.5260b"]]},{"id":"7fdd1daa.d52f74","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4587.478126525879,"y":192.32138061523438,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["54cc51b.674a4b"],[],[]]},{"id":"2e56901a.2d04a","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_0","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3801.1495666503906,"y":1021.3840618133545,"wires":[["6e211f85.8e4ec"]]},{"id":"6e211f85.8e4ec","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4114.6019287109375,"y":1031.7408928871155,"wires":[["8336e97a.baa868"],[]]},{"id":"8336e97a.baa868","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4315.6137771606445,"y":1033.8244104385376,"wires":[["7342260e.8a8a78"]]},{"id":"57344d76.b15804","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4181.149890899658,"y":1563.051010131836,"wires":[["d966f99f.2b2fa8"],[]]},{"id":"1ada51.a0cd55af","type":"function","z":"a3ec1c26.65c37","name":"R_36+1_t_flow","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.register_error_status_bit_4 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3888.64990234375,"y":1570.5510292053223,"wires":[["57344d76.b15804"]]},{"id":"d966f99f.2b2fa8","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4376.1499671936035,"y":1565.5510730743408,"wires":[["48b9abf.c42b454"]]},{"id":"392136b8.c15f8a","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4178.649833679199,"y":1625.5509490966797,"wires":[["e554cbd8.a27de8"],[]]},{"id":"48b9abf.c42b454","type":"function","z":"a3ec1c26.65c37","name":"R_38+1_plotnost_flow","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.t_flow  = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3911.1498222351074,"y":1625.5509490966797,"wires":[["392136b8.c15f8a"]]},{"id":"e554cbd8.a27de8","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4373.6499099731445,"y":1628.0510120391846,"wires":[["9357c395.20b52"]]},{"id":"77fbb551.1f88ac","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4388.649833679199,"y":1696.8009490966797,"wires":[["a08ddbca.4f66b8"]]},{"id":"dbc23f85.626c8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4187.637840270996,"y":1693.050786972046,"wires":[["77fbb551.1f88ac"],[]]},{"id":"9357c395.20b52","type":"function","z":"a3ec1c26.65c37","name":"R_83_second_for_scada","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.plotnost_flow = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3917.93546295166,"y":1686.4439430236816,"wires":[["dbc23f85.626c8"]]},{"id":"fd31128a.259e","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4391.149833679199,"y":1766.384262084961,"wires":[["870b071f.0a2d58"]]},{"id":"7f0afbd8.bbab34","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4190.137840270996,"y":1762.6340999603271,"wires":[["fd31128a.259e"],[]]},{"id":"a08ddbca.4f66b8","type":"function","z":"a3ec1c26.65c37","name":"R_5002_mode_system","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.second_for_scada  = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3917.39990234375,"y":1756.384295463562,"wires":[["7f0afbd8.bbab34"]]},{"id":"81cd50ca.bb016","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4377.983383178711,"y":1832.1345024108887,"wires":[["3c679b60.56f634"]]},{"id":"781d36d9.faaad8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4167.971412658691,"y":1828.3841361999512,"wires":[["81cd50ca.bb016"],[]]},{"id":"870b071f.0a2d58","type":"function","z":"a3ec1c26.65c37","name":"R_5004_zayavka","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.mode_system = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3875.233123779297,"y":1824.1345024108887,"wires":[["781d36d9.faaad8"]]},{"id":"5dc8155b.dcc81c","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4432.983257293701,"y":2013.0510692596436,"wires":[["7c9533ca.d9464c"]]},{"id":"b70d89bb.008198","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4235.471046447754,"y":2016.8008861541748,"wires":[["5dc8155b.dcc81c"],[]]},{"id":"adadce90.afd0a","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4514.482963562012,"y":2300.550817489624,"wires":[["30577365.418e3c"]]},{"id":"dcf914c4.5c32b8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4300.732887268066,"y":2299.300768852234,"wires":[["adadce90.afd0a"],[]]},{"id":"abc7c302.21751","type":"function","z":"a3ec1c26.65c37","name":"R_5006+1_setpoint","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4011.7449531555176,"y":2304.3012561798096,"wires":[["dcf914c4.5c32b8"]]},{"id":"3de1a35e.3934ec","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4508.232887268066,"y":2361.800768852234,"wires":[["94d585f3.035a98"]]},{"id":"e41c0f5c.47a49","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4294.482810974121,"y":2360.5507202148438,"wires":[["3de1a35e.3934ec"],[]]},{"id":"30577365.418e3c","type":"function","z":"a3ec1c26.65c37","name":"R_5008+1_set_lflow_start","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.setpoint   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4031.744842529297,"y":2359.3009309768677,"wires":[["e41c0f5c.47a49"]]},{"id":"e4f8c517.e80f38","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4488.232887268066,"y":2437.634020805359,"wires":[["acefc06d.273a8"]]},{"id":"2610a921.8a4386","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4274.482810974121,"y":2436.3839721679688,"wires":[["e4f8c517.e80f38"],[]]},{"id":"94d585f3.035a98","type":"function","z":"a3ec1c26.65c37","name":"R_5010+1_set_lflow_stop","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.set_lflow_start   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4011.744842529297,"y":2435.1341829299927,"wires":[["2610a921.8a4386"]]},{"id":"608e02dc.e04ffc","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4480.732887268066,"y":2508.4673948287964,"wires":[["c8ba165f.8f4a68"]]},{"id":"b7d42015.30fa8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4266.982810974121,"y":2507.2173461914062,"wires":[["608e02dc.e04ffc"],[]]},{"id":"acefc06d.273a8","type":"function","z":"a3ec1c26.65c37","name":"R_5012+1_protok_min","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.set_lflow_stop   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3994.244842529297,"y":2505.96755695343,"wires":[["b7d42015.30fa8"]]},{"id":"68be845e.667bec","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4255.732810974121,"y":2573.0505981445312,"wires":[["d89e39b.141a6c8"],[]]},{"id":"c8ba165f.8f4a68","type":"function","z":"a3ec1c26.65c37","name":"R_5014+1_protok_dead_time","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.protok_min   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3983.2329330444336,"y":2571.8005933761597,"wires":[["68be845e.667bec"]]},{"id":"d89e39b.141a6c8","type":"function","z":"a3ec1c26.65c37","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":4484.482955932617,"y":2569.300601005554,"wires":[["2c08e05d.ef94a"]]},{"id":"7289379.53ea6c8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4349.899448394775,"y":2645.134135246277,"wires":[["f4ef41a1.1c958"],[]]},{"id":"2c08e05d.ef94a","type":"function","z":"a3ec1c26.65c37","name":"R_5016+1_counter_1","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.protok_dead_time   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4047.399570465088,"y":2643.8841304779053,"wires":[["7289379.53ea6c8"]]},{"id":"54995c57.f20c14","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4541.149448394775,"y":2720.134135246277,"wires":[["e88a3fc0.d5d06"]]},{"id":"f4ef41a1.1c958","type":"function","z":"a3ec1c26.65c37","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4561.149448394775,"y":2644.300883293152,"wires":[["3a0c1284.4aaf7e"]]},{"id":"71005a2b.0654c4","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4329.899448394775,"y":2716.384135246277,"wires":[["54995c57.f20c14"],[]]},{"id":"3a0c1284.4aaf7e","type":"function","z":"a3ec1c26.65c37","name":"R_5018+1_counter_2","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.counter_1   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4027.399570465088,"y":2715.1341304779053,"wires":[["71005a2b.0654c4"]]},{"id":"3fd1c80.b908338","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4283.649448394775,"y":2794.300883293152,"wires":[["6e8fa8ff.930508"],[]]},{"id":"e88a3fc0.d5d06","type":"function","z":"a3ec1c26.65c37","name":"R_5020+3_counter_3","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.counter_2   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3981.149570465088,"y":2793.0508785247803,"wires":[["3fd1c80.b908338"]]},{"id":"baae23b3.193de","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4261.56628036499,"y":2868.8844060897827,"wires":[["e5d71bca.c4eaa8"],[]]},{"id":"a3d20f5b.6ab76","type":"function","z":"a3ec1c26.65c37","name":"R_5020+3_counter_3","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.counter_3   = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3942.399570465088,"y":2884.3008785247803,"wires":[["baae23b3.193de"]]},{"id":"6e8fa8ff.930508","type":"function","z":"a3ec1c26.65c37","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4521.149597167969,"y":2792.6341009140015,"wires":[["a3d20f5b.6ab76"]]},{"id":"9da69be2.b85dd8","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_0","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.bit_1_status_klapan = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3803.8159217834473,"y":636.5506324768066,"wires":[["74cac476.24743c"]]},{"id":"74cac476.24743c","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4060.268337249756,"y":647.4075660705566,"wires":[["b96a6c38.bb366"],[]]},{"id":"b96a6c38.bb366","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4265.780307769775,"y":643.9077205657959,"wires":[["450657f7.d21fd8"]]},{"id":"450657f7.d21fd8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4718.949098587036,"y":633.3414459228516,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["65c10ee.71b18f"]]},{"id":"65c10ee.71b18f","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_1","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3833.5323371887207,"y":743.8970050811768,"wires":[["cafd2413.b664e8"]]},{"id":"cafd2413.b664e8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4089.9847526550293,"y":754.7539386749268,"wires":[["42b7c8af.40da38"],[]]},{"id":"42b7c8af.40da38","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4295.496723175049,"y":751.254093170166,"wires":[["2557f9cf.c364a6"]]},{"id":"2557f9cf.c364a6","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4569.78205871582,"y":789.8692398071289,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a8f7b194.add3f"],[]]},{"id":"a8f7b194.add3f","type":"function","z":"a3ec1c26.65c37","name":"R_22_status_hend_vent_bit_2","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3839.365581512451,"y":874.8692531585693,"wires":[["1df3a949.d76df7"]]},{"id":"1df3a949.d76df7","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4103.31799697876,"y":875.726188659668,"wires":[["2ff63793.fba948"],[]]},{"id":"2ff63793.fba948","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4308.830028533936,"y":869.7263031005859,"wires":[["a5130d28.a0551"]]},{"id":"a5130d28.a0551","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4736.448932647705,"y":924.4524917602539,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["2e56901a.2d04a"],[],[]]},{"id":"7342260e.8a8a78","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4578.532138824463,"y":1063.341407775879,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["c2d301ea.80052"]]},{"id":"c2d301ea.80052","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_1","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.register_error_status_bit_0 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3841.4488410949707,"y":1121.8136901855469,"wires":[["c1294828.e30208"]]},{"id":"c1294828.e30208","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4103.651248931885,"y":1124.6706771850586,"wires":[["34c4f994.e6f356"],[]]},{"id":"34c4f994.e6f356","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4302.1633644104,"y":1124.6708126068115,"wires":[["f101f8e8.ac2b48"]]},{"id":"f101f8e8.ac2b48","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4751.865409851074,"y":1198.063606262207,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["123a5e87.c0c811"],[]]},{"id":"123a5e87.c0c811","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_2","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.register_error_status_bit_1 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3891.0322456359863,"y":1228.619197845459,"wires":[["474745b4.34645c"]]},{"id":"474745b4.34645c","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4153.2346534729,"y":1231.4761848449707,"wires":[["1aa38542.92bf0b"],[]]},{"id":"1aa38542.92bf0b","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4351.746768951416,"y":1231.4763202667236,"wires":[["480604f2.d073cc"]]},{"id":"480604f2.d073cc","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4572.698997497559,"y":1318.2025756835938,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["12d04f57.db3801"],[],[]]},{"id":"12d04f57.db3801","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_3","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.register_error_status_bit_2 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3922.6989936828613,"y":1374.1747694015503,"wires":[["23c4792f.d58a76"]]},{"id":"23c4792f.d58a76","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4184.901401519775,"y":1377.031756401062,"wires":[["2f4e4945.184ae6"],[]]},{"id":"2f4e4945.184ae6","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4383.413516998291,"y":1377.031891822815,"wires":[["b4434613.2c65a8"]]},{"id":"6e8a7436.66d38c","type":"function","z":"a3ec1c26.65c37","name":"R_25_register_error_status_bit_4","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.register_error_status_bit_3 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3943.949031829834,"y":1467.5080757141113,"wires":[["5fcf273.f9260d8"]]},{"id":"5fcf273.f9260d8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4206.151439666748,"y":1470.365062713623,"wires":[["b4cbcfc2.80f1c"],[]]},{"id":"b4cbcfc2.80f1c","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4404.663555145264,"y":1470.365198135376,"wires":[["1540d039.96887"]]},{"id":"b4434613.2c65a8","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4794.782344818115,"y":1443.3414306640625,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["6e8a7436.66d38c"],[],[],[]]},{"id":"1540d039.96887","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4604.782409667969,"y":1612.3692169189453,"wires":[[],[],[],[],[],[],[],[],[],[],[],["1ada51.a0cd55af"],[],[],[],[]]},{"id":"7c9533ca.d9464c","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4615.6155643463135,"y":1917.7864608764648,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1c32ec15.b11214"]]},{"id":"d9463320.483bf","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4428.64920425415,"y":2068.341691017151,"wires":[["456c70e9.883fa"]]},{"id":"6bddafda.4821e","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4215.137226104736,"y":2072.0914192199707,"wires":[["d9463320.483bf"],[]]},{"id":"1c32ec15.b11214","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3951.1492671966553,"y":2074.591450691223,"wires":[["6bddafda.4821e"]]},{"id":"456c70e9.883fa","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4769.782180786133,"y":2065.577218055725,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6eff5a6b.4f6cb4"],[]]},{"id":"6eff5a6b.4f6cb4","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3948.670934677124,"y":2202.091691017151,"wires":[["3aadcc19.2092c4"]]},{"id":"3aadcc19.2092c4","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4212.658893585205,"y":2199.5916595458984,"wires":[["8ad99b85.8530c8"],[]]},{"id":"8ad99b85.8530c8","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4426.170871734619,"y":2195.8419313430786,"wires":[["83fd929c.69e69"]]},{"id":"83fd929c.69e69","type":"function","z":"a3ec1c26.65c37","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4623.809789657593,"y":2212.091691017151,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["abc7c302.21751"],[],[]]},{"id":"1cc713af.473f1c","type":"http in","z":"ec6b84fa.e5e0a8","name":"","url":"/k1/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["1473e21e.0aa55e"]]},{"id":"24f58354.380dcc","type":"inject","z":"ec6b84fa.e5e0a8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":432.0635070800781,"y":169.0475673675537,"wires":[["1473e21e.0aa55e"]]},{"id":"1473e21e.0aa55e","type":"function","z":"ec6b84fa.e5e0a8","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":630.7468566894531,"y":150.23811531066895,"wires":[["3baf9ee5.f3f412"]]},{"id":"286c8c74.8df564","type":"function","z":"ec6b84fa.e5e0a8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1014.1401062011719,"y":2980.1194276809692,"wires":[["f851e09.4b2882"]]},{"id":"f851e09.4b2882","type":"function","z":"ec6b84fa.e5e0a8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.4855308532715,"y":2981.6550512313843,"wires":[["fda2e21d.982dd","cfa14b.0f2dbeb8"]]},{"id":"1d0ca390.e6af4c","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":865.1907196044922,"y":308.2024669647217,"wires":[["6961ed07.cf6a84"],[]]},{"id":"f09f5bb8.bb9168","type":"function","z":"ec6b84fa.e5e0a8","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":657.5715675354004,"y":305.8215665817261,"wires":[["1d0ca390.e6af4c"]]},{"id":"6961ed07.cf6a84","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.8813705444336,"y":301.6550226211548,"wires":[["b36ebf70.fd22c"]]},{"id":"b36ebf70.fd22c","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1275.5152969360352,"y":378.9762668609619,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d02864f8.8aa8b8"]]},{"id":"d02864f8.8aa8b8","type":"function","z":"ec6b84fa.e5e0a8","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.7499618530273,"y":398.14304542541504,"wires":[["aa4c7924.3fbd88"]]},{"id":"aa4c7924.3fbd88","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":846.2023696899414,"y":402.25006103515625,"wires":[["b914a3c8.2d83e"],[]]},{"id":"b914a3c8.2d83e","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1092.2143096923828,"y":398.5001401901245,"wires":[["62dd966a.ee98e8"]]},{"id":"62dd966a.ee98e8","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1479.086826324463,"y":422.5476379394531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3eb108bb.c6dbd8"],[]]},{"id":"3baf9ee5.f3f412","type":"function","z":"ec6b84fa.e5e0a8","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":794.7539367675781,"y":148.79769897460938,"wires":[["b4c4be0f.8094d"]]},{"id":"d71607f3.4051c8","type":"function","z":"ec6b84fa.e5e0a8","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":777.8492889404297,"y":219.86919021606445,"wires":[["2f00d594.2261ca"]]},{"id":"b4c4be0f.8094d","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":989.8730926513672,"y":146.17857837677002,"wires":[["20e8c537.6cd9ca"],[]]},{"id":"2f00d594.2261ca","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":984.6348075866699,"y":220.22622871398926,"wires":[["7982e2ea.c048ec"],[]]},{"id":"20e8c537.6cd9ca","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.063720703125,"y":143.38115406036377,"wires":[["92ca2764.7d3658"]]},{"id":"7982e2ea.c048ec","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1168.9800643920898,"y":225.2262086868286,"wires":[["19465aaa.772945"]]},{"id":"92ca2764.7d3658","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1442.6980209350586,"y":169.2856903076172,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d71607f3.4051c8"]]},{"id":"6acb2e96.39fdf","type":"function","z":"ec6b84fa.e5e0a8","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.6905250549316,"y":1006.3690195083618,"wires":[["3e375b46.886354"]]},{"id":"3e375b46.886354","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":927.1429328918457,"y":1006.7259368896484,"wires":[["d53593fe.5beee"],[]]},{"id":"d53593fe.5beee","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.1549263000488,"y":1010.4760990142822,"wires":[["fecf1bd2.dd2a68"]]},{"id":"ef236234.a536e","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":890.3574676513672,"y":1654.7028427124023,"wires":[["2c104df3.888cc2"],[]]},{"id":"12186bcd.20c9e4","type":"function","z":"ec6b84fa.e5e0a8","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":597.857479095459,"y":1662.2028617858887,"wires":[["ef236234.a536e"]]},{"id":"2c104df3.888cc2","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1085.3575439453125,"y":1657.2029056549072,"wires":[["924e6d7a.0dccf"]]},{"id":"737030b7.fab68","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":887.8574104309082,"y":1717.202781677246,"wires":[["6e07737c.63c14c"],[]]},{"id":"924e6d7a.0dccf","type":"function","z":"ec6b84fa.e5e0a8","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":620.3573989868164,"y":1717.202781677246,"wires":[["737030b7.fab68"]]},{"id":"6e07737c.63c14c","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1082.8574867248535,"y":1719.702844619751,"wires":[["7d280cdc.16eb14"]]},{"id":"16b39c7d.1a2764","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1788.452781677246,"wires":[["99f6e1b4.b238b"]]},{"id":"fd93dd1f.e5855","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":896.8454170227051,"y":1784.7026195526123,"wires":[["16b39c7d.1a2764"],[]]},{"id":"7d280cdc.16eb14","type":"function","z":"ec6b84fa.e5e0a8","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.1430397033691,"y":1778.095775604248,"wires":[["fd93dd1f.e5855"]]},{"id":"4d555253.46b3bc","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1100.3574104309082,"y":1858.0360946655273,"wires":[["71ae23d3.26f7dc"]]},{"id":"407044e1.e6ebbc","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":899.3454170227051,"y":1854.2859325408936,"wires":[["4d555253.46b3bc"],[]]},{"id":"99f6e1b4.b238b","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.607479095459,"y":1848.0361280441284,"wires":[["407044e1.e6ebbc"]]},{"id":"3e880fc4.b528a","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1925.1194076538086,"wires":[["76509937.a81fa8"]]},{"id":"ffc05d47.d7d92","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":896.8454170227051,"y":1921.3692455291748,"wires":[["3e880fc4.b528a"],[]]},{"id":"71ae23d3.26f7dc","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":604.107479095459,"y":1910.11940574646,"wires":[["ffc05d47.d7d92"]]},{"id":"e164212b.ad963","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1200.3573455810547,"y":2022.6194925308228,"wires":[["35017af1.c31f56"]]},{"id":"772c7bf9.3f4284","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":984.3453903198242,"y":2032.6190042495728,"wires":[["e164212b.ad963"],[]]},{"id":"669e486c.1c9248","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.3573913574219,"y":2036.3691673278809,"wires":[["772c7bf9.3f4284"]]},{"id":"21c6916b.db7a5e","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.690788269043,"y":2362.2027645111084,"wires":[["39096c7f.b5e354"]]},{"id":"6b13f32b.ba84fc","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":929.9407119750977,"y":2360.9527158737183,"wires":[["21c6916b.db7a5e"],[]]},{"id":"b43308b.ad6d2f8","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9527778625488,"y":2365.953203201294,"wires":[["6b13f32b.ba84fc"]]},{"id":"22fd1d06.084ce2","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1137.4407119750977,"y":2423.4527158737183,"wires":[["13ea976.690f569"]]},{"id":"9f2f3efb.4121b","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":923.6906356811523,"y":2422.202667236328,"wires":[["22fd1d06.084ce2"],[]]},{"id":"39096c7f.b5e354","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":660.9526672363281,"y":2420.952877998352,"wires":[["9f2f3efb.4121b"]]},{"id":"e9b20663.5dfd68","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1117.4407119750977,"y":2499.2859678268433,"wires":[["953575ec.ae9688"]]},{"id":"29b0b30a.33b8cc","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":903.6906356811523,"y":2498.035919189453,"wires":[["e9b20663.5dfd68"],[]]},{"id":"13ea976.690f569","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9526672363281,"y":2496.786129951477,"wires":[["29b0b30a.33b8cc"]]},{"id":"3066b9b.4a4c346","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1109.9407119750977,"y":2570.1193418502808,"wires":[["fdbd374a.c8c748"]]},{"id":"78a0c30c.eae91c","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":896.1906356811523,"y":2568.8692932128906,"wires":[["3066b9b.4a4c346"],[]]},{"id":"953575ec.ae9688","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":623.4526672363281,"y":2567.6195039749146,"wires":[["78a0c30c.eae91c"]]},{"id":"c7dfda5c.3b0c98","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":884.9406356811523,"y":2634.7025451660156,"wires":[["b07ca912.6737e8"],[]]},{"id":"fdbd374a.c8c748","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.4407577514648,"y":2633.452540397644,"wires":[["c7dfda5c.3b0c98"]]},{"id":"b07ca912.6737e8","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1113.6907806396484,"y":2630.9525480270386,"wires":[["70ffa90f.10ec48"]]},{"id":"ab576605.1ee518","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":912.4407119750977,"y":2718.4525938034058,"wires":[["1938426b.647cbe"],[]]},{"id":"70ffa90f.10ec48","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":609.9408340454102,"y":2717.202589035034,"wires":[["ab576605.1ee518"]]},{"id":"d56cbbd6.0ce748","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1103.6907119750977,"y":2793.4525938034058,"wires":[["b94e95c1.fd16c8"]]},{"id":"1938426b.647cbe","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1123.6907119750977,"y":2717.6193418502808,"wires":[["819e9edb.6396c"]]},{"id":"28c07d8e.2bde92","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":892.4407119750977,"y":2789.7025938034058,"wires":[["d56cbbd6.0ce748"],[]]},{"id":"819e9edb.6396c","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.9408340454102,"y":2788.452589035034,"wires":[["28c07d8e.2bde92"]]},{"id":"56d717ff.bf5168","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":846.1907119750977,"y":2867.6193418502808,"wires":[["9970e444.1fb588"],[]]},{"id":"b94e95c1.fd16c8","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.6908340454102,"y":2866.369337081909,"wires":[["56d717ff.bf5168"]]},{"id":"38f3ec5.6fe8b14","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":807.4407119750977,"y":2958.8693418502808,"wires":[["286c8c74.8df564"],[]]},{"id":"bbb2b929.44de28","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":504.94083404541016,"y":2957.619337081909,"wires":[["38f3ec5.6fe8b14"]]},{"id":"9970e444.1fb588","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.690860748291,"y":2865.9525594711304,"wires":[["bbb2b929.44de28"]]},{"id":"3eb108bb.c6dbd8","type":"function","z":"ec6b84fa.e5e0a8","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":719.6904983520508,"y":533.2023582458496,"wires":[["d39a70b3.d4676"]]},{"id":"d39a70b3.d4676","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":976.1429138183594,"y":544.0592918395996,"wires":[["1cdbe732.2ac3a9"],[]]},{"id":"1cdbe732.2ac3a9","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.654884338379,"y":540.5594463348389,"wires":[["3fa24fd.022efb"]]},{"id":"76c2f197.2e20c","type":"function","z":"ec6b84fa.e5e0a8","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":712.7399597167969,"y":707.2154521942139,"wires":[["f36dbeb0.34a56"]]},{"id":"f36dbeb0.34a56","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":969.1923751831055,"y":718.0723857879639,"wires":[["a9c03795.760ad8"],[]]},{"id":"a9c03795.760ad8","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.704345703125,"y":714.5725402832031,"wires":[["a4ec1be2.234148"]]},{"id":"a4ec1be2.234148","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1388.9898681640625,"y":699.8543758392334,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6b9a4f9a.61a65"],[]]},{"id":"6b9a4f9a.61a65","type":"function","z":"ec6b84fa.e5e0a8","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9066925048828,"y":848.1876678466797,"wires":[["3c04be97.19afc2"]]},{"id":"3c04be97.19afc2","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":985.8591079711914,"y":849.0446033477783,"wires":[["21d869a0.2c4046"],[]]},{"id":"21d869a0.2c4046","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1191.3711395263672,"y":843.0447177886963,"wires":[["ad4ca44f.ba8b48"]]},{"id":"fecf1bd2.dd2a68","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1397.7398643493652,"y":1001.6598424911499,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cb8fae25.53615"]]},{"id":"cb8fae25.53615","type":"function","z":"ec6b84fa.e5e0a8","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":728.9899787902832,"y":1155.1320323944092,"wires":[["a9e27548.bd2c38"]]},{"id":"a9e27548.bd2c38","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":991.1923866271973,"y":1157.989019393921,"wires":[["1d3aed87.507eb2"],[]]},{"id":"1d3aed87.507eb2","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1189.704502105713,"y":1157.9891548156738,"wires":[["c29651c3.5c4f2"]]},{"id":"7ece11e6.77eb","type":"function","z":"ec6b84fa.e5e0a8","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.5733489990234,"y":1263.604299545288,"wires":[["782519da.fe4ab8"]]},{"id":"782519da.fe4ab8","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":955.7757568359375,"y":1266.4612865447998,"wires":[["16e59849.398a78"],[]]},{"id":"16e59849.398a78","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1154.2878723144531,"y":1266.4614219665527,"wires":[["efa603a3.35fca"]]},{"id":"efa603a3.35fca","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.5732879638672,"y":1299.854299545288,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["4072f2b6.9552fc"],[],[]]},{"id":"4072f2b6.9552fc","type":"function","z":"ec6b84fa.e5e0a8","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.906608581543,"y":1389.159818649292,"wires":[["ad01043f.723e08"]]},{"id":"ad01043f.723e08","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":984.109016418457,"y":1392.0168056488037,"wires":[["4e852142.b4dcf"],[]]},{"id":"4e852142.b4dcf","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.6211318969727,"y":1392.0169410705566,"wires":[["15305807.48c288"]]},{"id":"69dd9172.878fb","type":"function","z":"ec6b84fa.e5e0a8","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":701.4899291992188,"y":1562.4931621551514,"wires":[["18390dfe.b2bde2"]]},{"id":"18390dfe.b2bde2","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":963.6923370361328,"y":1565.350149154663,"wires":[["f728c98e.d30e68"],[]]},{"id":"f728c98e.d30e68","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.2044525146484,"y":1565.350284576416,"wires":[["b75c7aa8.733c58"]]},{"id":"b75c7aa8.733c58","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.9898681640625,"y":1554.0208721160889,"wires":[[],[],[],[],[],[],[],[],[],[],[],["12186bcd.20c9e4"],[],[],[],[]]},{"id":"35017af1.c31f56","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1362.7400512695312,"y":1956.1048431396484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5b47be12.d8c71"]]},{"id":"e5f23ccc.7b22a","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1152.8570156097412,"y":2099.993224143982,"wires":[["d468fd61.d27bb"]]},{"id":"388e1d0e.554e92","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":939.3450374603271,"y":2103.7429523468018,"wires":[["e5f23ccc.7b22a"],[]]},{"id":"5b47be12.d8c71","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.3570785522461,"y":2106.242983818054,"wires":[["388e1d0e.554e92"]]},{"id":"d468fd61.d27bb","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1538.9900703430176,"y":2113.2289962768555,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3419c359.a4a2dc"],[]]},{"id":"3419c359.a4a2dc","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":672.8787460327148,"y":2233.743224143982,"wires":[["f4e5e8a1.88e348"]]},{"id":"f4e5e8a1.88e348","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":936.8667049407959,"y":2231.2431926727295,"wires":[["1eca321a.8063de"],[]]},{"id":"1eca321a.8063de","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.37868309021,"y":2227.4934644699097,"wires":[["6f322ced.8308d4"]]},{"id":"6f322ced.8308d4","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1348.0176010131836,"y":2243.743224143982,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["b43308b.ad6d2f8"],[],[]]},{"id":"19465aaa.772945","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1601.6860733032227,"y":209.69043731689453,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["f09f5bb8.bb9168"],[],[]]},{"id":"3fa24fd.022efb","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1628.156608581543,"y":551.659833908081,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["76c2f197.2e20c"]]},{"id":"ad4ca44f.ba8b48","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1575.6566162109375,"y":834.4376029968262,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["6acb2e96.39fdf"],[],[]]},{"id":"c29651c3.5c4f2","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1637.7398948669434,"y":1126.3820552825928,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["7ece11e6.77eb"],[]]},{"id":"15305807.48c288","type":"function","z":"ec6b84fa.e5e0a8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1635.6565475463867,"y":1391.659818649292,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["69dd9172.878fb"],[],[],[]]},{"id":"fda2e21d.982dd","type":"http response","z":"ec6b84fa.e5e0a8","name":"","x":1321.3572807312012,"y":2949.892738342285,"wires":[]},{"id":"cfa14b.0f2dbeb8","type":"debug","z":"ec6b84fa.e5e0a8","name":"","active":true,"console":"false","complete":"payload","x":1350.3455123901367,"y":3003.666630744934,"wires":[]},{"id":"3ae38cb7.acdf44","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1477.7994689941406,"y":906.4464769363403,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["9f32fca4.a7e42"],[],[]]},{"id":"b099b1f6.614ec","type":"http in","z":"64e1bfa5.5ebd3","name":"","url":"/status/all_system_4_5_6","method":"get","swaggerDoc":"","x":165,"y":169.15173435211182,"wires":[["e2e57531.8e94d8"]]},{"id":"d34a173d.cfcd78","type":"inject","z":"64e1bfa5.5ebd3","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":334.20635986328125,"y":241.05644130706787,"wires":[["e2e57531.8e94d8"]]},{"id":"988460f7.0fcee","type":"function","z":"64e1bfa5.5ebd3","name":"with_1C","func":"//var status_all_k4 = msg.payload;\nvar status_all_k4 = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all_k4;\nflow.set('status_all_k4',status_all_k4);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":532.8897094726562,"y":222.2469892501831,"wires":[["15de4a0c.3c1ef6"]]},{"id":"6228f93b.e46ab8","type":"function","z":"64e1bfa5.5ebd3","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":916.282958984375,"y":3052.1283016204834,"wires":[["71394631.08e3a8"]]},{"id":"71394631.08e3a8","type":"function","z":"64e1bfa5.5ebd3","name":"response","func":"\nmsg.payload = flow.get('status_all_k4');\nvar k4 = msg.payload;\nflow.set('k4',k4);\nreturn msg;","outputs":1,"noerr":0,"x":1052.6283836364746,"y":3053.6639251708984,"wires":[["1d21c250.53d3ae"]]},{"id":"8f8f9f09.b3b5f","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":767.3335723876953,"y":380.21134090423584,"wires":[["d4656d38.6a06b"],[]]},{"id":"c9da38f7.71d568","type":"function","z":"64e1bfa5.5ebd3","name":"R_12_b0","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.bit_18_status_pump = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":559.7144203186035,"y":377.83044052124023,"wires":[["8f8f9f09.b3b5f"]]},{"id":"d4656d38.6a06b","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":996.0242233276367,"y":373.66389656066895,"wires":[["8f32fb2c.b8d458"]]},{"id":"8f32fb2c.b8d458","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1177.6581497192383,"y":450.9851408004761,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5e4a96b7.1af178"]]},{"id":"5e4a96b7.1af178","type":"function","z":"64e1bfa5.5ebd3","name":"R_12_b1","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.bit_0_status_klapan = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":529.8928146362305,"y":470.1519193649292,"wires":[["1a68f56b.d2aa2b"]]},{"id":"1a68f56b.d2aa2b","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":748.3452224731445,"y":474.2589349746704,"wires":[["e8284a61.d57148"],[]]},{"id":"e8284a61.d57148","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":994.3571624755859,"y":470.5090141296387,"wires":[["f7616b4e.9e8668"]]},{"id":"f7616b4e.9e8668","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1381.229679107666,"y":494.5565118789673,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6c9ff635.d09838"],[]]},{"id":"15de4a0c.3c1ef6","type":"function","z":"64e1bfa5.5ebd3","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":696.8967895507812,"y":220.80657291412354,"wires":[["b181a7.b96b7e58"]]},{"id":"287a7e12.adf142","type":"function","z":"64e1bfa5.5ebd3","name":"R_1_bit_3(18)","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.bit_0_status_pump = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":679.9921417236328,"y":291.8780641555786,"wires":[["ee4a79db.a0a7a8"]]},{"id":"b181a7.b96b7e58","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":892.0159454345703,"y":218.18745231628418,"wires":[["3045b78c.4f5888"],[]]},{"id":"ee4a79db.a0a7a8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":886.777660369873,"y":292.2351026535034,"wires":[["191351cf.cabb7e"],[]]},{"id":"3045b78c.4f5888","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.2065734863281,"y":215.39002799987793,"wires":[["fb8b2fd0.eb2e8"]]},{"id":"191351cf.cabb7e","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1071.122917175293,"y":297.2350826263428,"wires":[["c4d5990.0672668"]]},{"id":"fb8b2fd0.eb2e8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1344.8408737182617,"y":241.29456424713135,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["287a7e12.adf142"]]},{"id":"c4d5990.0672668","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1503.8289260864258,"y":281.6993112564087,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["c9da38f7.71d568"],[],[]]},{"id":"9f32fca4.a7e42","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_0","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":595.8333778381348,"y":1078.377893447876,"wires":[["60fea966.1a1ee8"]]},{"id":"60fea966.1a1ee8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":829.2857856750488,"y":1078.7348108291626,"wires":[["c6992a03.416488"],[]]},{"id":"c6992a03.416488","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1030.297779083252,"y":1082.4849729537964,"wires":[["66d1328b.1731fc"]]},{"id":"256c3376.e65e4c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":792.5003204345703,"y":1726.7117166519165,"wires":[["6f8266e2.0c7c18"],[]]},{"id":"bcad5a4e.38c7a8","type":"function","z":"64e1bfa5.5ebd3","name":"R_36+1_t_flow","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.register_error_status_bit_4 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":500.0003318786621,"y":1734.2117357254028,"wires":[["256c3376.e65e4c"]]},{"id":"6f8266e2.0c7c18","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":987.5003967285156,"y":1729.2117795944214,"wires":[["4dc925f5.f708dc"]]},{"id":"c7271a18.4ce348","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":790.0002632141113,"y":1789.2116556167603,"wires":[["e69f6f1.81fa69"],[]]},{"id":"4dc925f5.f708dc","type":"function","z":"64e1bfa5.5ebd3","name":"R_38+1_plotnost_flow","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.t_flow  = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":522.5002517700195,"y":1789.2116556167603,"wires":[["c7271a18.4ce348"]]},{"id":"e69f6f1.81fa69","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":985.0003395080566,"y":1791.7117185592651,"wires":[["9944b346.a752e"]]},{"id":"6c73b6b.dedd948","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1000.0002632141113,"y":1860.4616556167603,"wires":[["fbcb27dd.293778"]]},{"id":"c41e3e4c.6b582","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":798.9882698059082,"y":1856.7114934921265,"wires":[["6c73b6b.dedd948"],[]]},{"id":"9944b346.a752e","type":"function","z":"64e1bfa5.5ebd3","name":"R_83_second_for_scada","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.plotnost_flow = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":529.2858924865723,"y":1850.1046495437622,"wires":[["c41e3e4c.6b582"]]},{"id":"8638609d.d1291","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1002.5002632141113,"y":1930.0449686050415,"wires":[["19fb4ae6.749d15"]]},{"id":"93298f38.646f1","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":801.4882698059082,"y":1926.2948064804077,"wires":[["8638609d.d1291"],[]]},{"id":"fbcb27dd.293778","type":"function","z":"64e1bfa5.5ebd3","name":"R_5002_mode_system","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.second_for_scada  = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":528.7503318786621,"y":1920.0450019836426,"wires":[["93298f38.646f1"]]},{"id":"578227e5.d3f998","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1000.0002632141113,"y":1997.1282815933228,"wires":[["bd875237.7e56"]]},{"id":"21a8ea85.ed9a86","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":798.9882698059082,"y":1993.378119468689,"wires":[["578227e5.d3f998"],[]]},{"id":"19fb4ae6.749d15","type":"function","z":"64e1bfa5.5ebd3","name":"R_5004_zayavka","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.mode_system = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":506.2503318786621,"y":1982.1282796859741,"wires":[["21a8ea85.ed9a86"]]},{"id":"f2374c3d.730e2","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1061.0002098083496,"y":2134.3783435821533,"wires":[["50cd472f.fd05d8"]]},{"id":"674c0f28.bb5bd","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":828.4881820678711,"y":2132.1281604766846,"wires":[["f2374c3d.730e2"],[]]},{"id":"4e0b99d5.507f98","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1045.833641052246,"y":2434.2116384506226,"wires":[["cd2e242d.aa32a8"]]},{"id":"47d591b9.41835","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":832.0835647583008,"y":2432.9615898132324,"wires":[["4e0b99d5.507f98"],[]]},{"id":"16bddc36.74b944","type":"function","z":"64e1bfa5.5ebd3","name":"R_5006+1_setpoint","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.095630645752,"y":2437.962077140808,"wires":[["47d591b9.41835"]]},{"id":"a4875ca4.82dfa","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1039.5835647583008,"y":2495.4615898132324,"wires":[["36154b76.1ac5d4"]]},{"id":"66fd92b1.e323dc","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":825.8334884643555,"y":2494.2115411758423,"wires":[["a4875ca4.82dfa"],[]]},{"id":"cd2e242d.aa32a8","type":"function","z":"64e1bfa5.5ebd3","name":"R_5008+1_set_lflow_start","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.setpoint   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":563.0955200195312,"y":2492.961751937866,"wires":[["66fd92b1.e323dc"]]},{"id":"7bbc39db.49dc48","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1019.5835647583008,"y":2571.2948417663574,"wires":[["68af9c77.0dd534"]]},{"id":"6f1bdc82.2cdeb4","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":805.8334884643555,"y":2570.0447931289673,"wires":[["7bbc39db.49dc48"],[]]},{"id":"36154b76.1ac5d4","type":"function","z":"64e1bfa5.5ebd3","name":"R_5010+1_set_lflow_stop","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.set_lflow_start   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.0955200195312,"y":2568.795003890991,"wires":[["6f1bdc82.2cdeb4"]]},{"id":"dbf429bb.c20698","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1012.0835647583008,"y":2642.128215789795,"wires":[["a8a4eaa1.a46448"]]},{"id":"880861c3.9d58e","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":798.3334884643555,"y":2640.878167152405,"wires":[["dbf429bb.c20698"],[]]},{"id":"68af9c77.0dd534","type":"function","z":"64e1bfa5.5ebd3","name":"R_5012+1_protok_min","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.set_lflow_stop   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":525.5955200195312,"y":2639.6283779144287,"wires":[["880861c3.9d58e"]]},{"id":"a007bc72.85f5e","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":787.0834884643555,"y":2706.71141910553,"wires":[["d1c9955d.5f8bb8"],[]]},{"id":"a8a4eaa1.a46448","type":"function","z":"64e1bfa5.5ebd3","name":"R_5014+1_protok_dead_time","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.protok_min   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":514.583610534668,"y":2705.461414337158,"wires":[["a007bc72.85f5e"]]},{"id":"d1c9955d.5f8bb8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1015.8336334228516,"y":2702.9614219665527,"wires":[["372265a9.53e52a"]]},{"id":"20eb19d5.7400e6","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":814.5835647583008,"y":2790.46146774292,"wires":[["f6dd26da.6245d8"],[]]},{"id":"372265a9.53e52a","type":"function","z":"64e1bfa5.5ebd3","name":"R_5016+1_counter_1","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.protok_dead_time   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.0836868286133,"y":2789.2114629745483,"wires":[["20eb19d5.7400e6"]]},{"id":"62fc5a83.27c804","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1005.8335647583008,"y":2865.46146774292,"wires":[["1ed9674f.0a6239"]]},{"id":"f6dd26da.6245d8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1025.8335647583008,"y":2789.628215789795,"wires":[["11b0972d.c07769"]]},{"id":"5badcc94.d08ca4","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":794.5835647583008,"y":2861.71146774292,"wires":[["62fc5a83.27c804"],[]]},{"id":"11b0972d.c07769","type":"function","z":"64e1bfa5.5ebd3","name":"R_5018+1_counter_2","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.counter_1   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":492.0836868286133,"y":2860.4614629745483,"wires":[["5badcc94.d08ca4"]]},{"id":"4b1044cf.7ebc6c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":748.3335647583008,"y":2939.628215789795,"wires":[["2d72a40c.72601c"],[]]},{"id":"1ed9674f.0a6239","type":"function","z":"64e1bfa5.5ebd3","name":"R_5020+3_counter_3","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.counter_2   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":445.8336868286133,"y":2938.3782110214233,"wires":[["4b1044cf.7ebc6c"]]},{"id":"e7bef9d5.2030b8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":709.5835647583008,"y":3030.878215789795,"wires":[["6228f93b.e46ab8"],[]]},{"id":"1ec46cab.55bb43","type":"function","z":"64e1bfa5.5ebd3","name":"R_5020+3_counter_3","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.counter_3   = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":407.0836868286133,"y":3029.6282110214233,"wires":[["e7bef9d5.2030b8"]]},{"id":"2d72a40c.72601c","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":985.8337135314941,"y":2937.9614334106445,"wires":[["1ec46cab.55bb43"]]},{"id":"6c9ff635.d09838","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_0","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.bit_1_status_klapan = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":621.8333511352539,"y":605.2112321853638,"wires":[["e0de7e69.cbd99"]]},{"id":"e0de7e69.cbd99","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":878.2857666015625,"y":616.0681657791138,"wires":[["dd7a1b57.8e7938"],[]]},{"id":"dd7a1b57.8e7938","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.797737121582,"y":612.568320274353,"wires":[["8c7fc167.352f7"]]},{"id":"8c7fc167.352f7","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1530.299461364746,"y":623.6687078475952,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cad4b9bd.790cd8"]]},{"id":"cad4b9bd.790cd8","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_1","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":614.8828125,"y":779.224326133728,"wires":[["b059393.d7032c8"]]},{"id":"b059393.d7032c8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":871.3352279663086,"y":790.081259727478,"wires":[["c4f2c705.e89bf8"],[]]},{"id":"c4f2c705.e89bf8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1076.8471984863281,"y":786.5814142227173,"wires":[["8253a170.55b4"]]},{"id":"8253a170.55b4","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1291.1327209472656,"y":771.8632497787476,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["749e1e9f.1a3aa"],[]]},{"id":"749e1e9f.1a3aa","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_2","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":624.0495452880859,"y":920.1965417861938,"wires":[["1116f7c1.530dd8"]]},{"id":"1116f7c1.530dd8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":888.0019607543945,"y":921.0534772872925,"wires":[["37c77b16.984cb4"],[]]},{"id":"37c77b16.984cb4","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.5139923095703,"y":915.0535917282104,"wires":[["3ae38cb7.acdf44"]]},{"id":"66d1328b.1731fc","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1299.8827171325684,"y":1073.668716430664,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["aa979302.81c12"]]},{"id":"aa979302.81c12","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_1","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.register_error_status_bit_0 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":631.1328315734863,"y":1227.1409063339233,"wires":[["cecd4ce9.59e98"]]},{"id":"cecd4ce9.59e98","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":893.3352394104004,"y":1229.997893333435,"wires":[["22e215fa.c3833a"],[]]},{"id":"22e215fa.c3833a","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1091.847354888916,"y":1229.998028755188,"wires":[["229ca562.d4e75a"]]},{"id":"229ca562.d4e75a","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1539.8827476501465,"y":1198.390929222107,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["938bf4ec.d13ba8"],[]]},{"id":"938bf4ec.d13ba8","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_2","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.register_error_status_bit_1 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":595.7162017822266,"y":1335.6131734848022,"wires":[["877fcdda.83171"]]},{"id":"877fcdda.83171","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":857.9186096191406,"y":1338.470160484314,"wires":[["360ea17f.38911e"],[]]},{"id":"360ea17f.38911e","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1056.4307250976562,"y":1338.470295906067,"wires":[["9ff4f4da.60b4a8"]]},{"id":"9ff4f4da.60b4a8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1360.7161407470703,"y":1371.8631734848022,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["d89174ac.c72f68"],[],[]]},{"id":"d89174ac.c72f68","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_3","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.register_error_status_bit_2 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":624.0494613647461,"y":1461.1686925888062,"wires":[["d1e759ab.34bbd8"]]},{"id":"d1e759ab.34bbd8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":886.2518692016602,"y":1464.0256795883179,"wires":[["76caeafe.4fb534"],[]]},{"id":"76caeafe.4fb534","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1084.7639846801758,"y":1464.0258150100708,"wires":[["5ac62509.4b263c"]]},{"id":"24594afd.5a8fa6","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_4","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.register_error_status_bit_3 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":603.6327819824219,"y":1634.5020360946655,"wires":[["37aa1b15.1a3e34"]]},{"id":"37aa1b15.1a3e34","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":865.8351898193359,"y":1637.3590230941772,"wires":[["1227b408.0301cc"],[]]},{"id":"1227b408.0301cc","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1064.3473052978516,"y":1637.3591585159302,"wires":[["3fa0d7ee.cb5e68"]]},{"id":"5ac62509.4b263c","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1537.7994003295898,"y":1463.6686925888062,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["24594afd.5a8fa6"],[],[],[]]},{"id":"3fa0d7ee.cb5e68","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1361.1327209472656,"y":1626.029746055603,"wires":[[],[],[],[],[],[],[],[],[],[],[],["bcad5a4e.38c7a8"],[],[],[],[]]},{"id":"50cd472f.fd05d8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1268.6329040527344,"y":2033.113624572754,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cc6fd959.f204f8"]]},{"id":"8f9d7104.ae4de","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1057.9999656677246,"y":2221.0023097991943,"wires":[["d00a615d.91e64"]]},{"id":"a96b18d9.2ed9c8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":827.4879379272461,"y":2210.751943588257,"wires":[["8f9d7104.ae4de"],[]]},{"id":"cc6fd959.f204f8","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":539.4999542236328,"y":2207.2520656585693,"wires":[["a96b18d9.2ed9c8"]]},{"id":"d00a615d.91e64","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1396.1328449249268,"y":2169.2376251220703,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["560ca687.162ed8"],[]]},{"id":"560ca687.162ed8","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":575.021598815918,"y":2305.752098083496,"wires":[["437ee37a.2e65fc"]]},{"id":"437ee37a.2e65fc","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":839.009557723999,"y":2303.2520666122437,"wires":[["58d5e659.418908"],[]]},{"id":"58d5e659.418908","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1052.521535873413,"y":2299.502338409424,"wires":[["5fa29426.1953ec"]]},{"id":"5fa29426.1953ec","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1250.1604537963867,"y":2315.752098083496,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["16bddc36.74b944"],[],[]]},{"id":"a83cdd40.0179b","type":"switch","z":"64e1bfa5.5ebd3","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"},{"t":"eq","v":"5","vt":"num"}],"checkall":"true","outputs":3,"x":1886.3740768432617,"y":166.29456424713135,"wires":[["988460f7.0fcee"],["1ff8f035.4844"],["54a2986a.bce348"]]},{"id":"e2e57531.8e94d8","type":"function","z":"64e1bfa5.5ebd3","name":"","func":"msg.payload = 5;\nreturn msg;","outputs":1,"noerr":0,"x":691.6120338439941,"y":157.49993896484375,"wires":[["a83cdd40.0179b"]]},{"id":"1ff8f035.4844","type":"function","z":"64e1bfa5.5ebd3","name":"with_1C","func":"//var status_all_k5 = msg.payload;\nvar status_all_k5 = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n \n };\n \nmsg.payload = status_all_k5;\nflow.set('status_all_k5',status_all_k5);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1958.1526184082031,"y":262.49695205688477,"wires":[["54d78938.e15a68"]]},{"id":"eb54f9af.4ba6a8","type":"function","z":"64e1bfa5.5ebd3","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2796.5458488464355,"y":3026.429051399231,"wires":[["fcb8efd4.2b381"]]},{"id":"fcb8efd4.2b381","type":"function","z":"64e1bfa5.5ebd3","name":"response","func":"\nmsg.payload = flow.get('status_all_k5');\nvar k5 = msg.payload;\nflow.set('k5',k5);\nreturn msg;","outputs":1,"noerr":0,"x":2937.8910789489746,"y":3051.298028945923,"wires":[["1d21c250.53d3ae"]]},{"id":"bc3a388b.567718","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2335.9297981262207,"y":400.4612989425659,"wires":[["9a31f5cd.3ad358"],[]]},{"id":"ad8f7611.da2358","type":"function","z":"64e1bfa5.5ebd3","name":"R_12_b0","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.bit_18_status_pump = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2123.3106002807617,"y":408.79775524139404,"wires":[["bc3a388b.567718"]]},{"id":"9a31f5cd.3ad358","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2547.9536628723145,"y":393.91388607025146,"wires":[["8c735d41.3911c"]]},{"id":"8c735d41.3911c","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2756.2545471191406,"y":527.9017724990845,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a57d345c.7f27d8"]]},{"id":"a57d345c.7f27d8","type":"function","z":"64e1bfa5.5ebd3","name":"R_12_b1","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.bit_0_status_klapan = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2061.8224601745605,"y":681.1192235946655,"wires":[["e0265445.e9b058"]]},{"id":"e0265445.e9b058","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2280.2748680114746,"y":685.2262392044067,"wires":[["a457a0ae.8d6d4"],[]]},{"id":"a457a0ae.8d6d4","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2526.286808013916,"y":681.476318359375,"wires":[["724964a4.0fedbc"]]},{"id":"724964a4.0fedbc","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2898.1594276428223,"y":653.8570871353149,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["40b11f77.ead11"],[]]},{"id":"54d78938.e15a68","type":"function","z":"64e1bfa5.5ebd3","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2167.159553527832,"y":264.3898582458496,"wires":[["1df84b04.b67c35"]]},{"id":"f1471a1a.fc09a8","type":"function","z":"64e1bfa5.5ebd3","name":"R_1_bit_3(18)","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.bit_0_status_pump = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2150.2549057006836,"y":335.4613494873047,"wires":[["6743857f.8e101c"]]},{"id":"1df84b04.b67c35","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2362.278709411621,"y":261.77073764801025,"wires":[["ad9158c8.716c18"],[]]},{"id":"6743857f.8e101c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2357.040424346924,"y":335.8183879852295,"wires":[["1b7725ae.608fba"],[]]},{"id":"ad9158c8.716c18","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2553.469337463379,"y":258.973313331604,"wires":[["82d6f075.db859"]]},{"id":"1b7725ae.608fba","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2541.3856811523438,"y":340.81836795806885,"wires":[["9a419b9d.343d38"]]},{"id":"82d6f075.db859","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2748.436882019043,"y":277.9612283706665,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f1471a1a.fc09a8"]]},{"id":"9a419b9d.343d38","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2927.424934387207,"y":345.2826089859009,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["ad8f7611.da2358"],[],[]]},{"id":"49361d5c.6c3d44","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_0","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2216.096279144287,"y":1149.3452463150024,"wires":[["9813ef4d.518bc"]]},{"id":"9813ef4d.518bc","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2493.8342056274414,"y":1175.4164543151855,"wires":[["39b5aa49.318526"],[]]},{"id":"39b5aa49.318526","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2723.4179763793945,"y":1156.3094453811646,"wires":[["9c0ca11c.2c7f6"]]},{"id":"1ae718ed.cf7387","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2521.0966987609863,"y":1716.0122385025024,"wires":[["77775cf0.d84b34"],[]]},{"id":"dc728a72.3f0da8","type":"function","z":"64e1bfa5.5ebd3","name":"R_36+1_t_flow","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.register_error_status_bit_4 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2228.596710205078,"y":1723.5122575759888,"wires":[["1ae718ed.cf7387"]]},{"id":"77775cf0.d84b34","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2716.0967750549316,"y":1718.5123014450073,"wires":[["3cf45a86.4c2cd6"]]},{"id":"74c759b5.1f2288","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2518.5966415405273,"y":1778.5121774673462,"wires":[["71bea2a7.f9adfc"],[]]},{"id":"3cf45a86.4c2cd6","type":"function","z":"64e1bfa5.5ebd3","name":"R_38+1_plotnost_flow","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.t_flow  = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2251.0966300964355,"y":1778.5121774673462,"wires":[["74c759b5.1f2288"]]},{"id":"71bea2a7.f9adfc","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2713.5967178344727,"y":1781.012240409851,"wires":[["8e9cebac.731608"]]},{"id":"cc993afc.cf3cd8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2728.5966415405273,"y":1849.7621774673462,"wires":[["727d41ed.e372a"]]},{"id":"f00819c.cbfbde8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2527.584648132324,"y":1846.0120153427124,"wires":[["cc993afc.cf3cd8"],[]]},{"id":"8e9cebac.731608","type":"function","z":"64e1bfa5.5ebd3","name":"R_83_second_for_scada","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.plotnost_flow = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2257.8822708129883,"y":1839.4051713943481,"wires":[["f00819c.cbfbde8"]]},{"id":"5e58de4d.3cb4","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2731.0966415405273,"y":1919.3454904556274,"wires":[["ab6990f0.042bf"]]},{"id":"235257db.d73128","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2530.084648132324,"y":1915.5953283309937,"wires":[["5e58de4d.3cb4"],[]]},{"id":"727d41ed.e372a","type":"function","z":"64e1bfa5.5ebd3","name":"R_5002_mode_system","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.second_for_scada  = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2257.346710205078,"y":1909.3455238342285,"wires":[["235257db.d73128"]]},{"id":"8b23a38a.24e29","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2729.9296340942383,"y":1968.0956897735596,"wires":[["2349d7b.4490728"]]},{"id":"8d6d3f12.d7c6c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2510.9179077148438,"y":1965.3455057144165,"wires":[["8b23a38a.24e29"],[]]},{"id":"ab6990f0.042bf","type":"function","z":"64e1bfa5.5ebd3","name":"R_5004_zayavka","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.mode_system = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2229.1801681518555,"y":1972.0957474708557,"wires":[["8d6d3f12.d7c6c"]]},{"id":"3fce4a55.2dc9f6","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2776.9296131134033,"y":2106.0122833251953,"wires":[["ed253c53.38716"]]},{"id":"193ec6ee.a88c29","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2563.4176349639893,"y":2109.762011528015,"wires":[["3fce4a55.2dc9f6"],[]]},{"id":"b42df4ec.8e4b58","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2854.42977142334,"y":2453.5120458602905,"wires":[["52c67e1d.4ddc7"]]},{"id":"5cfcf5e5.a403dc","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2640.6796951293945,"y":2452.2619972229004,"wires":[["b42df4ec.8e4b58"],[]]},{"id":"70f5e35a.c11b4c","type":"function","z":"64e1bfa5.5ebd3","name":"R_5006+1_setpoint","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2351.6917610168457,"y":2457.262484550476,"wires":[["5cfcf5e5.a403dc"]]},{"id":"50e20279.8910cc","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2848.1796951293945,"y":2514.7619972229004,"wires":[["24393000.70c8f"]]},{"id":"9559a956.1b0368","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2634.429618835449,"y":2513.5119485855103,"wires":[["50e20279.8910cc"],[]]},{"id":"52c67e1d.4ddc7","type":"function","z":"64e1bfa5.5ebd3","name":"R_5008+1_set_lflow_start","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.setpoint   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2371.691650390625,"y":2512.262159347534,"wires":[["9559a956.1b0368"]]},{"id":"817bd987.c54538","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2828.1796951293945,"y":2590.5952491760254,"wires":[["4a709fbc.95625"]]},{"id":"a7afbd0f.2771e","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2614.429618835449,"y":2589.3452005386353,"wires":[["817bd987.c54538"],[]]},{"id":"24393000.70c8f","type":"function","z":"64e1bfa5.5ebd3","name":"R_5010+1_set_lflow_stop","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.set_lflow_start   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2351.691650390625,"y":2588.095411300659,"wires":[["a7afbd0f.2771e"]]},{"id":"56a4d1ba.fe93a","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2820.6796951293945,"y":2661.428623199463,"wires":[["20da55ae.30e20a"]]},{"id":"7ea4735e.32e2dc","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2606.929618835449,"y":2660.1785745620728,"wires":[["56a4d1ba.fe93a"],[]]},{"id":"4a709fbc.95625","type":"function","z":"64e1bfa5.5ebd3","name":"R_5012+1_protok_min","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.set_lflow_stop   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2334.191650390625,"y":2658.9287853240967,"wires":[["7ea4735e.32e2dc"]]},{"id":"9820d468.d2e7f8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2595.679618835449,"y":2726.0118265151978,"wires":[["5e89efd5.ab5cb"],[]]},{"id":"20da55ae.30e20a","type":"function","z":"64e1bfa5.5ebd3","name":"R_5014+1_protok_dead_time","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.protok_min   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2323.1797409057617,"y":2724.761821746826,"wires":[["9820d468.d2e7f8"]]},{"id":"5e89efd5.ab5cb","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":2824.4297637939453,"y":2722.2618293762207,"wires":[["bd18a3af.fc1b6"]]},{"id":"cb70b65e.2ca718","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2689.8462562561035,"y":2798.0953636169434,"wires":[["6c9f7f3b.40764"],[]]},{"id":"bd18a3af.fc1b6","type":"function","z":"64e1bfa5.5ebd3","name":"R_5016+1_counter_1","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.protok_dead_time   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2387.346378326416,"y":2796.845358848572,"wires":[["cb70b65e.2ca718"]]},{"id":"d0aa0443.c94078","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2881.0962562561035,"y":2873.0953636169434,"wires":[["91c3bf14.13da1"]]},{"id":"6c9f7f3b.40764","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2901.0962562561035,"y":2797.2621116638184,"wires":[["4ce54c69.aaf0a4"]]},{"id":"cbe58069.95bb2","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2669.8462562561035,"y":2869.3453636169434,"wires":[["d0aa0443.c94078"],[]]},{"id":"4ce54c69.aaf0a4","type":"function","z":"64e1bfa5.5ebd3","name":"R_5018+1_counter_2","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.counter_1   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2367.346378326416,"y":2868.095358848572,"wires":[["cbe58069.95bb2"]]},{"id":"6087c445.547dbc","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2623.5962562561035,"y":2947.2621116638184,"wires":[["bbf65069.b0b81"],[]]},{"id":"91c3bf14.13da1","type":"function","z":"64e1bfa5.5ebd3","name":"R_5020+3_counter_3","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.counter_2   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2321.096378326416,"y":2946.012106895447,"wires":[["6087c445.547dbc"]]},{"id":"4dd84a50.967a54","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2601.5130882263184,"y":3021.845634460449,"wires":[["eb54f9af.4ba6a8"],[]]},{"id":"41fc4d0a.9b57a4","type":"function","z":"64e1bfa5.5ebd3","name":"R_5020+3_counter_3","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.counter_3   = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2282.346378326416,"y":3037.262106895447,"wires":[["4dd84a50.967a54"]]},{"id":"bbf65069.b0b81","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2861.096405029297,"y":2945.595329284668,"wires":[["41fc4d0a.9b57a4"]]},{"id":"40b11f77.ead11","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_0","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.bit_1_status_klapan = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2143.7627296447754,"y":789.5118608474731,"wires":[["64dd4334.a1c9ec"]]},{"id":"64dd4334.a1c9ec","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2400.215145111084,"y":800.3687944412231,"wires":[["a7882563.2b5c98"],[]]},{"id":"a7882563.2b5c98","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2605.7271156311035,"y":796.8689489364624,"wires":[["c6ecbcf5.b1d3"]]},{"id":"c6ecbcf5.b1d3","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3058.8959064483643,"y":786.3026742935181,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f11cd693.c9cd48"]]},{"id":"f11cd693.c9cd48","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_1","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2173.479145050049,"y":896.8582334518433,"wires":[["335f17a2.4eb578"]]},{"id":"335f17a2.4eb578","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2429.9315605163574,"y":907.7151670455933,"wires":[["47506ca6.eb8644"],[]]},{"id":"47506ca6.eb8644","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2635.443531036377,"y":904.2153215408325,"wires":[["7b0e27c6.3c4b88"]]},{"id":"7b0e27c6.3c4b88","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2909.7288665771484,"y":942.8304681777954,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["441795dc.362edc"],[]]},{"id":"441795dc.362edc","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_2","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2179.3123893737793,"y":1027.8304815292358,"wires":[["e07394ba.280558"]]},{"id":"e07394ba.280558","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2443.264804840088,"y":1028.6874170303345,"wires":[["b86e643f.479e08"],[]]},{"id":"b86e643f.479e08","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2648.7768363952637,"y":1022.6875314712524,"wires":[["c2319a15.0d6cd8"]]},{"id":"c2319a15.0d6cd8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3186.3959884643555,"y":1004.5566482543945,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["49361d5c.6c3d44"],[],[]]},{"id":"9c0ca11c.2c7f6","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2918.478946685791,"y":1216.3026361465454,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["aa28e2dc.ade54"]]},{"id":"aa28e2dc.ade54","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_1","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.register_error_status_bit_0 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2181.395648956299,"y":1274.7749185562134,"wires":[["5ebaa9de.d5dd08"]]},{"id":"5ebaa9de.d5dd08","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2443.598056793213,"y":1277.631905555725,"wires":[["9feb29e4.409748"],[]]},{"id":"9feb29e4.409748","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2642.1101722717285,"y":1277.632040977478,"wires":[["82634984.3b1a48"]]},{"id":"82634984.3b1a48","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3091.8122177124023,"y":1351.0248346328735,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f0983816.249a38"],[]]},{"id":"f0983816.249a38","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_2","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.register_error_status_bit_1 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2230.9790534973145,"y":1381.5804262161255,"wires":[["2e30c484.24089c"]]},{"id":"2e30c484.24089c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2493.1814613342285,"y":1384.4374132156372,"wires":[["554b2a30.34ed64"],[]]},{"id":"554b2a30.34ed64","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2691.693576812744,"y":1384.4375486373901,"wires":[["214b31cf.d1876e"]]},{"id":"214b31cf.d1876e","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2912.6458053588867,"y":1471.1638040542603,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["88e34387.b2244"],[],[]]},{"id":"88e34387.b2244","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_3","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.register_error_status_bit_2 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2262.6458015441895,"y":1527.1359977722168,"wires":[["9846eb96.f9e698"]]},{"id":"9846eb96.f9e698","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2533.419532775879,"y":1507.1358480453491,"wires":[["758fc4d0.01ae0c"],[]]},{"id":"758fc4d0.01ae0c","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2723.360324859619,"y":1529.9931201934814,"wires":[["ce438721.48af18"]]},{"id":"9251885f.7cc418","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_4","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.register_error_status_bit_3 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2283.895839691162,"y":1620.4693040847778,"wires":[["d993e979.3b7548"]]},{"id":"d993e979.3b7548","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2537.5266723632812,"y":1614.7549171447754,"wires":[["37fb341c.f4970c"],[]]},{"id":"37fb341c.f4970c","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2744.610363006592,"y":1623.3264265060425,"wires":[["11c2a709.865289"]]},{"id":"ce438721.48af18","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3134.7291526794434,"y":1596.302659034729,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["9251885f.7cc418"],[],[],[]]},{"id":"11c2a709.865289","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2978.062858581543,"y":1730.3305139541626,"wires":[[],[],[],[],[],[],[],[],[],[],[],["dc728a72.3f0da8"],[],[],[],[]]},{"id":"ed253c53.38716","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2955.5623722076416,"y":2070.7476892471313,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8550b6ef.a37e18"]]},{"id":"acc4fa08.295f38","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2768.5960121154785,"y":2221.3029193878174,"wires":[["a238a9e5.6175c8"]]},{"id":"cd1d5797.0b2a48","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2555.0840339660645,"y":2225.052647590637,"wires":[["acc4fa08.295f38"],[]]},{"id":"8550b6ef.a37e18","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2291.0960750579834,"y":2227.5526790618896,"wires":[["cd1d5797.0b2a48"]]},{"id":"a238a9e5.6175c8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3109.728988647461,"y":2218.5384464263916,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6a16d426.efdddc"],[]]},{"id":"6a16d426.efdddc","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2288.617742538452,"y":2355.0529193878174,"wires":[["c416ce0a.a845a"]]},{"id":"c416ce0a.a845a","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2552.605701446533,"y":2352.552887916565,"wires":[["c997ad23.dd167"],[]]},{"id":"c997ad23.dd167","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2766.1176795959473,"y":2348.803159713745,"wires":[["32e02aa5.58b1b6"]]},{"id":"32e02aa5.58b1b6","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2963.756597518921,"y":2365.0529193878174,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["70f5e35a.c11b4c"],[],[]]},{"id":"1d21c250.53d3ae","type":"join","z":"64e1bfa5.5ebd3","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"payload","joiner":"","timeout":"1","count":"3","x":1922.6480979919434,"y":3178.085105895996,"wires":[["269e3b0e.613494","c1fcb290.c6646"]]},{"id":"c1fcb290.c6646","type":"debug","z":"64e1bfa5.5ebd3","name":"","active":true,"console":"false","complete":"payload","x":1986.457389831543,"y":2919.656446456909,"wires":[]},{"id":"269e3b0e.613494","type":"function","z":"64e1bfa5.5ebd3","name":"","func":"msg.res = flow.get('res2');\nmsg.payload = {\n    \"plc4\":flow.get('k4'),\n    \"plc5\":flow.get('k5'),\n    \"plc6\":flow.get('k6')\n    \n};\nreturn msg;","outputs":1,"noerr":0,"x":1785.6242446899414,"y":2921.5220975875854,"wires":[["c1fcb290.c6646","ec4256d.9df9da8"]]},{"id":"ec4256d.9df9da8","type":"http response","z":"64e1bfa5.5ebd3","name":"","x":2064.09232711792,"y":2837.243308067322,"wires":[]},{"id":"54a2986a.bce348","type":"function","z":"64e1bfa5.5ebd3","name":"with_1C","func":"//var status_all_k6 = msg.payload;\nvar status_all_k6 = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n \n };\n \nmsg.payload = status_all_k6;\nflow.set('status_all_k6',status_all_k6);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3618.205810546875,"y":225.8302879333496,"wires":[["979fcdcf.713bc"]]},{"id":"2c77d4d0.39319c","type":"function","z":"64e1bfa5.5ebd3","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4456.599040985107,"y":2989.762387275696,"wires":[["6416a51f.384bac"]]},{"id":"6416a51f.384bac","type":"function","z":"64e1bfa5.5ebd3","name":"response","func":"\nmsg.payload = flow.get('status_all_k6');\nvar k6 = msg.payload;\nflow.set('k6',k6);\nreturn msg;","outputs":1,"noerr":0,"x":4597.944320678711,"y":2984.631649851799,"wires":[["1d21c250.53d3ae"]]},{"id":"3941ea56.e31086","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":3995.9829902648926,"y":363.79463481903076,"wires":[["90461cfc.2630a"],[]]},{"id":"4fdc3713.6a2b78","type":"function","z":"64e1bfa5.5ebd3","name":"R_12_b0","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.bit_18_status_pump = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3783.3637924194336,"y":372.1310911178589,"wires":[["3941ea56.e31086"]]},{"id":"90461cfc.2630a","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4208.006855010986,"y":357.2472219467163,"wires":[["76d77a8a.2c1364"]]},{"id":"76d77a8a.2c1364","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4416.3077392578125,"y":491.2351083755493,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6d90b2f8.159aec"]]},{"id":"6d90b2f8.159aec","type":"function","z":"64e1bfa5.5ebd3","name":"R_12_b1","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.bit_0_status_klapan = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3721.8756523132324,"y":644.4525594711304,"wires":[["5c9330d3.d2e34"]]},{"id":"5c9330d3.d2e34","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":3940.3280601501465,"y":648.5595750808716,"wires":[["57373c96.f9e854"],[]]},{"id":"57373c96.f9e854","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4186.340000152588,"y":644.8096542358398,"wires":[["7f97fce.a280a04"]]},{"id":"7f97fce.a280a04","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4558.212619781494,"y":617.1904230117798,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a8f6a193.28c14"],[]]},{"id":"979fcdcf.713bc","type":"function","z":"64e1bfa5.5ebd3","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3827.212745666504,"y":227.72319412231445,"wires":[["94017d8e.a32b9"]]},{"id":"e30814ab.0a7be8","type":"function","z":"64e1bfa5.5ebd3","name":"R_1_bit_3(18)","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.bit_0_status_pump = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3810.3080978393555,"y":298.79468536376953,"wires":[["d7ff3f92.2f803"]]},{"id":"94017d8e.a32b9","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4022.331901550293,"y":225.1040735244751,"wires":[["6fdd1c98.3d6504"],[]]},{"id":"d7ff3f92.2f803","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4017.0936164855957,"y":299.15172386169434,"wires":[["a15da630.0ceca8"],[]]},{"id":"6fdd1c98.3d6504","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4213.522529602051,"y":222.30664920806885,"wires":[["9d3c1d3d.710d6"]]},{"id":"a15da630.0ceca8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4201.438873291016,"y":304.1517038345337,"wires":[["dbf613bf.66db"]]},{"id":"9d3c1d3d.710d6","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4408.490074157715,"y":241.29456424713135,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e30814ab.0a7be8"]]},{"id":"dbf613bf.66db","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4587.478126525879,"y":308.6159448623657,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["4fdc3713.6a2b78"],[],[]]},{"id":"e444163a.a31fc8","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_0","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3801.1495666503906,"y":1137.6786260604858,"wires":[["d99355e0.13f7e8"]]},{"id":"d99355e0.13f7e8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4114.6019287109375,"y":1148.0354571342468,"wires":[["16652d45.8d8b93"],[]]},{"id":"16652d45.8d8b93","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4315.6137771606445,"y":1150.118974685669,"wires":[["b6d4298c.f46bb8"]]},{"id":"b08046e6.25a548","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4181.149890899658,"y":1679.3455743789673,"wires":[["e1f07528.8f2168"],[]]},{"id":"1c9b4efb.a08921","type":"function","z":"64e1bfa5.5ebd3","name":"R_36+1_t_flow","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.register_error_status_bit_4 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3888.64990234375,"y":1686.8455934524536,"wires":[["b08046e6.25a548"]]},{"id":"e1f07528.8f2168","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4376.1499671936035,"y":1681.8456373214722,"wires":[["f960f72e.bceee8"]]},{"id":"4baa7d6e.2e6b14","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4178.649833679199,"y":1741.845513343811,"wires":[["46607ce8.f56eb4"],[]]},{"id":"f960f72e.bceee8","type":"function","z":"64e1bfa5.5ebd3","name":"R_38+1_plotnost_flow","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.t_flow  = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3911.1498222351074,"y":1741.845513343811,"wires":[["4baa7d6e.2e6b14"]]},{"id":"46607ce8.f56eb4","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4373.6499099731445,"y":1744.345576286316,"wires":[["fd4a5591.068fa8"]]},{"id":"c6c858f5.168ad8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4388.649833679199,"y":1813.095513343811,"wires":[["979e9610.9be0c8"]]},{"id":"6a8e5007.9a6b9","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4187.637840270996,"y":1809.3453512191772,"wires":[["c6c858f5.168ad8"],[]]},{"id":"fd4a5591.068fa8","type":"function","z":"64e1bfa5.5ebd3","name":"R_83_second_for_scada","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.plotnost_flow = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3917.93546295166,"y":1802.738507270813,"wires":[["6a8e5007.9a6b9"]]},{"id":"27cb8adb.904be6","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4391.149833679199,"y":1882.6788263320923,"wires":[["ed1db269.037c2"]]},{"id":"b5e7fae3.470858","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4190.137840270996,"y":1878.9286642074585,"wires":[["27cb8adb.904be6"],[]]},{"id":"979e9610.9be0c8","type":"function","z":"64e1bfa5.5ebd3","name":"R_5002_mode_system","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.second_for_scada  = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3917.39990234375,"y":1872.6788597106934,"wires":[["b5e7fae3.470858"]]},{"id":"ac806896.e17978","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4386.983383178711,"y":1929.4290008544922,"wires":[["28f11b8c.156804"]]},{"id":"490f6239.e70e3c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4171.971412658691,"y":1929.6788177490234,"wires":[["ac806896.e17978"],[]]},{"id":"ed1db269.037c2","type":"function","z":"64e1bfa5.5ebd3","name":"R_5004_zayavka","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.mode_system = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3871.2331314086914,"y":1931.4290008544922,"wires":[["490f6239.e70e3c"]]},{"id":"192f8aeb.3a23b5","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4445.983261108398,"y":2117.3458728790283,"wires":[["cb3717b.67a58e8"]]},{"id":"7d7c6f66.37a1c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4238.471054077148,"y":2114.0956897735596,"wires":[["192f8aeb.3a23b5"],[]]},{"id":"3b4cc75a.bdf888","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4514.482963562012,"y":2416.8453817367554,"wires":[["36b9124b.ccadde"]]},{"id":"2d4dd5e6.8cc48a","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4300.732887268066,"y":2415.5953330993652,"wires":[["3b4cc75a.bdf888"],[]]},{"id":"73088300.f7f89c","type":"function","z":"64e1bfa5.5ebd3","name":"R_5006+1_setpoint","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4011.7449531555176,"y":2420.595820426941,"wires":[["2d4dd5e6.8cc48a"]]},{"id":"42249a01.e7eb54","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4508.232887268066,"y":2478.0953330993652,"wires":[["2da96ea7.354142"]]},{"id":"60e566e0.869278","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4294.482810974121,"y":2476.845284461975,"wires":[["42249a01.e7eb54"],[]]},{"id":"36b9124b.ccadde","type":"function","z":"64e1bfa5.5ebd3","name":"R_5008+1_set_lflow_start","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.setpoint   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4031.744842529297,"y":2475.595495223999,"wires":[["60e566e0.869278"]]},{"id":"e6e3c2df.47cdc","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4488.232887268066,"y":2553.9285850524902,"wires":[["15eb8530.35a96b"]]},{"id":"653b9ee5.7d856","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4274.482810974121,"y":2552.6785364151,"wires":[["e6e3c2df.47cdc"],[]]},{"id":"2da96ea7.354142","type":"function","z":"64e1bfa5.5ebd3","name":"R_5010+1_set_lflow_stop","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.set_lflow_start   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4011.744842529297,"y":2551.428747177124,"wires":[["653b9ee5.7d856"]]},{"id":"142c7cdb.9326b3","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4480.732887268066,"y":2624.7619590759277,"wires":[["b429a65e.0fab68"]]},{"id":"c407ff9a.d742c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4266.982810974121,"y":2623.5119104385376,"wires":[["142c7cdb.9326b3"],[]]},{"id":"15eb8530.35a96b","type":"function","z":"64e1bfa5.5ebd3","name":"R_5012+1_protok_min","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.set_lflow_stop   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3994.244842529297,"y":2622.2621212005615,"wires":[["c407ff9a.d742c"]]},{"id":"579e83f5.f3c39c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4255.732810974121,"y":2689.3451623916626,"wires":[["5d85f9f0.16c468"],[]]},{"id":"b429a65e.0fab68","type":"function","z":"64e1bfa5.5ebd3","name":"R_5014+1_protok_dead_time","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.protok_min   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3983.2329330444336,"y":2688.095157623291,"wires":[["579e83f5.f3c39c"]]},{"id":"5d85f9f0.16c468","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":4484.482955932617,"y":2685.5951652526855,"wires":[["e130ff84.35722"]]},{"id":"fc59ee64.703c4","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4349.899448394775,"y":2761.428699493408,"wires":[["74adddb8.5a8df4"],[]]},{"id":"e130ff84.35722","type":"function","z":"64e1bfa5.5ebd3","name":"R_5016+1_counter_1","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.protok_dead_time   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4047.399570465088,"y":2760.1786947250366,"wires":[["fc59ee64.703c4"]]},{"id":"5ab501a8.85c43","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4541.149448394775,"y":2836.428699493408,"wires":[["46d64325.24aa1c"]]},{"id":"74adddb8.5a8df4","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4561.149448394775,"y":2760.595447540283,"wires":[["72b5ef9b.22cf5"]]},{"id":"1b1dbff5.37cfb","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4329.899448394775,"y":2832.678699493408,"wires":[["5ab501a8.85c43"],[]]},{"id":"72b5ef9b.22cf5","type":"function","z":"64e1bfa5.5ebd3","name":"R_5018+1_counter_2","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.counter_1   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":4027.399570465088,"y":2831.4286947250366,"wires":[["1b1dbff5.37cfb"]]},{"id":"6781a9a3.f78628","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4283.649448394775,"y":2910.595447540283,"wires":[["a99e7fef.c03f3"],[]]},{"id":"46d64325.24aa1c","type":"function","z":"64e1bfa5.5ebd3","name":"R_5020+3_counter_3","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.counter_2   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3981.149570465088,"y":2909.3454427719116,"wires":[["6781a9a3.f78628"]]},{"id":"174bec73.4cc744","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4261.56628036499,"y":2985.178970336914,"wires":[["2c77d4d0.39319c"],[]]},{"id":"cc98b3e8.91b27","type":"function","z":"64e1bfa5.5ebd3","name":"R_5020+3_counter_3","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.counter_3   = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3942.399570465088,"y":3000.5954427719116,"wires":[["174bec73.4cc744"]]},{"id":"a99e7fef.c03f3","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":4521.149597167969,"y":2908.928665161133,"wires":[["cc98b3e8.91b27"]]},{"id":"a8f6a193.28c14","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_0","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.bit_1_status_klapan = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3803.8159217834473,"y":752.845196723938,"wires":[["943af51d.32d118"]]},{"id":"943af51d.32d118","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4060.268337249756,"y":763.702130317688,"wires":[["9e4ff88c.783778"],[]]},{"id":"9e4ff88c.783778","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4265.780307769775,"y":760.2022848129272,"wires":[["4d959b80.5c8b54"]]},{"id":"4d959b80.5c8b54","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4718.949098587036,"y":749.6360101699829,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b0d8be0b.cee84"]]},{"id":"b0d8be0b.cee84","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_1","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3833.5323371887207,"y":860.1915693283081,"wires":[["f5cfeed8.4fbb4"]]},{"id":"f5cfeed8.4fbb4","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4089.9847526550293,"y":871.0485029220581,"wires":[["ed7f54cc.4d7bc8"],[]]},{"id":"ed7f54cc.4d7bc8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4295.496723175049,"y":867.5486574172974,"wires":[["68cff8db.6c4d38"]]},{"id":"68cff8db.6c4d38","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4569.78205871582,"y":906.1638040542603,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["70209ded.6cd8a4"],[]]},{"id":"70209ded.6cd8a4","type":"function","z":"64e1bfa5.5ebd3","name":"R_22_status_hend_vent_bit_2","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3829.3656005859375,"y":1014.0209865570068,"wires":[["1fca2014.6e0ec"]]},{"id":"1fca2014.6e0ec","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4107.604110717773,"y":1032.0207424163818,"wires":[["ee80ac82.c0643"],[]]},{"id":"ee80ac82.c0643","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4308.830028533936,"y":986.0208673477173,"wires":[["6755fc53.a27404"]]},{"id":"6755fc53.a27404","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4736.448932647705,"y":1040.7470560073853,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["e444163a.a31fc8"],[],[]]},{"id":"b6d4298c.f46bb8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4578.532138824463,"y":1179.6359720230103,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ffadd8a.a52f228"]]},{"id":"ffadd8a.a52f228","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_1","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.register_error_status_bit_0 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3841.4488410949707,"y":1238.1082544326782,"wires":[["4534b9f4.1abad8"]]},{"id":"4534b9f4.1abad8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4103.651248931885,"y":1240.96524143219,"wires":[["cdc08cca.18e4e"],[]]},{"id":"cdc08cca.18e4e","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4302.1633644104,"y":1240.9653768539429,"wires":[["6c327d41.9b12b4"]]},{"id":"6c327d41.9b12b4","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4751.865409851074,"y":1314.3581705093384,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["70e4dba2.d5fdf4"],[]]},{"id":"70e4dba2.d5fdf4","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_2","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.register_error_status_bit_1 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3891.0322456359863,"y":1344.9137620925903,"wires":[["c569697b.8a36a8"]]},{"id":"c569697b.8a36a8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4153.2346534729,"y":1347.770749092102,"wires":[["970d2e80.f5d92"],[]]},{"id":"970d2e80.f5d92","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4351.746768951416,"y":1347.770884513855,"wires":[["d6f11e13.06439"]]},{"id":"d6f11e13.06439","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4572.698997497559,"y":1434.497139930725,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["b11052e0.b7c46"],[],[]]},{"id":"b11052e0.b7c46","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_3","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.register_error_status_bit_2 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3922.6989936828613,"y":1490.4693336486816,"wires":[["ab790619.052be8"]]},{"id":"ab790619.052be8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4184.901401519775,"y":1493.3263206481934,"wires":[["4a097314.8f9a7c"],[]]},{"id":"4a097314.8f9a7c","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4383.413516998291,"y":1493.3264560699463,"wires":[["e444e6b8.90f118"]]},{"id":"ffffd5c0.0277f8","type":"function","z":"64e1bfa5.5ebd3","name":"R_25_register_error_status_bit_4","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.register_error_status_bit_3 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3943.949031829834,"y":1583.8026399612427,"wires":[["f653518c.93469"]]},{"id":"f653518c.93469","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4206.151439666748,"y":1586.6596269607544,"wires":[["67660ee7.2449d"],[]]},{"id":"67660ee7.2449d","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4404.663555145264,"y":1586.6597623825073,"wires":[["aebe3827.936178"]]},{"id":"e444e6b8.90f118","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4794.782344818115,"y":1559.6359949111938,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["ffffd5c0.0277f8"],[],[],[]]},{"id":"aebe3827.936178","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4604.782409667969,"y":1728.6637811660767,"wires":[[],[],[],[],[],[],[],[],[],[],[],["1c9b4efb.a08921"],[],[],[],[]]},{"id":"cb3717b.67a58e8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4615.6155643463135,"y":2034.0810251235962,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["35eb3d4e.9862a2"]]},{"id":"1b198479.4b53ac","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4428.64920425415,"y":2184.636255264282,"wires":[["57c3fad7.3f46f4"]]},{"id":"f26ebbba.fc1ff8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4215.137226104736,"y":2188.385983467102,"wires":[["1b198479.4b53ac"],[]]},{"id":"35eb3d4e.9862a2","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3951.1492671966553,"y":2190.8860149383545,"wires":[["f26ebbba.fc1ff8"]]},{"id":"57c3fad7.3f46f4","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4769.782180786133,"y":2181.8717823028564,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["21d6e40e.d55edc"],[]]},{"id":"21d6e40e.d55edc","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3948.670934677124,"y":2318.386255264282,"wires":[["1b2caead.6f7d91"]]},{"id":"1b2caead.6f7d91","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4212.658893585205,"y":2315.88622379303,"wires":[["8d0c675a.c042d8"],[]]},{"id":"8d0c675a.c042d8","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4426.170871734619,"y":2312.13649559021,"wires":[["9995747b.b12da8"]]},{"id":"9995747b.b12da8","type":"function","z":"64e1bfa5.5ebd3","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4905.8099365234375,"y":2309.3861236572266,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["73088300.f7f89c"],[],[]]},{"id":"f2a41740.4b9fb8","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["329b7e31.e5fd52","a9d7b2e.eb4e55"]]},{"id":"732a33b6.c8eeac","type":"function","z":"9338adab.2ba02","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["f2a41740.4b9fb8"]]},{"id":"a9d7b2e.eb4e55","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"6cef88aa.547da8","type":"function","z":"9338adab.2ba02","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["732a33b6.c8eeac"]]},{"id":"da6fb6f9.c1a898","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["6cef88aa.547da8","6a372853.37e508"]]},{"id":"812ba1e0.39496","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["6cef88aa.547da8"]]},{"id":"de3f6390.3329c","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":767.5554809570312,"y":173.65108585357666,"wires":[["a9d7b2e.eb4e55"],["fd5c073e.a133e8"]]},{"id":"fd5c073e.a133e8","type":"function","z":"9338adab.2ba02","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["ca818eac.af465"]]},{"id":"ca818eac.af465","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":644,"y":222.76220798492432,"wires":[[],["2a82b0f8.f2a2"]]},{"id":"c90e7c09.22fe6","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/status","method":"get","swaggerDoc":"","x":1675.3810424804688,"y":1039.6353549957275,"wires":[["cfac5405.e33b18"]]},{"id":"6a372853.37e508","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"5d76e1a9.13e7f","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/status","method":"post","swaggerDoc":"","x":1649.5477600097656,"y":1209.7186479568481,"wires":[["517858b7.a83bc8","21ceac6f.ae15e4"]]},{"id":"517858b7.a83bc8","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1881.797706604004,"y":1207.9686632156372,"wires":[["e7badddf.4a74"]]},{"id":"e7badddf.4a74","type":"function","z":"9338adab.2ba02","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2012.047695159912,"y":1211.3852586746216,"wires":[["ee581209.efdfc"]]},{"id":"a64f85a0.20f578","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2415.4605407714844,"y":1040.2702922821045,"wires":[]},{"id":"9765e730.1f8be8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1668.1588134765625,"y":992.9686660766602,"wires":[["cfac5405.e33b18"]]},{"id":"ee581209.efdfc","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2180.9365844726562,"y":1212.4963903427124,"wires":[[],["dcec19a.8b129e8"]]},{"id":"dcec19a.8b129e8","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2366.2421340942383,"y":1217.968674659729,"wires":[]},{"id":"d49aca8f.29d3e8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2033.9643859863281,"y":1041.9409008026123,"wires":[["8b6c334d.b7976"],[]]},{"id":"cfac5405.e33b18","type":"function","z":"9338adab.2ba02","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1860.1866035461426,"y":1039.718677520752,"wires":[["d49aca8f.29d3e8"]]},{"id":"20296f6f.ceba4","type":"comment","z":"9338adab.2ba02","name":"Read_R5002","info":"","x":1976.047721862793,"y":994.8575448989868,"wires":[]},{"id":"431af80f.0435d8","type":"comment","z":"9338adab.2ba02","name":"Write_R5002","info":"","x":1974.0198974609375,"y":1094.6353397369385,"wires":[]},{"id":"b10f9707.9b2858","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1651.797706604004,"y":1167.9686632156372,"wires":[["517858b7.a83bc8"]]},{"id":"63223c07.ee68b4","type":"http response","z":"9338adab.2ba02","name":"","x":2467.444538116455,"y":1099.4766283035278,"wires":[]},{"id":"ff8de85f.634f28","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2247.6032180786133,"y":1096.302043914795,"wires":[["63223c07.ee68b4"]]},{"id":"2a82b0f8.f2a2","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"72bf58d2.af7678","type":"function","z":"9338adab.2ba02","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["de3f6390.3329c"]]},{"id":"329b7e31.e5fd52","type":"function","z":"9338adab.2ba02","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["72bf58d2.af7678"]]},{"id":"d88fd08c.cd879","type":"comment","z":"9338adab.2ba02","name":"read_PLC input status","info":"","x":1969.8096008300781,"y":878.5400171279907,"wires":[]},{"id":"78ec9693.463f48","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PLCInputStatus","method":"get","swaggerDoc":"","x":1688.3651542663574,"y":917.7623062133789,"wires":[["9f5c23e2.3266b"]]},{"id":"9f5c23e2.3266b","type":"function","z":"9338adab.2ba02","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1889.3651542663574,"y":915.7623062133789,"wires":[["9e086cee.a59d8"]]},{"id":"9e086cee.a59d8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2085.3651542663574,"y":922.7623062133789,"wires":[["d13972ac.57336","7fc804a0.19bcbc"],[]]},{"id":"d13972ac.57336","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2284.3651542663574,"y":916.7623062133789,"wires":[]},{"id":"a02b24b8.d6bd58","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1627.3651542663574,"y":866.7623062133789,"wires":[["9f5c23e2.3266b"]]},{"id":"644c5562.2e158c","type":"comment","z":"9338adab.2ba02","name":"read_register_error","info":"","x":3880.285919189453,"y":1736.587802886963,"wires":[]},{"id":"58d9db56.067ca4","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/RegisterError","method":"get","swaggerDoc":"","x":3183.2858123779297,"y":1710.8100986480713,"wires":[["da2bfc90.c4fcf"]]},{"id":"efbee05.75ed72","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3218.95255279541,"y":1654.8100929260254,"wires":[["da2bfc90.c4fcf"]]},{"id":"9882dfd1.b1c4f","type":"comment","z":"9338adab.2ba02","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"c049479c.df2c38","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["bf0ed5e4.9284c8"]]},{"id":"bf0ed5e4.9284c8","type":"function","z":"9338adab.2ba02","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["ab2e75b0.47dcc8"]]},{"id":"ab2e75b0.47dcc8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":724.9999389648438,"y":1374.3176727294922,"wires":[["7c121281.f6902c"],[]]},{"id":"eabb99f8.2f4ca8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["bf0ed5e4.9284c8"]]},{"id":"2f8eadd9.80cc02","type":"comment","z":"9338adab.2ba02","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"bb0556e5.8e0c88","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["2ae05144.7568be"]]},{"id":"2ae05144.7568be","type":"function","z":"9338adab.2ba02","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["62fde1a3.7875d"]]},{"id":"62fde1a3.7875d","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":729.4443817138672,"y":1509.7620887756348,"wires":[["ffffe15d.65d63"],[]]},{"id":"8fa35f65.4b7a2","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["2ae05144.7568be"]]},{"id":"faf72c1a.44dd8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/resetError","method":"post","swaggerDoc":"","x":371.8888740539551,"y":1104.0955084562302,"wires":[["85f14a77.85ec38","ea3cdbdc.61bce8"]]},{"id":"9538af83.da46c","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1081.9998970031738,"y":1099.0955084562302,"wires":[]},{"id":"956f91e8.1f007","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":900.6666450500488,"y":1100.2065924406052,"wires":[["9538af83.da46c"],["9538af83.da46c"]]},{"id":"65a62b17.463414","type":"function","z":"9338adab.2ba02","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.8889045715332,"y":1099.8732184171677,"wires":[["956f91e8.1f007"]]},{"id":"85f14a77.85ec38","type":"function","z":"9338adab.2ba02","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":576.8888740539551,"y":1100.762159228325,"wires":[["65a62b17.463414"]]},{"id":"73593899.4691c8","type":"comment","z":"9338adab.2ba02","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"e33c660c.10dee8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["2373c29e.ed969e"]]},{"id":"2373c29e.ed969e","type":"function","z":"9338adab.2ba02","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["2889edac.510a82"]]},{"id":"2889edac.510a82","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":734.4443817138672,"y":1683.7620887756348,"wires":[["e7eb7477.f4c0a8"],[]]},{"id":"74a5a6a1.ff53c8","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"f43ec854.263308","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["2373c29e.ed969e"]]},{"id":"f3f282f7.183b9","type":"comment","z":"9338adab.2ba02","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"72a2c0e.671224","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["a43beef0.7c36b"]]},{"id":"a43beef0.7c36b","type":"function","z":"9338adab.2ba02","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["b84517f5.572468"]]},{"id":"b84517f5.572468","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":729.4443817138672,"y":1845.7620887756348,"wires":[["c9e5c68d.7c0188"],[]]},{"id":"170c6002.8ccf3","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"f1706ea.c2b9a9","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["a43beef0.7c36b"]]},{"id":"97de38c3.2131a8","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"f0cdc485.60ac58","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostFlow","method":"get","swaggerDoc":"","x":342.4443817138672,"y":1992.7620887756348,"wires":[["fbdac2c1.23f36"]]},{"id":"fbdac2c1.23f36","type":"function","z":"9338adab.2ba02","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["7346bb36.113d94"]]},{"id":"7346bb36.113d94","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":729.4443817138672,"y":1997.7620887756348,"wires":[["b5aaa1d3.76098"],[]]},{"id":"ebad950d.3ccee8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["fbdac2c1.23f36"]]},{"id":"4b636e22.ae4d4","type":"comment","z":"9338adab.2ba02","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"705c681b.5ab858","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlowMiddle","method":"get","swaggerDoc":"","x":342.4443817138672,"y":2154.7620887756348,"wires":[["892ad0e3.defbe"]]},{"id":"892ad0e3.defbe","type":"function","z":"9338adab.2ba02","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":2152.7620887756348,"wires":[["f74ddbcd.c54778"]]},{"id":"f74ddbcd.c54778","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":729.4443817138672,"y":2159.7620887756348,"wires":[["facd758b.872568"],[]]},{"id":"7f2099ed.c61cd8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["892ad0e3.defbe"]]},{"id":"1ed834ca.2893fb","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"58688793.b99be8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostMiddle","method":"get","swaggerDoc":"","x":349.33331298828125,"y":2337.7621850967407,"wires":[["95db7abc.e6dd08"]]},{"id":"95db7abc.e6dd08","type":"function","z":"9338adab.2ba02","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":540.3333129882812,"y":2335.7621850967407,"wires":[["df806130.72c0b"]]},{"id":"df806130.72c0b","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":736.3333129882812,"y":2342.7621850967407,"wires":[["90f4f3ca.266c7"],[]]},{"id":"560a5360.e6880c","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["95db7abc.e6dd08"]]},{"id":"df1e52d8.741da","type":"comment","z":"9338adab.2ba02","name":"write_error_reset","info":"","x":663.7777481079102,"y":1054.0954788923264,"wires":[]},{"id":"b0ce832b.b5e6f","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["c0845d94.cfca3","35e1f0f0.767d6"]]},{"id":"a0cd8597.fd4da8","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"51702abe.096904","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["a0cd8597.fd4da8"]]},{"id":"e8583556.370dc8","type":"function","z":"9338adab.2ba02","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["51702abe.096904"]]},{"id":"c0845d94.cfca3","type":"function","z":"9338adab.2ba02","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["e8583556.370dc8"]]},{"id":"4d5c8af.86ff674","type":"comment","z":"9338adab.2ba02","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"be5a3311.7da3b","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["76ec0953.23d4a8","44b05f35.5ff11"]]},{"id":"94fd99ab.5cc638","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"5a0d5af.7af48a4","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":902.055534362793,"y":2665.151086807251,"wires":[[],["94fd99ab.5cc638"]]},{"id":"e52c2329.229a2","type":"function","z":"9338adab.2ba02","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["5a0d5af.7af48a4"]]},{"id":"76ec0953.23d4a8","type":"function","z":"9338adab.2ba02","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["e52c2329.229a2"]]},{"id":"151606fb.a355c9","type":"comment","z":"9338adab.2ba02","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"a958bfcd.a75da","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/SetLflowStart","method":"post","swaggerDoc":"","x":337.99993896484375,"y":2911.4010763168335,"wires":[["674f9148.a41f7","728c23b4.9d8b5c"]]},{"id":"5bbade93.57d7e","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1123.9998474121094,"y":2981.42898273468,"wires":[]},{"id":"8c39e5b8.612b78","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":937.4722023010254,"y":2987.5121002197266,"wires":[["5bbade93.57d7e"],[]]},{"id":"4e570648.8220d8","type":"function","z":"9338adab.2ba02","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":751.3610191345215,"y":2990.1787118911743,"wires":[["8c39e5b8.612b78"]]},{"id":"674f9148.a41f7","type":"function","z":"9338adab.2ba02","name":"with_1c","func":"var setflowstart = msg.payload;\n /*var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":462.0277786254883,"y":2990.9845399856567,"wires":[["86831e7a.9d148"]]},{"id":"df292ddc.4c94a","type":"comment","z":"9338adab.2ba02","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"3bf15375.6ad60c","type":"comment","z":"9338adab.2ba02","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"c741b234.d6a9b","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/SetLflowStart","method":"get","swaggerDoc":"","x":375.9444046020508,"y":3116.178910255432,"wires":[["afa1ad7f.a159c"]]},{"id":"afa1ad7f.a159c","type":"function","z":"9338adab.2ba02","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["10247a0a.e7cac6"]]},{"id":"10247a0a.e7cac6","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":794.1944046020508,"y":3101.178910255432,"wires":[["978525af.f6a5b8"],[]]},{"id":"430847bc.43ef98","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"8f0a650.959e198","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["afa1ad7f.a159c"]]},{"id":"86831e7a.9d148","type":"function","z":"9338adab.2ba02","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":601.2776832580566,"y":2988.457148551941,"wires":[["4e570648.8220d8"]]},{"id":"96fb23a8.35e92","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["a5b2ad5.280365","3bddb4d6.7de37c"]]},{"id":"2aa2f12f.29edde","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":988.7221832275391,"y":3248.6232481002808,"wires":[["a280b08b.17b57"],[]]},{"id":"c672e46d.b17068","type":"function","z":"9338adab.2ba02","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":829.1388053894043,"y":3249.0675859451294,"wires":[["2aa2f12f.29edde"]]},{"id":"a5b2ad5.280365","type":"function","z":"9338adab.2ba02","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":552.444450378418,"y":3245.5675840377808,"wires":[["83200610.4cbcf8"]]},{"id":"f8817b63.07b148","type":"comment","z":"9338adab.2ba02","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"6daa4f03.8dcca","type":"comment","z":"9338adab.2ba02","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"308b5f7d.1ebdf","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/SetLflowStop","method":"get","swaggerDoc":"","x":414.55548095703125,"y":3389.650938987732,"wires":[["3d9b00cf.f2615"]]},{"id":"3d9b00cf.f2615","type":"function","z":"9338adab.2ba02","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["21ce11e1.1a58ee"]]},{"id":"21ce11e1.1a58ee","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":801.5554809570312,"y":3394.650938987732,"wires":[["9b54c95e.941cb8"],[]]},{"id":"9a1a7394.8c9a7","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["3d9b00cf.f2615"]]},{"id":"83200610.4cbcf8","type":"function","z":"9338adab.2ba02","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":695.4443435668945,"y":3248.17915725708,"wires":[["c672e46d.b17068"]]},{"id":"a280b08b.17b57","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1178.2776489257812,"y":3246.0121450424194,"wires":[]},{"id":"6f80a6e1.b52308","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["f7fdac5d.0d262","b4ccc917.6dbc68"]]},{"id":"b7c94a30.7717c8","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":969.555534362793,"y":3725.1510553359985,"wires":[["8de7ab9a.b818b8"],[]]},{"id":"2305d52d.1e321a","type":"function","z":"9338adab.2ba02","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":804.9721641540527,"y":3743.0953912734985,"wires":[["b7c94a30.7717c8"]]},{"id":"f7fdac5d.0d262","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":534.5278205871582,"y":3745.845390319824,"wires":[["7b2539c0.e45918"]]},{"id":"300a5b6a.df7f34","type":"comment","z":"9338adab.2ba02","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"e406dcee.d8078","type":"comment","z":"9338adab.2ba02","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"4af14357.97da0c","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["6a000cc.3aa9bf4"]]},{"id":"6a000cc.3aa9bf4","type":"function","z":"9338adab.2ba02","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["80be9884.620158"]]},{"id":"80be9884.620158","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":774.8888473510742,"y":3898.678889274597,"wires":[["d4d5bad7.d013a8"],[]]},{"id":"223874b3.74c0cc","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["6a000cc.3aa9bf4"]]},{"id":"7b2539c0.e45918","type":"function","z":"9338adab.2ba02","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":670.027702331543,"y":3745.9569635391235,"wires":[["2305d52d.1e321a"]]},{"id":"8de7ab9a.b818b8","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":1152.6110229492188,"y":3768.7897272109985,"wires":[]},{"id":"7dce80e4.dd596","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["69fb9e13.7e2ca","387fce7a.773ca2"]]},{"id":"96d21cbc.2ccce","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":965.8055877685547,"y":4129.206654548645,"wires":[["c00625d8.f76fb8"],[]]},{"id":"f1e02a30.5a2ab8","type":"comment","z":"9338adab.2ba02","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"955a2478.f028a8","type":"comment","z":"9338adab.2ba02","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"ff527d6c.016bb","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["96e8439c.f3665"]]},{"id":"96e8439c.f3665","type":"function","z":"9338adab.2ba02","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["928e8403.f37c18"]]},{"id":"928e8403.f37c18","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":739.8888473510742,"y":4276.734314918518,"wires":[["d6cc684a.100b98"],[]]},{"id":"46bc2b8e.39e984","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["96e8439c.f3665"]]},{"id":"c00625d8.f76fb8","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":1196.861026763916,"y":4119.095652580261,"wires":[]},{"id":"4d628750.189778","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":306.7499694824219,"y":2961.53994846344,"wires":[["674f9148.a41f7"]]},{"id":"b4a105b2.cdf318","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[["387fce7a.773ca2"]]},{"id":"21ceac6f.ae15e4","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":1901.7976913452148,"y":1150.1908597946167,"wires":[]},{"id":"e95224f8.e93e28","type":"comment","z":"9338adab.2ba02","name":"read_Upakovka_marshrut","info":"","x":1951.5555419921875,"y":97.41316318511963,"wires":[]},{"id":"ff370fe6.ece56","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1667.8889236450195,"y":159.96861743927002,"wires":[["771845f2.32617c"]]},{"id":"ff2269f5.d6c4d8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1590.2222366333008,"y":121.19088459014893,"wires":[["771845f2.32617c"]]},{"id":"af067ec0.27fd","type":"http response","z":"9338adab.2ba02","name":"","x":2427.9206886291504,"y":957.0956649780273,"wires":[]},{"id":"7fc804a0.19bcbc","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2272.365135192871,"y":961.5400876998901,"wires":[["af067ec0.27fd"]]},{"id":"ea3cdbdc.61bce8","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":485.77773666381836,"y":1059.3177012205124,"wires":[]},{"id":"8026b02c.558cd","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":313.9999542236328,"y":1061.4288004636765,"wires":[["85f14a77.85ec38"]]},{"id":"a4621be5.848cd8","type":"http response","z":"9338adab.2ba02","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"a8693277.79538","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["a4621be5.848cd8"]]},{"id":"7d7cf87d.a5ef28","type":"http response","z":"9338adab.2ba02","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"a642aa60.8eb948","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["7d7cf87d.a5ef28"]]},{"id":"44b05f35.5ff11","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"35e1f0f0.767d6","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"801ecd21.a039e","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["13683c18.5e8964"]]},{"id":"612a69c9.8deef8","type":"comment","z":"9338adab.2ba02","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"13683c18.5e8964","type":"function","z":"9338adab.2ba02","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["717258d.66439a8"]]},{"id":"717258d.66439a8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":729.2499389648438,"y":2824.178864479065,"wires":[["a7e33e44.714b8"],[]]},{"id":"d8559a1e.0faca8","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"f9fa83c4.7d5b6","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["a5ec690d.b527e8"]]},{"id":"a5ec690d.b527e8","type":"http response","z":"9338adab.2ba02","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"cf605c45.85b07","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["13683c18.5e8964"]]},{"id":"a8cc44fd.195928","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["cd63c1f0.51843"]]},{"id":"cd63c1f0.51843","type":"http response","z":"9338adab.2ba02","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"728c23b4.9d8b5c","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":562.9999465942383,"y":2941.678907394409,"wires":[]},{"id":"3bddb4d6.7de37c","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":450.4999465942383,"y":3177.928910255432,"wires":[]},{"id":"664805c9.6963bc","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":282.99993896484375,"y":3195.428864479065,"wires":[["a5b2ad5.280365"]]},{"id":"b4ccc917.6dbc68","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":556.6110610961914,"y":3690.151022911072,"wires":[]},{"id":"389bee15.263cc2","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[["f7fdac5d.0d262"]]},{"id":"69fb9e13.7e2ca","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":596.3333053588867,"y":4056.262143135071,"wires":[]},{"id":"636ab35d.6e038c","type":"comment","z":"9338adab.2ba02","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"cd337452.272cf8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["6ac261f2.ea4db"]]},{"id":"6ac261f2.ea4db","type":"function","z":"9338adab.2ba02","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["4dc3139e.67e5dc"]]},{"id":"4dc3139e.67e5dc","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":736.5554885864258,"y":4617.726898193359,"wires":[["b24731c.10c2bd"],[]]},{"id":"ab8b797a.c76df8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["6ac261f2.ea4db"]]},{"id":"6f74eba5.525a74","type":"comment","z":"9338adab.2ba02","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"dbb781d0.ac8e4","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["88672640.fa91c8"]]},{"id":"88672640.fa91c8","type":"function","z":"9338adab.2ba02","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["725f3217.43d20c"]]},{"id":"725f3217.43d20c","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":736.5554885864258,"y":4760.107833862305,"wires":[["5b803570.69dd5c"],[]]},{"id":"f1c51fdd.d7b88","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["88672640.fa91c8"]]},{"id":"978525af.f6a5b8","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["430847bc.43ef98","a8cc44fd.195928"]]},{"id":"c9e5c68d.7c0188","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["170c6002.8ccf3","a642aa60.8eb948"]]},{"id":"e7eb7477.f4c0a8","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["a8693277.79538","74a5a6a1.ff53c8"]]},{"id":"9d662b00.a005a8","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"bbff6c5.82b399","type":"http response","z":"9338adab.2ba02","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"42eb5014.f7597","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["bbff6c5.82b399"]]},{"id":"ffffe15d.65d63","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["42eb5014.f7597","9d662b00.a005a8"]]},{"id":"f527498c.029308","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"d9cf5c3b.8d063","type":"http response","z":"9338adab.2ba02","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"97c4676b.303f28","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["d9cf5c3b.8d063"]]},{"id":"7c121281.f6902c","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["97c4676b.303f28","f527498c.029308"]]},{"id":"24ee1982.43a2f6","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"762651da.3763a","type":"http response","z":"9338adab.2ba02","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"30c43a43.5b9f66","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["762651da.3763a"]]},{"id":"b5aaa1d3.76098","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["30c43a43.5b9f66","24ee1982.43a2f6"]]},{"id":"f743e4e5.349118","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"48e201b3.d6ee3","type":"http response","z":"9338adab.2ba02","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"a60557.4699baa8","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["48e201b3.d6ee3"]]},{"id":"facd758b.872568","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["a60557.4699baa8","f743e4e5.349118"]]},{"id":"e08fc7d4.68edd8","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"b5b21f5c.5f011","type":"http response","z":"9338adab.2ba02","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"609f2add.094dc4","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["b5b21f5c.5f011"]]},{"id":"90f4f3ca.266c7","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["609f2add.094dc4","e08fc7d4.68edd8"]]},{"id":"4c50a235.e0f2fc","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"1a0becc4.10b413","type":"http response","z":"9338adab.2ba02","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"2976c6ca.8e544a","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["1a0becc4.10b413"]]},{"id":"9b54c95e.941cb8","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["2976c6ca.8e544a","4c50a235.e0f2fc"]]},{"id":"1ffec132.ae77cf","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"589d455b.6d915c","type":"http response","z":"9338adab.2ba02","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"ae4d26f9.634628","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["589d455b.6d915c"]]},{"id":"d4d5bad7.d013a8","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["ae4d26f9.634628","1ffec132.ae77cf"]]},{"id":"c09a12bb.f223b","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"b5a5e362.35765","type":"http response","z":"9338adab.2ba02","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"50e64a64.309d64","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["b5a5e362.35765"]]},{"id":"3d8eff68.f8d9b","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"9ef09397.16362","type":"http response","z":"9338adab.2ba02","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"5ba8b383.cb814c","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["9ef09397.16362"]]},{"id":"b24731c.10c2bd","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["5ba8b383.cb814c","3d8eff68.f8d9b"]]},{"id":"7b0f3a8f.0644c4","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"22333d24.b916d2","type":"http response","z":"9338adab.2ba02","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"3121c782.c1b8b8","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["22333d24.b916d2"]]},{"id":"5b803570.69dd5c","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["3121c782.c1b8b8","7b0f3a8f.0644c4"]]},{"id":"4ce6bbbb.12d604","type":"comment","z":"9338adab.2ba02","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"61b2aa22.e6c334","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["557a687f.83c508"]]},{"id":"557a687f.83c508","type":"function","z":"9338adab.2ba02","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["256bfa99.9ec636"]]},{"id":"256bfa99.9ec636","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":750.5832901000977,"y":4913.679074287415,"wires":[["fd19da6f.e2ad48"],[]]},{"id":"e9d63fae.430ce","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["557a687f.83c508"]]},{"id":"14685d21.8b9273","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"a1d0ff08.90a41","type":"http response","z":"9338adab.2ba02","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"6681f8c4.f79ad8","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["a1d0ff08.90a41"]]},{"id":"fd19da6f.e2ad48","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["6681f8c4.f79ad8","14685d21.8b9273"]]},{"id":"e9fca563.7b06d8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["ad9d8a3b.3e98a8","c05a911e.07623"]]},{"id":"85508335.368ee","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"307b28d0.7a1278","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2847.0160369873047,"y":2257.968363761902,"wires":[["85508335.368ee"],[]]},{"id":"d25b52c0.bcca6","type":"comment","z":"9338adab.2ba02","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"ad9d8a3b.3e98a8","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"fbf452c0.8148c","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["c05a911e.07623"]]},{"id":"c05a911e.07623","type":"function","z":"9338adab.2ba02","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["6fdbc3b1.e8779c"]]},{"id":"6fdbc3b1.e8779c","type":"function","z":"9338adab.2ba02","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["307b28d0.7a1278"]]},{"id":"8464c0a7.55597","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"649e8d5f.580b64","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2743.8736000061035,"y":2363.159381389618,"wires":[["8464c0a7.55597"],[]]},{"id":"308b1ad4.d4fe96","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"250b568e.24265a","type":"modbus-flex-write","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["308b1ad4.d4fe96"],[]]},{"id":"ef8461ea.06e61","type":"comment","z":"9338adab.2ba02","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"aafdf5b8.6b3e08","type":"function","z":"9338adab.2ba02","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["22c294d7.c04bfc"]]},{"id":"22c294d7.c04bfc","type":"function","z":"9338adab.2ba02","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["250b568e.24265a"]]},{"id":"16d0474b.596b19","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["f769820a.54b2f","aafdf5b8.6b3e08"]]},{"id":"f769820a.54b2f","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"12e64166.15290f","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["aafdf5b8.6b3e08"]]},{"id":"505d8150.cca91","type":"function","z":"9338adab.2ba02","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["734d6a61.aeb584"]]},{"id":"734d6a61.aeb584","type":"function","z":"9338adab.2ba02","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["649e8d5f.580b64"]]},{"id":"e7fb5f4.f484aa","type":"comment","z":"9338adab.2ba02","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"5651737b.1795cc","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["86e09390.4585b","505d8150.cca91"]]},{"id":"86e09390.4585b","type":"http response","z":"9338adab.2ba02","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"1eeed432.d3ea7c","type":"comment","z":"9338adab.2ba02","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"5cddde81.6b62b","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["fab0559.06b04a8"]]},{"id":"fab0559.06b04a8","type":"function","z":"9338adab.2ba02","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["3081f10d.4f902e"]]},{"id":"3081f10d.4f902e","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2524.82515335083,"y":2829.377022743225,"wires":[["302eb8ec.c0b3f8"],[]]},{"id":"829926c3.bbf268","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"dab878f9.bbbfb8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["fab0559.06b04a8"]]},{"id":"f1fd5930.96c948","type":"http response","z":"9338adab.2ba02","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"cd45c645.be8a18","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["f1fd5930.96c948"]]},{"id":"1689974b.59c9c9","type":"comment","z":"9338adab.2ba02","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"b6bf92e9.d38ee","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["f4db193d.451098"]]},{"id":"f4db193d.451098","type":"function","z":"9338adab.2ba02","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["d94776bb.a33f58"]]},{"id":"d94776bb.a33f58","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2521.8252296447754,"y":2958.377064704895,"wires":[["21480dd8.f4a442"],[]]},{"id":"848c6d49.ca835","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["f4db193d.451098"]]},{"id":"e3dccd90.80623","type":"comment","z":"9338adab.2ba02","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"4f1d641f.8456cc","type":"comment","z":"9338adab.2ba02","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"d55ca0ed.450a4","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["cedc90e.50f427"]]},{"id":"cedc90e.50f427","type":"function","z":"9338adab.2ba02","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2331.213996887207,"y":3137.3770027160645,"wires":[["a2aa7cdd.5a3c1"]]},{"id":"a2aa7cdd.5a3c1","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2527.213996887207,"y":3144.3770027160645,"wires":[["7eb22fd3.9ef4c"],[]]},{"id":"c38a521b.8c70c","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["cedc90e.50f427"]]},{"id":"ae8a2adb.c6a668","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"b418ce69.597b6","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["5c27bb20.559b44"]]},{"id":"7eb22fd3.9ef4c","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["b418ce69.597b6","ae8a2adb.c6a668"]]},{"id":"5c27bb20.559b44","type":"http response","z":"9338adab.2ba02","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"1298e9d3.e9e906","type":"comment","z":"9338adab.2ba02","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"8dceec8d.ec871","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["ec29120.2c74bf"]]},{"id":"ec29120.2c74bf","type":"function","z":"9338adab.2ba02","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2329.7776107788086,"y":3282.724784851074,"wires":[["227adab3.a66b66"]]},{"id":"227adab3.a66b66","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2525.7776107788086,"y":3289.724784851074,"wires":[["85dae69.b920918"],[]]},{"id":"61b873.01c0d78c","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["ec29120.2c74bf"]]},{"id":"cf02c555.a94128","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"a7965edc.fce17","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["69b1ab12.a1d1f4"]]},{"id":"85dae69.b920918","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["a7965edc.fce17","cf02c555.a94128"]]},{"id":"69b1ab12.a1d1f4","type":"http response","z":"9338adab.2ba02","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"7946f5b3.85de5c","type":"comment","z":"9338adab.2ba02","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"421367a4.a7fd28","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["78b4dfa7.c6e2c"]]},{"id":"78b4dfa7.c6e2c","type":"function","z":"9338adab.2ba02","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2337.555320739746,"y":3412.724784851074,"wires":[["115c292.eb90ed7"]]},{"id":"115c292.eb90ed7","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2533.555320739746,"y":3419.724784851074,"wires":[["af63669c.82f7b8"],[]]},{"id":"e1d1fd46.2677e","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["78b4dfa7.c6e2c"]]},{"id":"13c7af9b.537c5","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"fccf31b7.dcb28","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["82feaa8.f244a58"]]},{"id":"af63669c.82f7b8","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["fccf31b7.dcb28","13c7af9b.537c5"]]},{"id":"82feaa8.f244a58","type":"http response","z":"9338adab.2ba02","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"21b1405a.6c057","type":"comment","z":"9338adab.2ba02","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"cbcf5b12.9580f8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["df7473c.0ac379"]]},{"id":"df7473c.0ac379","type":"function","z":"9338adab.2ba02","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2334.222068786621,"y":3547.169120788574,"wires":[["64b2e1f2.62b83"]]},{"id":"64b2e1f2.62b83","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2530.222068786621,"y":3554.169120788574,"wires":[["7265cbfb.b40104"],[]]},{"id":"14add88a.e398a7","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["df7473c.0ac379"]]},{"id":"a50d41f6.55079","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"17672f0b.a44ba1","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["7a756a3f.a36c24"]]},{"id":"7265cbfb.b40104","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["17672f0b.a44ba1","a50d41f6.55079"]]},{"id":"7a756a3f.a36c24","type":"http response","z":"9338adab.2ba02","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"4ec48896.b9e948","type":"comment","z":"9338adab.2ba02","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"8dd03ed1.891d6","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["a9c1352a.a9e108"]]},{"id":"a9c1352a.a9e108","type":"function","z":"9338adab.2ba02","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2328.666404724121,"y":3683.465507507324,"wires":[["be0e8a16.305ef8"]]},{"id":"be0e8a16.305ef8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2524.666404724121,"y":3690.465507507324,"wires":[["7927db6c.3b3f44"],[]]},{"id":"b7ed44ca.b22d58","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["a9c1352a.a9e108"]]},{"id":"8ef26ef7.24e1e","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"3cda94f3.31cd6c","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["9e72a146.cc1cf"]]},{"id":"7927db6c.3b3f44","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["3cda94f3.31cd6c","8ef26ef7.24e1e"]]},{"id":"9e72a146.cc1cf","type":"http response","z":"9338adab.2ba02","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"471d0335.c7e7cc","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"75790945.3b4048","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostFlow1","method":"get","swaggerDoc":"","x":2185.444290161133,"y":3917.9839010238647,"wires":[["e39568c2.70dcd8"]]},{"id":"e39568c2.70dcd8","type":"function","z":"9338adab.2ba02","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2376.444290161133,"y":3915.9839010238647,"wires":[["2c9bb976.9d84e6"]]},{"id":"2c9bb976.9d84e6","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2572.444290161133,"y":3922.9839010238647,"wires":[["78f7980a.98d818"],[]]},{"id":"8f69577b.b2b008","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["e39568c2.70dcd8"]]},{"id":"78f7980a.98d818","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["922d4ba4.b350f8","369f4b9f.8388a4"]]},{"id":"369f4b9f.8388a4","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"922d4ba4.b350f8","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["64b59ff3.fc4a"]]},{"id":"64b59ff3.fc4a","type":"http response","z":"9338adab.2ba02","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"94384b7d.302cb8","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"205d58db.c8f178","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostFlow2","method":"get","swaggerDoc":"","x":2183.222122192383,"y":4058.7246236801147,"wires":[["33f2252d.96b37a"]]},{"id":"33f2252d.96b37a","type":"function","z":"9338adab.2ba02","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2374.222122192383,"y":4056.7246236801147,"wires":[["3597e23f.dbfd3e"]]},{"id":"3597e23f.dbfd3e","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2570.222122192383,"y":4063.7246236801147,"wires":[["f2144ef5.9be37"],[]]},{"id":"a3547b46.f055d8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["33f2252d.96b37a"]]},{"id":"f2144ef5.9be37","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["8b664ee1.f2f23","27858093.7a636"]]},{"id":"27858093.7a636","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"8b664ee1.f2f23","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["a7accb8c.8c18e8"]]},{"id":"a7accb8c.8c18e8","type":"http response","z":"9338adab.2ba02","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"c76bf44d.a31358","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"254d13ff.30950c","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["6e35e5cf.03ff4c"]]},{"id":"6e35e5cf.03ff4c","type":"function","z":"9338adab.2ba02","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2360.8887481689453,"y":4214.502455711365,"wires":[["de158a1f.a09dc8"]]},{"id":"de158a1f.a09dc8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2556.8887481689453,"y":4221.502455711365,"wires":[["7cc45611.06ccf8"],[]]},{"id":"234ca817.3c3178","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["6e35e5cf.03ff4c"]]},{"id":"7cc45611.06ccf8","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["f79833b5.99ae3","17f07e8e.053151"]]},{"id":"17f07e8e.053151","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"f79833b5.99ae3","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["199ac46b.398e6c"]]},{"id":"199ac46b.398e6c","type":"http response","z":"9338adab.2ba02","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"f88ce0aa.5a0cc","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"9f4e2482.607d68","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostFlow4","method":"get","swaggerDoc":"","x":2172.111038208008,"y":4360.94703578949,"wires":[["2ebb2cfa.1638e4"]]},{"id":"2ebb2cfa.1638e4","type":"function","z":"9338adab.2ba02","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4358.94703578949,"wires":[["3a132454.3e115c"]]},{"id":"3a132454.3e115c","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2559.111038208008,"y":4365.94703578949,"wires":[["2f6bd24c.8951ce"],[]]},{"id":"2fa97fce.9b04b","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["2ebb2cfa.1638e4"]]},{"id":"2f6bd24c.8951ce","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["eb8db335.0c34","44416069.b39cc"]]},{"id":"44416069.b39cc","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"eb8db335.0c34","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["57575363.31bbec"]]},{"id":"57575363.31bbec","type":"http response","z":"9338adab.2ba02","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"541d77d4.9a1918","type":"comment","z":"9338adab.2ba02","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"1a24d648.fc4e3a","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["45f23afb.6c5534"]]},{"id":"45f23afb.6c5534","type":"function","z":"9338adab.2ba02","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4516.35426235199,"wires":[["d1d5a2bb.514bc"]]},{"id":"d1d5a2bb.514bc","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2559.111038208008,"y":4523.35426235199,"wires":[["aee2d2aa.fcd31"],[]]},{"id":"a70a59bc.5f6cf8","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["45f23afb.6c5534"]]},{"id":"aee2d2aa.fcd31","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["9f969150.7996c","6ad5408.47820c"]]},{"id":"6ad5408.47820c","type":"debug","z":"9338adab.2ba02","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"9f969150.7996c","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["9dd0d7f2.ff8a08"]]},{"id":"9dd0d7f2.ff8a08","type":"http response","z":"9338adab.2ba02","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"387fce7a.773ca2","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":475.7779769897461,"y":4135.652293205261,"wires":[["9d5ed7fa.6c7208"]]},{"id":"9d5ed7fa.6c7208","type":"function","z":"9338adab.2ba02","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":630.2778244018555,"y":4134.763295173645,"wires":[["57f5ea21.301674"]]},{"id":"57f5ea21.301674","type":"function","z":"9338adab.2ba02","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":798.72216796875,"y":4129.651316642761,"wires":[["96d21cbc.2ccce"]]},{"id":"d6cc684a.100b98","type":"function","z":"9338adab.2ba02","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["c09a12bb.f223b","50e64a64.309d64"]]},{"id":"5674519.502fbb","type":"comment","z":"9338adab.2ba02","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":4015.7423706054688,"y":80.86333560943604,"wires":[]},{"id":"cf1efcc3.6237d","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["19f9f39c.bca69c"]]},{"id":"80549f49.1e15c","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["19f9f39c.bca69c"]]},{"id":"b9d8b5ec.37e608","type":"comment","z":"9338adab.2ba02","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"19f9f39c.bca69c","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["97605cc9.30258"]]},{"id":"f11b0d33.5a85a","type":"function","z":"9338adab.2ba02","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["2a4bf3a1.c47eac"]]},{"id":"2a4bf3a1.c47eac","type":"function","z":"9338adab.2ba02","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["3f49344d.ea345c","3abc78ad.79a528"]]},{"id":"3f49344d.ea345c","type":"http response","z":"9338adab.2ba02","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"3abc78ad.79a528","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"97605cc9.30258","type":"function","z":"9338adab.2ba02","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["dcc65a96.950968"]]},{"id":"4714bbc0.ffd4c4","type":"function","z":"9338adab.2ba02","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["41e64953.b2dd28"]]},{"id":"dcc65a96.950968","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":946.3656005859375,"y":413.76866817474365,"wires":[["afd50f6a.beedb"],[]]},{"id":"41e64953.b2dd28","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":904.6988525390625,"y":492.102011680603,"wires":[["99777671.8bd4f8"],[]]},{"id":"32206c78.b90dc4","type":"function","z":"9338adab.2ba02","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["6a830910.68f168"]]},{"id":"6a830910.68f168","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":892.3139419555664,"y":555.7012310028076,"wires":[["27bacbd6.2dd794"],[]]},{"id":"27bacbd6.2dd794","type":"function","z":"9338adab.2ba02","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["dc733cc0.0b27e"]]},{"id":"dc733cc0.0b27e","type":"function","z":"9338adab.2ba02","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["d94b8e46.e2744"]]},{"id":"d94b8e46.e2744","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":897.3139419555664,"y":614.0345439910889,"wires":[["f11b0d33.5a85a"],[]]},{"id":"afd50f6a.beedb","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["4714bbc0.ffd4c4"]]},{"id":"99777671.8bd4f8","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["32206c78.b90dc4"]]},{"id":"8b6c334d.b7976","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2225.5280380249023,"y":1039.005986213684,"wires":[["ff8de85f.634f28","a64f85a0.20f578"]]},{"id":"a7e33e44.714b8","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["f9fa83c4.7d5b6","d8559a1e.0faca8"]]},{"id":"302eb8ec.c0b3f8","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["cd45c645.be8a18","829926c3.bbf268"]]},{"id":"6744033d.0b62fc","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"90aea6b1.518908","type":"http response","z":"9338adab.2ba02","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"8a27c148.63fe","type":"function","z":"9338adab.2ba02","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["90aea6b1.518908"]]},{"id":"21480dd8.f4a442","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["8a27c148.63fe","6744033d.0b62fc"]]},{"id":"52094493.07456c","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3649.6664428710938,"y":950.4288034439087,"wires":[["6c8113e4.77cc7c"],[]]},{"id":"ce21d341.685bd","type":"function","z":"9338adab.2ba02","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3477.047348022461,"y":953.0479164123535,"wires":[["52094493.07456c"]]},{"id":"6c8113e4.77cc7c","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3870.8571815490723,"y":936.3813934326172,"wires":[["2d02c90a.6528d6"]]},{"id":"17d4d70e.cfdaa9","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3285.1428756713867,"y":954.0002775192261,"wires":[["ce21d341.685bd"]]},{"id":"2d02c90a.6528d6","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4057.4912033081055,"y":924.9526329040527,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5ac66659.13d578"]]},{"id":"1383ac00.491d44","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":3068.364303588867,"y":902.8098621368408,"wires":[["17d4d70e.cfdaa9"]]},{"id":"a2c5187e.1ee5f8","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/StatusKlapan","method":"get","swaggerDoc":"","x":3032.729331970215,"y":955.190803527832,"wires":[["17d4d70e.cfdaa9"]]},{"id":"5ac66659.13d578","type":"function","z":"9338adab.2ba02","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3295.142593383789,"y":1074.9527111053467,"wires":[["a701c39b.3f43"]]},{"id":"a701c39b.3f43","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3506.094955444336,"y":1087.8096866607666,"wires":[["9d193fb0.ed0e1"],[]]},{"id":"9d193fb0.ed0e1","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3775.856861114502,"y":1067.8097858428955,"wires":[["3c463573.04d52a"]]},{"id":"3c463573.04d52a","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4199.396045684814,"y":1055.1906471252441,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8b505333.56b67"],[]]},{"id":"8b505333.56b67","type":"function","z":"9338adab.2ba02","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3207.967559814453,"y":1177.8098001480103,"wires":[["2cddfeaa.ddf622"]]},{"id":"2cddfeaa.ddf622","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3412.253059387207,"y":1174.9526920318604,"wires":[["99ede906.5e5c78"],[]]},{"id":"99ede906.5e5c78","type":"function","z":"9338adab.2ba02","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3593.681739807129,"y":1169.2384977340698,"wires":[["de3440e4.d667f"]]},{"id":"de3440e4.d667f","type":"function","z":"9338adab.2ba02","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":3774.3129348754883,"y":1173.6313376426697,"wires":[["417d429e.7dc90c","d07dbf2d.064ac"]]},{"id":"417d429e.7dc90c","type":"http response","z":"9338adab.2ba02","name":"","x":4032.812816619873,"y":1208.7623615264893,"wires":[]},{"id":"d07dbf2d.064ac","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":4051.801067352295,"y":1245.3931074142456,"wires":[]},{"id":"bbdc5c66.39d7e","type":"inject","z":"9338adab.2ba02","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":3075.189682006836,"y":447.09555292129517,"wires":[["412d4662.9c3ba8"]]},{"id":"412d4662.9c3ba8","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3291.9682540893555,"y":498.2859683036804,"wires":[["51ffff66.489fb"]]},{"id":"51ffff66.489fb","type":"function","z":"9338adab.2ba02","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3473.8727264404297,"y":497.33360719680786,"wires":[["859648da.6cfa48"]]},{"id":"45200c51.f6c324","type":"function","z":"9338adab.2ba02","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3391.967975616455,"y":595.9050297737122,"wires":[["5c7731b8.6e3e3"]]},{"id":"859648da.6cfa48","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3656.4918212890625,"y":494.71449422836304,"wires":[["a58aabdd.effcc8"],[]]},{"id":"5c7731b8.6e3e3","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3646.253589630127,"y":598.7621150016785,"wires":[["638c942f.d17dec"],[]]},{"id":"a58aabdd.effcc8","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3857.682518005371,"y":495.66707849502563,"wires":[["bf2b25fb.e5dc38"]]},{"id":"638c942f.d17dec","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3849.34881401062,"y":593.7620978355408,"wires":[["74ea362f.c5c8c8"]]},{"id":"bf2b25fb.e5dc38","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4030.983299255371,"y":390.9049859046936,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["45200c51.f6c324"]]},{"id":"74ea362f.c5c8c8","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4192.8880615234375,"y":549.4763603210449,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["bacee5f8.7d7e48"],[],[]]},{"id":"bacee5f8.7d7e48","type":"function","z":"9338adab.2ba02","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3308.1262283325195,"y":680.4287605285645,"wires":[["2a1be23d.b9b1be"]]},{"id":"2a1be23d.b9b1be","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3504.078399658203,"y":689.2382879257202,"wires":[["1762abda.847184"],[]]},{"id":"1762abda.847184","type":"function","z":"9338adab.2ba02","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3705.5071411132812,"y":690.190839767456,"wires":[["670f239.c27f7dc"]]},{"id":"670f239.c27f7dc","type":"function","z":"9338adab.2ba02","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":3839.4716796875,"y":692.9169445037842,"wires":[["fa72078e.d555f8","4f40be2.4c2f04"]]},{"id":"fa72078e.d555f8","type":"http response","z":"9338adab.2ba02","name":"","x":3996.3048515319824,"y":693.0479040145874,"wires":[]},{"id":"4f40be2.4c2f04","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":4030.2931365966797,"y":741.345386505127,"wires":[]},{"id":"d625347d.895248","type":"http in","z":"9338adab.2ba02","name":"","url":"/k2/StatusPump","method":"get","swaggerDoc":"","x":3029.5547103881836,"y":499.4764943122864,"wires":[["412d4662.9c3ba8"]]},{"id":"762aa33c.a31a1c","type":"function","z":"40593e3c.6faec","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["84f64459.e851e8"]]},{"id":"c4f92462.167b58","type":"inject","z":"40593e3c.6faec","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["762aa33c.a31a1c"]]},{"id":"957c3e86.8a0f8","type":"http in","z":"40593e3c.6faec","name":"","url":"/k2/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["762aa33c.a31a1c"]]},{"id":"84f64459.e851e8","type":"function","z":"40593e3c.6faec","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.26969146728516,"y":235.10162162780762,"wires":[["391f496c.eea676"]]},{"id":"391f496c.eea676","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":627.1229553222656,"y":234.18895053863525,"wires":[["154cdf3d.149a31"],[]]},{"id":"154cdf3d.149a31","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":808.2141876220703,"y":232.85718536376953,"wires":[["366dd8b0.423b08"]]},{"id":"366dd8b0.423b08","type":"function","z":"40593e3c.6faec","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":387.13871002197266,"y":278.2325859069824,"wires":[["db39821.2cde08"]]},{"id":"db39821.2cde08","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":585.1982192993164,"y":279.32783699035645,"wires":[["a1b1b61d.003108"],[]]},{"id":"a1b1b61d.003108","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":775.3570404052734,"y":278.57147455215454,"wires":[["2213b0e6.5fd44"]]},{"id":"2213b0e6.5fd44","type":"function","z":"40593e3c.6faec","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":392.9601593017578,"y":327.5540370941162,"wires":[["ae458a22.f66d88"]]},{"id":"ae458a22.f66d88","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":597.2417526245117,"y":324.48656940460205,"wires":[["48dd9f7c.99053"],[]]},{"id":"48dd9f7c.99053","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":801.2221145629883,"y":320.351598739624,"wires":[["ee05368.29444c8"]]},{"id":"ee05368.29444c8","type":"function","z":"40593e3c.6faec","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.9958953857422,"y":372.30401515960693,"wires":[["a324da35.7dfbb8"]]},{"id":"a324da35.7dfbb8","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":604.7417984008789,"y":372.700870513916,"wires":[["75c001b9.bbe2e"],[]]},{"id":"75c001b9.bbe2e","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":805.0437622070312,"y":365.8278532028198,"wires":[["f039b5bc.182f08"]]},{"id":"f039b5bc.182f08","type":"function","z":"40593e3c.6faec","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.6506652832031,"y":418.38728523254395,"wires":[["51286c0d.9e4774"]]},{"id":"51286c0d.9e4774","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":601.4005355834961,"y":419.1015748977661,"wires":[["bfc693c5.f60c8"],[]]},{"id":"bfc693c5.f60c8","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.8453674316406,"y":413.65710830688477,"wires":[["f8a441fc.03f8a"]]},{"id":"f8a441fc.03f8a","type":"function","z":"40593e3c.6faec","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":399.25770568847656,"y":460.53014183044434,"wires":[["b981df09.65f91"]]},{"id":"b981df09.65f91","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":602.7057266235352,"y":462.5817823410034,"wires":[["4be685a.cf2557c"],[]]},{"id":"4be685a.cf2557c","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.2933387756348,"y":458.5658645629883,"wires":[["b6c93ad4.68be48"]]},{"id":"b6c93ad4.68be48","type":"function","z":"40593e3c.6faec","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":398.00768280029297,"y":504.6372718811035,"wires":[["12a5fe40.cd7fb2"]]},{"id":"12a5fe40.cd7fb2","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":600.5628623962402,"y":513.8317775726318,"wires":[["be0d737b.38968"],[]]},{"id":"be0d737b.38968","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":806.5790710449219,"y":498.3872718811035,"wires":[["a68791d3.3a987"]]},{"id":"a68791d3.3a987","type":"function","z":"40593e3c.6faec","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":385.50769805908203,"y":548.9230284690857,"wires":[["382afe8f.91ed42"]]},{"id":"382afe8f.91ed42","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":600.0271911621094,"y":560.7960548400879,"wires":[["374543c3.964bbc"],[]]},{"id":"374543c3.964bbc","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.6147842407227,"y":549.6373100280762,"wires":[["826f8736.189bd8"]]},{"id":"826f8736.189bd8","type":"function","z":"40593e3c.6faec","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.82908630371094,"y":600.7088451385498,"wires":[["d28b686.1529398"]]},{"id":"d28b686.1529398","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":607.8843231201172,"y":605.0817642211914,"wires":[["3ea71a5d.ac5c06"],[]]},{"id":"3ea71a5d.ac5c06","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.1862144470215,"y":598.2087173461914,"wires":[["34aefbea.43c0c4"]]},{"id":"34aefbea.43c0c4","type":"function","z":"40593e3c.6faec","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":378.3887023925781,"y":649.9111614227295,"wires":[["54df7935.f7e7a8"]]},{"id":"54df7935.f7e7a8","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":603.1346893310547,"y":657.1651706695557,"wires":[["fe3600bd.15ad2"],[]]},{"id":"fe3600bd.15ad2","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.2933387756348,"y":652.9706268310547,"wires":[["8c77de2d.db89d"]]},{"id":"8c77de2d.db89d","type":"function","z":"40593e3c.6faec","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":375.30543518066406,"y":697.5181579589844,"wires":[["671ac84e.9bda58"]]},{"id":"671ac84e.9bda58","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":602.6267395019531,"y":708.2324261665344,"wires":[["92cf4573.4e9dc8"],[]]},{"id":"92cf4573.4e9dc8","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.214427947998,"y":702.7879877090454,"wires":[["7276afa9.7b96d"]]},{"id":"7276afa9.7b96d","type":"function","z":"40593e3c.6faec","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":369.0552673339844,"y":749.6609973907471,"wires":[["fb4b5446.67c128"]]},{"id":"fb4b5446.67c128","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":616.7890205383301,"y":758.8554773330688,"wires":[["3f3ca29d.73bade"],[]]},{"id":"3f3ca29d.73bade","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":794.2338333129883,"y":757.6967029571533,"wires":[["2b7c8119.07f89e"]]},{"id":"2b7c8119.07f89e","type":"function","z":"40593e3c.6faec","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":363.51954650878906,"y":789.4824266433716,"wires":[["691b14f2.f73eec"]]},{"id":"691b14f2.f73eec","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":617.5032806396484,"y":805.8197631835938,"wires":[["e9685550.0157a8"],[]]},{"id":"e9685550.0157a8","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.948127746582,"y":806.0895957946777,"wires":[["55b306.5ca0acfc"]]},{"id":"55b306.5ca0acfc","type":"function","z":"40593e3c.6faec","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":359.59100341796875,"y":842.3396759033203,"wires":[["2d8d02b.90772fe"]]},{"id":"2d8d02b.90772fe","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":614.1104202270508,"y":855.6412906646729,"wires":[["e26d303f.cfe97"],[]]},{"id":"e26d303f.cfe97","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":810.1267166137695,"y":855.9111061096191,"wires":[["593d3f18.c9ada"]]},{"id":"593d3f18.c9ada","type":"function","z":"40593e3c.6faec","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":351.9124298095703,"y":908.4111814498901,"wires":[["50fa1db9.72c164"]]},{"id":"50fa1db9.72c164","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":613.3961601257324,"y":909.9270133972168,"wires":[["8d449d0f.f5f0f"],[]]},{"id":"8d449d0f.f5f0f","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":829.412446975708,"y":905.9110794067383,"wires":[["605c683c.0a32e8"]]},{"id":"605c683c.0a32e8","type":"function","z":"40593e3c.6faec","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":352.4720001220703,"y":957.6134796142578,"wires":[["e4c2d85e.c4a908"]]},{"id":"e4c2d85e.c4a908","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":605.7894058227539,"y":956.2960872650146,"wires":[["4f1645e2.72e5bc"],[]]},{"id":"4f1645e2.72e5bc","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":821.3767242431641,"y":959.2444286346436,"wires":[["6ae46004.c66f6"]]},{"id":"6ae46004.c66f6","type":"function","z":"40593e3c.6faec","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":338.2141876220703,"y":998.5714988708496,"wires":[["6a0cc320.2cfd1c"]]},{"id":"6a0cc320.2cfd1c","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":607.6388473510742,"y":1004.8016843795776,"wires":[["5492294c.c725a8"],[]]},{"id":"5492294c.c725a8","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":815.8729705810547,"y":1002.0413913726807,"wires":[["f8979859.b40b78"]]},{"id":"f8979859.b40b78","type":"function","z":"40593e3c.6faec","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.2142105102539,"y":1048.5714702606201,"wires":[["d46e7f6c.b2607"]]},{"id":"d46e7f6c.b2607","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":607.6388626098633,"y":1063.3731002807617,"wires":[["3bf0f1c1.95282e"],[]]},{"id":"3bf0f1c1.95282e","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":813.0158462524414,"y":1053.4698905944824,"wires":[["bba5696a.8df6d8"]]},{"id":"bba5696a.8df6d8","type":"function","z":"40593e3c.6faec","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":319.6427764892578,"y":1104.2857360839844,"wires":[["80210a16.316c08"]]},{"id":"80210a16.316c08","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":607.6388626098633,"y":1121.9444847106934,"wires":[["7ecda08b.d5244"],[]]},{"id":"7ecda08b.d5244","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":821.587287902832,"y":1114.8984069824219,"wires":[["5cfced51.4bbc34"]]},{"id":"5cfced51.4bbc34","type":"function","z":"40593e3c.6faec","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.21421813964844,"y":1160.000126838684,"wires":[["d66051f5.f0082"]]},{"id":"d66051f5.f0082","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":613.3532180786133,"y":1160.5160179138184,"wires":[["dfea26c3.1d6488"],[]]},{"id":"dfea26c3.1d6488","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":811.5872039794922,"y":1157.7556552886963,"wires":[["f48275cd.8fdd18"]]},{"id":"f48275cd.8fdd18","type":"function","z":"40593e3c.6faec","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":316.78564453125,"y":1222.8571338653564,"wires":[["bb51343d.603ea8"]]},{"id":"bb51343d.603ea8","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":620.4960327148438,"y":1231.944471359253,"wires":[["809cfb73.3b2668"],[]]},{"id":"809cfb73.3b2668","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.7300643920898,"y":1216.327018737793,"wires":[["dd1783d1.c45ed"]]},{"id":"dd1783d1.c45ed","type":"function","z":"40593e3c.6faec","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":322.4999237060547,"y":1291.428731918335,"wires":[["ebb1320.c487ed"]]},{"id":"ebb1320.c487ed","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":599.0674362182617,"y":1303.3730735778809,"wires":[["325dd3f9.af863c"],[]]},{"id":"325dd3f9.af863c","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":807.3015441894531,"y":1287.755723953247,"wires":[["124b83dc.31f10c"]]},{"id":"124b83dc.31f10c","type":"function","z":"40593e3c.6faec","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":311.0713653564453,"y":1342.8571290969849,"wires":[["f6b451ce.07eb6"]]},{"id":"f6b451ce.07eb6","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":599.0674247741699,"y":1353.3731546401978,"wires":[["e989d201.8d1cc"],[]]},{"id":"e989d201.8d1cc","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":801.5872764587402,"y":1344.8984060287476,"wires":[["aa271c74.15088"]]},{"id":"aa271c74.15088","type":"function","z":"40593e3c.6faec","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":312.49991607666016,"y":1391.4286708831787,"wires":[["2dbc6ce0.236924"]]},{"id":"2dbc6ce0.236924","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":603.3531494140625,"y":1401.9444751739502,"wires":[["b67e4b7.5c68bb8"],[]]},{"id":"b67e4b7.5c68bb8","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":805.8729782104492,"y":1394.8983316421509,"wires":[["229d68b1.0cb2c8"]]},{"id":"229d68b1.0cb2c8","type":"function","z":"40593e3c.6faec","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":305.35707092285156,"y":1457.143060684204,"wires":[["8f8d84ee.1511c8"]]},{"id":"8f8d84ee.1511c8","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":617.6389122009277,"y":1450.516077041626,"wires":[["e5b2e70d.5902d8"],[]]},{"id":"e5b2e70d.5902d8","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":820.1586570739746,"y":1442.0412578582764,"wires":[["e4bd345f.5f9678"]]},{"id":"e4bd345f.5f9678","type":"function","z":"40593e3c.6faec","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":308.2142105102539,"y":1511.4285221099854,"wires":[["11165169.7a4dcf"]]},{"id":"11165169.7a4dcf","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":611.9246253967285,"y":1503.3731718063354,"wires":[["8ee776c9.6fe4a8"],[]]},{"id":"8ee776c9.6fe4a8","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.872917175293,"y":1499.1840858459473,"wires":[["16076717.7bc239"]]},{"id":"16076717.7bc239","type":"function","z":"40593e3c.6faec","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":325.71417236328125,"y":1572.8571519851685,"wires":[["536ea9a5.4c4498"]]},{"id":"536ea9a5.4c4498","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":619.0476379394531,"y":1559.5240449905396,"wires":[["697de362.9d1fcc"],[]]},{"id":"697de362.9d1fcc","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.428466796875,"y":1560.000096321106,"wires":[["4243f35f.6357cc"]]},{"id":"4243f35f.6357cc","type":"function","z":"40593e3c.6faec","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":326.26990509033203,"y":1622.3016958236694,"wires":[["a145b0e.d90305"]]},{"id":"a145b0e.d90305","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":638.4919395446777,"y":1633.4127979278564,"wires":[["9c3c1d59.75328"],[]]},{"id":"9c3c1d59.75328","type":"function","z":"40593e3c.6faec","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.5713195800781,"y":1630.0001306533813,"wires":[["9ac49c53.f3b29"]]},{"id":"9ac49c53.f3b29","type":"function","z":"40593e3c.6faec","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":311.2699546813965,"y":1677.3016576766968,"wires":[["78b2caf5.ecdd84"]]},{"id":"78b2caf5.ecdd84","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":635.158763885498,"y":1675.0794277191162,"wires":[["c9a21c0e.8f67f"],[]]},{"id":"c9a21c0e.8f67f","type":"function","z":"40593e3c.6faec","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8570556640625,"y":1680.000096321106,"wires":[["14133f82.ebf91"]]},{"id":"14133f82.ebf91","type":"function","z":"40593e3c.6faec","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":322.93649673461914,"y":1725.6349325180054,"wires":[["dfd90cd7.84f52"]]},{"id":"dfd90cd7.84f52","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":625.1586799621582,"y":1718.4127435684204,"wires":[["baa269a5.8ca568"],[]]},{"id":"baa269a5.8ca568","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.7141723632812,"y":1735.714451789856,"wires":[["d49ba70d.87e898"]]},{"id":"d49ba70d.87e898","type":"function","z":"40593e3c.6faec","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":327.9364547729492,"y":1780.6350145339966,"wires":[["1cc85d8a.186f62"]]},{"id":"1cc85d8a.186f62","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":626.8253440856934,"y":1773.412766456604,"wires":[["b06508aa.77be98"],[]]},{"id":"b06508aa.77be98","type":"function","z":"40593e3c.6faec","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.428466796875,"y":1780.0002403259277,"wires":[["d737506e.576f7"]]},{"id":"d737506e.576f7","type":"function","z":"40593e3c.6faec","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":286.56935119628906,"y":1829.5282020568848,"wires":[["15da59e9.e54c36"]]},{"id":"15da59e9.e54c36","type":"modbus-flex-getter","z":"40593e3c.6faec","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":619.9027214050293,"y":1831.1948499679565,"wires":[["6f928868.1ead88"],[]]},{"id":"6f928868.1ead88","type":"function","z":"40593e3c.6faec","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":792.8570785522461,"y":1828.5714378356934,"wires":[["7bd2bdb3.68c714"]]},{"id":"7bd2bdb3.68c714","type":"function","z":"40593e3c.6faec","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":929.2025032043457,"y":1830.1070613861084,"wires":[["b73c96ac.14da38","27509bd3.65fd54"]]},{"id":"b73c96ac.14da38","type":"http response","z":"40593e3c.6faec","name":"","x":1100.5596656799316,"y":1792.381085395813,"wires":[]},{"id":"27509bd3.65fd54","type":"debug","z":"40593e3c.6faec","name":"","active":true,"console":"false","complete":"payload","x":1119.5479164123535,"y":1829.0118312835693,"wires":[]},{"id":"611f2ad2.3d77c4","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["8ac635d2.68ce08","be1c67bd.15d3f8"]]},{"id":"fb76b12a.6171e","type":"function","z":"4907b097.a19c","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["611f2ad2.3d77c4"]]},{"id":"be1c67bd.15d3f8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"feebea7d.76ef78","type":"function","z":"4907b097.a19c","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["fb76b12a.6171e"]]},{"id":"ab9b1922.f76a58","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["feebea7d.76ef78","6cbcb224.6fc79c"]]},{"id":"1fa904e5.3795fb","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["feebea7d.76ef78"]]},{"id":"4a55b75b.c47e78","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":767.5554809570312,"y":173.65108585357666,"wires":[["be1c67bd.15d3f8"],["d77d25aa.2a2568"]]},{"id":"d77d25aa.2a2568","type":"function","z":"4907b097.a19c","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["fe0dc2eb.8f0cd"]]},{"id":"fe0dc2eb.8f0cd","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":644,"y":222.76220798492432,"wires":[[],["49a95b4d.b74f14"]]},{"id":"7dacc155.1d9a9","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/status","method":"get","swaggerDoc":"","x":1692.5239753723145,"y":872.4924440383911,"wires":[["12a9df6.7dbbd21"]]},{"id":"6cbcb224.6fc79c","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"82bba159.1b4a8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/status","method":"post","swaggerDoc":"","x":1666.6906929016113,"y":1042.5757369995117,"wires":[["b8a5f8ca.4a89d8","70d75b4f.5211a4"]]},{"id":"b8a5f8ca.4a89d8","type":"function","z":"4907b097.a19c","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1898.9406394958496,"y":1040.8257522583008,"wires":[["3888bdda.c348e2"]]},{"id":"3888bdda.c348e2","type":"function","z":"4907b097.a19c","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2029.1906280517578,"y":1044.2423477172852,"wires":[["1a8a2ffd.4bd3e"]]},{"id":"4bd04b66.991ed4","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2432.60347366333,"y":873.1273813247681,"wires":[]},{"id":"69503d20.e950f4","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1685.3017463684082,"y":825.8257551193237,"wires":[["12a9df6.7dbbd21"]]},{"id":"1a8a2ffd.4bd3e","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2198.079517364502,"y":1045.353479385376,"wires":[[],["77a6cf94.7490e"]]},{"id":"77a6cf94.7490e","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2383.385066986084,"y":1050.8257637023926,"wires":[]},{"id":"6d6425aa.3f55cc","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2051.107318878174,"y":874.7979898452759,"wires":[["4ba3a3fa.f785dc"],[]]},{"id":"12a9df6.7dbbd21","type":"function","z":"4907b097.a19c","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1877.3295364379883,"y":872.5757665634155,"wires":[["6d6425aa.3f55cc"]]},{"id":"622faa62.3508e4","type":"comment","z":"4907b097.a19c","name":"Read_R5002","info":"","x":1993.1906547546387,"y":827.7146339416504,"wires":[]},{"id":"184133d.7ae23cc","type":"comment","z":"4907b097.a19c","name":"Write_R5002","info":"","x":1991.1628303527832,"y":927.492428779602,"wires":[]},{"id":"f0d8114.d576ff","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1668.9406394958496,"y":1000.8257522583008,"wires":[["b8a5f8ca.4a89d8"]]},{"id":"97067ead.94ee3","type":"http response","z":"4907b097.a19c","name":"","x":2484.587471008301,"y":932.3337173461914,"wires":[]},{"id":"9b5fdfe0.d95c2","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2264.746150970459,"y":929.1591329574585,"wires":[["97067ead.94ee3"]]},{"id":"49a95b4d.b74f14","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"6bcff170.9c932","type":"function","z":"4907b097.a19c","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["4a55b75b.c47e78"]]},{"id":"8ac635d2.68ce08","type":"function","z":"4907b097.a19c","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["6bcff170.9c932"]]},{"id":"135d9863.917228","type":"comment","z":"4907b097.a19c","name":"read_PLC input status","info":"","x":1964.0953216552734,"y":568.5400352478027,"wires":[]},{"id":"6fda0874.762908","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PLCInputStatus","method":"get","swaggerDoc":"","x":1644.0796356201172,"y":632.048041343689,"wires":[["fd37e340.2e62a"]]},{"id":"fd37e340.2e62a","type":"function","z":"4907b097.a19c","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1845.0796356201172,"y":630.048041343689,"wires":[["f2cdad34.0a429"]]},{"id":"f2cdad34.0a429","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2041.0796356201172,"y":637.048041343689,"wires":[["1006e1b6.9bea5e","5688e586.63d90c"],[]]},{"id":"1006e1b6.9bea5e","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2240.079635620117,"y":631.048041343689,"wires":[]},{"id":"1c77fa00.360c96","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1591.650951385498,"y":586.7623243331909,"wires":[["fd37e340.2e62a"]]},{"id":"52645aed.efe954","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/RegisterError","method":"get","swaggerDoc":"","x":3489.667037963867,"y":434.5957250595093,"wires":[["9607029b.cc2a3"]]},{"id":"48e0d7e1.222188","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3490.333694458008,"y":383.5956610441208,"wires":[["9607029b.cc2a3"]]},{"id":"6c0e8cb.47cf074","type":"comment","z":"4907b097.a19c","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"83a25056.1b248","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["9468bfd3.56a85"]]},{"id":"9468bfd3.56a85","type":"function","z":"4907b097.a19c","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["1187aa03.06e506"]]},{"id":"1187aa03.06e506","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":724.9999389648438,"y":1374.3176727294922,"wires":[["6228120e.85a8fc"],[]]},{"id":"2f4e54e6.614ffc","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["9468bfd3.56a85"]]},{"id":"8366c6c2.fd3dc8","type":"comment","z":"4907b097.a19c","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"87bd698b.51ea38","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["22840d3d.3d71d2"]]},{"id":"22840d3d.3d71d2","type":"function","z":"4907b097.a19c","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["6c1f6116.fd91c"]]},{"id":"6c1f6116.fd91c","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":729.4443817138672,"y":1509.7620887756348,"wires":[["17bd1cda.dba303"],[]]},{"id":"ac38f8e6.f80488","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["22840d3d.3d71d2"]]},{"id":"3442e211.0ee23e","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/resetError","method":"post","swaggerDoc":"","x":283.5555725097656,"y":1122.428861618042,"wires":[["a1e3c70e.b34658","2326413f.88fd1e"]]},{"id":"c83e0489.d80bc8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1135.3332214355469,"y":1115.7621440887451,"wires":[]},{"id":"f7cc9eda.a127e","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":900.6666450500488,"y":1100.2065924406052,"wires":[["c83e0489.d80bc8"],["c83e0489.d80bc8"]]},{"id":"22b50e1d.5db402","type":"function","z":"4907b097.a19c","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.8889045715332,"y":1099.8732184171677,"wires":[["f7cc9eda.a127e"]]},{"id":"a1e3c70e.b34658","type":"function","z":"4907b097.a19c","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":576.8888740539551,"y":1100.762159228325,"wires":[["22b50e1d.5db402"]]},{"id":"f91896b.f7b1868","type":"comment","z":"4907b097.a19c","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"66c3e8d1.21b0d8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["4d8787ef.ff5bb8"]]},{"id":"4d8787ef.ff5bb8","type":"function","z":"4907b097.a19c","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["a3f6775a.44ccf8"]]},{"id":"a3f6775a.44ccf8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":734.4443817138672,"y":1683.7620887756348,"wires":[["f8381a6e.69d4d8"],[]]},{"id":"b66656c8.42f0b8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"94be7705.a7eb38","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["4d8787ef.ff5bb8"]]},{"id":"420ce0be.2c1af","type":"comment","z":"4907b097.a19c","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"61d144e.70ecabc","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["92bfec1b.b69a9"]]},{"id":"92bfec1b.b69a9","type":"function","z":"4907b097.a19c","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["4120a06d.221b"]]},{"id":"4120a06d.221b","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":729.4443817138672,"y":1845.7620887756348,"wires":[["d30cf01c.91b76"],[]]},{"id":"66299b6d.332564","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"a71f448f.bf8668","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["92bfec1b.b69a9"]]},{"id":"94882a3b.855148","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"ef53c009.37566","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostFlow","method":"get","swaggerDoc":"","x":342.4443817138672,"y":1992.7620887756348,"wires":[["477ee5e2.cead9c"]]},{"id":"477ee5e2.cead9c","type":"function","z":"4907b097.a19c","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["7c989f92.a9536"]]},{"id":"7c989f92.a9536","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":729.4443817138672,"y":1997.7620887756348,"wires":[["6e9c3406.41ddfc"],[]]},{"id":"62218ba8.f4faf4","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["477ee5e2.cead9c"]]},{"id":"11cbe05d.041c8","type":"comment","z":"4907b097.a19c","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"88a898a4.decbe8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlowMiddle","method":"get","swaggerDoc":"","x":342.4443817138672,"y":2154.7620887756348,"wires":[["a0164c56.73303"]]},{"id":"a0164c56.73303","type":"function","z":"4907b097.a19c","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":2152.7620887756348,"wires":[["8bf54f05.2b156"]]},{"id":"8bf54f05.2b156","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":729.4443817138672,"y":2159.7620887756348,"wires":[["ae8f65c.c2fab98"],[]]},{"id":"4663d144.72b0c","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["a0164c56.73303"]]},{"id":"caa5941c.9bb408","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"f3a6f563.759a08","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostMiddle","method":"get","swaggerDoc":"","x":349.33331298828125,"y":2337.7621850967407,"wires":[["d5251363.02a5b"]]},{"id":"d5251363.02a5b","type":"function","z":"4907b097.a19c","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":540.3333129882812,"y":2335.7621850967407,"wires":[["5e7760f2.a9c2a"]]},{"id":"5e7760f2.a9c2a","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":736.3333129882812,"y":2342.7621850967407,"wires":[["1d63bac5.f59ac5"],[]]},{"id":"a7ec2a39.5af558","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["d5251363.02a5b"]]},{"id":"7e03b9ed.d915d8","type":"comment","z":"4907b097.a19c","name":"write_error_reset","info":"","x":663.7777481079102,"y":1054.0954788923264,"wires":[]},{"id":"d17f2617.8983c8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["6cd4671d.8bbf68","4ba287f2.f098c8"]]},{"id":"fe106d76.ea97f","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"753a3d97.2cf604","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["fe106d76.ea97f"]]},{"id":"4de5c04f.bda4c","type":"function","z":"4907b097.a19c","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["753a3d97.2cf604"]]},{"id":"6cd4671d.8bbf68","type":"function","z":"4907b097.a19c","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["4de5c04f.bda4c"]]},{"id":"c1afccc1.faa03","type":"comment","z":"4907b097.a19c","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"ecbce7d4.3847a8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["3e37634a.b5b50c","accdaaa.8a3b158"]]},{"id":"e9c97c80.35155","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"f1a769da.d84b38","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":902.055534362793,"y":2665.151086807251,"wires":[[],["e9c97c80.35155"]]},{"id":"ea7835bf.c8b0f8","type":"function","z":"4907b097.a19c","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["f1a769da.d84b38"]]},{"id":"3e37634a.b5b50c","type":"function","z":"4907b097.a19c","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["ea7835bf.c8b0f8"]]},{"id":"eadd6cdf.50776","type":"comment","z":"4907b097.a19c","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"591b6f69.1311","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/SetLflowStart","method":"post","swaggerDoc":"","x":337.99993896484375,"y":2911.4010763168335,"wires":[["518ca371.81410c","6af231eb.5f95a"]]},{"id":"427e69aa.0ff4e8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1123.9998474121094,"y":2981.42898273468,"wires":[]},{"id":"bbc55796.7b6258","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":937.4722023010254,"y":2987.5121002197266,"wires":[["427e69aa.0ff4e8"],[]]},{"id":"82b927dd.0af7f8","type":"function","z":"4907b097.a19c","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":751.3610191345215,"y":2990.1787118911743,"wires":[["bbc55796.7b6258"]]},{"id":"518ca371.81410c","type":"function","z":"4907b097.a19c","name":"with_1c","func":"var setflowstart = msg.payload;\n/* var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":462.0277786254883,"y":2990.9845399856567,"wires":[["6f53b672.bc0588"]]},{"id":"5aec47a8.185fc8","type":"comment","z":"4907b097.a19c","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"a4f1a731.59dd68","type":"comment","z":"4907b097.a19c","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"e77bf74d.7ebc08","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/SetLflowStart","method":"get","swaggerDoc":"","x":375.9444046020508,"y":3116.178910255432,"wires":[["4321cc05.ef4e24"]]},{"id":"4321cc05.ef4e24","type":"function","z":"4907b097.a19c","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["c2417250.ac47f"]]},{"id":"c2417250.ac47f","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":794.1944046020508,"y":3101.178910255432,"wires":[["173cda68.3cae46"],[]]},{"id":"6e95655e.2d708c","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"2a0440fe.cff54","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["4321cc05.ef4e24"]]},{"id":"6f53b672.bc0588","type":"function","z":"4907b097.a19c","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":601.2776832580566,"y":2988.457148551941,"wires":[["82b927dd.0af7f8"]]},{"id":"a9c80339.04a0d","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["9630daca.e2cde8","7265ba3d.286104"]]},{"id":"702ab06c.5cb17","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":988.7221832275391,"y":3248.6232481002808,"wires":[["78a82123.ca6b1"],[]]},{"id":"6c068274.ad113c","type":"function","z":"4907b097.a19c","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":829.1388053894043,"y":3249.0675859451294,"wires":[["702ab06c.5cb17"]]},{"id":"9630daca.e2cde8","type":"function","z":"4907b097.a19c","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":552.444450378418,"y":3245.5675840377808,"wires":[["a20b8984.2035b8"]]},{"id":"7f6734e1.fc5b5c","type":"comment","z":"4907b097.a19c","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"ec8da7f0.b8f528","type":"comment","z":"4907b097.a19c","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"c6973d50.92067","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["2146ee85.da1662"]]},{"id":"2146ee85.da1662","type":"function","z":"4907b097.a19c","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["f4793d3e.13bc1"]]},{"id":"f4793d3e.13bc1","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":801.5554809570312,"y":3394.650938987732,"wires":[["6bd16948.999a48"],[]]},{"id":"d87eb005.dd0ec","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["2146ee85.da1662"]]},{"id":"a20b8984.2035b8","type":"function","z":"4907b097.a19c","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":695.4443435668945,"y":3248.17915725708,"wires":[["6c068274.ad113c"]]},{"id":"78a82123.ca6b1","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1178.2776489257812,"y":3246.0121450424194,"wires":[]},{"id":"4a26191d.1f4dd8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["8abe01f4.9ec43","a1ae74d5.e0be78"]]},{"id":"111a6881.3b9047","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":969.555534362793,"y":3725.1510553359985,"wires":[["1fc90fc4.5d613"],[]]},{"id":"b4adf67f.1562e8","type":"function","z":"4907b097.a19c","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":804.9721641540527,"y":3743.0953912734985,"wires":[["111a6881.3b9047"]]},{"id":"8abe01f4.9ec43","type":"function","z":"4907b097.a19c","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":534.5278205871582,"y":3745.845390319824,"wires":[["8fa92322.00537"]]},{"id":"7dc8feca.c7d88","type":"comment","z":"4907b097.a19c","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"d7dad443.402318","type":"comment","z":"4907b097.a19c","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"fe218f4f.f4279","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["7d4d1b49.d4dcb4"]]},{"id":"7d4d1b49.d4dcb4","type":"function","z":"4907b097.a19c","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["d1754964.e7e178"]]},{"id":"d1754964.e7e178","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":774.8888473510742,"y":3898.678889274597,"wires":[["71924a81.a9c7d4"],[]]},{"id":"d19e8d01.a6531","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["7d4d1b49.d4dcb4"]]},{"id":"8fa92322.00537","type":"function","z":"4907b097.a19c","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":670.027702331543,"y":3745.9569635391235,"wires":[["b4adf67f.1562e8"]]},{"id":"1fc90fc4.5d613","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":1152.6110229492188,"y":3768.7897272109985,"wires":[]},{"id":"c2a6f7a1.47a9a8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["2c742c25.b6cbb4","3ea58810.528868"]]},{"id":"63252582.f0b19c","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":965.8055877685547,"y":4129.206654548645,"wires":[["105c3835.307608"],[]]},{"id":"324a38d8.a413c8","type":"comment","z":"4907b097.a19c","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"5680992e.995ab8","type":"comment","z":"4907b097.a19c","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"a574c109.889a7","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["3ea3d065.eb05c"]]},{"id":"3ea3d065.eb05c","type":"function","z":"4907b097.a19c","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["da727e7e.d6e21"]]},{"id":"da727e7e.d6e21","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":739.8888473510742,"y":4276.734314918518,"wires":[["38d09e45.25c462"],[]]},{"id":"4f1cd6.16b2d32c","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["3ea3d065.eb05c"]]},{"id":"105c3835.307608","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":1196.861026763916,"y":4119.095652580261,"wires":[]},{"id":"8df9bacd.5ebab8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":306.7499694824219,"y":2961.53994846344,"wires":[["518ca371.81410c"]]},{"id":"61efc412.86604c","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[["3ea58810.528868"]]},{"id":"70d75b4f.5211a4","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":1918.9406242370605,"y":983.0479488372803,"wires":[]},{"id":"a43144a.82450b8","type":"comment","z":"4907b097.a19c","name":"read_Upakovka_marshrut","info":"","x":1951.5555419921875,"y":97.41316318511963,"wires":[]},{"id":"980913ff.66864","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1625.8889923095703,"y":175.96861457824707,"wires":[["4769ea1c.da88d4"]]},{"id":"6296ad44.d9d144","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1590.2222366333008,"y":121.19088459014893,"wires":[["4769ea1c.da88d4"]]},{"id":"577570d4.78cde","type":"http response","z":"4907b097.a19c","name":"","x":2383.63516998291,"y":671.3814001083374,"wires":[]},{"id":"5688e586.63d90c","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2228.079616546631,"y":675.8258228302002,"wires":[["577570d4.78cde"]]},{"id":"2326413f.88fd1e","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":485.77773666381836,"y":1059.3177012205124,"wires":[]},{"id":"e2d8cc48.16919","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":313.9999542236328,"y":1061.4288004636765,"wires":[["a1e3c70e.b34658"]]},{"id":"1f064cbf.249d83","type":"http response","z":"4907b097.a19c","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"da692744.241dd8","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["1f064cbf.249d83"]]},{"id":"6fc62a9c.8a71b4","type":"http response","z":"4907b097.a19c","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"27253509.43093a","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["6fc62a9c.8a71b4"]]},{"id":"accdaaa.8a3b158","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"4ba287f2.f098c8","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"12b61adf.9c0c35","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["dc938371.f991c"]]},{"id":"6576694c.6f3228","type":"comment","z":"4907b097.a19c","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"dc938371.f991c","type":"function","z":"4907b097.a19c","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["5715a3c6.202d5c"]]},{"id":"5715a3c6.202d5c","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":729.2499389648438,"y":2824.178864479065,"wires":[["c9091ee3.5c9f3"],[]]},{"id":"a87ab619.0f0418","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"e421bf27.63b9c","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["2d11cd9b.604e32"]]},{"id":"2d11cd9b.604e32","type":"http response","z":"4907b097.a19c","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"7f725163.316f9","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["dc938371.f991c"]]},{"id":"9ac7a770.941f88","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["14934395.3c88fc"]]},{"id":"14934395.3c88fc","type":"http response","z":"4907b097.a19c","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"6af231eb.5f95a","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":562.9999465942383,"y":2941.678907394409,"wires":[]},{"id":"7265ba3d.286104","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":450.4999465942383,"y":3177.928910255432,"wires":[]},{"id":"7b4cab32.50e654","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":282.99993896484375,"y":3195.428864479065,"wires":[["9630daca.e2cde8"]]},{"id":"a1ae74d5.e0be78","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":556.6110610961914,"y":3690.151022911072,"wires":[]},{"id":"9d637b18.1b5da8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[["8abe01f4.9ec43"]]},{"id":"2c742c25.b6cbb4","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":596.3333053588867,"y":4056.262143135071,"wires":[]},{"id":"fc96701.577f79","type":"comment","z":"4907b097.a19c","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"b846b899.16ac68","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["d5608641.9cfb28"]]},{"id":"d5608641.9cfb28","type":"function","z":"4907b097.a19c","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["1558fc45.d72994"]]},{"id":"1558fc45.d72994","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":736.5554885864258,"y":4617.726898193359,"wires":[["bd8c97e9.760c88"],[]]},{"id":"15f23e9f.486221","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["d5608641.9cfb28"]]},{"id":"8662bcfb.86896","type":"comment","z":"4907b097.a19c","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"a0b5db91.5e3aa8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["14038e08.4be112"]]},{"id":"14038e08.4be112","type":"function","z":"4907b097.a19c","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["6aa80a22.2e1164"]]},{"id":"6aa80a22.2e1164","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":736.5554885864258,"y":4760.107833862305,"wires":[["a84be64e.52c568"],[]]},{"id":"5568a809.c310b8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["14038e08.4be112"]]},{"id":"173cda68.3cae46","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["6e95655e.2d708c","9ac7a770.941f88"]]},{"id":"d30cf01c.91b76","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["66299b6d.332564","27253509.43093a"]]},{"id":"f8381a6e.69d4d8","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["da692744.241dd8","b66656c8.42f0b8"]]},{"id":"c3dd50bb.8909b","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"a7880b3d.e9dc18","type":"http response","z":"4907b097.a19c","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"11a41d4f.6ebcb3","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["a7880b3d.e9dc18"]]},{"id":"17bd1cda.dba303","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["11a41d4f.6ebcb3","c3dd50bb.8909b"]]},{"id":"ea79e11.d39cb2","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"f77313fe.271c3","type":"http response","z":"4907b097.a19c","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"6058ef2e.e979b","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["f77313fe.271c3"]]},{"id":"6228120e.85a8fc","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["6058ef2e.e979b","ea79e11.d39cb2"]]},{"id":"2985a6ae.f456ba","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"3fd21c6f.8fb7d4","type":"http response","z":"4907b097.a19c","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"a8d42edc.ded45","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["3fd21c6f.8fb7d4"]]},{"id":"6e9c3406.41ddfc","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["a8d42edc.ded45","2985a6ae.f456ba"]]},{"id":"fc76ac37.dcc38","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"36270b4a.b52274","type":"http response","z":"4907b097.a19c","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"cc77a71b.1d3ac8","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["36270b4a.b52274"]]},{"id":"ae8f65c.c2fab98","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["cc77a71b.1d3ac8","fc76ac37.dcc38"]]},{"id":"436e3a10.2cf444","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"3360a416.ae8afc","type":"http response","z":"4907b097.a19c","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"33c6be85.530bd2","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["3360a416.ae8afc"]]},{"id":"1d63bac5.f59ac5","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["33c6be85.530bd2","436e3a10.2cf444"]]},{"id":"4164e6d9.662d68","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"c79a03ca.47e2c","type":"http response","z":"4907b097.a19c","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"98d238b7.bbde48","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["c79a03ca.47e2c"]]},{"id":"6bd16948.999a48","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["98d238b7.bbde48","4164e6d9.662d68"]]},{"id":"f9903fc8.db8f3","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"6cca9c3f.1c7754","type":"http response","z":"4907b097.a19c","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"1b8f9b4f.2f41d5","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["6cca9c3f.1c7754"]]},{"id":"71924a81.a9c7d4","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["1b8f9b4f.2f41d5","f9903fc8.db8f3"]]},{"id":"f8ad4d34.f513","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"e2c02f65.6b7bc","type":"http response","z":"4907b097.a19c","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"56f391a4.9af79","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["e2c02f65.6b7bc"]]},{"id":"df640adc.398c08","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"296e990d.b07bf6","type":"http response","z":"4907b097.a19c","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"dadaadf5.55b07","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["296e990d.b07bf6"]]},{"id":"bd8c97e9.760c88","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["dadaadf5.55b07","df640adc.398c08"]]},{"id":"baa87a52.fefc58","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"430ade98.291dd","type":"http response","z":"4907b097.a19c","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"30c248b1.1de1e8","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["430ade98.291dd"]]},{"id":"a84be64e.52c568","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["30c248b1.1de1e8","baa87a52.fefc58"]]},{"id":"a466a61b.1e32d8","type":"comment","z":"4907b097.a19c","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"6bb37dab.5f3c94","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["f1aa244e.5063c8"]]},{"id":"f1aa244e.5063c8","type":"function","z":"4907b097.a19c","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["a3cf4a4f.7da748"]]},{"id":"a3cf4a4f.7da748","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":750.5832901000977,"y":4913.679074287415,"wires":[["7f2385d5.b69a8c"],[]]},{"id":"fdc17f70.1dfd4","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["f1aa244e.5063c8"]]},{"id":"4f229c19.1bb5c4","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"e6954698.9ced48","type":"http response","z":"4907b097.a19c","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"3bd6d740.92bf08","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["e6954698.9ced48"]]},{"id":"7f2385d5.b69a8c","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["3bd6d740.92bf08","4f229c19.1bb5c4"]]},{"id":"8bbe1b74.ebbe38","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["53e4e03a.133d8","5f155338.216ddc"]]},{"id":"9db32ea4.c379c","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"ae1a2947.ba3fe8","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2847.0160369873047,"y":2257.968363761902,"wires":[["9db32ea4.c379c"],[]]},{"id":"19ff9228.fd162e","type":"comment","z":"4907b097.a19c","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"53e4e03a.133d8","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"13282ff2.b45a7","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["5f155338.216ddc"]]},{"id":"5f155338.216ddc","type":"function","z":"4907b097.a19c","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["5b9ce621.32bc88"]]},{"id":"5b9ce621.32bc88","type":"function","z":"4907b097.a19c","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["ae1a2947.ba3fe8"]]},{"id":"d3db77a3.0212c8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"6c0d6fdb.491fb","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2743.8736000061035,"y":2363.159381389618,"wires":[["d3db77a3.0212c8"],[]]},{"id":"cc23d556.e4ff88","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"41c1338.e8483cc","type":"modbus-flex-write","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["cc23d556.e4ff88"],[]]},{"id":"8846e75d.0e5518","type":"comment","z":"4907b097.a19c","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"c354bd76.ca078","type":"function","z":"4907b097.a19c","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["63303fb2.d7cb4"]]},{"id":"63303fb2.d7cb4","type":"function","z":"4907b097.a19c","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["41c1338.e8483cc"]]},{"id":"457d7733.a433d8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["1aecd47d.75c95c","c354bd76.ca078"]]},{"id":"1aecd47d.75c95c","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"76a58a5.d5f4974","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["c354bd76.ca078"]]},{"id":"d71041de.c95b3","type":"function","z":"4907b097.a19c","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["9ab02fe1.f9c8d"]]},{"id":"9ab02fe1.f9c8d","type":"function","z":"4907b097.a19c","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["6c0d6fdb.491fb"]]},{"id":"c22f9605.517d98","type":"comment","z":"4907b097.a19c","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"add5e2cc.9d83b","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["dbfcc9de.e65378","d71041de.c95b3"]]},{"id":"dbfcc9de.e65378","type":"http response","z":"4907b097.a19c","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"418d0bf9.40db84","type":"comment","z":"4907b097.a19c","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"fb8de0d6.f9e5","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["95dcbc4e.cbb61"]]},{"id":"95dcbc4e.cbb61","type":"function","z":"4907b097.a19c","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["c9acd716.2c64c8"]]},{"id":"c9acd716.2c64c8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2524.82515335083,"y":2829.377022743225,"wires":[["778e96d3.1d3a18"],[]]},{"id":"3f1477a0.815d28","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"4fcf9b5b.84e264","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["95dcbc4e.cbb61"]]},{"id":"f304f7bd.d60f08","type":"http response","z":"4907b097.a19c","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"b73c738d.4d05a","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["f304f7bd.d60f08"]]},{"id":"b3b117e9.29cc68","type":"comment","z":"4907b097.a19c","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"b83ff36f.2eed9","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["cc838988.2a9df8"]]},{"id":"cc838988.2a9df8","type":"function","z":"4907b097.a19c","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["2aca24f4.3d176c"]]},{"id":"2aca24f4.3d176c","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2521.8252296447754,"y":2958.377064704895,"wires":[["55ab9a4.be87d64"],[]]},{"id":"7f93c640.1f19c8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["cc838988.2a9df8"]]},{"id":"45197c18.5b08a4","type":"comment","z":"4907b097.a19c","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"dfb04cb4.25021","type":"comment","z":"4907b097.a19c","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"bd431e47.62644","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["e842d61a.7d7948"]]},{"id":"e842d61a.7d7948","type":"function","z":"4907b097.a19c","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2331.213996887207,"y":3137.3770027160645,"wires":[["e8759da4.0ddb8"]]},{"id":"e8759da4.0ddb8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2527.213996887207,"y":3144.3770027160645,"wires":[["5bc7928e.b9935c"],[]]},{"id":"efa4da1c.293a18","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["e842d61a.7d7948"]]},{"id":"d3c1109d.cc085","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"eb5a39ff.6ecb88","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["aaf1a76c.570b18"]]},{"id":"5bc7928e.b9935c","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["eb5a39ff.6ecb88","d3c1109d.cc085"]]},{"id":"aaf1a76c.570b18","type":"http response","z":"4907b097.a19c","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"1f320840.adbbd8","type":"comment","z":"4907b097.a19c","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"93e61e38.90f5d","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["21048948.1774f6"]]},{"id":"21048948.1774f6","type":"function","z":"4907b097.a19c","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2329.7776107788086,"y":3282.724784851074,"wires":[["3394f329.ed925c"]]},{"id":"3394f329.ed925c","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2525.7776107788086,"y":3289.724784851074,"wires":[["db70883.f3b0a78"],[]]},{"id":"5933607.8f457a","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["21048948.1774f6"]]},{"id":"ac437e9.d9a238","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"db233252.67934","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["cadef90c.c5e5c8"]]},{"id":"db70883.f3b0a78","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["db233252.67934","ac437e9.d9a238"]]},{"id":"cadef90c.c5e5c8","type":"http response","z":"4907b097.a19c","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"eb170a94.9b8248","type":"comment","z":"4907b097.a19c","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"b1322b5e.10afc8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["eeb38cbb.9895e"]]},{"id":"eeb38cbb.9895e","type":"function","z":"4907b097.a19c","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2337.555320739746,"y":3412.724784851074,"wires":[["d3b4a297.6e553"]]},{"id":"d3b4a297.6e553","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2533.555320739746,"y":3419.724784851074,"wires":[["7caf139b.9c72ec"],[]]},{"id":"8389db43.47da58","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["eeb38cbb.9895e"]]},{"id":"44ecf8ed.fb8758","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"6afdd5a1.d552dc","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["67c1df53.6dc21"]]},{"id":"7caf139b.9c72ec","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["6afdd5a1.d552dc","44ecf8ed.fb8758"]]},{"id":"67c1df53.6dc21","type":"http response","z":"4907b097.a19c","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"1a6fcb98.5ed7f4","type":"comment","z":"4907b097.a19c","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"a98461e2.7b0ff","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["3c8d7d9b.7d3482"]]},{"id":"3c8d7d9b.7d3482","type":"function","z":"4907b097.a19c","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2334.222068786621,"y":3547.169120788574,"wires":[["90b9ec0e.78fa8"]]},{"id":"90b9ec0e.78fa8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2530.222068786621,"y":3554.169120788574,"wires":[["d244547a.9625a8"],[]]},{"id":"f242c641.106168","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["3c8d7d9b.7d3482"]]},{"id":"955cd198.addc4","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"25922504.e476ba","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["51370fe2.fa2ff"]]},{"id":"d244547a.9625a8","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["25922504.e476ba","955cd198.addc4"]]},{"id":"51370fe2.fa2ff","type":"http response","z":"4907b097.a19c","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"1bae8fb3.8b0ad","type":"comment","z":"4907b097.a19c","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"6d45bd3e.ca1ef4","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["a77bb75b.ee9278"]]},{"id":"a77bb75b.ee9278","type":"function","z":"4907b097.a19c","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2328.666404724121,"y":3683.465507507324,"wires":[["454198a0.9d7b28"]]},{"id":"454198a0.9d7b28","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2524.666404724121,"y":3690.465507507324,"wires":[["128076cc.1fef69"],[]]},{"id":"6634ace.f37f354","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["a77bb75b.ee9278"]]},{"id":"acf919e9.4c56c8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"a8ebb4ac.a9cde8","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["19bd4b9e.53e434"]]},{"id":"128076cc.1fef69","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["a8ebb4ac.a9cde8","acf919e9.4c56c8"]]},{"id":"19bd4b9e.53e434","type":"http response","z":"4907b097.a19c","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"1a1eda25.148b56","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"19029832.2d2468","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostFlow1","method":"get","swaggerDoc":"","x":2185.444290161133,"y":3917.9839010238647,"wires":[["f591482d.b6a6c8"]]},{"id":"f591482d.b6a6c8","type":"function","z":"4907b097.a19c","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2376.444290161133,"y":3915.9839010238647,"wires":[["87a192df.e6df3"]]},{"id":"87a192df.e6df3","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2572.444290161133,"y":3922.9839010238647,"wires":[["2a417ab9.b9eeb6"],[]]},{"id":"109a6ee4.e6c871","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["f591482d.b6a6c8"]]},{"id":"2a417ab9.b9eeb6","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["e3a91c77.9df9c","c9c4f05d.46cf3"]]},{"id":"c9c4f05d.46cf3","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"e3a91c77.9df9c","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["90dc09f.bdf17f8"]]},{"id":"90dc09f.bdf17f8","type":"http response","z":"4907b097.a19c","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"ec739288.9aa84","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"88d9314e.caa35","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostFlow2","method":"get","swaggerDoc":"","x":2183.222122192383,"y":4058.7246236801147,"wires":[["dc5b697f.6b9068"]]},{"id":"dc5b697f.6b9068","type":"function","z":"4907b097.a19c","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2374.222122192383,"y":4056.7246236801147,"wires":[["4235bebb.eba1f"]]},{"id":"4235bebb.eba1f","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2570.222122192383,"y":4063.7246236801147,"wires":[["c27803cd.2f475"],[]]},{"id":"28d8c17e.eb225e","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["dc5b697f.6b9068"]]},{"id":"c27803cd.2f475","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["43f18439.bcb7ec","ebc1b45f.82b488"]]},{"id":"ebc1b45f.82b488","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"43f18439.bcb7ec","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["5d28ba0e.355404"]]},{"id":"5d28ba0e.355404","type":"http response","z":"4907b097.a19c","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"e50bc09.3c6ab4","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"f85a01a5.bf19b","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["97dd969d.c592b8"]]},{"id":"97dd969d.c592b8","type":"function","z":"4907b097.a19c","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2360.8887481689453,"y":4214.502455711365,"wires":[["c914b298.58732"]]},{"id":"c914b298.58732","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2556.8887481689453,"y":4221.502455711365,"wires":[["d7e7c000.9e882"],[]]},{"id":"a53206ec.0a61d8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["97dd969d.c592b8"]]},{"id":"d7e7c000.9e882","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["4db246b4.932f78","a8936cde.46e8"]]},{"id":"a8936cde.46e8","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"4db246b4.932f78","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["680e131a.3c6fcc"]]},{"id":"680e131a.3c6fcc","type":"http response","z":"4907b097.a19c","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"eecb7648.5ad228","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"b84835e7.a5dde8","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostFlow4","method":"get","swaggerDoc":"","x":2172.111038208008,"y":4360.94703578949,"wires":[["606aa3f6.acc80c"]]},{"id":"606aa3f6.acc80c","type":"function","z":"4907b097.a19c","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4358.94703578949,"wires":[["60520091.fcfdb"]]},{"id":"60520091.fcfdb","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2559.111038208008,"y":4365.94703578949,"wires":[["33e7ca14.9b9186"],[]]},{"id":"9fa22e35.7bf74","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["606aa3f6.acc80c"]]},{"id":"33e7ca14.9b9186","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["30763df5.ef76d2","6cf04847.681958"]]},{"id":"6cf04847.681958","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"30763df5.ef76d2","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["b340838.37e0a8"]]},{"id":"b340838.37e0a8","type":"http response","z":"4907b097.a19c","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"ebff1925.d0e718","type":"comment","z":"4907b097.a19c","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"1275d364.b9ef6d","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["9ef1f309.f5625"]]},{"id":"9ef1f309.f5625","type":"function","z":"4907b097.a19c","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4516.35426235199,"wires":[["b48e404b.baef"]]},{"id":"b48e404b.baef","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2559.111038208008,"y":4523.35426235199,"wires":[["bac238e0.0a9fc8"],[]]},{"id":"dd97f1b5.294b9","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["9ef1f309.f5625"]]},{"id":"bac238e0.0a9fc8","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["407f3557.eddbec","4bc4b116.39344"]]},{"id":"4bc4b116.39344","type":"debug","z":"4907b097.a19c","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"407f3557.eddbec","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["801618e3.d26ce8"]]},{"id":"801618e3.d26ce8","type":"http response","z":"4907b097.a19c","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"3ea58810.528868","type":"function","z":"4907b097.a19c","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":475.7779769897461,"y":4135.652293205261,"wires":[["721f61a0.fdd3f"]]},{"id":"721f61a0.fdd3f","type":"function","z":"4907b097.a19c","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":630.2778244018555,"y":4134.763295173645,"wires":[["85a25147.59568"]]},{"id":"85a25147.59568","type":"function","z":"4907b097.a19c","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":798.72216796875,"y":4129.651316642761,"wires":[["63252582.f0b19c"]]},{"id":"38d09e45.25c462","type":"function","z":"4907b097.a19c","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["f8ad4d34.f513","56f391a4.9af79"]]},{"id":"f7c04089.8eaab","type":"comment","z":"4907b097.a19c","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":2522.4095458984375,"y":762.5299968719482,"wires":[]},{"id":"5d5adb43.8ca134","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["79d460d3.76e3f"]]},{"id":"e69258f9.020eb8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["79d460d3.76e3f"]]},{"id":"8da41ab.341c7e8","type":"comment","z":"4907b097.a19c","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"79d460d3.76e3f","type":"function","z":"4907b097.a19c","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["efaaa956.f1eab8"]]},{"id":"844797d6.7473c8","type":"function","z":"4907b097.a19c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["98536312.f86ca"]]},{"id":"98536312.f86ca","type":"function","z":"4907b097.a19c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["69bf87b6.cfdde8","4953cac.dce7034"]]},{"id":"69bf87b6.cfdde8","type":"http response","z":"4907b097.a19c","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"4953cac.dce7034","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"efaaa956.f1eab8","type":"function","z":"4907b097.a19c","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["cfad95da.6feb28"]]},{"id":"d3446a25.394c28","type":"function","z":"4907b097.a19c","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["11be0c25.a098e4"]]},{"id":"cfad95da.6feb28","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":946.3656005859375,"y":413.76866817474365,"wires":[["b4835b60.9e3e28"],[]]},{"id":"11be0c25.a098e4","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":904.6988525390625,"y":492.102011680603,"wires":[["f330413f.7f6b9"],[]]},{"id":"e255473c.8d7278","type":"function","z":"4907b097.a19c","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["f64928a5.b140e8"]]},{"id":"f64928a5.b140e8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":892.3139419555664,"y":555.7012310028076,"wires":[["eb875866.d3c0d8"],[]]},{"id":"eb875866.d3c0d8","type":"function","z":"4907b097.a19c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["6b2881a.8ecf38"]]},{"id":"6b2881a.8ecf38","type":"function","z":"4907b097.a19c","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["2b1e71d7.f7ca0e"]]},{"id":"2b1e71d7.f7ca0e","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":897.3139419555664,"y":614.0345439910889,"wires":[["844797d6.7473c8"],[]]},{"id":"b4835b60.9e3e28","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["d3446a25.394c28"]]},{"id":"f330413f.7f6b9","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["e255473c.8d7278"]]},{"id":"4ba3a3fa.f785dc","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2242.670970916748,"y":871.8630752563477,"wires":[["9b5fdfe0.d95c2","4bd04b66.991ed4"]]},{"id":"c9091ee3.5c9f3","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["e421bf27.63b9c","a87ab619.0f0418"]]},{"id":"778e96d3.1d3a18","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["b73c738d.4d05a","3f1477a0.815d28"]]},{"id":"31875a.535738a6","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"1972bede.04cfd1","type":"http response","z":"4907b097.a19c","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"4ef2eb6e.7cb594","type":"function","z":"4907b097.a19c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["1972bede.04cfd1"]]},{"id":"55ab9a4.be87d64","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["4ef2eb6e.7cb594","31875a.535738a6"]]},{"id":"3b404f01.b4207","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2669.666778564453,"y":1617.095465183258,"wires":[["3e67b128.e4609e"],[]]},{"id":"f3f7a978.f20ff8","type":"function","z":"4907b097.a19c","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2497.0476837158203,"y":1619.7145781517029,"wires":[["3b404f01.b4207"]]},{"id":"3e67b128.e4609e","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2890.8575172424316,"y":1603.0480551719666,"wires":[["4d8e7dce.f31164"]]},{"id":"631656cd.5c9208","type":"function","z":"4907b097.a19c","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2305.143211364746,"y":1620.6669392585754,"wires":[["f3f7a978.f20ff8"]]},{"id":"4d8e7dce.f31164","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3077.491539001465,"y":1591.619294643402,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["aa46ef32.6e297"]]},{"id":"77509b1b.95e804","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2088.3646392822266,"y":1569.4765238761902,"wires":[["631656cd.5c9208"]]},{"id":"a74cc4fd.cd2548","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/StatusKlapan","method":"get","swaggerDoc":"","x":2052.729667663574,"y":1621.8574652671814,"wires":[["631656cd.5c9208"]]},{"id":"aa46ef32.6e297","type":"function","z":"4907b097.a19c","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2315.1429290771484,"y":1741.619372844696,"wires":[["6fd0ad8d.356794"]]},{"id":"6fd0ad8d.356794","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2526.0952911376953,"y":1754.476348400116,"wires":[["c8b720f2.fc145"],[]]},{"id":"c8b720f2.fc145","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2795.8571968078613,"y":1734.4764475822449,"wires":[["5dd4c7ce.7cade8"]]},{"id":"5dd4c7ce.7cade8","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3219.396381378174,"y":1721.8573088645935,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3935ab44.ad9fb4"],[]]},{"id":"3935ab44.ad9fb4","type":"function","z":"4907b097.a19c","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2227.9678955078125,"y":1844.4764618873596,"wires":[["38ed7cb.e98a084"]]},{"id":"38ed7cb.e98a084","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2432.2533950805664,"y":1841.6193537712097,"wires":[["1231c965.021a57"],[]]},{"id":"1231c965.021a57","type":"function","z":"4907b097.a19c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2613.6820755004883,"y":1835.9051594734192,"wires":[["addd1834.90d5f8"]]},{"id":"addd1834.90d5f8","type":"function","z":"4907b097.a19c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2794.3132705688477,"y":1840.297999382019,"wires":[["37fbd68d.23369a","e402ea30.b415f8"]]},{"id":"37fbd68d.23369a","type":"http response","z":"4907b097.a19c","name":"","x":3052.8131523132324,"y":1875.4290232658386,"wires":[]},{"id":"e402ea30.b415f8","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":3071.8014030456543,"y":1912.059769153595,"wires":[]},{"id":"7d2ae7d8.01deb8","type":"inject","z":"4907b097.a19c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2095.1900177001953,"y":1113.7622146606445,"wires":[["f9d03533.ce4ff8"]]},{"id":"f9d03533.ce4ff8","type":"function","z":"4907b097.a19c","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2311.968589782715,"y":1164.9526300430298,"wires":[["2a924490.b9954c"]]},{"id":"2a924490.b9954c","type":"function","z":"4907b097.a19c","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2493.873062133789,"y":1164.0002689361572,"wires":[["70c88b98.7ed824"]]},{"id":"cc21ce30.dd171","type":"function","z":"4907b097.a19c","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2411.9683113098145,"y":1262.5716915130615,"wires":[["fa58659b.b8aa38"]]},{"id":"70c88b98.7ed824","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2676.492156982422,"y":1161.3811559677124,"wires":[["703557d3.589878"],[]]},{"id":"fa58659b.b8aa38","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2666.2539253234863,"y":1265.4287767410278,"wires":[["980d094a.03d228"],[]]},{"id":"703557d3.589878","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2877.6828536987305,"y":1162.333740234375,"wires":[["90281add.1e9b68"]]},{"id":"980d094a.03d228","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2869.3491497039795,"y":1260.4287595748901,"wires":[["63a5d6e9.bb6ad8"]]},{"id":"90281add.1e9b68","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3050.9836349487305,"y":1057.571647644043,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cc21ce30.dd171"]]},{"id":"63a5d6e9.bb6ad8","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3212.888397216797,"y":1216.1430220603943,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["dc227554.831f58"],[],[]]},{"id":"dc227554.831f58","type":"function","z":"4907b097.a19c","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2328.126564025879,"y":1347.0954222679138,"wires":[["54dfc9bf.035228"]]},{"id":"54dfc9bf.035228","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2524.0787353515625,"y":1355.9049496650696,"wires":[["2e138a2b.62a6e6"],[]]},{"id":"2e138a2b.62a6e6","type":"function","z":"4907b097.a19c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2725.5074768066406,"y":1356.8575015068054,"wires":[["19d9b878.bf1248"]]},{"id":"19d9b878.bf1248","type":"function","z":"4907b097.a19c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2859.4720153808594,"y":1359.5836062431335,"wires":[["d505a247.55489","2895095d.635906"]]},{"id":"d505a247.55489","type":"http response","z":"4907b097.a19c","name":"","x":3016.305187225342,"y":1359.7145657539368,"wires":[]},{"id":"2895095d.635906","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":3050.293472290039,"y":1408.0120482444763,"wires":[]},{"id":"a912069e.11d108","type":"http in","z":"4907b097.a19c","name":"","url":"/k3/StatusPump","method":"get","swaggerDoc":"","x":2049.555046081543,"y":1166.1431560516357,"wires":[["f9d03533.ce4ff8"]]},{"id":"31f1d7ce.ac9168","type":"function","z":"24affbf6.cc6d74","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["cc8baf87.b8483"]]},{"id":"c2e8a4ed.6d6318","type":"inject","z":"24affbf6.cc6d74","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["31f1d7ce.ac9168"]]},{"id":"d3bafe95.0d63c","type":"http in","z":"24affbf6.cc6d74","name":"","url":"/k3/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["31f1d7ce.ac9168"]]},{"id":"cc8baf87.b8483","type":"function","z":"24affbf6.cc6d74","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.26969146728516,"y":235.10162162780762,"wires":[["7132f64a.95e618"]]},{"id":"7132f64a.95e618","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":627.1229553222656,"y":234.18895053863525,"wires":[["45cce735.95d308"],[]]},{"id":"45cce735.95d308","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":808.2141876220703,"y":232.85718536376953,"wires":[["664cb4d5.b8e70c"]]},{"id":"664cb4d5.b8e70c","type":"function","z":"24affbf6.cc6d74","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":387.13871002197266,"y":278.2325859069824,"wires":[["aabbe2ef.7f163"]]},{"id":"aabbe2ef.7f163","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":585.1982192993164,"y":279.32783699035645,"wires":[["4c0eb656.530c08"],[]]},{"id":"4c0eb656.530c08","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":775.3570404052734,"y":278.57147455215454,"wires":[["a7ec0601.97e7f8"]]},{"id":"a7ec0601.97e7f8","type":"function","z":"24affbf6.cc6d74","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":392.9601593017578,"y":327.5540370941162,"wires":[["c684dd55.92bed"]]},{"id":"c684dd55.92bed","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":597.2417526245117,"y":324.48656940460205,"wires":[["8c6b0d1c.8b85c"],[]]},{"id":"8c6b0d1c.8b85c","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":801.2221145629883,"y":320.351598739624,"wires":[["5af3a2d9.dfb9fc"]]},{"id":"5af3a2d9.dfb9fc","type":"function","z":"24affbf6.cc6d74","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.9958953857422,"y":372.30401515960693,"wires":[["b7c37dd2.372dd"]]},{"id":"b7c37dd2.372dd","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":604.7417984008789,"y":372.700870513916,"wires":[["a832688d.818648"],[]]},{"id":"a832688d.818648","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":805.0437622070312,"y":365.8278532028198,"wires":[["bcc6c990.d402a8"]]},{"id":"bcc6c990.d402a8","type":"function","z":"24affbf6.cc6d74","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.6506652832031,"y":418.38728523254395,"wires":[["c70c7f69.acd8a"]]},{"id":"c70c7f69.acd8a","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":601.4005355834961,"y":419.1015748977661,"wires":[["710d7f2e.c02be"],[]]},{"id":"710d7f2e.c02be","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.8453674316406,"y":413.65710830688477,"wires":[["f883d171.30e7f"]]},{"id":"f883d171.30e7f","type":"function","z":"24affbf6.cc6d74","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":399.25770568847656,"y":460.53014183044434,"wires":[["c0acf37d.5a666"]]},{"id":"c0acf37d.5a666","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":602.7057266235352,"y":462.5817823410034,"wires":[["f91678aa.4a8dd8"],[]]},{"id":"f91678aa.4a8dd8","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.2933387756348,"y":458.5658645629883,"wires":[["58cab3c2.df004c"]]},{"id":"58cab3c2.df004c","type":"function","z":"24affbf6.cc6d74","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":398.00768280029297,"y":504.6372718811035,"wires":[["73f52a2b.a58ae4"]]},{"id":"73f52a2b.a58ae4","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":600.5628623962402,"y":513.8317775726318,"wires":[["c069dcbf.17ea7"],[]]},{"id":"c069dcbf.17ea7","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":806.5790710449219,"y":498.3872718811035,"wires":[["7f97568d.97a3e8"]]},{"id":"7f97568d.97a3e8","type":"function","z":"24affbf6.cc6d74","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":385.50769805908203,"y":548.9230284690857,"wires":[["22b4e731.2f06a8"]]},{"id":"22b4e731.2f06a8","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":600.0271911621094,"y":560.7960548400879,"wires":[["f432b5c7.68f298"],[]]},{"id":"f432b5c7.68f298","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.6147842407227,"y":549.6373100280762,"wires":[["41f806bd.354708"]]},{"id":"41f806bd.354708","type":"function","z":"24affbf6.cc6d74","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.82908630371094,"y":600.7088451385498,"wires":[["27d94950.1b3de6"]]},{"id":"27d94950.1b3de6","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":607.8843231201172,"y":605.0817642211914,"wires":[["23263579.45166a"],[]]},{"id":"23263579.45166a","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.1862144470215,"y":598.2087173461914,"wires":[["3228a830.46e3d8"]]},{"id":"3228a830.46e3d8","type":"function","z":"24affbf6.cc6d74","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":378.3887023925781,"y":649.9111614227295,"wires":[["1c56741f.6a4f3c"]]},{"id":"1c56741f.6a4f3c","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":603.1346893310547,"y":657.1651706695557,"wires":[["fd349dd1.c312c"],[]]},{"id":"fd349dd1.c312c","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.2933387756348,"y":652.9706268310547,"wires":[["5424dd19.1527c4"]]},{"id":"5424dd19.1527c4","type":"function","z":"24affbf6.cc6d74","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":375.30543518066406,"y":697.5181579589844,"wires":[["eddbc6b7.b2daf8"]]},{"id":"eddbc6b7.b2daf8","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":602.6267395019531,"y":708.2324261665344,"wires":[["cf29464f.7c8048"],[]]},{"id":"cf29464f.7c8048","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.214427947998,"y":702.7879877090454,"wires":[["5a14624f.b55a9c"]]},{"id":"5a14624f.b55a9c","type":"function","z":"24affbf6.cc6d74","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":369.0552673339844,"y":749.6609973907471,"wires":[["8affbe02.d606d"]]},{"id":"8affbe02.d606d","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":616.7890205383301,"y":758.8554773330688,"wires":[["fa7f6085.7bcdb"],[]]},{"id":"fa7f6085.7bcdb","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":828.5195541381836,"y":757.6967449188232,"wires":[["b141eb75.711028"]]},{"id":"b141eb75.711028","type":"function","z":"24affbf6.cc6d74","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":363.51954650878906,"y":789.4824266433716,"wires":[["327964c9.4aac8c"]]},{"id":"327964c9.4aac8c","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":617.5032806396484,"y":805.8197631835938,"wires":[["bf67ee9.e6f071"],[]]},{"id":"bf67ee9.e6f071","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.948127746582,"y":806.0895957946777,"wires":[["946c9a5.46e5368"]]},{"id":"946c9a5.46e5368","type":"function","z":"24affbf6.cc6d74","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":359.59100341796875,"y":842.3396759033203,"wires":[["e2444843.407cf8"]]},{"id":"e2444843.407cf8","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":614.1104202270508,"y":855.6412906646729,"wires":[["f14ef9c5.692928"],[]]},{"id":"f14ef9c5.692928","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":810.1267166137695,"y":855.9111061096191,"wires":[["24f71808.8d2618"]]},{"id":"24f71808.8d2618","type":"function","z":"24affbf6.cc6d74","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":351.9124298095703,"y":908.4111814498901,"wires":[["11422ead.95d181"]]},{"id":"11422ead.95d181","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":613.3961601257324,"y":909.9270133972168,"wires":[["f47f7ff5.ba8b9"],[]]},{"id":"f47f7ff5.ba8b9","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":829.412446975708,"y":905.9110794067383,"wires":[["2395b581.1b5e8a"]]},{"id":"2395b581.1b5e8a","type":"function","z":"24affbf6.cc6d74","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":352.4720001220703,"y":957.6134796142578,"wires":[["b01282f8.21a65"]]},{"id":"b01282f8.21a65","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":605.7894058227539,"y":956.2960872650146,"wires":[["cd06d27f.af06"],[]]},{"id":"cd06d27f.af06","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":821.3767242431641,"y":959.2444286346436,"wires":[["12f5fc65.babfd4"]]},{"id":"12f5fc65.babfd4","type":"function","z":"24affbf6.cc6d74","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":338.2141876220703,"y":998.5714988708496,"wires":[["ecdb34b0.25bb28"]]},{"id":"ecdb34b0.25bb28","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":607.6388473510742,"y":1004.8016843795776,"wires":[["8784611f.e338a"],[]]},{"id":"8784611f.e338a","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":815.8729705810547,"y":1002.0413913726807,"wires":[["ec52527.fa417b"]]},{"id":"ec52527.fa417b","type":"function","z":"24affbf6.cc6d74","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.2142105102539,"y":1048.5714702606201,"wires":[["a59a21be.59681"]]},{"id":"a59a21be.59681","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":607.6388626098633,"y":1063.3731002807617,"wires":[["ae391c2d.800a7"],[]]},{"id":"ae391c2d.800a7","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":813.0158462524414,"y":1053.4698905944824,"wires":[["933cb734.d7b158"]]},{"id":"933cb734.d7b158","type":"function","z":"24affbf6.cc6d74","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":319.6427764892578,"y":1104.2857360839844,"wires":[["9b28908a.5477a"]]},{"id":"9b28908a.5477a","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":607.6388626098633,"y":1121.9444847106934,"wires":[["a8cd6637.54f178"],[]]},{"id":"a8cd6637.54f178","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":821.587287902832,"y":1114.8984069824219,"wires":[["401385e1.14cc0c"]]},{"id":"401385e1.14cc0c","type":"function","z":"24affbf6.cc6d74","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.21421813964844,"y":1160.000126838684,"wires":[["4d488990.9ff748"]]},{"id":"4d488990.9ff748","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":613.3532180786133,"y":1160.5160179138184,"wires":[["bc633f5d.360c3"],[]]},{"id":"bc633f5d.360c3","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":811.5872039794922,"y":1157.7556552886963,"wires":[["c75e5047.e5442"]]},{"id":"c75e5047.e5442","type":"function","z":"24affbf6.cc6d74","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":316.78564453125,"y":1222.8571338653564,"wires":[["e51d143b.d81508"]]},{"id":"e51d143b.d81508","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":580.4960479736328,"y":1215.9445724487305,"wires":[["72145dee.633034"],[]]},{"id":"72145dee.633034","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.7300643920898,"y":1216.327018737793,"wires":[["4db34c74.3457d4"]]},{"id":"4db34c74.3457d4","type":"function","z":"24affbf6.cc6d74","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":322.4999237060547,"y":1291.428731918335,"wires":[["a21ee36c.711b7"]]},{"id":"a21ee36c.711b7","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":599.0674362182617,"y":1303.3730735778809,"wires":[["14ab4489.7a8b8b"],[]]},{"id":"14ab4489.7a8b8b","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":807.3015441894531,"y":1287.755723953247,"wires":[["4d20f65d.9eedb8"]]},{"id":"4d20f65d.9eedb8","type":"function","z":"24affbf6.cc6d74","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":311.0713653564453,"y":1342.8571290969849,"wires":[["b2137e71.70b84"]]},{"id":"b2137e71.70b84","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":599.0674247741699,"y":1353.3731546401978,"wires":[["bf0d4ecd.912aa"],[]]},{"id":"bf0d4ecd.912aa","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":801.5872764587402,"y":1344.8984060287476,"wires":[["21afc7e9.cc3838"]]},{"id":"21afc7e9.cc3838","type":"function","z":"24affbf6.cc6d74","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":312.49991607666016,"y":1391.4286708831787,"wires":[["ec8ec0ed.7e6d7"]]},{"id":"ec8ec0ed.7e6d7","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":603.3531494140625,"y":1401.9444751739502,"wires":[["860f887f.26af88"],[]]},{"id":"860f887f.26af88","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":805.8729782104492,"y":1394.8983316421509,"wires":[["b2fef3f4.f735b"]]},{"id":"b2fef3f4.f735b","type":"function","z":"24affbf6.cc6d74","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":305.35707092285156,"y":1457.143060684204,"wires":[["62241d72.da0ef4"]]},{"id":"62241d72.da0ef4","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":617.6389122009277,"y":1450.516077041626,"wires":[["54f7cf4f.d71a1"],[]]},{"id":"54f7cf4f.d71a1","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":820.1586570739746,"y":1442.0412578582764,"wires":[["53c4b4c3.74e84c"]]},{"id":"53c4b4c3.74e84c","type":"function","z":"24affbf6.cc6d74","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":308.2142105102539,"y":1511.4285221099854,"wires":[["c9bddda1.d6066"]]},{"id":"c9bddda1.d6066","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":611.9246253967285,"y":1503.3731718063354,"wires":[["5da27fcd.3c172"],[]]},{"id":"5da27fcd.3c172","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.872917175293,"y":1499.1840858459473,"wires":[["3b5409b8.2d2ed6"]]},{"id":"3b5409b8.2d2ed6","type":"function","z":"24affbf6.cc6d74","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":325.71417236328125,"y":1572.8571519851685,"wires":[["76d488cf.4d1958"]]},{"id":"76d488cf.4d1958","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":619.0476379394531,"y":1559.5240449905396,"wires":[["205a164d.d5d1ba"],[]]},{"id":"205a164d.d5d1ba","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.428466796875,"y":1560.000096321106,"wires":[["eb388ef8.fa7da"]]},{"id":"eb388ef8.fa7da","type":"function","z":"24affbf6.cc6d74","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":326.26990509033203,"y":1622.3016958236694,"wires":[["7bbf990.ce20d68"]]},{"id":"7bbf990.ce20d68","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":638.4919395446777,"y":1633.4127979278564,"wires":[["f9e39fc1.1fbe2"],[]]},{"id":"f9e39fc1.1fbe2","type":"function","z":"24affbf6.cc6d74","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.5713195800781,"y":1630.0001306533813,"wires":[["c696a637.c58138"]]},{"id":"c696a637.c58138","type":"function","z":"24affbf6.cc6d74","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":311.2699546813965,"y":1677.3016576766968,"wires":[["5fb5bf3a.68a7c"]]},{"id":"5fb5bf3a.68a7c","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":635.158763885498,"y":1675.0794277191162,"wires":[["ad6002fa.c49fb"],[]]},{"id":"ad6002fa.c49fb","type":"function","z":"24affbf6.cc6d74","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8570556640625,"y":1680.000096321106,"wires":[["1f062a9c.e3b325"]]},{"id":"1f062a9c.e3b325","type":"function","z":"24affbf6.cc6d74","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":322.93649673461914,"y":1725.6349325180054,"wires":[["c21969c5.995258"]]},{"id":"c21969c5.995258","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":625.1586799621582,"y":1718.4127435684204,"wires":[["9ad7ade7.66be7"],[]]},{"id":"9ad7ade7.66be7","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.7141723632812,"y":1735.714451789856,"wires":[["1d349a7.3596666"]]},{"id":"1d349a7.3596666","type":"function","z":"24affbf6.cc6d74","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":327.9364547729492,"y":1780.6350145339966,"wires":[["43061232.34d37c"]]},{"id":"43061232.34d37c","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":626.8253440856934,"y":1773.412766456604,"wires":[["83a4c664.867d88"],[]]},{"id":"83a4c664.867d88","type":"function","z":"24affbf6.cc6d74","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.428466796875,"y":1780.0002403259277,"wires":[["d07d40e1.c942a"]]},{"id":"d07d40e1.c942a","type":"function","z":"24affbf6.cc6d74","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":286.56935119628906,"y":1829.5282020568848,"wires":[["8e649780.305208"]]},{"id":"8e649780.305208","type":"modbus-flex-getter","z":"24affbf6.cc6d74","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":619.9027214050293,"y":1831.1948499679565,"wires":[["7c2c9d7c.029984"],[]]},{"id":"7c2c9d7c.029984","type":"function","z":"24affbf6.cc6d74","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":792.8570785522461,"y":1828.5714378356934,"wires":[["92a146d7.ed7f18"]]},{"id":"92a146d7.ed7f18","type":"function","z":"24affbf6.cc6d74","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":929.2025032043457,"y":1830.1070613861084,"wires":[["47e8ed6b.95ea54","4b3180eb.15c03"]]},{"id":"47e8ed6b.95ea54","type":"http response","z":"24affbf6.cc6d74","name":"","x":1100.5596656799316,"y":1792.381085395813,"wires":[]},{"id":"4b3180eb.15c03","type":"debug","z":"24affbf6.cc6d74","name":"","active":true,"console":"false","complete":"payload","x":1119.5479164123535,"y":1829.0118312835693,"wires":[]},{"id":"72447d82.930c64","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["c985b656.de3258","487643f5.a102cc"]]},{"id":"ab85c124.dd944","type":"function","z":"57146746.fd06d8","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["72447d82.930c64"]]},{"id":"487643f5.a102cc","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"a9c283da.5d055","type":"function","z":"57146746.fd06d8","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["ab85c124.dd944"]]},{"id":"326f8667.4b9c3a","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["a9c283da.5d055","601cba1b.be4e44"]]},{"id":"45273c6e.75c214","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["a9c283da.5d055"]]},{"id":"afd5ecc3.5363c","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":767.5554809570312,"y":173.65108585357666,"wires":[["487643f5.a102cc"],["a722227e.f5c08"]]},{"id":"a722227e.f5c08","type":"function","z":"57146746.fd06d8","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["1126ccb1.a00cc3"]]},{"id":"1126ccb1.a00cc3","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":644,"y":222.76220798492432,"wires":[[],["7c263085.45e78"]]},{"id":"83a02854.275708","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/status","method":"get","swaggerDoc":"","x":1936.095573425293,"y":813.9210004806519,"wires":[["56d88d61.9bcb04"]]},{"id":"601cba1b.be4e44","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"d6147a0c.c72988","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/status","method":"post","swaggerDoc":"","x":1910.2622909545898,"y":984.0042934417725,"wires":[["c2de9699.28cc78","af981396.d5b91"]]},{"id":"c2de9699.28cc78","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2142.512237548828,"y":982.2543087005615,"wires":[["d59f7b31.b99a78"]]},{"id":"d59f7b31.b99a78","type":"function","z":"57146746.fd06d8","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2272.7622261047363,"y":985.6709041595459,"wires":[["f972c7b6.6b04c8"]]},{"id":"e8c5fb10.c16008","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2676.1750717163086,"y":814.5559377670288,"wires":[]},{"id":"e6214767.5ee718","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1928.8733444213867,"y":767.2543115615845,"wires":[["56d88d61.9bcb04"]]},{"id":"f972c7b6.6b04c8","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2441.6511154174805,"y":986.7820358276367,"wires":[[],["f9dbc3db.a6757"]]},{"id":"f9dbc3db.a6757","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2626.9566650390625,"y":992.2543201446533,"wires":[]},{"id":"fdd04803.1aae58","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2294.6789169311523,"y":816.2265462875366,"wires":[["a3da2abf.370f58"],[]]},{"id":"56d88d61.9bcb04","type":"function","z":"57146746.fd06d8","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2120.901134490967,"y":814.0043230056763,"wires":[["fdd04803.1aae58"]]},{"id":"419800d8.2eb35","type":"comment","z":"57146746.fd06d8","name":"Read_R5002","info":"","x":2236.762252807617,"y":769.1431903839111,"wires":[]},{"id":"7b1901e7.56eda","type":"comment","z":"57146746.fd06d8","name":"Write_R5002","info":"","x":2234.7344284057617,"y":868.9209852218628,"wires":[]},{"id":"f13d766e.1a2408","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1912.5122375488281,"y":942.2543087005615,"wires":[["c2de9699.28cc78"]]},{"id":"8671db9c.98b378","type":"http response","z":"57146746.fd06d8","name":"","x":2728.1590690612793,"y":873.7622737884521,"wires":[]},{"id":"c5edb964.fbbf08","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2508.3177490234375,"y":870.5876893997192,"wires":[["8671db9c.98b378"]]},{"id":"7c263085.45e78","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"9a6f0a3c.b83ab8","type":"function","z":"57146746.fd06d8","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["afd5ecc3.5363c"]]},{"id":"c985b656.de3258","type":"function","z":"57146746.fd06d8","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["9a6f0a3c.b83ab8"]]},{"id":"7ab21c55.93b4d4","type":"comment","z":"57146746.fd06d8","name":"read_PLC input status","info":"","x":2169.0956802368164,"y":534.2543087005615,"wires":[]},{"id":"77cd35d.6982fcc","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PLCInputStatus","method":"get","swaggerDoc":"","x":1887.6512336730957,"y":573.4765977859497,"wires":[["fe91b6e1.2461f8"]]},{"id":"fe91b6e1.2461f8","type":"function","z":"57146746.fd06d8","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2088.6512336730957,"y":571.4765977859497,"wires":[["a52264a4.492238"]]},{"id":"a52264a4.492238","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2284.6512336730957,"y":578.4765977859497,"wires":[["511c9e39.eac54","7d92ac02.0922c4"],[]]},{"id":"511c9e39.eac54","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2483.6512336730957,"y":572.4765977859497,"wires":[]},{"id":"c98225cd.a05df8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1826.6512336730957,"y":522.4765977859497,"wires":[["fe91b6e1.2461f8"]]},{"id":"2e3907ce.e7f068","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/RegisterError","method":"get","swaggerDoc":"","x":3612.166702270508,"y":564.5956058502197,"wires":[["3dceb722.1753d8"]]},{"id":"d8f240bd.3a9d7","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3604.500030517578,"y":510.26224982738495,"wires":[["3dceb722.1753d8"]]},{"id":"260ca1ed.67b29e","type":"comment","z":"57146746.fd06d8","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"b25f982.24f3a68","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["b7f7c394.03ff6"]]},{"id":"b7f7c394.03ff6","type":"function","z":"57146746.fd06d8","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["17117d1c.e87f23"]]},{"id":"17117d1c.e87f23","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":724.9999389648438,"y":1374.3176727294922,"wires":[["b2a1b5ae.cb7118"],[]]},{"id":"9946dd7d.9c477","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["b7f7c394.03ff6"]]},{"id":"a3f24233.13cd2","type":"comment","z":"57146746.fd06d8","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"957d5f5d.6f4fc","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["cd9940bd.1cf25"]]},{"id":"cd9940bd.1cf25","type":"function","z":"57146746.fd06d8","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["54d8f039.b7054"]]},{"id":"54d8f039.b7054","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":729.4443817138672,"y":1509.7620887756348,"wires":[["c450c0f2.db1e"],[]]},{"id":"9802c45f.28dc88","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["cd9940bd.1cf25"]]},{"id":"12a630df.8caa8f","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/resetError","method":"post","swaggerDoc":"","x":338.55555725097656,"y":1104.0954475402832,"wires":[["4c0f31d5.83cfd","189cd726.ce39e9"]]},{"id":"2252516e.6de97e","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1081.9998970031738,"y":1099.0955084562302,"wires":[]},{"id":"73c9006.75ec5","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":900.6666450500488,"y":1100.2065924406052,"wires":[["2252516e.6de97e"],["2252516e.6de97e"]]},{"id":"3b5b5529.9a71aa","type":"function","z":"57146746.fd06d8","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.8889045715332,"y":1099.8732184171677,"wires":[["73c9006.75ec5"]]},{"id":"4c0f31d5.83cfd","type":"function","z":"57146746.fd06d8","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":576.8888740539551,"y":1100.762159228325,"wires":[["3b5b5529.9a71aa"]]},{"id":"a1f3c71d.49bfb8","type":"comment","z":"57146746.fd06d8","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"4d166402.8a54dc","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["188ff91a.e95427"]]},{"id":"188ff91a.e95427","type":"function","z":"57146746.fd06d8","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["b67cb9ca.d0f1c8"]]},{"id":"b67cb9ca.d0f1c8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":734.4443817138672,"y":1683.7620887756348,"wires":[["6ba8f881.aa4198"],[]]},{"id":"ae74669d.e12b28","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"33169254.b0065e","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["188ff91a.e95427"]]},{"id":"c03e9f1d.d482e","type":"comment","z":"57146746.fd06d8","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"905b8ac1.fc4fd8","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["dd8d9fa6.60cb6"]]},{"id":"dd8d9fa6.60cb6","type":"function","z":"57146746.fd06d8","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["335a3db2.c57a62"]]},{"id":"335a3db2.c57a62","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":729.4443817138672,"y":1845.7620887756348,"wires":[["5a21c334.f15bbc"],[]]},{"id":"bb4da251.a59d4","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"4ca92f75.cf789","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["dd8d9fa6.60cb6"]]},{"id":"411f8562.422a5c","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"585e742e.31f02c","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostFlow","method":"get","swaggerDoc":"","x":290.7777404785156,"y":2006.0954418182373,"wires":[["276d49e3.6068a6"]]},{"id":"276d49e3.6068a6","type":"function","z":"57146746.fd06d8","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["12cb277e.7f8799"]]},{"id":"12cb277e.7f8799","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":729.4443817138672,"y":1997.7620887756348,"wires":[["c4afee85.c56db"],[]]},{"id":"d599646f.9bcca8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["276d49e3.6068a6"]]},{"id":"461c06ff.4d20a8","type":"comment","z":"57146746.fd06d8","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"60eedf.0416b12","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlowMiddle","method":"get","swaggerDoc":"","x":342.4443817138672,"y":2154.7620887756348,"wires":[["99f10a40.885998"]]},{"id":"99f10a40.885998","type":"function","z":"57146746.fd06d8","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":2152.7620887756348,"wires":[["322c724b.1c43ee"]]},{"id":"322c724b.1c43ee","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":729.4443817138672,"y":2159.7620887756348,"wires":[["bd1ff899.cf71b8"],[]]},{"id":"aba82f2.ef476d","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["99f10a40.885998"]]},{"id":"63e67526.4c68ac","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"e6d32e9a.d6f34","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostMiddle","method":"get","swaggerDoc":"","x":349.33331298828125,"y":2337.7621850967407,"wires":[["cd01fb19.5fd718"]]},{"id":"cd01fb19.5fd718","type":"function","z":"57146746.fd06d8","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":540.3333129882812,"y":2335.7621850967407,"wires":[["95d54062.a8e8d"]]},{"id":"95d54062.a8e8d","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":736.3333129882812,"y":2342.7621850967407,"wires":[["cb0f3a9a.0a7f68"],[]]},{"id":"a8f80fc3.f7174","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["cd01fb19.5fd718"]]},{"id":"d478bff.384964","type":"comment","z":"57146746.fd06d8","name":"write_error_reset","info":"","x":663.7777481079102,"y":1054.0954788923264,"wires":[]},{"id":"da75a6cc.022c68","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["db9be9c8.216aa8","b1cae306.bec0e"]]},{"id":"184f3272.905c2e","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"64d7244d.ddecac","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["184f3272.905c2e"]]},{"id":"597ad85a.61fc78","type":"function","z":"57146746.fd06d8","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["64d7244d.ddecac"]]},{"id":"db9be9c8.216aa8","type":"function","z":"57146746.fd06d8","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["597ad85a.61fc78"]]},{"id":"7259bfa7.bc375","type":"comment","z":"57146746.fd06d8","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"e1abb4a9.2bb648","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["e9e7a123.6299d","cdb7def0.12176"]]},{"id":"77112fe2.43bad","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"be157fd0.c8e1e","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":902.055534362793,"y":2665.151086807251,"wires":[[],["77112fe2.43bad"]]},{"id":"95f60061.0b48","type":"function","z":"57146746.fd06d8","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["be157fd0.c8e1e"]]},{"id":"e9e7a123.6299d","type":"function","z":"57146746.fd06d8","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["95f60061.0b48"]]},{"id":"3e4d7a2d.38e5b6","type":"comment","z":"57146746.fd06d8","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"451f5810.25e2e8","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/SetLflowStart","method":"post","swaggerDoc":"","x":337.99993896484375,"y":2911.4010763168335,"wires":[["8d05c201.064e","eea62510.9f65d8"]]},{"id":"bd02cd68.dc477","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1123.9998474121094,"y":2981.42898273468,"wires":[]},{"id":"30110892.da3038","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":937.4722023010254,"y":2987.5121002197266,"wires":[["bd02cd68.dc477"],[]]},{"id":"bfae2aa1.15a608","type":"function","z":"57146746.fd06d8","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":751.3610191345215,"y":2990.1787118911743,"wires":[["30110892.da3038"]]},{"id":"8d05c201.064e","type":"function","z":"57146746.fd06d8","name":"with_1c","func":"var setflowstart = msg.payload;\n/* var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":462.0277786254883,"y":2990.9845399856567,"wires":[["9f3d793e.065b88"]]},{"id":"2b848cc1.70e8d4","type":"comment","z":"57146746.fd06d8","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"bf96e0bd.72011","type":"comment","z":"57146746.fd06d8","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"11b7e309.4ed58d","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/SetLflowStart","method":"get","swaggerDoc":"","x":375.9444046020508,"y":3116.178910255432,"wires":[["5efde1a7.130ca"]]},{"id":"5efde1a7.130ca","type":"function","z":"57146746.fd06d8","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["a2eacc51.2915c"]]},{"id":"a2eacc51.2915c","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":794.1944046020508,"y":3101.178910255432,"wires":[["2ea03bc5.8f6764"],[]]},{"id":"2b5fde90.0c7eb2","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"29d8fd42.4b7b72","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["5efde1a7.130ca"]]},{"id":"9f3d793e.065b88","type":"function","z":"57146746.fd06d8","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":601.2776832580566,"y":2988.457148551941,"wires":[["bfae2aa1.15a608"]]},{"id":"3dd3f652.dc606a","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["b3972642.26c028","5b725b48.267784"]]},{"id":"2861b0d5.21e15","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":988.7221832275391,"y":3248.6232481002808,"wires":[["788d03ef.4fe56c"],[]]},{"id":"f86fca0f.d19b58","type":"function","z":"57146746.fd06d8","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":829.1388053894043,"y":3249.0675859451294,"wires":[["2861b0d5.21e15"]]},{"id":"b3972642.26c028","type":"function","z":"57146746.fd06d8","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":552.444450378418,"y":3245.5675840377808,"wires":[["d79f9734.09baa8"]]},{"id":"802235b7.ac2958","type":"comment","z":"57146746.fd06d8","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"43e7ab15.599184","type":"comment","z":"57146746.fd06d8","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"7bd40571.7a8b9c","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["34536c01.67ef54"]]},{"id":"34536c01.67ef54","type":"function","z":"57146746.fd06d8","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["925cde45.27ce2"]]},{"id":"925cde45.27ce2","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":801.5554809570312,"y":3394.650938987732,"wires":[["a8e51436.366e38"],[]]},{"id":"52377ff6.f1e07","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["34536c01.67ef54"]]},{"id":"d79f9734.09baa8","type":"function","z":"57146746.fd06d8","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":695.4443435668945,"y":3248.17915725708,"wires":[["f86fca0f.d19b58"]]},{"id":"788d03ef.4fe56c","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1178.2776489257812,"y":3246.0121450424194,"wires":[]},{"id":"f0c9971f.b2af88","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["31476043.65cbf","12df21d4.71cc4e"]]},{"id":"7049a9d8.cccb08","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":969.555534362793,"y":3725.1510553359985,"wires":[["6d8d8dd3.1f4104"],[]]},{"id":"a16c19c5.6745f8","type":"function","z":"57146746.fd06d8","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":804.9721641540527,"y":3743.0953912734985,"wires":[["7049a9d8.cccb08"]]},{"id":"31476043.65cbf","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":534.5278205871582,"y":3745.845390319824,"wires":[["79e2ebd8.c85c44"]]},{"id":"6f2564cf.e8f26c","type":"comment","z":"57146746.fd06d8","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"dc557d3b.424c","type":"comment","z":"57146746.fd06d8","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"2fc33987.ff9776","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["2229d5a3.680b7a"]]},{"id":"2229d5a3.680b7a","type":"function","z":"57146746.fd06d8","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["729faef8.c2756"]]},{"id":"729faef8.c2756","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":774.8888473510742,"y":3898.678889274597,"wires":[["fcd4350d.9e3dd8"],[]]},{"id":"f2f5a642.ffc0c8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["2229d5a3.680b7a"]]},{"id":"79e2ebd8.c85c44","type":"function","z":"57146746.fd06d8","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":670.027702331543,"y":3745.9569635391235,"wires":[["a16c19c5.6745f8"]]},{"id":"6d8d8dd3.1f4104","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":1152.6110229492188,"y":3768.7897272109985,"wires":[]},{"id":"85e0a118.f5972","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["f6ab4c48.6947c","99770853.8dcdd8"]]},{"id":"3f3951cc.92115e","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":965.8055877685547,"y":4129.206654548645,"wires":[["63262c3c.75b374"],[]]},{"id":"6d1df790.e35708","type":"comment","z":"57146746.fd06d8","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"e5bef48b.e7dc18","type":"comment","z":"57146746.fd06d8","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"c09aeb92.968218","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["de5cbbed.761b68"]]},{"id":"de5cbbed.761b68","type":"function","z":"57146746.fd06d8","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["71a0dacd.407af4"]]},{"id":"71a0dacd.407af4","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":739.8888473510742,"y":4276.734314918518,"wires":[["d18201f.99a1b"],[]]},{"id":"f5b25d43.92775","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["de5cbbed.761b68"]]},{"id":"63262c3c.75b374","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":1196.861026763916,"y":4119.095652580261,"wires":[]},{"id":"9bf9a415.04eec8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":306.7499694824219,"y":2961.53994846344,"wires":[["8d05c201.064e"]]},{"id":"ef32ba71.a89bf8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[["99770853.8dcdd8"]]},{"id":"af981396.d5b91","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":2162.512222290039,"y":924.476505279541,"wires":[]},{"id":"287b67d.8381798","type":"comment","z":"57146746.fd06d8","name":"read_Upakovka_marshrut","info":"","x":2195.127056121826,"y":55.98460006713867,"wires":[]},{"id":"5e0583db.8afb9c","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1869.460506439209,"y":134.5400514602661,"wires":[["988a3937.970038"]]},{"id":"9d7ff9e6.5d4ba8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1833.7937507629395,"y":79.76232147216797,"wires":[["988a3937.970038"]]},{"id":"d320f224.02062","type":"http response","z":"57146746.fd06d8","name":"","x":2627.2067680358887,"y":612.8099565505981,"wires":[]},{"id":"7d92ac02.0922c4","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2471.6512145996094,"y":617.2543792724609,"wires":[["d320f224.02062"]]},{"id":"189cd726.ce39e9","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":485.77773666381836,"y":1059.3177012205124,"wires":[]},{"id":"aa1a4c29.27d19","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":313.9999542236328,"y":1061.4288004636765,"wires":[["4c0f31d5.83cfd"]]},{"id":"536f9d7c.bb53b4","type":"http response","z":"57146746.fd06d8","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"96d2338.ce84fd","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["536f9d7c.bb53b4"]]},{"id":"5993cec4.0d126","type":"http response","z":"57146746.fd06d8","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"9fdb475f.a8f118","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["5993cec4.0d126"]]},{"id":"cdb7def0.12176","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"b1cae306.bec0e","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"1876a151.69c8bf","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["309f3124.05705e"]]},{"id":"b3a0afa5.53b36","type":"comment","z":"57146746.fd06d8","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"309f3124.05705e","type":"function","z":"57146746.fd06d8","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["3bd74d7d.1943e2"]]},{"id":"3bd74d7d.1943e2","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":729.2499389648438,"y":2824.178864479065,"wires":[["53c6bf86.43d51"],[]]},{"id":"78cfe123.e8a25","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"31f5ee24.bfc892","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["e923b059.13d1c"]]},{"id":"e923b059.13d1c","type":"http response","z":"57146746.fd06d8","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"214074c.fa63f8c","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["309f3124.05705e"]]},{"id":"8289ef34.7b426","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["f434291b.b30f58"]]},{"id":"f434291b.b30f58","type":"http response","z":"57146746.fd06d8","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"eea62510.9f65d8","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":562.9999465942383,"y":2941.678907394409,"wires":[]},{"id":"5b725b48.267784","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":450.4999465942383,"y":3177.928910255432,"wires":[]},{"id":"8631b02e.5ddf1","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":282.99993896484375,"y":3195.428864479065,"wires":[["b3972642.26c028"]]},{"id":"12df21d4.71cc4e","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":556.6110610961914,"y":3690.151022911072,"wires":[]},{"id":"ac6c7f4c.b6a56","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[["31476043.65cbf"]]},{"id":"f6ab4c48.6947c","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":596.3333053588867,"y":4056.262143135071,"wires":[]},{"id":"11ebf010.a2f7e","type":"comment","z":"57146746.fd06d8","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"e2d8ce6e.66028","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["97d0736c.d8df5"]]},{"id":"97d0736c.d8df5","type":"function","z":"57146746.fd06d8","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["23bd6cd6.046984"]]},{"id":"23bd6cd6.046984","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":736.5554885864258,"y":4617.726898193359,"wires":[["37cb966b.f4ddba"],[]]},{"id":"3c48b117.61e42e","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["97d0736c.d8df5"]]},{"id":"a3032af0.796648","type":"comment","z":"57146746.fd06d8","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"d463cb26.b48bf8","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["3cb6465a.3fc5da"]]},{"id":"3cb6465a.3fc5da","type":"function","z":"57146746.fd06d8","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["8ca3564d.fa51b8"]]},{"id":"8ca3564d.fa51b8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":736.5554885864258,"y":4760.107833862305,"wires":[["b2b4bd81.00ec"],[]]},{"id":"5c82c1aa.eed1e","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["3cb6465a.3fc5da"]]},{"id":"2ea03bc5.8f6764","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["2b5fde90.0c7eb2","8289ef34.7b426"]]},{"id":"5a21c334.f15bbc","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["bb4da251.a59d4","9fdb475f.a8f118"]]},{"id":"6ba8f881.aa4198","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["96d2338.ce84fd","ae74669d.e12b28"]]},{"id":"8743b4de.69d418","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"6ab2ab60.7ad2f4","type":"http response","z":"57146746.fd06d8","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"b7623c64.bdfaf","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["6ab2ab60.7ad2f4"]]},{"id":"c450c0f2.db1e","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["b7623c64.bdfaf","8743b4de.69d418"]]},{"id":"c9db1d85.8c632","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"40f9800.513fb8","type":"http response","z":"57146746.fd06d8","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"ad142ae1.62d738","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["40f9800.513fb8"]]},{"id":"b2a1b5ae.cb7118","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["ad142ae1.62d738","c9db1d85.8c632"]]},{"id":"be7c2598.11de78","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"6e51c344.5c9b6c","type":"http response","z":"57146746.fd06d8","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"70261a88.3ea054","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["6e51c344.5c9b6c"]]},{"id":"c4afee85.c56db","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["70261a88.3ea054","be7c2598.11de78"]]},{"id":"5abe6e05.992b8","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"92d50c09.4ca75","type":"http response","z":"57146746.fd06d8","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"9b95f5c1.1a52e8","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["92d50c09.4ca75"]]},{"id":"bd1ff899.cf71b8","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["9b95f5c1.1a52e8","5abe6e05.992b8"]]},{"id":"15ac4a19.44b6d6","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"563a360d.82d0e8","type":"http response","z":"57146746.fd06d8","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"d15f6c1d.e6d7b","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["563a360d.82d0e8"]]},{"id":"cb0f3a9a.0a7f68","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["d15f6c1d.e6d7b","15ac4a19.44b6d6"]]},{"id":"ee81f5d6.3a9268","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"38991f85.650d9","type":"http response","z":"57146746.fd06d8","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"e4e115c0.fe7618","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["38991f85.650d9"]]},{"id":"a8e51436.366e38","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["e4e115c0.fe7618","ee81f5d6.3a9268"]]},{"id":"cea03e59.aaccd","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"7ddab386.40e8dc","type":"http response","z":"57146746.fd06d8","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"3009f5d.bcb200a","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["7ddab386.40e8dc"]]},{"id":"fcd4350d.9e3dd8","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["3009f5d.bcb200a","cea03e59.aaccd"]]},{"id":"90d508f5.c280d8","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"2a9674de.0692ac","type":"http response","z":"57146746.fd06d8","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"da4d4288.b3dc7","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["2a9674de.0692ac"]]},{"id":"98d6ebba.18db28","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"c91c6021.f664f","type":"http response","z":"57146746.fd06d8","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"e662bfa5.8fd89","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["c91c6021.f664f"]]},{"id":"37cb966b.f4ddba","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["e662bfa5.8fd89","98d6ebba.18db28"]]},{"id":"4f8f6c06.fbd2a4","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"d3056257.17829","type":"http response","z":"57146746.fd06d8","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"c61b6f83.c77b3","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["d3056257.17829"]]},{"id":"b2b4bd81.00ec","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["c61b6f83.c77b3","4f8f6c06.fbd2a4"]]},{"id":"7ff6ce1d.bd42f","type":"comment","z":"57146746.fd06d8","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"7b7036ac.87f238","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["9ba00cbe.4d214"]]},{"id":"9ba00cbe.4d214","type":"function","z":"57146746.fd06d8","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["47a8c395.dee39c"]]},{"id":"47a8c395.dee39c","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":750.5832901000977,"y":4913.679074287415,"wires":[["d5847c6a.e6dc4"],[]]},{"id":"805deba4.905f48","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["9ba00cbe.4d214"]]},{"id":"a28a1532.5e71f8","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"cfac459d.ddd348","type":"http response","z":"57146746.fd06d8","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"f144027f.879b3","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["cfac459d.ddd348"]]},{"id":"d5847c6a.e6dc4","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["f144027f.879b3","a28a1532.5e71f8"]]},{"id":"35810eaa.3ff762","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["7e0622d0.6210ac","85a94528.e54ae8"]]},{"id":"f069409f.97d54","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"3a23aafa.cf1236","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2847.0160369873047,"y":2257.968363761902,"wires":[["f069409f.97d54"],[]]},{"id":"d01be5e7.e05828","type":"comment","z":"57146746.fd06d8","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"7e0622d0.6210ac","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"9e910a16.1f0c88","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["85a94528.e54ae8"]]},{"id":"85a94528.e54ae8","type":"function","z":"57146746.fd06d8","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["98dc7157.17f69"]]},{"id":"98dc7157.17f69","type":"function","z":"57146746.fd06d8","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["3a23aafa.cf1236"]]},{"id":"aece47d0.e39088","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"30113044.7fc72","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2743.8736000061035,"y":2363.159381389618,"wires":[["aece47d0.e39088"],[]]},{"id":"e2663ec0.b80e2","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"2834608a.97fea","type":"modbus-flex-write","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["e2663ec0.b80e2"],[]]},{"id":"5f7bb42a.110f2c","type":"comment","z":"57146746.fd06d8","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"e8853d3.8c75cc","type":"function","z":"57146746.fd06d8","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["6794e96.a9abe18"]]},{"id":"6794e96.a9abe18","type":"function","z":"57146746.fd06d8","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["2834608a.97fea"]]},{"id":"c0f69e1.363506","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["7ba4ff33.f7dd6","e8853d3.8c75cc"]]},{"id":"7ba4ff33.f7dd6","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"f4277d17.8107e","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["e8853d3.8c75cc"]]},{"id":"f7a2fcf4.cee34","type":"function","z":"57146746.fd06d8","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["f8414df4.0a2a3"]]},{"id":"f8414df4.0a2a3","type":"function","z":"57146746.fd06d8","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["30113044.7fc72"]]},{"id":"e1f93a54.e0d3c8","type":"comment","z":"57146746.fd06d8","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"58ec91d3.e67de","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["45afc81d.546628","f7a2fcf4.cee34"]]},{"id":"45afc81d.546628","type":"http response","z":"57146746.fd06d8","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"82cc86c9.5e56f8","type":"comment","z":"57146746.fd06d8","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"77b16f91.9b0ba","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["dc8897db.9809d8"]]},{"id":"dc8897db.9809d8","type":"function","z":"57146746.fd06d8","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["d423d4a8.88a718"]]},{"id":"d423d4a8.88a718","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2524.82515335083,"y":2829.377022743225,"wires":[["386a7633.09b5fa"],[]]},{"id":"391b227f.200ffe","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"c7293708.c491b8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["dc8897db.9809d8"]]},{"id":"377ad34a.45abbc","type":"http response","z":"57146746.fd06d8","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"f547cef7.0a932","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["377ad34a.45abbc"]]},{"id":"54c30149.639be","type":"comment","z":"57146746.fd06d8","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"f7cf2ac9.967148","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["5af7a6ac.196b78"]]},{"id":"5af7a6ac.196b78","type":"function","z":"57146746.fd06d8","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["6ab10df7.684064"]]},{"id":"6ab10df7.684064","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2521.8252296447754,"y":2958.377064704895,"wires":[["4b98bc12.be5604"],[]]},{"id":"4e18608a.ef6f9","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["5af7a6ac.196b78"]]},{"id":"d11faf65.71b81","type":"comment","z":"57146746.fd06d8","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"dfe7ae3b.1a395","type":"comment","z":"57146746.fd06d8","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"f6e303a3.97ea","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["e4515693.e07d58"]]},{"id":"e4515693.e07d58","type":"function","z":"57146746.fd06d8","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2331.213996887207,"y":3137.3770027160645,"wires":[["adebe87f.1015b8"]]},{"id":"adebe87f.1015b8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2527.213996887207,"y":3144.3770027160645,"wires":[["f16903ac.407f"],[]]},{"id":"e5b34042.02248","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["e4515693.e07d58"]]},{"id":"bdda7910.61cd68","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"dc51cc06.69d51","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["8954aed2.e6fe4"]]},{"id":"f16903ac.407f","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["dc51cc06.69d51","bdda7910.61cd68"]]},{"id":"8954aed2.e6fe4","type":"http response","z":"57146746.fd06d8","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"fa14c0b9.03389","type":"comment","z":"57146746.fd06d8","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"ce5bd944.09e068","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["b83f8048.b4428"]]},{"id":"b83f8048.b4428","type":"function","z":"57146746.fd06d8","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2329.7776107788086,"y":3282.724784851074,"wires":[["8dbd3951.b34db8"]]},{"id":"8dbd3951.b34db8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2525.7776107788086,"y":3289.724784851074,"wires":[["d78b71ab.3edb5"],[]]},{"id":"b71e9a39.e073a8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["b83f8048.b4428"]]},{"id":"da18e19d.aa07c","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"d9f4b869.170418","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["ea2c099c.6f8528"]]},{"id":"d78b71ab.3edb5","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["d9f4b869.170418","da18e19d.aa07c"]]},{"id":"ea2c099c.6f8528","type":"http response","z":"57146746.fd06d8","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"6a5708d1.cddb98","type":"comment","z":"57146746.fd06d8","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"11dd3b2b.f80745","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["7378f6a7.a38828"]]},{"id":"7378f6a7.a38828","type":"function","z":"57146746.fd06d8","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2337.555320739746,"y":3412.724784851074,"wires":[["358b89cc.9ef696"]]},{"id":"358b89cc.9ef696","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2533.555320739746,"y":3419.724784851074,"wires":[["58541b10.6eb3f4"],[]]},{"id":"a200333d.4ea89","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["7378f6a7.a38828"]]},{"id":"e421f4f4.b7c9a8","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"d76a1cb4.2e82f","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["7f3abffc.ff83c"]]},{"id":"58541b10.6eb3f4","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["d76a1cb4.2e82f","e421f4f4.b7c9a8"]]},{"id":"7f3abffc.ff83c","type":"http response","z":"57146746.fd06d8","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"60889b90.0a9c44","type":"comment","z":"57146746.fd06d8","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"bddeb5c7.788828","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["ced66c13.cb3ab"]]},{"id":"ced66c13.cb3ab","type":"function","z":"57146746.fd06d8","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2334.222068786621,"y":3547.169120788574,"wires":[["6fd4863f.a94e78"]]},{"id":"6fd4863f.a94e78","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2530.222068786621,"y":3554.169120788574,"wires":[["d6dad9b7.086d78"],[]]},{"id":"8691cfbc.537df","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["ced66c13.cb3ab"]]},{"id":"920b40ec.0d79e","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"3a6d3806.5cfef8","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["9f3391f6.e1a94"]]},{"id":"d6dad9b7.086d78","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["3a6d3806.5cfef8","920b40ec.0d79e"]]},{"id":"9f3391f6.e1a94","type":"http response","z":"57146746.fd06d8","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"f7a3c54d.542e58","type":"comment","z":"57146746.fd06d8","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"2ee6329b.97a26e","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["d302fd2e.c4851"]]},{"id":"d302fd2e.c4851","type":"function","z":"57146746.fd06d8","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2328.666404724121,"y":3683.465507507324,"wires":[["276b7705.3c1f38"]]},{"id":"276b7705.3c1f38","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2524.666404724121,"y":3690.465507507324,"wires":[["9d7c63ef.65b9d"],[]]},{"id":"2d3762b3.c1858e","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["d302fd2e.c4851"]]},{"id":"81ca3904.d81c38","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"1d011651.ab5d4a","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["837d99ea.e952b8"]]},{"id":"9d7c63ef.65b9d","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["1d011651.ab5d4a","81ca3904.d81c38"]]},{"id":"837d99ea.e952b8","type":"http response","z":"57146746.fd06d8","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"5420f91c.0a1898","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"fbfda80.ef53758","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostFlow1","method":"get","swaggerDoc":"","x":2138.777618408203,"y":3932.983733177185,"wires":[["3d9f4905.714e36"]]},{"id":"3d9f4905.714e36","type":"function","z":"57146746.fd06d8","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2376.444290161133,"y":3915.9839010238647,"wires":[["36d7d74.1d3e428"]]},{"id":"36d7d74.1d3e428","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2572.444290161133,"y":3922.9839010238647,"wires":[["11d952c8.5c66fd"],[]]},{"id":"b19eba2e.4efe68","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["3d9f4905.714e36"]]},{"id":"11d952c8.5c66fd","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["5b4dfb5e.b87274","1485c4ef.a188db"]]},{"id":"1485c4ef.a188db","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"5b4dfb5e.b87274","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["1315819c.a54e1e"]]},{"id":"1315819c.a54e1e","type":"http response","z":"57146746.fd06d8","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"80be1cb2.9bc08","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"36b10872.a25108","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostFlow2","method":"get","swaggerDoc":"","x":2183.222122192383,"y":4058.7246236801147,"wires":[["82fa758f.6c85a8"]]},{"id":"82fa758f.6c85a8","type":"function","z":"57146746.fd06d8","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2374.222122192383,"y":4056.7246236801147,"wires":[["a352b34a.9d672"]]},{"id":"a352b34a.9d672","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2570.222122192383,"y":4063.7246236801147,"wires":[["124a1275.a5fbee"],[]]},{"id":"dd409791.835858","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["82fa758f.6c85a8"]]},{"id":"124a1275.a5fbee","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["83437b29.f19f58","c746e51.49ece18"]]},{"id":"c746e51.49ece18","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"83437b29.f19f58","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["847f9c19.e6a11"]]},{"id":"847f9c19.e6a11","type":"http response","z":"57146746.fd06d8","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"ad0090e3.cb675","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"791148ae.834918","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["c5d907ff.107af8"]]},{"id":"c5d907ff.107af8","type":"function","z":"57146746.fd06d8","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2360.8887481689453,"y":4214.502455711365,"wires":[["c93a350f.959178"]]},{"id":"c93a350f.959178","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2556.8887481689453,"y":4221.502455711365,"wires":[["f7386e22.b9112"],[]]},{"id":"ee7cf7d2.bc34d8","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["c5d907ff.107af8"]]},{"id":"f7386e22.b9112","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["689f1e37.47168","67c79b4a.266304"]]},{"id":"67c79b4a.266304","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"689f1e37.47168","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["d61d91ed.94a71"]]},{"id":"d61d91ed.94a71","type":"http response","z":"57146746.fd06d8","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"d41766ce.29c288","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"6a4eb8e0.2f5188","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostFlow4","method":"get","swaggerDoc":"","x":2172.111038208008,"y":4360.94703578949,"wires":[["677ec013.8228a"]]},{"id":"677ec013.8228a","type":"function","z":"57146746.fd06d8","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4358.94703578949,"wires":[["c9bc8a1d.9c84b8"]]},{"id":"c9bc8a1d.9c84b8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2559.111038208008,"y":4365.94703578949,"wires":[["dd4f436a.8f4f"],[]]},{"id":"68728811.d06e58","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["677ec013.8228a"]]},{"id":"dd4f436a.8f4f","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["fbe3e735.c8aa48","90c1d843.e43668"]]},{"id":"90c1d843.e43668","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"fbe3e735.c8aa48","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["25d97a91.af07e6"]]},{"id":"25d97a91.af07e6","type":"http response","z":"57146746.fd06d8","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"9f3ed271.472eb","type":"comment","z":"57146746.fd06d8","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"262e6ca5.aaf454","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["d5c2a9eb.22a698"]]},{"id":"d5c2a9eb.22a698","type":"function","z":"57146746.fd06d8","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4516.35426235199,"wires":[["efd9ba8b.cfbc98"]]},{"id":"efd9ba8b.cfbc98","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2559.111038208008,"y":4523.35426235199,"wires":[["ee2a333e.c5d97"],[]]},{"id":"7d60af3a.07002","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["d5c2a9eb.22a698"]]},{"id":"ee2a333e.c5d97","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["15b84a39.93e276","dea6dadd.96aed8"]]},{"id":"dea6dadd.96aed8","type":"debug","z":"57146746.fd06d8","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"15b84a39.93e276","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["4b0ada29.9b2ad4"]]},{"id":"4b0ada29.9b2ad4","type":"http response","z":"57146746.fd06d8","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"99770853.8dcdd8","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":475.7779769897461,"y":4135.652293205261,"wires":[["3faf870.eddde7a"]]},{"id":"3faf870.eddde7a","type":"function","z":"57146746.fd06d8","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":630.2778244018555,"y":4134.763295173645,"wires":[["79340f7.ecc2ff"]]},{"id":"79340f7.ecc2ff","type":"function","z":"57146746.fd06d8","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":798.72216796875,"y":4129.651316642761,"wires":[["3f3951cc.92115e"]]},{"id":"d18201f.99a1b","type":"function","z":"57146746.fd06d8","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["90d508f5.c280d8","da4d4288.b3dc7"]]},{"id":"a36092c4.690ca","type":"comment","z":"57146746.fd06d8","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":4015.7423706054688,"y":80.86333560943604,"wires":[]},{"id":"bd2fc685.8d6bb8","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["2ad957b3.8fe278"]]},{"id":"e0db2328.7a987","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["2ad957b3.8fe278"]]},{"id":"4841222e.79df5c","type":"comment","z":"57146746.fd06d8","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"2ad957b3.8fe278","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["4badcef0.901db"]]},{"id":"689033a.79f59cc","type":"function","z":"57146746.fd06d8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["bc551842.f42678"]]},{"id":"bc551842.f42678","type":"function","z":"57146746.fd06d8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["e6a4f29e.00924","b91c6921.c92518"]]},{"id":"e6a4f29e.00924","type":"http response","z":"57146746.fd06d8","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"b91c6921.c92518","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"4badcef0.901db","type":"function","z":"57146746.fd06d8","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["771960fc.bf431"]]},{"id":"3f4d2960.1cf346","type":"function","z":"57146746.fd06d8","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["89132f99.efc71"]]},{"id":"771960fc.bf431","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":946.3656005859375,"y":413.76866817474365,"wires":[["ffc4029f.c7ac5"],[]]},{"id":"89132f99.efc71","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":904.6988525390625,"y":492.102011680603,"wires":[["46fdea19.4a8054"],[]]},{"id":"57dff590.b7cb9c","type":"function","z":"57146746.fd06d8","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["ac350333.43008"]]},{"id":"ac350333.43008","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":892.3139419555664,"y":555.7012310028076,"wires":[["7c5ae557.6398ac"],[]]},{"id":"7c5ae557.6398ac","type":"function","z":"57146746.fd06d8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["d99ef812.755918"]]},{"id":"d99ef812.755918","type":"function","z":"57146746.fd06d8","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["a8d8ef94.d6acf"]]},{"id":"a8d8ef94.d6acf","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":897.3139419555664,"y":614.0345439910889,"wires":[["689033a.79f59cc"],[]]},{"id":"ffc4029f.c7ac5","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["3f4d2960.1cf346"]]},{"id":"46fdea19.4a8054","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["57dff590.b7cb9c"]]},{"id":"a3da2abf.370f58","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2486.2425689697266,"y":813.2916316986084,"wires":[["c5edb964.fbbf08","e8c5fb10.c16008"]]},{"id":"53c6bf86.43d51","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["31f5ee24.bfc892","78cfe123.e8a25"]]},{"id":"386a7633.09b5fa","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["f547cef7.0a932","391b227f.200ffe"]]},{"id":"dff3f824.f01488","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"2a1be2f4.71de3e","type":"http response","z":"57146746.fd06d8","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"7e05d26f.883c9c","type":"function","z":"57146746.fd06d8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["2a1be2f4.71de3e"]]},{"id":"4b98bc12.be5604","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["7e05d26f.883c9c","dff3f824.f01488"]]},{"id":"304c42b6.b20dbe","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2569.6665992736816,"y":1605.428831577301,"wires":[["4014969e.52ab78"],[]]},{"id":"42710e37.6ed05","type":"function","z":"57146746.fd06d8","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2397.047504425049,"y":1608.0479445457458,"wires":[["304c42b6.b20dbe"]]},{"id":"4014969e.52ab78","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2790.85733795166,"y":1591.3814215660095,"wires":[["49ba4fb0.49ff7"]]},{"id":"93e5adc9.ad5c2","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2205.1430320739746,"y":1609.0003056526184,"wires":[["42710e37.6ed05"]]},{"id":"49ba4fb0.49ff7","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2977.4913597106934,"y":1579.952661037445,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["89f082de.576a5"]]},{"id":"59ea3d7a.6df404","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1988.364459991455,"y":1557.8098902702332,"wires":[["93e5adc9.ad5c2"]]},{"id":"584e9276.383dec","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/StatusKlapan","method":"get","swaggerDoc":"","x":1952.7294883728027,"y":1610.1908316612244,"wires":[["93e5adc9.ad5c2"]]},{"id":"89f082de.576a5","type":"function","z":"57146746.fd06d8","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2215.142749786377,"y":1729.952739238739,"wires":[["74916b0b.5a5dd4"]]},{"id":"74916b0b.5a5dd4","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2426.095111846924,"y":1742.809714794159,"wires":[["2914d373.1c947c"],[]]},{"id":"2914d373.1c947c","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2695.85701751709,"y":1722.8098139762878,"wires":[["2e5454f8.e3072c"]]},{"id":"2e5454f8.e3072c","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3119.3962020874023,"y":1710.1906752586365,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["35845e65.935a72"],[]]},{"id":"35845e65.935a72","type":"function","z":"57146746.fd06d8","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2127.967716217041,"y":1832.8098282814026,"wires":[["3c0fda60.1bbf96"]]},{"id":"3c0fda60.1bbf96","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2332.253215789795,"y":1829.9527201652527,"wires":[["99db5699.639158"],[]]},{"id":"99db5699.639158","type":"function","z":"57146746.fd06d8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2513.681896209717,"y":1824.2385258674622,"wires":[["b0eb6c95.d11de"]]},{"id":"b0eb6c95.d11de","type":"function","z":"57146746.fd06d8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2694.313091278076,"y":1828.631365776062,"wires":[["82985425.1e2dc8","7d6c0aa2.62cba4"]]},{"id":"82985425.1e2dc8","type":"http response","z":"57146746.fd06d8","name":"","x":2952.812973022461,"y":1863.7623896598816,"wires":[]},{"id":"7d6c0aa2.62cba4","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":2971.801223754883,"y":1900.393135547638,"wires":[]},{"id":"43af548d.61c1ec","type":"inject","z":"57146746.fd06d8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1995.1898384094238,"y":1102.0955810546875,"wires":[["49d16cff.e20a94"]]},{"id":"49d16cff.e20a94","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2211.9684104919434,"y":1153.2859964370728,"wires":[["ef7ebac5.6aec58"]]},{"id":"ef7ebac5.6aec58","type":"function","z":"57146746.fd06d8","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2393.8728828430176,"y":1152.3336353302002,"wires":[["6dd539e9.a89cf8"]]},{"id":"6269147a.f1b4dc","type":"function","z":"57146746.fd06d8","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2311.968132019043,"y":1250.9050579071045,"wires":[["6f32c6ad.7d30c8"]]},{"id":"6dd539e9.a89cf8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2576.4919776916504,"y":1149.7145223617554,"wires":[["f3860bce.45c068"],[]]},{"id":"6f32c6ad.7d30c8","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2566.253746032715,"y":1253.7621431350708,"wires":[["4d78a58e.6f830c"],[]]},{"id":"f3860bce.45c068","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2777.682674407959,"y":1150.667106628418,"wires":[["548ec60a.95bc28"]]},{"id":"4d78a58e.6f830c","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2769.348970413208,"y":1248.762125968933,"wires":[["d378f46b.5f7408"]]},{"id":"548ec60a.95bc28","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2950.983455657959,"y":1045.905014038086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6269147a.f1b4dc"]]},{"id":"d378f46b.5f7408","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3112.8882179260254,"y":1204.4763884544373,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["a47b1f10.fd78e"],[],[]]},{"id":"a47b1f10.fd78e","type":"function","z":"57146746.fd06d8","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2228.1263847351074,"y":1335.4287886619568,"wires":[["54606d0f.6fc1e4"]]},{"id":"54606d0f.6fc1e4","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2424.078556060791,"y":1344.2383160591125,"wires":[["f263c97f.cc6a18"],[]]},{"id":"f263c97f.cc6a18","type":"function","z":"57146746.fd06d8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2625.507297515869,"y":1345.1908679008484,"wires":[["1d163cfa.7c7383"]]},{"id":"1d163cfa.7c7383","type":"function","z":"57146746.fd06d8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2759.471836090088,"y":1347.9169726371765,"wires":[["48a88336.7b230c","2169c376.f0ccdc"]]},{"id":"48a88336.7b230c","type":"http response","z":"57146746.fd06d8","name":"","x":2916.3050079345703,"y":1348.0479321479797,"wires":[]},{"id":"2169c376.f0ccdc","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":2950.2932929992676,"y":1396.3454146385193,"wires":[]},{"id":"5d81c484.e6563c","type":"http in","z":"57146746.fd06d8","name":"","url":"/k4/StatusPump","method":"get","swaggerDoc":"","x":1949.5548667907715,"y":1154.4765224456787,"wires":[["49d16cff.e20a94"]]},{"id":"5b41335.5c01acc","type":"function","z":"fd5a6464.b11a38","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["a5dfa4ae.a0ebc8"]]},{"id":"f8c76820.787c48","type":"inject","z":"fd5a6464.b11a38","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["5b41335.5c01acc"]]},{"id":"4ec58349.78384c","type":"http in","z":"fd5a6464.b11a38","name":"","url":"/k4/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["5b41335.5c01acc"]]},{"id":"a5dfa4ae.a0ebc8","type":"function","z":"fd5a6464.b11a38","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.26969146728516,"y":235.10162162780762,"wires":[["15b6638b.be139c"]]},{"id":"15b6638b.be139c","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":627.1229553222656,"y":234.18895053863525,"wires":[["c350b6b4.7333d8"],[]]},{"id":"c350b6b4.7333d8","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":808.2141876220703,"y":232.85718536376953,"wires":[["990e0bd1.d7c2a8"]]},{"id":"990e0bd1.d7c2a8","type":"function","z":"fd5a6464.b11a38","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":387.13871002197266,"y":278.2325859069824,"wires":[["564f0aff.6a0d54"]]},{"id":"564f0aff.6a0d54","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":585.1982192993164,"y":279.32783699035645,"wires":[["963bd5d0.771788"],[]]},{"id":"963bd5d0.771788","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":775.3570404052734,"y":278.57147455215454,"wires":[["c272c306.173c4"]]},{"id":"c272c306.173c4","type":"function","z":"fd5a6464.b11a38","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":392.9601593017578,"y":327.5540370941162,"wires":[["8d05383d.0eb998"]]},{"id":"8d05383d.0eb998","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":597.2417526245117,"y":324.48656940460205,"wires":[["c65cdc02.3ac4e"],[]]},{"id":"c65cdc02.3ac4e","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":801.2221145629883,"y":320.351598739624,"wires":[["e84f21d8.4ae05"]]},{"id":"e84f21d8.4ae05","type":"function","z":"fd5a6464.b11a38","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.9958953857422,"y":372.30401515960693,"wires":[["a4b79b08.499e88"]]},{"id":"a4b79b08.499e88","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":604.7417984008789,"y":372.700870513916,"wires":[["263010c5.c205d"],[]]},{"id":"263010c5.c205d","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":805.0437622070312,"y":365.8278532028198,"wires":[["8e6bcc23.29065"]]},{"id":"8e6bcc23.29065","type":"function","z":"fd5a6464.b11a38","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.6506652832031,"y":418.38728523254395,"wires":[["5a6e0cf.734c4f4"]]},{"id":"5a6e0cf.734c4f4","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":601.4005355834961,"y":419.1015748977661,"wires":[["e505f32d.a03ad"],[]]},{"id":"e505f32d.a03ad","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.8453674316406,"y":413.65710830688477,"wires":[["b410be75.1867f"]]},{"id":"b410be75.1867f","type":"function","z":"fd5a6464.b11a38","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":399.25770568847656,"y":460.53014183044434,"wires":[["a5a3a5b2.d50228"]]},{"id":"a5a3a5b2.d50228","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":602.7057266235352,"y":462.5817823410034,"wires":[["40b0ec62.7eeea4"],[]]},{"id":"40b0ec62.7eeea4","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.2933387756348,"y":458.5658645629883,"wires":[["3d1e89c6.397a76"]]},{"id":"3d1e89c6.397a76","type":"function","z":"fd5a6464.b11a38","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":398.00768280029297,"y":504.6372718811035,"wires":[["bf9daf9b.ad4a4"]]},{"id":"bf9daf9b.ad4a4","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":600.5628623962402,"y":513.8317775726318,"wires":[["3d8a6d91.8b01e2"],[]]},{"id":"3d8a6d91.8b01e2","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":806.5790710449219,"y":498.3872718811035,"wires":[["91a812dd.725e9"]]},{"id":"91a812dd.725e9","type":"function","z":"fd5a6464.b11a38","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":385.50769805908203,"y":548.9230284690857,"wires":[["d3ad2afb.af46d8"]]},{"id":"d3ad2afb.af46d8","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":600.0271911621094,"y":560.7960548400879,"wires":[["4a243f1c.4a87a"],[]]},{"id":"4a243f1c.4a87a","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.6147842407227,"y":549.6373100280762,"wires":[["24c7224a.318e8e"]]},{"id":"24c7224a.318e8e","type":"function","z":"fd5a6464.b11a38","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.82908630371094,"y":600.7088451385498,"wires":[["4552c4d0.a04c8c"]]},{"id":"4552c4d0.a04c8c","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":607.8843231201172,"y":605.0817642211914,"wires":[["4ff22295.5ad73c"],[]]},{"id":"4ff22295.5ad73c","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.1862144470215,"y":598.2087173461914,"wires":[["36e8a860.b72e58"]]},{"id":"36e8a860.b72e58","type":"function","z":"fd5a6464.b11a38","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":378.3887023925781,"y":649.9111614227295,"wires":[["e2a8fb32.43c328"]]},{"id":"e2a8fb32.43c328","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":603.1346893310547,"y":657.1651706695557,"wires":[["f8711459.21e088"],[]]},{"id":"f8711459.21e088","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.2933387756348,"y":652.9706268310547,"wires":[["f3e761bf.c0f02"]]},{"id":"f3e761bf.c0f02","type":"function","z":"fd5a6464.b11a38","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":375.30543518066406,"y":697.5181579589844,"wires":[["573bbcb5.559634"]]},{"id":"573bbcb5.559634","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":602.6267395019531,"y":708.2324261665344,"wires":[["69897817.415708"],[]]},{"id":"69897817.415708","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.214427947998,"y":702.7879877090454,"wires":[["b5cde555.e6a0a8"]]},{"id":"b5cde555.e6a0a8","type":"function","z":"fd5a6464.b11a38","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":369.0552673339844,"y":749.6609973907471,"wires":[["89713a86.26f1f8"]]},{"id":"89713a86.26f1f8","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":616.7890205383301,"y":758.8554773330688,"wires":[["2a87f698.f2e11a"],[]]},{"id":"2a87f698.f2e11a","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":794.2338333129883,"y":757.6967029571533,"wires":[["d67e2059.bfb"]]},{"id":"d67e2059.bfb","type":"function","z":"fd5a6464.b11a38","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":363.51954650878906,"y":789.4824266433716,"wires":[["497ff140.eddf"]]},{"id":"497ff140.eddf","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":617.5032806396484,"y":805.8197631835938,"wires":[["2edae37b.13f49c"],[]]},{"id":"2edae37b.13f49c","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.948127746582,"y":806.0895957946777,"wires":[["81dbfc18.afc0c"]]},{"id":"81dbfc18.afc0c","type":"function","z":"fd5a6464.b11a38","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":359.59100341796875,"y":842.3396759033203,"wires":[["78f7b5bf.3a9dcc"]]},{"id":"78f7b5bf.3a9dcc","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":614.1104202270508,"y":855.6412906646729,"wires":[["6901e36a.7ffa9c"],[]]},{"id":"6901e36a.7ffa9c","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":810.1267166137695,"y":855.9111061096191,"wires":[["2182864.c2d0a7a"]]},{"id":"2182864.c2d0a7a","type":"function","z":"fd5a6464.b11a38","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":351.9124298095703,"y":908.4111814498901,"wires":[["87b21024.31c01"]]},{"id":"87b21024.31c01","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":613.3961601257324,"y":909.9270133972168,"wires":[["bb310463.e15598"],[]]},{"id":"bb310463.e15598","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":829.412446975708,"y":905.9110794067383,"wires":[["d6f9a38c.01804"]]},{"id":"d6f9a38c.01804","type":"function","z":"fd5a6464.b11a38","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":352.4720001220703,"y":957.6134796142578,"wires":[["d1b16b6a.88d968"]]},{"id":"d1b16b6a.88d968","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":605.7894058227539,"y":956.2960872650146,"wires":[["70708af1.e4db24"],[]]},{"id":"70708af1.e4db24","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":821.3767242431641,"y":959.2444286346436,"wires":[["66416858.5e9898"]]},{"id":"66416858.5e9898","type":"function","z":"fd5a6464.b11a38","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":338.2141876220703,"y":998.5714988708496,"wires":[["cec65e47.a795a"]]},{"id":"cec65e47.a795a","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":607.6388473510742,"y":1004.8016843795776,"wires":[["9cbdbe9a.26b59"],[]]},{"id":"9cbdbe9a.26b59","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":815.8729705810547,"y":1002.0413913726807,"wires":[["5824d973.df0ff8"]]},{"id":"5824d973.df0ff8","type":"function","z":"fd5a6464.b11a38","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.2142105102539,"y":1048.5714702606201,"wires":[["5dba554b.e7212c"]]},{"id":"5dba554b.e7212c","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":607.6388626098633,"y":1063.3731002807617,"wires":[["ed4111b5.1b922"],[]]},{"id":"ed4111b5.1b922","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":813.0158462524414,"y":1053.4698905944824,"wires":[["f0e944c5.51de78"]]},{"id":"f0e944c5.51de78","type":"function","z":"fd5a6464.b11a38","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":319.6427764892578,"y":1104.2857360839844,"wires":[["fe9de9f9.927858"]]},{"id":"fe9de9f9.927858","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":607.6388626098633,"y":1121.9444847106934,"wires":[["d3d3a466.4df2c8"],[]]},{"id":"d3d3a466.4df2c8","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":821.587287902832,"y":1114.8984069824219,"wires":[["8a81a19.e2a6c6"]]},{"id":"8a81a19.e2a6c6","type":"function","z":"fd5a6464.b11a38","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.21421813964844,"y":1160.000126838684,"wires":[["a28ffada.715748"]]},{"id":"a28ffada.715748","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":613.3532180786133,"y":1160.5160179138184,"wires":[["c74b4723.ee9e28"],[]]},{"id":"c74b4723.ee9e28","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":811.5872039794922,"y":1157.7556552886963,"wires":[["cfbb6e96.7d225"]]},{"id":"cfbb6e96.7d225","type":"function","z":"fd5a6464.b11a38","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":316.78564453125,"y":1222.8571338653564,"wires":[["4a888683.98d2c8"]]},{"id":"4a888683.98d2c8","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":580.4960479736328,"y":1215.9445724487305,"wires":[["2517ffd2.81a0e"],[]]},{"id":"2517ffd2.81a0e","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.7300643920898,"y":1216.327018737793,"wires":[["4729a2b7.a3c42c"]]},{"id":"4729a2b7.a3c42c","type":"function","z":"fd5a6464.b11a38","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":322.4999237060547,"y":1291.428731918335,"wires":[["7475c26d.121e5c"]]},{"id":"7475c26d.121e5c","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":599.0674362182617,"y":1303.3730735778809,"wires":[["3f6a3024.d26f1"],[]]},{"id":"3f6a3024.d26f1","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":807.3015441894531,"y":1287.755723953247,"wires":[["bd998f23.50059"]]},{"id":"bd998f23.50059","type":"function","z":"fd5a6464.b11a38","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":311.0713653564453,"y":1342.8571290969849,"wires":[["48ac3771.9376c8"]]},{"id":"48ac3771.9376c8","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":599.0674247741699,"y":1353.3731546401978,"wires":[["8096c5eb.b18f48"],[]]},{"id":"8096c5eb.b18f48","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":801.5872764587402,"y":1344.8984060287476,"wires":[["fefb1268.ed02f"]]},{"id":"fefb1268.ed02f","type":"function","z":"fd5a6464.b11a38","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":312.49991607666016,"y":1391.4286708831787,"wires":[["60d37442.c867ac"]]},{"id":"60d37442.c867ac","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":603.3531494140625,"y":1401.9444751739502,"wires":[["ca515bb3.93dd28"],[]]},{"id":"ca515bb3.93dd28","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":805.8729782104492,"y":1394.8983316421509,"wires":[["98fbfc55.a198b"]]},{"id":"98fbfc55.a198b","type":"function","z":"fd5a6464.b11a38","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":305.35707092285156,"y":1457.143060684204,"wires":[["9af96246.47ed4"]]},{"id":"9af96246.47ed4","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":617.6389122009277,"y":1450.516077041626,"wires":[["2cbd3610.64050a"],[]]},{"id":"2cbd3610.64050a","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":820.1586570739746,"y":1442.0412578582764,"wires":[["b5ca6b4e.3763c8"]]},{"id":"b5ca6b4e.3763c8","type":"function","z":"fd5a6464.b11a38","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":308.2142105102539,"y":1511.4285221099854,"wires":[["a93f47ba.091308"]]},{"id":"a93f47ba.091308","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":611.9246253967285,"y":1503.3731718063354,"wires":[["f19187fc.a4e458"],[]]},{"id":"f19187fc.a4e458","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.872917175293,"y":1499.1840858459473,"wires":[["f5bd505a.cb2ee"]]},{"id":"f5bd505a.cb2ee","type":"function","z":"fd5a6464.b11a38","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":325.71417236328125,"y":1572.8571519851685,"wires":[["87e76b12.2416d8"]]},{"id":"87e76b12.2416d8","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":619.0476379394531,"y":1559.5240449905396,"wires":[["1f890ce9.9a9dc3"],[]]},{"id":"1f890ce9.9a9dc3","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.428466796875,"y":1560.000096321106,"wires":[["fd7dacb2.72c61"]]},{"id":"fd7dacb2.72c61","type":"function","z":"fd5a6464.b11a38","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":326.26990509033203,"y":1622.3016958236694,"wires":[["cc95e41b.f9f198"]]},{"id":"cc95e41b.f9f198","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":638.4919395446777,"y":1633.4127979278564,"wires":[["42c660d8.f3976"],[]]},{"id":"42c660d8.f3976","type":"function","z":"fd5a6464.b11a38","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.5713195800781,"y":1630.0001306533813,"wires":[["bf9a985e.8d76e8"]]},{"id":"bf9a985e.8d76e8","type":"function","z":"fd5a6464.b11a38","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":311.2699546813965,"y":1677.3016576766968,"wires":[["4375005d.ffdf4"]]},{"id":"4375005d.ffdf4","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":635.158763885498,"y":1675.0794277191162,"wires":[["2bdc4a93.18b066"],[]]},{"id":"2bdc4a93.18b066","type":"function","z":"fd5a6464.b11a38","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8570556640625,"y":1680.000096321106,"wires":[["18696a61.f146f6"]]},{"id":"18696a61.f146f6","type":"function","z":"fd5a6464.b11a38","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":322.93649673461914,"y":1725.6349325180054,"wires":[["5b3424a2.c13ffc"]]},{"id":"5b3424a2.c13ffc","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":625.1586799621582,"y":1718.4127435684204,"wires":[["15d7b7b6.0020a8"],[]]},{"id":"15d7b7b6.0020a8","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.7141723632812,"y":1735.714451789856,"wires":[["2ba7532a.72390c"]]},{"id":"2ba7532a.72390c","type":"function","z":"fd5a6464.b11a38","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":327.9364547729492,"y":1780.6350145339966,"wires":[["1b6417fe.64a248"]]},{"id":"1b6417fe.64a248","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":626.8253440856934,"y":1773.412766456604,"wires":[["28294f78.e2491"],[]]},{"id":"28294f78.e2491","type":"function","z":"fd5a6464.b11a38","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.428466796875,"y":1780.0002403259277,"wires":[["f106a0d1.1be42"]]},{"id":"f106a0d1.1be42","type":"function","z":"fd5a6464.b11a38","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":286.56935119628906,"y":1829.5282020568848,"wires":[["a2f2a9ad.1656c8"]]},{"id":"a2f2a9ad.1656c8","type":"modbus-flex-getter","z":"fd5a6464.b11a38","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":619.9027214050293,"y":1831.1948499679565,"wires":[["83742a62.3edc68"],[]]},{"id":"83742a62.3edc68","type":"function","z":"fd5a6464.b11a38","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":792.8570785522461,"y":1828.5714378356934,"wires":[["f38a0be9.9bc9c8"]]},{"id":"f38a0be9.9bc9c8","type":"function","z":"fd5a6464.b11a38","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":929.2025032043457,"y":1830.1070613861084,"wires":[["c4587bb4.d59358","4ebceb06.36c844"]]},{"id":"c4587bb4.d59358","type":"http response","z":"fd5a6464.b11a38","name":"","x":1100.5596656799316,"y":1792.381085395813,"wires":[]},{"id":"4ebceb06.36c844","type":"debug","z":"fd5a6464.b11a38","name":"","active":true,"console":"false","complete":"payload","x":1119.5479164123535,"y":1829.0118312835693,"wires":[]},{"id":"db3543bf.9e276","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["f4363d55.6e3b6","8d1bba2f.58f0c8"]]},{"id":"74aeffa0.cd649","type":"function","z":"974abb37.699ac8","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["db3543bf.9e276"]]},{"id":"8d1bba2f.58f0c8","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"cf902688.3ea848","type":"function","z":"974abb37.699ac8","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["74aeffa0.cd649"]]},{"id":"1a63f7d.2d21008","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["cf902688.3ea848","bf476f0c.481c1"]]},{"id":"9e21d11f.a85e6","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["cf902688.3ea848"]]},{"id":"8e17821e.f7417","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":767.5554809570312,"y":173.65108585357666,"wires":[["8d1bba2f.58f0c8"],["fa4e19ea.227c98"]]},{"id":"fa4e19ea.227c98","type":"function","z":"974abb37.699ac8","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["c1088f26.cb3be"]]},{"id":"c1088f26.cb3be","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":644,"y":222.76220798492432,"wires":[[],["796c2a82.4ab184"]]},{"id":"2feda85.3b24158","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/status","method":"get","swaggerDoc":"","x":2007.5239639282227,"y":815.3496389389038,"wires":[["48c36948.2b3568"]]},{"id":"bf476f0c.481c1","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"1a5f9b3d.d1de35","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/status","method":"post","swaggerDoc":"","x":1981.6906814575195,"y":985.4329319000244,"wires":[["23abe990.a75966","573e29e4.650e18"]]},{"id":"23abe990.a75966","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2213.940628051758,"y":983.6829471588135,"wires":[["9bd1a564.ae62a8"]]},{"id":"9bd1a564.ae62a8","type":"function","z":"974abb37.699ac8","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2344.190616607666,"y":987.0995426177979,"wires":[["4514e95d.d95798"]]},{"id":"be33be66.1bd1c","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2747.6034622192383,"y":815.9845762252808,"wires":[]},{"id":"58885a8f.cfd444","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2000.3017349243164,"y":768.6829500198364,"wires":[["48c36948.2b3568"]]},{"id":"4514e95d.d95798","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2513.07950592041,"y":988.2106742858887,"wires":[[],["f5941bf4.5da618"]]},{"id":"f5941bf4.5da618","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2698.385055541992,"y":993.6829586029053,"wires":[]},{"id":"960fd42a.541218","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2366.107307434082,"y":817.6551847457886,"wires":[["1e5adb53.ad47d5"],[]]},{"id":"48c36948.2b3568","type":"function","z":"974abb37.699ac8","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2192.3295249938965,"y":815.4329614639282,"wires":[["960fd42a.541218"]]},{"id":"62891259.52c56c","type":"comment","z":"974abb37.699ac8","name":"Read_R5002","info":"","x":2308.190643310547,"y":770.5718288421631,"wires":[]},{"id":"419addb.b1c3824","type":"comment","z":"974abb37.699ac8","name":"Write_R5002","info":"","x":2306.1628189086914,"y":870.3496236801147,"wires":[]},{"id":"e7847889.abd6c8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1983.9406280517578,"y":943.6829471588135,"wires":[["23abe990.a75966"]]},{"id":"537c22e1.129cfc","type":"http response","z":"974abb37.699ac8","name":"","x":2799.587459564209,"y":875.1909122467041,"wires":[]},{"id":"b813540.5f54eb","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2579.746139526367,"y":872.0163278579712,"wires":[["537c22e1.129cfc"]]},{"id":"796c2a82.4ab184","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"64b7d3c.bdea12c","type":"function","z":"974abb37.699ac8","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["8e17821e.f7417"]]},{"id":"f4363d55.6e3b6","type":"function","z":"974abb37.699ac8","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["64b7d3c.bdea12c"]]},{"id":"882cc12d.a7c11","type":"comment","z":"974abb37.699ac8","name":"read_PLC input status","info":"","x":2256.238265991211,"y":659.96857213974,"wires":[]},{"id":"a694e9e6.73bd18","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PLCInputStatus","method":"get","swaggerDoc":"","x":1974.7938194274902,"y":699.1908612251282,"wires":[["39db883d.08bfb8"]]},{"id":"39db883d.08bfb8","type":"function","z":"974abb37.699ac8","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2175.7938194274902,"y":697.1908612251282,"wires":[["3b184dad.f78332"]]},{"id":"3b184dad.f78332","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2371.7938194274902,"y":704.1908612251282,"wires":[["63872b2a.f20f94","9503e2a4.fe78e"],[]]},{"id":"63872b2a.f20f94","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2570.7938194274902,"y":698.1908612251282,"wires":[]},{"id":"b2de893.208f078","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1913.7938194274902,"y":648.1908612251282,"wires":[["39db883d.08bfb8"]]},{"id":"1d77ac8f.f143e3","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/RegisterError","method":"get","swaggerDoc":"","x":3552.167007446289,"y":599.595666885376,"wires":[["46fe5ed3.f2658"]]},{"id":"621637d6.543a28","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3672.0003356933594,"y":550.2622890472412,"wires":[["46fe5ed3.f2658"]]},{"id":"b20d6c16.f61dc","type":"comment","z":"974abb37.699ac8","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"b30fa43e.69c5d8","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["d56ced14.01fc4"]]},{"id":"d56ced14.01fc4","type":"function","z":"974abb37.699ac8","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["523cae66.e88a9"]]},{"id":"523cae66.e88a9","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":724.9999389648438,"y":1374.3176727294922,"wires":[["cd67c91e.a0f118"],[]]},{"id":"514cb79f.5a7108","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["d56ced14.01fc4"]]},{"id":"e25c7fb0.c08ee","type":"comment","z":"974abb37.699ac8","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"981cdff8.e223b","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["c3b59597.ec4408"]]},{"id":"c3b59597.ec4408","type":"function","z":"974abb37.699ac8","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["4f7b67b4.5c3f88"]]},{"id":"4f7b67b4.5c3f88","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":729.4443817138672,"y":1509.7620887756348,"wires":[["d72f08d8.b1fad8"],[]]},{"id":"9ec6f617.d5c7a8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["c3b59597.ec4408"]]},{"id":"a844bfca.c5fb5","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/resetError","method":"post","swaggerDoc":"","x":338.55555725097656,"y":1104.0954475402832,"wires":[["96bc35ce.0267c8","5a7ed366.ad4e2c"]]},{"id":"a23aeb2c.c1b668","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1081.9998970031738,"y":1099.0955084562302,"wires":[]},{"id":"596d07b7.18b438","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":900.6666450500488,"y":1100.2065924406052,"wires":[["a23aeb2c.c1b668"],["a23aeb2c.c1b668"]]},{"id":"c2150818.540d48","type":"function","z":"974abb37.699ac8","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.8889045715332,"y":1099.8732184171677,"wires":[["596d07b7.18b438"]]},{"id":"96bc35ce.0267c8","type":"function","z":"974abb37.699ac8","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":576.8888740539551,"y":1100.762159228325,"wires":[["c2150818.540d48"]]},{"id":"b9d18a4d.f1d888","type":"comment","z":"974abb37.699ac8","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"d4d53c67.bbb34","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["432f57d3.169aa8"]]},{"id":"432f57d3.169aa8","type":"function","z":"974abb37.699ac8","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["e651a63b.203ca8"]]},{"id":"e651a63b.203ca8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":734.4443817138672,"y":1683.7620887756348,"wires":[["f84b1aae.4bc938"],[]]},{"id":"bd2843c0.21b29","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"b48652d2.c7e71","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["432f57d3.169aa8"]]},{"id":"a33ba59e.f1a3f8","type":"comment","z":"974abb37.699ac8","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"17d13058.f7233","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["494e4bb8.d0f0e4"]]},{"id":"494e4bb8.d0f0e4","type":"function","z":"974abb37.699ac8","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["c0197122.2ab44"]]},{"id":"c0197122.2ab44","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":729.4443817138672,"y":1845.7620887756348,"wires":[["815fd6ef.c25ff8"],[]]},{"id":"ee3b2d15.09188","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"a115f6e0.cd57f8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["494e4bb8.d0f0e4"]]},{"id":"9994acb0.6a0c1","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"f08e87f3.7ba608","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostFlow","method":"get","swaggerDoc":"","x":290.7777404785156,"y":2006.0954418182373,"wires":[["4aff47d6.ee82a8"]]},{"id":"4aff47d6.ee82a8","type":"function","z":"974abb37.699ac8","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["570b8bfc.e6d5f4"]]},{"id":"570b8bfc.e6d5f4","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":729.4443817138672,"y":1997.7620887756348,"wires":[["99304c14.d98aa"],[]]},{"id":"a136425f.97308","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["4aff47d6.ee82a8"]]},{"id":"46937dfd.08f654","type":"comment","z":"974abb37.699ac8","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"66636383.78589c","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlowMiddle","method":"get","swaggerDoc":"","x":311.1943817138672,"y":2151.0122861862183,"wires":[["6bc37097.a3cbf"]]},{"id":"6bc37097.a3cbf","type":"function","z":"974abb37.699ac8","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":2152.7620887756348,"wires":[["b61a40f.f8403c"]]},{"id":"b61a40f.f8403c","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":729.4443817138672,"y":2159.7620887756348,"wires":[["147b7d58.5a5bc3"],[]]},{"id":"9852a22d.c4b62","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["6bc37097.a3cbf"]]},{"id":"8a58c9ee.008438","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"541be33e.8e849c","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostMiddle","method":"get","swaggerDoc":"","x":324.33331298828125,"y":2337.7622995376587,"wires":[["cd6c57f3.e286e8"]]},{"id":"cd6c57f3.e286e8","type":"function","z":"974abb37.699ac8","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":540.3333129882812,"y":2335.7621850967407,"wires":[["b59efbd7.914388"]]},{"id":"b59efbd7.914388","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":736.3333129882812,"y":2342.7621850967407,"wires":[["1fd05177.fd860f"],[]]},{"id":"6f20350f.95bc1c","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["cd6c57f3.e286e8"]]},{"id":"e810325b.5746e","type":"comment","z":"974abb37.699ac8","name":"write_error_reset","info":"","x":663.7777481079102,"y":1054.0954788923264,"wires":[]},{"id":"1292432b.6af94d","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["562ee4cd.06e91c","c22e7c50.b182f"]]},{"id":"cc9598bd.f5e208","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"55fbe4b4.aa00fc","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["cc9598bd.f5e208"]]},{"id":"3148232f.b8a45c","type":"function","z":"974abb37.699ac8","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["55fbe4b4.aa00fc"]]},{"id":"562ee4cd.06e91c","type":"function","z":"974abb37.699ac8","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["3148232f.b8a45c"]]},{"id":"6fe3f98d.09de88","type":"comment","z":"974abb37.699ac8","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"881fc6dc.3ea648","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["d9261e6f.a8a99","1a04bd5e.3c0853"]]},{"id":"2c39f52a.fc058a","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"6b1c0929.195cd8","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":902.055534362793,"y":2665.151086807251,"wires":[[],["2c39f52a.fc058a"]]},{"id":"82028775.80cf08","type":"function","z":"974abb37.699ac8","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["6b1c0929.195cd8"]]},{"id":"d9261e6f.a8a99","type":"function","z":"974abb37.699ac8","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["82028775.80cf08"]]},{"id":"8e9c3675.f4dc28","type":"comment","z":"974abb37.699ac8","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"85eec2a8.ee322","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/SetLflowStart","method":"post","swaggerDoc":"","x":337.99993896484375,"y":2911.4010763168335,"wires":[["e0f1d8d0.59f798","298f7d9b.c6e622"]]},{"id":"8870ff2a.0d054","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1123.9998474121094,"y":2981.42898273468,"wires":[]},{"id":"de3a2439.c0a248","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":937.4722023010254,"y":2987.5121002197266,"wires":[["8870ff2a.0d054"],[]]},{"id":"60d52de6.5d8f34","type":"function","z":"974abb37.699ac8","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":751.3610191345215,"y":2990.1787118911743,"wires":[["de3a2439.c0a248"]]},{"id":"e0f1d8d0.59f798","type":"function","z":"974abb37.699ac8","name":"with_1c","func":"var setflowstart = msg.payload;\n/* var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":462.0277786254883,"y":2990.9845399856567,"wires":[["c1b20ab9.2210a8"]]},{"id":"41537e7d.8cc7f","type":"comment","z":"974abb37.699ac8","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"233cd76b.a29228","type":"comment","z":"974abb37.699ac8","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"90d43aa0.655a08","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/SetLflowStart","method":"get","swaggerDoc":"","x":375.9444046020508,"y":3116.178910255432,"wires":[["f69b750f.bcf218"]]},{"id":"f69b750f.bcf218","type":"function","z":"974abb37.699ac8","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["9e0a4370.2fd63"]]},{"id":"9e0a4370.2fd63","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":794.1944046020508,"y":3101.178910255432,"wires":[["2bdbf318.8c7a4c"],[]]},{"id":"d516f65a.cd1218","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"eff89247.65c3a","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["f69b750f.bcf218"]]},{"id":"c1b20ab9.2210a8","type":"function","z":"974abb37.699ac8","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":601.2776832580566,"y":2988.457148551941,"wires":[["60d52de6.5d8f34"]]},{"id":"779129b1.c70728","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["79533014.66c37","e6ec079c.23e2c8"]]},{"id":"b9f3e415.a999d8","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":988.7221832275391,"y":3248.6232481002808,"wires":[["5e618cc.0688d74"],[]]},{"id":"46a095fa.2f633c","type":"function","z":"974abb37.699ac8","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":829.1388053894043,"y":3249.0675859451294,"wires":[["b9f3e415.a999d8"]]},{"id":"79533014.66c37","type":"function","z":"974abb37.699ac8","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":552.444450378418,"y":3245.5675840377808,"wires":[["a99561a6.7d5ed"]]},{"id":"d81802cb.579ff","type":"comment","z":"974abb37.699ac8","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"a6aa4f98.303fa","type":"comment","z":"974abb37.699ac8","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"2309b4fb.5f764c","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["47e30190.10385"]]},{"id":"47e30190.10385","type":"function","z":"974abb37.699ac8","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["9eea232c.59533"]]},{"id":"9eea232c.59533","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":801.5554809570312,"y":3394.650938987732,"wires":[["8e9b8bff.3e50e8"],[]]},{"id":"c0c026d.4a47bd8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["47e30190.10385"]]},{"id":"a99561a6.7d5ed","type":"function","z":"974abb37.699ac8","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":695.4443435668945,"y":3248.17915725708,"wires":[["46a095fa.2f633c"]]},{"id":"5e618cc.0688d74","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1178.2776489257812,"y":3246.0121450424194,"wires":[]},{"id":"d716832d.d303c","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["9bed8111.ce17c","de024205.4948c"]]},{"id":"33882c17.635174","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":969.555534362793,"y":3725.1510553359985,"wires":[["17b1100e.0e12d"],[]]},{"id":"45655dc0.126884","type":"function","z":"974abb37.699ac8","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":804.9721641540527,"y":3743.0953912734985,"wires":[["33882c17.635174"]]},{"id":"9bed8111.ce17c","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":534.5278205871582,"y":3745.845390319824,"wires":[["f6a17bea.c3a288"]]},{"id":"3813c00b.78e59","type":"comment","z":"974abb37.699ac8","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"b2f311d.ad958f","type":"comment","z":"974abb37.699ac8","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"4cc95114.94a33","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["2d5b51ef.04e06e"]]},{"id":"2d5b51ef.04e06e","type":"function","z":"974abb37.699ac8","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["4868073a.9e8128"]]},{"id":"4868073a.9e8128","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":774.8888473510742,"y":3898.678889274597,"wires":[["3a90ed0e.343832"],[]]},{"id":"eb85a45b.1e8d58","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["2d5b51ef.04e06e"]]},{"id":"f6a17bea.c3a288","type":"function","z":"974abb37.699ac8","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(0),b.readUInt16BE(2)]; \nreturn msg;","outputs":1,"noerr":0,"x":670.027702331543,"y":3745.9569635391235,"wires":[["45655dc0.126884"]]},{"id":"17b1100e.0e12d","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":1152.6110229492188,"y":3768.7897272109985,"wires":[]},{"id":"c631d03e.85dd3","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["de5608c1.2e7cd8","baace0e2.ce5fc"]]},{"id":"b9fcc1e7.26da4","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":965.8055877685547,"y":4129.206654548645,"wires":[["936d5579.aaf778"],[]]},{"id":"999082c5.ce3dc","type":"comment","z":"974abb37.699ac8","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"2be47d52.207cb2","type":"comment","z":"974abb37.699ac8","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"e8094faa.896f3","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["b82467ec.ca8958"]]},{"id":"b82467ec.ca8958","type":"function","z":"974abb37.699ac8","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["4dde1708.5b6ee8"]]},{"id":"4dde1708.5b6ee8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":739.8888473510742,"y":4276.734314918518,"wires":[["acbcf8a6.d95db8"],[]]},{"id":"1cfe072f.7fbe49","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["b82467ec.ca8958"]]},{"id":"936d5579.aaf778","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":1196.861026763916,"y":4119.095652580261,"wires":[]},{"id":"15b8febf.17e6e1","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":306.7499694824219,"y":2961.53994846344,"wires":[["e0f1d8d0.59f798"]]},{"id":"634fca38.3c9124","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[["baace0e2.ce5fc"]]},{"id":"573e29e4.650e18","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":2233.9406127929688,"y":925.905143737793,"wires":[]},{"id":"9fec4650.8e2a08","type":"comment","z":"974abb37.699ac8","name":"read_Upakovka_marshrut","info":"","x":2280.8413619995117,"y":35.984601974487305,"wires":[]},{"id":"2d72a1be.9814be","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1955.1748123168945,"y":114.54005336761475,"wires":[["789f405.2d512c"]]},{"id":"6b94f19.122671","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1919.508056640625,"y":59.7623233795166,"wires":[["789f405.2d512c"]]},{"id":"6c5fc5c6.8146ec","type":"http response","z":"974abb37.699ac8","name":"","x":2714.349353790283,"y":738.5242199897766,"wires":[]},{"id":"9503e2a4.fe78e","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2558.793800354004,"y":742.9686427116394,"wires":[["6c5fc5c6.8146ec"]]},{"id":"5a7ed366.ad4e2c","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":485.77773666381836,"y":1059.3177012205124,"wires":[]},{"id":"abc96fc6.13015","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":313.9999542236328,"y":1061.4288004636765,"wires":[["96bc35ce.0267c8"]]},{"id":"3a7d8558.8c6faa","type":"http response","z":"974abb37.699ac8","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"6ef1913c.3b588","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["3a7d8558.8c6faa"]]},{"id":"baf3e8fe.241078","type":"http response","z":"974abb37.699ac8","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"8130e778.052f88","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["baf3e8fe.241078"]]},{"id":"1a04bd5e.3c0853","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"c22e7c50.b182f","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"e7ed588e.23cb98","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["16119282.94610d"]]},{"id":"3c26d7e5.9545a8","type":"comment","z":"974abb37.699ac8","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"16119282.94610d","type":"function","z":"974abb37.699ac8","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["bb068e3c.841ed"]]},{"id":"bb068e3c.841ed","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":729.2499389648438,"y":2824.178864479065,"wires":[["8c8520bd.98e"],[]]},{"id":"2b5cb4fd.069c4c","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"f510b907.4a5748","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["ca3b760a.7c8b78"]]},{"id":"ca3b760a.7c8b78","type":"http response","z":"974abb37.699ac8","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"657819e3.c601f8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["16119282.94610d"]]},{"id":"a7a70806.68eb58","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["8d8ad290.f3892"]]},{"id":"8d8ad290.f3892","type":"http response","z":"974abb37.699ac8","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"298f7d9b.c6e622","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":562.9999465942383,"y":2941.678907394409,"wires":[]},{"id":"e6ec079c.23e2c8","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":450.4999465942383,"y":3177.928910255432,"wires":[]},{"id":"c7d3701a.1469f","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":282.99993896484375,"y":3195.428864479065,"wires":[["79533014.66c37"]]},{"id":"de024205.4948c","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":556.6110610961914,"y":3690.151022911072,"wires":[]},{"id":"5c7c0d70.c93204","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[["9bed8111.ce17c"]]},{"id":"de5608c1.2e7cd8","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":596.3333053588867,"y":4056.262143135071,"wires":[]},{"id":"d2c6a62.8f5ac58","type":"comment","z":"974abb37.699ac8","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"fd5d5599.8f2268","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["6d39bd01.653cf4"]]},{"id":"6d39bd01.653cf4","type":"function","z":"974abb37.699ac8","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["f31154fc.8717e8"]]},{"id":"f31154fc.8717e8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":736.5554885864258,"y":4617.726898193359,"wires":[["696fce27.cc916"],[]]},{"id":"943d962f.175068","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["6d39bd01.653cf4"]]},{"id":"17aca05d.b7502","type":"comment","z":"974abb37.699ac8","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"80c5c192.fb4","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["bd705f49.34028"]]},{"id":"bd705f49.34028","type":"function","z":"974abb37.699ac8","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["4f106ed5.7360e"]]},{"id":"4f106ed5.7360e","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":736.5554885864258,"y":4760.107833862305,"wires":[["cdc35f4e.1f139"],[]]},{"id":"37ced72f.4a5cc8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["bd705f49.34028"]]},{"id":"2bdbf318.8c7a4c","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["d516f65a.cd1218","a7a70806.68eb58"]]},{"id":"815fd6ef.c25ff8","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["ee3b2d15.09188","8130e778.052f88"]]},{"id":"f84b1aae.4bc938","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["6ef1913c.3b588","bd2843c0.21b29"]]},{"id":"46a1599d.afdcb8","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"e7bc374.76d27c8","type":"http response","z":"974abb37.699ac8","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"936b7199.916e2","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["e7bc374.76d27c8"]]},{"id":"d72f08d8.b1fad8","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["936b7199.916e2","46a1599d.afdcb8"]]},{"id":"90bec8d6.ece8d8","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"156368b9.4dda57","type":"http response","z":"974abb37.699ac8","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"d23fa69a.907b78","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["156368b9.4dda57"]]},{"id":"cd67c91e.a0f118","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["d23fa69a.907b78","90bec8d6.ece8d8"]]},{"id":"e195a5a7.40a098","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"70fffcb3.ffa934","type":"http response","z":"974abb37.699ac8","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"f0843ebe.e4069","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["70fffcb3.ffa934"]]},{"id":"99304c14.d98aa","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["f0843ebe.e4069","e195a5a7.40a098"]]},{"id":"c978e1bc.ef22a","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"65654ea6.5f995","type":"http response","z":"974abb37.699ac8","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"13066daa.4e7772","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["65654ea6.5f995"]]},{"id":"147b7d58.5a5bc3","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["13066daa.4e7772","c978e1bc.ef22a"]]},{"id":"d1a27aa3.4290b8","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"a4db052f.b0ce28","type":"http response","z":"974abb37.699ac8","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"89d84e13.84d76","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["a4db052f.b0ce28"]]},{"id":"1fd05177.fd860f","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["89d84e13.84d76","d1a27aa3.4290b8"]]},{"id":"dd9111e.24065f","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"22545e60.df4c12","type":"http response","z":"974abb37.699ac8","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"afe6a534.a52da8","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["22545e60.df4c12"]]},{"id":"8e9b8bff.3e50e8","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["afe6a534.a52da8","dd9111e.24065f"]]},{"id":"2222f58c.ca453a","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"dd63616c.2fe58","type":"http response","z":"974abb37.699ac8","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"a040f9c6.cfc2c8","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["dd63616c.2fe58"]]},{"id":"3a90ed0e.343832","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["a040f9c6.cfc2c8","2222f58c.ca453a"]]},{"id":"bde9c3ce.16638","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"546a9f5e.a4fc4","type":"http response","z":"974abb37.699ac8","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"8974a823.b09ef8","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["546a9f5e.a4fc4"]]},{"id":"62c33a6f.14df54","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"8bae8a9.fae0d78","type":"http response","z":"974abb37.699ac8","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"819e123a.1671d","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["8bae8a9.fae0d78"]]},{"id":"696fce27.cc916","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["819e123a.1671d","62c33a6f.14df54"]]},{"id":"365a809b.19749","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"610b48de.a6f698","type":"http response","z":"974abb37.699ac8","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"d1e96939.a6ed68","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["610b48de.a6f698"]]},{"id":"cdc35f4e.1f139","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["d1e96939.a6ed68","365a809b.19749"]]},{"id":"b25419e7.bf27c8","type":"comment","z":"974abb37.699ac8","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"35609ea2.0063f2","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["92f4701a.0d57f"]]},{"id":"92f4701a.0d57f","type":"function","z":"974abb37.699ac8","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["fc3e74c7.dd9588"]]},{"id":"fc3e74c7.dd9588","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":750.5832901000977,"y":4913.679074287415,"wires":[["a45e0200.0e3bb"],[]]},{"id":"72851c11.b2e4a4","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["92f4701a.0d57f"]]},{"id":"cfd83753.55b618","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"ba2c36d8.24d658","type":"http response","z":"974abb37.699ac8","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"72bee71e.949728","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["ba2c36d8.24d658"]]},{"id":"a45e0200.0e3bb","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["72bee71e.949728","cfd83753.55b618"]]},{"id":"34ca3406.e029ec","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["acd7c5f2.0e8d08","2f7986a9.dc2a2a"]]},{"id":"bce73eaa.d8a51","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"46ec5175.03a7f","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2847.0160369873047,"y":2257.968363761902,"wires":[["bce73eaa.d8a51"],[]]},{"id":"e6bc6654.73d218","type":"comment","z":"974abb37.699ac8","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"acd7c5f2.0e8d08","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"10400b53.d64015","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["2f7986a9.dc2a2a"]]},{"id":"2f7986a9.dc2a2a","type":"function","z":"974abb37.699ac8","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["29f98b5d.656654"]]},{"id":"29f98b5d.656654","type":"function","z":"974abb37.699ac8","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["46ec5175.03a7f"]]},{"id":"43711b35.ba6e94","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"be33df5d.53281","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2743.8736000061035,"y":2363.159381389618,"wires":[["43711b35.ba6e94"],[]]},{"id":"abce2ca7.51e3a","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"3d4ff6db.b6f32a","type":"modbus-flex-write","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["abce2ca7.51e3a"],[]]},{"id":"4643d6e7.ef1528","type":"comment","z":"974abb37.699ac8","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"374cddce.7959e2","type":"function","z":"974abb37.699ac8","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["b07c9687.51aef8"]]},{"id":"b07c9687.51aef8","type":"function","z":"974abb37.699ac8","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["3d4ff6db.b6f32a"]]},{"id":"9eb97a3e.935978","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["83854ae5.87bf68","374cddce.7959e2"]]},{"id":"83854ae5.87bf68","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"f5d399d6.68ef88","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["374cddce.7959e2"]]},{"id":"3c10c66c.be299a","type":"function","z":"974abb37.699ac8","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["d59aff26.93621"]]},{"id":"d59aff26.93621","type":"function","z":"974abb37.699ac8","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["be33df5d.53281"]]},{"id":"7f0fcc47.06bee4","type":"comment","z":"974abb37.699ac8","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"f89b1b69.37d868","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["2dd86cbb.878cf4","3c10c66c.be299a"]]},{"id":"2dd86cbb.878cf4","type":"http response","z":"974abb37.699ac8","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"98f472c2.32a2e","type":"comment","z":"974abb37.699ac8","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"9d3801d9.52354","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["da40a6a5.d5e338"]]},{"id":"da40a6a5.d5e338","type":"function","z":"974abb37.699ac8","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["5c540ab3.8d14e4"]]},{"id":"5c540ab3.8d14e4","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2524.82515335083,"y":2829.377022743225,"wires":[["c4fd3f58.35ecf"],[]]},{"id":"66de54b8.455a7c","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"19f14627.09359a","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["da40a6a5.d5e338"]]},{"id":"28909af5.734986","type":"http response","z":"974abb37.699ac8","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"b6799645.0be528","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["28909af5.734986"]]},{"id":"bf656d9a.b0e4e","type":"comment","z":"974abb37.699ac8","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"4dc7bc70.372de4","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["9e0da8a0.78f2d8"]]},{"id":"9e0da8a0.78f2d8","type":"function","z":"974abb37.699ac8","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["e875e4da.f48438"]]},{"id":"e875e4da.f48438","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2521.8252296447754,"y":2958.377064704895,"wires":[["469b42d.80a8abc"],[]]},{"id":"2de35f94.fbf65","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["9e0da8a0.78f2d8"]]},{"id":"b38c5ed5.ecc0b","type":"comment","z":"974abb37.699ac8","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"54c85f5a.aacec","type":"comment","z":"974abb37.699ac8","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"4b76694.640b998","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["97e5ffd1.b67dd"]]},{"id":"97e5ffd1.b67dd","type":"function","z":"974abb37.699ac8","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2331.213996887207,"y":3137.3770027160645,"wires":[["8df9bff5.e8eb4"]]},{"id":"8df9bff5.e8eb4","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2527.213996887207,"y":3144.3770027160645,"wires":[["7df3faa0.1eb234"],[]]},{"id":"4438b6a8.93e758","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["97e5ffd1.b67dd"]]},{"id":"74a1fb8f.dedc34","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"43f66225.c58a3c","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["df5304bd.e96ff8"]]},{"id":"7df3faa0.1eb234","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["43f66225.c58a3c","74a1fb8f.dedc34"]]},{"id":"df5304bd.e96ff8","type":"http response","z":"974abb37.699ac8","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"6c8adff5.2a778","type":"comment","z":"974abb37.699ac8","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"b24f4fd.41c88b","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["65e50489.f22d0c"]]},{"id":"65e50489.f22d0c","type":"function","z":"974abb37.699ac8","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2329.7776107788086,"y":3282.724784851074,"wires":[["735a95ef.6c794c"]]},{"id":"735a95ef.6c794c","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2525.7776107788086,"y":3289.724784851074,"wires":[["d20a7240.f0a4e"],[]]},{"id":"3319bd59.eb5e22","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["65e50489.f22d0c"]]},{"id":"ebee7264.52cbe","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"9e8d59a9.c41ed8","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["3e4edc1e.795624"]]},{"id":"d20a7240.f0a4e","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["9e8d59a9.c41ed8","ebee7264.52cbe"]]},{"id":"3e4edc1e.795624","type":"http response","z":"974abb37.699ac8","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"a8a66a76.fd8c58","type":"comment","z":"974abb37.699ac8","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"628f1009.4fc67","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["89b72197.da7f3"]]},{"id":"89b72197.da7f3","type":"function","z":"974abb37.699ac8","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2337.555320739746,"y":3412.724784851074,"wires":[["c94d1ad0.069eb8"]]},{"id":"c94d1ad0.069eb8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2533.555320739746,"y":3419.724784851074,"wires":[["99ba92c9.eafed"],[]]},{"id":"8cbffc9c.ebc35","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["89b72197.da7f3"]]},{"id":"ffdbe18a.c4b","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"26becdc.6a18732","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["8f8eb5f0.f13228"]]},{"id":"99ba92c9.eafed","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["26becdc.6a18732","ffdbe18a.c4b"]]},{"id":"8f8eb5f0.f13228","type":"http response","z":"974abb37.699ac8","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"fcaf77ee.946e98","type":"comment","z":"974abb37.699ac8","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"f27428ea.f25c38","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["d16cd040.fcd78"]]},{"id":"d16cd040.fcd78","type":"function","z":"974abb37.699ac8","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2334.222068786621,"y":3547.169120788574,"wires":[["5c098afd.122064"]]},{"id":"5c098afd.122064","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2530.222068786621,"y":3554.169120788574,"wires":[["fa876bf7.6fa1b8"],[]]},{"id":"79782196.29e72","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["d16cd040.fcd78"]]},{"id":"5438d46c.e9bdac","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"5ba4a907.1fd888","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["c4915991.1ee808"]]},{"id":"fa876bf7.6fa1b8","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["5ba4a907.1fd888","5438d46c.e9bdac"]]},{"id":"c4915991.1ee808","type":"http response","z":"974abb37.699ac8","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"454662f6.3a871c","type":"comment","z":"974abb37.699ac8","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"a7002358.0f99","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["25bd3413.206c3c"]]},{"id":"25bd3413.206c3c","type":"function","z":"974abb37.699ac8","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2328.666404724121,"y":3683.465507507324,"wires":[["6e49f3e0.43fa0c"]]},{"id":"6e49f3e0.43fa0c","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2524.666404724121,"y":3690.465507507324,"wires":[["1b1ee139.75e9df"],[]]},{"id":"a1ec3551.d41678","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["25bd3413.206c3c"]]},{"id":"ab9dcd0d.9da27","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"261c6a37.07b796","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["32586993.599896"]]},{"id":"1b1ee139.75e9df","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["261c6a37.07b796","ab9dcd0d.9da27"]]},{"id":"32586993.599896","type":"http response","z":"974abb37.699ac8","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"28390fdc.3ccd6","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"f7db5209.d9245","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostFlow1","method":"get","swaggerDoc":"","x":2138.777618408203,"y":3932.983733177185,"wires":[["535f79f.669ba88"]]},{"id":"535f79f.669ba88","type":"function","z":"974abb37.699ac8","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2376.444290161133,"y":3915.9839010238647,"wires":[["a2884ec4.d0dc4"]]},{"id":"a2884ec4.d0dc4","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2572.444290161133,"y":3922.9839010238647,"wires":[["44813fd4.5514"],[]]},{"id":"9812e004.e466b","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["535f79f.669ba88"]]},{"id":"44813fd4.5514","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["e091067f.2a85b8","63fb5762.005d18"]]},{"id":"63fb5762.005d18","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"e091067f.2a85b8","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["2789c2ab.d95a5e"]]},{"id":"2789c2ab.d95a5e","type":"http response","z":"974abb37.699ac8","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"9acd18a.c8cc3e8","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"7fa8c6c4.7bf1a8","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostFlow2","method":"get","swaggerDoc":"","x":2183.222122192383,"y":4058.7246236801147,"wires":[["2ff67a8a.93fa76"]]},{"id":"2ff67a8a.93fa76","type":"function","z":"974abb37.699ac8","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2374.222122192383,"y":4056.7246236801147,"wires":[["c6f3f81e.4fe728"]]},{"id":"c6f3f81e.4fe728","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2570.222122192383,"y":4063.7246236801147,"wires":[["953774a1.b8dc88"],[]]},{"id":"c7f28098.b4416","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["2ff67a8a.93fa76"]]},{"id":"953774a1.b8dc88","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["426cc3a0.6b11dc","88b3c072.4aeb6"]]},{"id":"88b3c072.4aeb6","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"426cc3a0.6b11dc","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["b4b6b610.a4c758"]]},{"id":"b4b6b610.a4c758","type":"http response","z":"974abb37.699ac8","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"9f63d862.2857b8","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"ddb8eba0.77ec98","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["9f922ac2.0af4a8"]]},{"id":"9f922ac2.0af4a8","type":"function","z":"974abb37.699ac8","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2360.8887481689453,"y":4214.502455711365,"wires":[["ede9809f.3e1c4"]]},{"id":"ede9809f.3e1c4","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2556.8887481689453,"y":4221.502455711365,"wires":[["51b2acd6.9c7924"],[]]},{"id":"d2cad8fc.5b2258","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["9f922ac2.0af4a8"]]},{"id":"51b2acd6.9c7924","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["6f7975e7.e6ac1c","c6aad4aa.68d788"]]},{"id":"c6aad4aa.68d788","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"6f7975e7.e6ac1c","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["17c270d5.9d1b7f"]]},{"id":"17c270d5.9d1b7f","type":"http response","z":"974abb37.699ac8","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"e186ee68.58c63","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"7dc8d294.1a1f0c","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostFlow4","method":"get","swaggerDoc":"","x":2172.111038208008,"y":4360.94703578949,"wires":[["d4bf1f98.d9f88"]]},{"id":"d4bf1f98.d9f88","type":"function","z":"974abb37.699ac8","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4358.94703578949,"wires":[["b60174c1.828b28"]]},{"id":"b60174c1.828b28","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2559.111038208008,"y":4365.94703578949,"wires":[["208ec6e3.c30a8a"],[]]},{"id":"5090c2da.9e477c","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["d4bf1f98.d9f88"]]},{"id":"208ec6e3.c30a8a","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["77abbfeb.7552d","afed8bb4.fd8ac8"]]},{"id":"afed8bb4.fd8ac8","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"77abbfeb.7552d","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["11412596.13b52a"]]},{"id":"11412596.13b52a","type":"http response","z":"974abb37.699ac8","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"636d8abe.b5b9b4","type":"comment","z":"974abb37.699ac8","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"5a7cb27a.2173ac","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["a97a8f9f.55df2"]]},{"id":"a97a8f9f.55df2","type":"function","z":"974abb37.699ac8","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4516.35426235199,"wires":[["a1b9cc9f.f0f0f"]]},{"id":"a1b9cc9f.f0f0f","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2559.111038208008,"y":4523.35426235199,"wires":[["8c883e73.e9f63"],[]]},{"id":"78ac4708.bd7ae8","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["a97a8f9f.55df2"]]},{"id":"8c883e73.e9f63","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["b1e030d1.d53cf","9211b947.356788"]]},{"id":"9211b947.356788","type":"debug","z":"974abb37.699ac8","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"b1e030d1.d53cf","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["d4b9e380.de2a1"]]},{"id":"d4b9e380.de2a1","type":"http response","z":"974abb37.699ac8","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"baace0e2.ce5fc","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":475.7779769897461,"y":4135.652293205261,"wires":[["2248aa7c.c18516"]]},{"id":"2248aa7c.c18516","type":"function","z":"974abb37.699ac8","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":630.2778244018555,"y":4134.763295173645,"wires":[["b0ff68cb.dd1738"]]},{"id":"b0ff68cb.dd1738","type":"function","z":"974abb37.699ac8","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":798.72216796875,"y":4129.651316642761,"wires":[["b9fcc1e7.26da4"]]},{"id":"acbcf8a6.d95db8","type":"function","z":"974abb37.699ac8","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["bde9c3ce.16638","8974a823.b09ef8"]]},{"id":"731b9c3f.688044","type":"comment","z":"974abb37.699ac8","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":4015.7423706054688,"y":80.86333560943604,"wires":[]},{"id":"a64c3dba.f289f","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["bbe05960.c4dc18"]]},{"id":"ac616aa.e749e98","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["bbe05960.c4dc18"]]},{"id":"78102825.a20418","type":"comment","z":"974abb37.699ac8","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"bbe05960.c4dc18","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["98eed7d3.f0f558"]]},{"id":"6fd5e6d5.ab5548","type":"function","z":"974abb37.699ac8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["f99c0c6e.f8bef"]]},{"id":"f99c0c6e.f8bef","type":"function","z":"974abb37.699ac8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["18d8ed1b.af99c3","8997f151.9a1a7"]]},{"id":"18d8ed1b.af99c3","type":"http response","z":"974abb37.699ac8","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"8997f151.9a1a7","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"98eed7d3.f0f558","type":"function","z":"974abb37.699ac8","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["89e4be18.af85b"]]},{"id":"1633d413.49cd9c","type":"function","z":"974abb37.699ac8","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["2936e6b1.af797a"]]},{"id":"89e4be18.af85b","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":946.3656005859375,"y":413.76866817474365,"wires":[["c1c2d5.916f2d28"],[]]},{"id":"2936e6b1.af797a","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":904.6988525390625,"y":492.102011680603,"wires":[["36cf526f.4756fe"],[]]},{"id":"fe149ac3.1afa18","type":"function","z":"974abb37.699ac8","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["c060a231.ddf53"]]},{"id":"c060a231.ddf53","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":892.3139419555664,"y":555.7012310028076,"wires":[["a3cd003d.79f6"],[]]},{"id":"a3cd003d.79f6","type":"function","z":"974abb37.699ac8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["73fe3e.63e091c4"]]},{"id":"73fe3e.63e091c4","type":"function","z":"974abb37.699ac8","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["98598d87.7a472"]]},{"id":"98598d87.7a472","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":897.3139419555664,"y":614.0345439910889,"wires":[["6fd5e6d5.ab5548"],[]]},{"id":"c1c2d5.916f2d28","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["1633d413.49cd9c"]]},{"id":"36cf526f.4756fe","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["fe149ac3.1afa18"]]},{"id":"1e5adb53.ad47d5","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2557.6709594726562,"y":814.7202701568604,"wires":[["b813540.5f54eb","be33be66.1bd1c"]]},{"id":"8c8520bd.98e","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["f510b907.4a5748","2b5cb4fd.069c4c"]]},{"id":"c4fd3f58.35ecf","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["b6799645.0be528","66de54b8.455a7c"]]},{"id":"ece25b71.fdec88","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"be38228.d53cfe","type":"http response","z":"974abb37.699ac8","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"37c4f00d.94eda","type":"function","z":"974abb37.699ac8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["be38228.d53cfe"]]},{"id":"469b42d.80a8abc","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["37c4f00d.94eda","ece25b71.fdec88"]]},{"id":"d1d1e3e8.8cd75","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2569.6665992736816,"y":1605.428831577301,"wires":[["f9f83a87.3ec148"],[]]},{"id":"10744c7e.b19744","type":"function","z":"974abb37.699ac8","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2397.047504425049,"y":1608.0479445457458,"wires":[["d1d1e3e8.8cd75"]]},{"id":"f9f83a87.3ec148","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2790.85733795166,"y":1591.3814215660095,"wires":[["f96ed75f.e64b58"]]},{"id":"9f83e0a6.d5393","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2205.1430320739746,"y":1609.0003056526184,"wires":[["10744c7e.b19744"]]},{"id":"f96ed75f.e64b58","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2977.4913597106934,"y":1579.952661037445,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["fb83c10c.b3ae3"]]},{"id":"8e93f664.5cca18","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1988.364459991455,"y":1557.8098902702332,"wires":[["9f83e0a6.d5393"]]},{"id":"f00dcf3e.a3f97","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/StatusKlapan","method":"get","swaggerDoc":"","x":1952.7294883728027,"y":1610.1908316612244,"wires":[["9f83e0a6.d5393"]]},{"id":"fb83c10c.b3ae3","type":"function","z":"974abb37.699ac8","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2215.142749786377,"y":1729.952739238739,"wires":[["45d1658f.36f60c"]]},{"id":"45d1658f.36f60c","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2426.095111846924,"y":1742.809714794159,"wires":[["405027ec.ad9578"],[]]},{"id":"405027ec.ad9578","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2695.85701751709,"y":1722.8098139762878,"wires":[["200788ab.82e0f8"]]},{"id":"200788ab.82e0f8","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3119.3962020874023,"y":1710.1906752586365,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d8c6fe10.e5714"],[]]},{"id":"d8c6fe10.e5714","type":"function","z":"974abb37.699ac8","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2127.967716217041,"y":1832.8098282814026,"wires":[["8947ca9c.f595b8"]]},{"id":"8947ca9c.f595b8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2332.253215789795,"y":1829.9527201652527,"wires":[["1861e550.55f67b"],[]]},{"id":"1861e550.55f67b","type":"function","z":"974abb37.699ac8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2513.681896209717,"y":1824.2385258674622,"wires":[["65949232.623f7c"]]},{"id":"65949232.623f7c","type":"function","z":"974abb37.699ac8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2694.313091278076,"y":1828.631365776062,"wires":[["5ad3cfdc.9ca16","786742f8.e161bc"]]},{"id":"5ad3cfdc.9ca16","type":"http response","z":"974abb37.699ac8","name":"","x":2952.812973022461,"y":1863.7623896598816,"wires":[]},{"id":"786742f8.e161bc","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":2971.801223754883,"y":1900.393135547638,"wires":[]},{"id":"26d90dd7.a500c2","type":"inject","z":"974abb37.699ac8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1995.1898384094238,"y":1102.0955810546875,"wires":[["30162d04.533412"]]},{"id":"30162d04.533412","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2211.9684104919434,"y":1153.2859964370728,"wires":[["2070c7db.094cf8"]]},{"id":"2070c7db.094cf8","type":"function","z":"974abb37.699ac8","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2393.8728828430176,"y":1152.3336353302002,"wires":[["e2fa67e4.d63858"]]},{"id":"f44f3972.da5e78","type":"function","z":"974abb37.699ac8","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2311.968132019043,"y":1250.9050579071045,"wires":[["6266acf7.24ac44"]]},{"id":"e2fa67e4.d63858","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2576.4919776916504,"y":1149.7145223617554,"wires":[["9ff459c2.64f2d8"],[]]},{"id":"6266acf7.24ac44","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2566.253746032715,"y":1253.7621431350708,"wires":[["ae775d17.df085"],[]]},{"id":"9ff459c2.64f2d8","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2777.682674407959,"y":1150.667106628418,"wires":[["ee8777c3.486308"]]},{"id":"ae775d17.df085","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2769.348970413208,"y":1248.762125968933,"wires":[["152acea0.826061"]]},{"id":"ee8777c3.486308","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2950.983455657959,"y":1045.905014038086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f44f3972.da5e78"]]},{"id":"152acea0.826061","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3112.8882179260254,"y":1204.4763884544373,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["f8fbe60.3d82d18"],[],[]]},{"id":"f8fbe60.3d82d18","type":"function","z":"974abb37.699ac8","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2228.1263847351074,"y":1335.4287886619568,"wires":[["bc1b0679.544828"]]},{"id":"bc1b0679.544828","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2424.078556060791,"y":1344.2383160591125,"wires":[["ece0b874.96aa48"],[]]},{"id":"ece0b874.96aa48","type":"function","z":"974abb37.699ac8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2625.507297515869,"y":1345.1908679008484,"wires":[["d42cde03.2c89"]]},{"id":"d42cde03.2c89","type":"function","z":"974abb37.699ac8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2759.471836090088,"y":1347.9169726371765,"wires":[["3961e2be.dead9e","94e8f862.824308"]]},{"id":"3961e2be.dead9e","type":"http response","z":"974abb37.699ac8","name":"","x":2916.3050079345703,"y":1348.0479321479797,"wires":[]},{"id":"94e8f862.824308","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":2950.2932929992676,"y":1396.3454146385193,"wires":[]},{"id":"6e3cac18.9c2ce4","type":"http in","z":"974abb37.699ac8","name":"","url":"/k5/StatusPump","method":"get","swaggerDoc":"","x":1949.5548667907715,"y":1154.4765224456787,"wires":[["30162d04.533412"]]},{"id":"117da77a.3b55f9","type":"function","z":"c8d8ffb8.80f03","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["d52643ea.6ccc"]]},{"id":"b61e14db.fb2bb8","type":"inject","z":"c8d8ffb8.80f03","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["117da77a.3b55f9"]]},{"id":"90f58e21.0754a","type":"http in","z":"c8d8ffb8.80f03","name":"","url":"/k5/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["117da77a.3b55f9"]]},{"id":"d52643ea.6ccc","type":"function","z":"c8d8ffb8.80f03","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.26969146728516,"y":235.10162162780762,"wires":[["3e8b0ffa.cd247"]]},{"id":"3e8b0ffa.cd247","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":627.1229553222656,"y":234.18895053863525,"wires":[["20a7d0.7ce9583"],[]]},{"id":"20a7d0.7ce9583","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":808.2141876220703,"y":232.85718536376953,"wires":[["c920a9f0.012ee8"]]},{"id":"c920a9f0.012ee8","type":"function","z":"c8d8ffb8.80f03","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":387.13871002197266,"y":278.2325859069824,"wires":[["1560d417.e8e63c"]]},{"id":"1560d417.e8e63c","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":585.1982192993164,"y":279.32783699035645,"wires":[["33a9cd8d.fbc442"],[]]},{"id":"33a9cd8d.fbc442","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":775.3570404052734,"y":278.57147455215454,"wires":[["a82740d7.a416a"]]},{"id":"a82740d7.a416a","type":"function","z":"c8d8ffb8.80f03","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":392.9601593017578,"y":327.5540370941162,"wires":[["83d83c25.35f53"]]},{"id":"83d83c25.35f53","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":597.2417526245117,"y":324.48656940460205,"wires":[["f45405d6.9e2f68"],[]]},{"id":"f45405d6.9e2f68","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":801.2221145629883,"y":320.351598739624,"wires":[["bcd93faf.3726b"]]},{"id":"bcd93faf.3726b","type":"function","z":"c8d8ffb8.80f03","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.9958953857422,"y":372.30401515960693,"wires":[["e148b22e.5f5fc"]]},{"id":"e148b22e.5f5fc","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":604.7417984008789,"y":372.700870513916,"wires":[["ff7ead6a.9c048"],[]]},{"id":"ff7ead6a.9c048","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":805.0437622070312,"y":365.8278532028198,"wires":[["c47314d2.49ea08"]]},{"id":"c47314d2.49ea08","type":"function","z":"c8d8ffb8.80f03","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.6506652832031,"y":418.38728523254395,"wires":[["57c824e3.ca35ec"]]},{"id":"57c824e3.ca35ec","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":601.4005355834961,"y":419.1015748977661,"wires":[["5bea7795.a27b48"],[]]},{"id":"5bea7795.a27b48","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.8453674316406,"y":413.65710830688477,"wires":[["5ed416d8.ae9da8"]]},{"id":"5ed416d8.ae9da8","type":"function","z":"c8d8ffb8.80f03","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":399.25770568847656,"y":460.53014183044434,"wires":[["6d8f50aa.6dbb7"]]},{"id":"6d8f50aa.6dbb7","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":602.7057266235352,"y":462.5817823410034,"wires":[["cbaf9f7c.8b8b3"],[]]},{"id":"cbaf9f7c.8b8b3","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.2933387756348,"y":458.5658645629883,"wires":[["dbe5df37.682b1"]]},{"id":"dbe5df37.682b1","type":"function","z":"c8d8ffb8.80f03","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":398.00768280029297,"y":504.6372718811035,"wires":[["a9349b33.846848"]]},{"id":"a9349b33.846848","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":600.5628623962402,"y":513.8317775726318,"wires":[["92e17588.b0c218"],[]]},{"id":"92e17588.b0c218","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":806.5790710449219,"y":498.3872718811035,"wires":[["47ad5f22.c695d"]]},{"id":"47ad5f22.c695d","type":"function","z":"c8d8ffb8.80f03","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":385.50769805908203,"y":548.9230284690857,"wires":[["7252c70.6ce7c38"]]},{"id":"7252c70.6ce7c38","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":600.0271911621094,"y":560.7960548400879,"wires":[["1243317a.80761f"],[]]},{"id":"1243317a.80761f","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.6147842407227,"y":549.6373100280762,"wires":[["4bc21b88.533a54"]]},{"id":"4bc21b88.533a54","type":"function","z":"c8d8ffb8.80f03","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.82908630371094,"y":600.7088451385498,"wires":[["dfb9ccbb.53c65"]]},{"id":"dfb9ccbb.53c65","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":607.8843231201172,"y":605.0817642211914,"wires":[["76ed69b1.498c38"],[]]},{"id":"76ed69b1.498c38","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.1862144470215,"y":598.2087173461914,"wires":[["98b6f7fe.4c4588"]]},{"id":"98b6f7fe.4c4588","type":"function","z":"c8d8ffb8.80f03","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":378.3887023925781,"y":649.9111614227295,"wires":[["c7e33d9.026f5c"]]},{"id":"c7e33d9.026f5c","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":603.1346893310547,"y":657.1651706695557,"wires":[["93cfe5bb.bfbe48"],[]]},{"id":"93cfe5bb.bfbe48","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.2933387756348,"y":652.9706268310547,"wires":[["fa3550d3.fd48c"]]},{"id":"fa3550d3.fd48c","type":"function","z":"c8d8ffb8.80f03","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":375.30543518066406,"y":697.5181579589844,"wires":[["915629d3.d5b7a8"]]},{"id":"915629d3.d5b7a8","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":602.6267395019531,"y":708.2324261665344,"wires":[["4c9ce869.085c08"],[]]},{"id":"4c9ce869.085c08","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.214427947998,"y":702.7879877090454,"wires":[["982cef43.465af"]]},{"id":"982cef43.465af","type":"function","z":"c8d8ffb8.80f03","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":369.0552673339844,"y":749.6609973907471,"wires":[["2c2b7247.62eefe"]]},{"id":"2c2b7247.62eefe","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":616.7890205383301,"y":758.8554773330688,"wires":[["c28cc72e.d79968"],[]]},{"id":"c28cc72e.d79968","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":794.2338333129883,"y":757.6967029571533,"wires":[["f315aa37.394d38"]]},{"id":"f315aa37.394d38","type":"function","z":"c8d8ffb8.80f03","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":363.51954650878906,"y":789.4824266433716,"wires":[["1b96125e.2ab2ae"]]},{"id":"1b96125e.2ab2ae","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":617.5032806396484,"y":805.8197631835938,"wires":[["e44d4e8c.e2862"],[]]},{"id":"e44d4e8c.e2862","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.948127746582,"y":806.0895957946777,"wires":[["3c31caec.15f746"]]},{"id":"3c31caec.15f746","type":"function","z":"c8d8ffb8.80f03","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":359.59100341796875,"y":842.3396759033203,"wires":[["bfe1be2c.c14cc"]]},{"id":"bfe1be2c.c14cc","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":614.1104202270508,"y":855.6412906646729,"wires":[["1629acd7.fe1203"],[]]},{"id":"1629acd7.fe1203","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":810.1267166137695,"y":855.9111061096191,"wires":[["ba8a92eb.6ac7a"]]},{"id":"ba8a92eb.6ac7a","type":"function","z":"c8d8ffb8.80f03","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":351.9124298095703,"y":908.4111814498901,"wires":[["f2299298.6e54d"]]},{"id":"f2299298.6e54d","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":613.3961601257324,"y":909.9270133972168,"wires":[["49c5e827.3b58e8"],[]]},{"id":"49c5e827.3b58e8","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":829.412446975708,"y":905.9110794067383,"wires":[["f2584da9.d43d1"]]},{"id":"f2584da9.d43d1","type":"function","z":"c8d8ffb8.80f03","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":352.4720001220703,"y":957.6134796142578,"wires":[["f7617995.54d658"]]},{"id":"f7617995.54d658","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":605.7894058227539,"y":956.2960872650146,"wires":[["5627cf54.aedd7"],[]]},{"id":"5627cf54.aedd7","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":821.3767242431641,"y":959.2444286346436,"wires":[["38357fac.536d3"]]},{"id":"38357fac.536d3","type":"function","z":"c8d8ffb8.80f03","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":338.2141876220703,"y":998.5714988708496,"wires":[["d618b3fa.750aa"]]},{"id":"d618b3fa.750aa","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":607.6388473510742,"y":1004.8016843795776,"wires":[["b9347e37.32ab"],[]]},{"id":"b9347e37.32ab","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":815.8729705810547,"y":1002.0413913726807,"wires":[["978b2d76.b490e"]]},{"id":"978b2d76.b490e","type":"function","z":"c8d8ffb8.80f03","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.2142105102539,"y":1048.5714702606201,"wires":[["84e75293.86e6f"]]},{"id":"84e75293.86e6f","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":607.6388626098633,"y":1063.3731002807617,"wires":[["516d026.2ba87fc"],[]]},{"id":"516d026.2ba87fc","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":813.0158462524414,"y":1053.4698905944824,"wires":[["2d80f05f.6fd18"]]},{"id":"2d80f05f.6fd18","type":"function","z":"c8d8ffb8.80f03","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":319.6427764892578,"y":1104.2857360839844,"wires":[["78040828.c252d8"]]},{"id":"78040828.c252d8","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":607.6388626098633,"y":1121.9444847106934,"wires":[["f49c0e6a.1da82"],[]]},{"id":"f49c0e6a.1da82","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":821.587287902832,"y":1114.8984069824219,"wires":[["6bd1120.409f7f"]]},{"id":"6bd1120.409f7f","type":"function","z":"c8d8ffb8.80f03","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.21421813964844,"y":1160.000126838684,"wires":[["17793e18.a23b02"]]},{"id":"17793e18.a23b02","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":613.3532180786133,"y":1160.5160179138184,"wires":[["86e9b6f3.149c48"],[]]},{"id":"86e9b6f3.149c48","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":811.5872039794922,"y":1157.7556552886963,"wires":[["6feeae09.4316a"]]},{"id":"6feeae09.4316a","type":"function","z":"c8d8ffb8.80f03","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":316.78564453125,"y":1222.8571338653564,"wires":[["d796346b.83ec08"]]},{"id":"d796346b.83ec08","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":580.4960479736328,"y":1215.9445724487305,"wires":[["5b661424.2ba21c"],[]]},{"id":"5b661424.2ba21c","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.7300643920898,"y":1216.327018737793,"wires":[["9addcd29.dba68"]]},{"id":"9addcd29.dba68","type":"function","z":"c8d8ffb8.80f03","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":322.4999237060547,"y":1291.428731918335,"wires":[["a040dcb3.dc527"]]},{"id":"a040dcb3.dc527","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":599.0674362182617,"y":1303.3730735778809,"wires":[["c6b80f79.ab77"],[]]},{"id":"c6b80f79.ab77","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":807.3015441894531,"y":1287.755723953247,"wires":[["30098fd0.60fc4"]]},{"id":"30098fd0.60fc4","type":"function","z":"c8d8ffb8.80f03","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":311.0713653564453,"y":1342.8571290969849,"wires":[["dbcb98e3.215a28"]]},{"id":"dbcb98e3.215a28","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":599.0674247741699,"y":1353.3731546401978,"wires":[["d3930259.0056a"],[]]},{"id":"d3930259.0056a","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":801.5872764587402,"y":1344.8984060287476,"wires":[["7bd59300.13000c"]]},{"id":"7bd59300.13000c","type":"function","z":"c8d8ffb8.80f03","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":312.49991607666016,"y":1391.4286708831787,"wires":[["f1b24911.b8f2c8"]]},{"id":"f1b24911.b8f2c8","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":603.3531494140625,"y":1401.9444751739502,"wires":[["64d03fed.5f5cc"],[]]},{"id":"64d03fed.5f5cc","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":805.8729782104492,"y":1394.8983316421509,"wires":[["d4846ab2.229d68"]]},{"id":"d4846ab2.229d68","type":"function","z":"c8d8ffb8.80f03","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":305.35707092285156,"y":1457.143060684204,"wires":[["3337a21c.11102e"]]},{"id":"3337a21c.11102e","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":617.6389122009277,"y":1450.516077041626,"wires":[["45b5fbf3.ec0714"],[]]},{"id":"45b5fbf3.ec0714","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":820.1586570739746,"y":1442.0412578582764,"wires":[["fd1a4436.685f88"]]},{"id":"fd1a4436.685f88","type":"function","z":"c8d8ffb8.80f03","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":308.2142105102539,"y":1511.4285221099854,"wires":[["f83ae57d.f15718"]]},{"id":"f83ae57d.f15718","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":611.9246253967285,"y":1503.3731718063354,"wires":[["f85a4df1.4e38c"],[]]},{"id":"f85a4df1.4e38c","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.872917175293,"y":1499.1840858459473,"wires":[["bd887e75.13257"]]},{"id":"bd887e75.13257","type":"function","z":"c8d8ffb8.80f03","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":325.71417236328125,"y":1572.8571519851685,"wires":[["79f82b76.b43a84"]]},{"id":"79f82b76.b43a84","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":619.0476379394531,"y":1559.5240449905396,"wires":[["a79d153.dcf55e8"],[]]},{"id":"a79d153.dcf55e8","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.428466796875,"y":1560.000096321106,"wires":[["5ec50d4.dac99f4"]]},{"id":"5ec50d4.dac99f4","type":"function","z":"c8d8ffb8.80f03","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":326.26990509033203,"y":1622.3016958236694,"wires":[["6e67c51f.1d01dc"]]},{"id":"6e67c51f.1d01dc","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":638.4919395446777,"y":1633.4127979278564,"wires":[["76c8b3d7.35347c"],[]]},{"id":"76c8b3d7.35347c","type":"function","z":"c8d8ffb8.80f03","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.5713195800781,"y":1630.0001306533813,"wires":[["39b15d6.7a681a2"]]},{"id":"39b15d6.7a681a2","type":"function","z":"c8d8ffb8.80f03","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":311.2699546813965,"y":1677.3016576766968,"wires":[["633d5c61.098a34"]]},{"id":"633d5c61.098a34","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":635.158763885498,"y":1675.0794277191162,"wires":[["3345ff5c.3bfed"],[]]},{"id":"3345ff5c.3bfed","type":"function","z":"c8d8ffb8.80f03","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8570556640625,"y":1680.000096321106,"wires":[["6edaab39.0dc654"]]},{"id":"6edaab39.0dc654","type":"function","z":"c8d8ffb8.80f03","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":322.93649673461914,"y":1725.6349325180054,"wires":[["e76aaf63.85945"]]},{"id":"e76aaf63.85945","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":625.1586799621582,"y":1718.4127435684204,"wires":[["87fe519.0b6b5b"],[]]},{"id":"87fe519.0b6b5b","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.7141723632812,"y":1735.714451789856,"wires":[["a43d3f10.bcc51"]]},{"id":"a43d3f10.bcc51","type":"function","z":"c8d8ffb8.80f03","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":327.9364547729492,"y":1780.6350145339966,"wires":[["9af44600.e2b028"]]},{"id":"9af44600.e2b028","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":626.8253440856934,"y":1773.412766456604,"wires":[["886f02de.a0863"],[]]},{"id":"886f02de.a0863","type":"function","z":"c8d8ffb8.80f03","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.428466796875,"y":1780.0002403259277,"wires":[["48897d45.f36894"]]},{"id":"48897d45.f36894","type":"function","z":"c8d8ffb8.80f03","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":286.56935119628906,"y":1829.5282020568848,"wires":[["b75e322d.91296"]]},{"id":"b75e322d.91296","type":"modbus-flex-getter","z":"c8d8ffb8.80f03","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":619.9027214050293,"y":1831.1948499679565,"wires":[["ac506ff1.28d7a"],[]]},{"id":"ac506ff1.28d7a","type":"function","z":"c8d8ffb8.80f03","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":792.8570785522461,"y":1828.5714378356934,"wires":[["6f280910.5be068"]]},{"id":"6f280910.5be068","type":"function","z":"c8d8ffb8.80f03","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":929.2025032043457,"y":1830.1070613861084,"wires":[["266020c6.370d2","e98c7c5e.9aa24"]]},{"id":"266020c6.370d2","type":"http response","z":"c8d8ffb8.80f03","name":"","x":1100.5596656799316,"y":1792.381085395813,"wires":[]},{"id":"e98c7c5e.9aa24","type":"debug","z":"c8d8ffb8.80f03","name":"","active":true,"console":"false","complete":"payload","x":1119.5479164123535,"y":1829.0118312835693,"wires":[]},{"id":"7a8ea852.2655c8","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["fafb5a36.e42028","81a80e39.7f045"]]},{"id":"d54b37cb.b42ef8","type":"function","z":"ad835810.94cb78","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["7a8ea852.2655c8"]]},{"id":"81a80e39.7f045","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"7e70505a.10657","type":"function","z":"ad835810.94cb78","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["d54b37cb.b42ef8"]]},{"id":"3d1d697a.54f7b6","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["7e70505a.10657","b2fcf362.ce215"]]},{"id":"23619c40.9ae464","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["7e70505a.10657"]]},{"id":"ecc70c09.7ef23","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":767.5554809570312,"y":173.65108585357666,"wires":[["81a80e39.7f045"],["e6061e32.8d17c"]]},{"id":"e6061e32.8d17c","type":"function","z":"ad835810.94cb78","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["71c1270b.6ea298"]]},{"id":"71c1270b.6ea298","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":644,"y":222.76220798492432,"wires":[[],["92f843a4.948a1"]]},{"id":"96876235.39048","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/status","method":"get","swaggerDoc":"","x":1629.6667175292969,"y":861.0638704299927,"wires":[["d3ab10fa.cde94"]]},{"id":"b2fcf362.ce215","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"1230dbf2.693a94","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/status","method":"post","swaggerDoc":"","x":1603.8334350585938,"y":1031.1471633911133,"wires":[["293cd84f.2808c8","710a52e.21a56ac"]]},{"id":"293cd84f.2808c8","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1836.083381652832,"y":1029.3971786499023,"wires":[["b3e42d3d.5cf57"]]},{"id":"b3e42d3d.5cf57","type":"function","z":"ad835810.94cb78","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1966.3333702087402,"y":1032.8137741088867,"wires":[["7af1a96b.8f0928"]]},{"id":"acf48a7c.7e4238","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2369.7462158203125,"y":861.6988077163696,"wires":[]},{"id":"509f21da.733cb","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1622.4444885253906,"y":814.3971815109253,"wires":[["d3ab10fa.cde94"]]},{"id":"7af1a96b.8f0928","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2135.2222595214844,"y":1033.9249057769775,"wires":[[],["db87d884.4be268"]]},{"id":"db87d884.4be268","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2320.5278091430664,"y":1039.3971900939941,"wires":[]},{"id":"2e6578da.949658","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":1988.2500610351562,"y":863.3694162368774,"wires":[["f161920d.15a97"],[]]},{"id":"d3ab10fa.cde94","type":"function","z":"ad835810.94cb78","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1814.4722785949707,"y":861.1471929550171,"wires":[["2e6578da.949658"]]},{"id":"b2304620.24d288","type":"comment","z":"ad835810.94cb78","name":"Read_R5002","info":"","x":1930.333396911621,"y":816.286060333252,"wires":[]},{"id":"63100708.4435d8","type":"comment","z":"ad835810.94cb78","name":"Write_R5002","info":"","x":1928.3055725097656,"y":916.0638551712036,"wires":[]},{"id":"39d8297c.0702c6","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1606.083381652832,"y":989.3971786499023,"wires":[["293cd84f.2808c8"]]},{"id":"2b476d3.65c3992","type":"http response","z":"ad835810.94cb78","name":"","x":2421.730213165283,"y":920.905143737793,"wires":[]},{"id":"9226b465.72ec98","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2201.8888931274414,"y":917.7305593490601,"wires":[["2b476d3.65c3992"]]},{"id":"92f843a4.948a1","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"8a99cf0c.1c397","type":"function","z":"ad835810.94cb78","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["ecc70c09.7ef23"]]},{"id":"fafb5a36.e42028","type":"function","z":"ad835810.94cb78","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["8a99cf0c.1c397"]]},{"id":"cb786b4b.26eb28","type":"comment","z":"ad835810.94cb78","name":"read_PLC input status","info":"","x":1939.8096008300781,"y":672.8257579803467,"wires":[]},{"id":"7859beb2.c64da","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PLCInputStatus","method":"get","swaggerDoc":"","x":1658.3651542663574,"y":712.0480470657349,"wires":[["fae38ca4.021c5"]]},{"id":"fae38ca4.021c5","type":"function","z":"ad835810.94cb78","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1859.3651542663574,"y":710.0480470657349,"wires":[["2da7bf69.b54a7"]]},{"id":"2da7bf69.b54a7","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2055.3651542663574,"y":717.0480470657349,"wires":[["4ca49612.1d4ec8","3b90e6b5.ce62fa"],[]]},{"id":"4ca49612.1d4ec8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2254.3651542663574,"y":711.0480470657349,"wires":[]},{"id":"caac364.25cc8c8","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1597.3651542663574,"y":661.0480470657349,"wires":[["fae38ca4.021c5"]]},{"id":"dfa4b684.53e298","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/RegisterError","method":"get","swaggerDoc":"","x":3573.8331298828125,"y":582.095573425293,"wires":[["2a4048b4.925bd8"]]},{"id":"b6bfd18f.4d50e","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3611.1665229797363,"y":512.7622346878052,"wires":[["2a4048b4.925bd8"]]},{"id":"a953f03b.01e2","type":"comment","z":"ad835810.94cb78","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"9da9d0ca.b22cb","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["f844214e.dae53"]]},{"id":"f844214e.dae53","type":"function","z":"ad835810.94cb78","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["2b4dbc59.69cf74"]]},{"id":"2b4dbc59.69cf74","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":724.9999389648438,"y":1374.3176727294922,"wires":[["95a6f35c.8c1e3"],[]]},{"id":"a66e105a.92762","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["f844214e.dae53"]]},{"id":"bc0d4b83.34e128","type":"comment","z":"ad835810.94cb78","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"99b13116.d9ad7","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["13f94dfb.9482d2"]]},{"id":"13f94dfb.9482d2","type":"function","z":"ad835810.94cb78","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["f742f28.a2f871"]]},{"id":"f742f28.a2f871","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":729.4443817138672,"y":1509.7620887756348,"wires":[["8df1fc.3684fe08"],[]]},{"id":"5c078143.9f36","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["13f94dfb.9482d2"]]},{"id":"a7a734.67d448d","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/resetError","method":"post","swaggerDoc":"","x":371.8888740539551,"y":1104.0955084562302,"wires":[["a28cf0eb.2d8e9","d15ebb8b.809a88"]]},{"id":"c1a04bd2.18e2a8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1135.3332214355469,"y":1115.7621440887451,"wires":[]},{"id":"794727c.bb6a5d8","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":900.6666450500488,"y":1100.2065924406052,"wires":[["c1a04bd2.18e2a8"],["c1a04bd2.18e2a8"]]},{"id":"34f09c25.93c224","type":"function","z":"ad835810.94cb78","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.8889045715332,"y":1099.8732184171677,"wires":[["794727c.bb6a5d8"]]},{"id":"a28cf0eb.2d8e9","type":"function","z":"ad835810.94cb78","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":576.8888740539551,"y":1100.762159228325,"wires":[["34f09c25.93c224"]]},{"id":"f8d3bcee.d22bc","type":"comment","z":"ad835810.94cb78","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"d0eb46f2.e6ca78","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["446519b8.beb0b8"]]},{"id":"446519b8.beb0b8","type":"function","z":"ad835810.94cb78","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["2bcd2d91.aef202"]]},{"id":"2bcd2d91.aef202","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":734.4443817138672,"y":1683.7620887756348,"wires":[["a3ca55c9.65a918"],[]]},{"id":"c2df09b2.a20d68","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"f4cbd458.dd8988","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["446519b8.beb0b8"]]},{"id":"5d545232.dd807c","type":"comment","z":"ad835810.94cb78","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"26d32d7f.f52e22","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["55f4dd12.139984"]]},{"id":"55f4dd12.139984","type":"function","z":"ad835810.94cb78","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["36881c0c.f829f4"]]},{"id":"36881c0c.f829f4","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":729.4443817138672,"y":1845.7620887756348,"wires":[["ce0b7767.7d5d28"],[]]},{"id":"ef80d1a0.6f2a3","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"29f034e2.ac26fc","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["55f4dd12.139984"]]},{"id":"627e92c9.e87e6c","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"99ec63bc.605ee","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostFlow","method":"get","swaggerDoc":"","x":342.4443817138672,"y":1992.7620887756348,"wires":[["7d26d50f.c5bcbc"]]},{"id":"7d26d50f.c5bcbc","type":"function","z":"ad835810.94cb78","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["54a8451d.0851cc"]]},{"id":"54a8451d.0851cc","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":729.4443817138672,"y":1997.7620887756348,"wires":[["1aa29b18.3342f5"],[]]},{"id":"38d59dbe.1d4d22","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["7d26d50f.c5bcbc"]]},{"id":"be4ae82b.c6fdb8","type":"comment","z":"ad835810.94cb78","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"dd395525.bd3118","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlowMiddle","method":"get","swaggerDoc":"","x":342.4443817138672,"y":2154.7620887756348,"wires":[["f54e7edb.148b6"]]},{"id":"f54e7edb.148b6","type":"function","z":"ad835810.94cb78","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":2152.7620887756348,"wires":[["f047b254.b6a56"]]},{"id":"f047b254.b6a56","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":729.4443817138672,"y":2159.7620887756348,"wires":[["b4e6a656.7ff328"],[]]},{"id":"3e9a037f.a01f2c","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["f54e7edb.148b6"]]},{"id":"63f881e1.cd4ec","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"7cec3ad3.0dff64","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostMiddle","method":"get","swaggerDoc":"","x":349.33331298828125,"y":2337.7621850967407,"wires":[["f0df1e6d.ac5fd"]]},{"id":"f0df1e6d.ac5fd","type":"function","z":"ad835810.94cb78","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":540.3333129882812,"y":2335.7621850967407,"wires":[["594cf4bb.f477bc"]]},{"id":"594cf4bb.f477bc","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":736.3333129882812,"y":2342.7621850967407,"wires":[["ade424bf.0f6ea8"],[]]},{"id":"8d99debc.98eba","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["f0df1e6d.ac5fd"]]},{"id":"9e1d2f21.41e4a","type":"comment","z":"ad835810.94cb78","name":"write_error_reset","info":"","x":663.7777481079102,"y":1054.0954788923264,"wires":[]},{"id":"15510e03.7ad2a2","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["89759a64.511558","f5a6490d.3a98b8"]]},{"id":"de2578d3.d4afe8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"2d0a18ac.d3c0e8","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["de2578d3.d4afe8"]]},{"id":"f0fa2b33.9959c8","type":"function","z":"ad835810.94cb78","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["2d0a18ac.d3c0e8"]]},{"id":"89759a64.511558","type":"function","z":"ad835810.94cb78","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["f0fa2b33.9959c8"]]},{"id":"299b7ad9.c06346","type":"comment","z":"ad835810.94cb78","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"94ac83a2.ce0bc","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["ffe0c2af.d7c35","e6799add.a970f8"]]},{"id":"fc7a32a9.e5b15","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"9cb261ab.bf8c6","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":902.055534362793,"y":2665.151086807251,"wires":[[],["fc7a32a9.e5b15"]]},{"id":"152e50a9.b8ee5f","type":"function","z":"ad835810.94cb78","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["9cb261ab.bf8c6"]]},{"id":"ffe0c2af.d7c35","type":"function","z":"ad835810.94cb78","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["152e50a9.b8ee5f"]]},{"id":"2f43fc7.a62d104","type":"comment","z":"ad835810.94cb78","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"6316fcbb.65f8e4","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/SetLflowStart","method":"post","swaggerDoc":"","x":337.99993896484375,"y":2911.4010763168335,"wires":[["6682258b.4e714c","ab19414b.69bcf"]]},{"id":"f056463.e5a93b8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1123.9998474121094,"y":2981.42898273468,"wires":[]},{"id":"f2664eae.8ab45","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":937.4722023010254,"y":2987.5121002197266,"wires":[["f056463.e5a93b8"],[]]},{"id":"9f4a3340.6b911","type":"function","z":"ad835810.94cb78","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":751.3610191345215,"y":2990.1787118911743,"wires":[["f2664eae.8ab45"]]},{"id":"6682258b.4e714c","type":"function","z":"ad835810.94cb78","name":"with_1c","func":"var setflowstart = msg.payload;\n/* var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":462.0277786254883,"y":2990.9845399856567,"wires":[["7ef48142.ea8d2"]]},{"id":"5f3ebc3e.5d68a4","type":"comment","z":"ad835810.94cb78","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"3f18337a.cd32ec","type":"comment","z":"ad835810.94cb78","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"95d5778c.bffaf8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/SetLflowStart","method":"get","swaggerDoc":"","x":375.9444046020508,"y":3116.178910255432,"wires":[["6e7a9ba1.be9444"]]},{"id":"6e7a9ba1.be9444","type":"function","z":"ad835810.94cb78","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["58cb96f6.f38118"]]},{"id":"58cb96f6.f38118","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":794.1944046020508,"y":3101.178910255432,"wires":[["b8ca5f6.cf07ea"],[]]},{"id":"f78c79d8.b6edd8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"d2588b67.bcc8c8","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["6e7a9ba1.be9444"]]},{"id":"7ef48142.ea8d2","type":"function","z":"ad835810.94cb78","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":601.2776832580566,"y":2988.457148551941,"wires":[["9f4a3340.6b911"]]},{"id":"3fedb5b.76b1a4a","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["ff768607.b12d88","60e464ac.427eac"]]},{"id":"121a66e0.d63ad9","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":988.7221832275391,"y":3248.6232481002808,"wires":[["92f9153e.e1d288"],[]]},{"id":"ce7a802.a3f8c8","type":"function","z":"ad835810.94cb78","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":829.1388053894043,"y":3249.0675859451294,"wires":[["121a66e0.d63ad9"]]},{"id":"ff768607.b12d88","type":"function","z":"ad835810.94cb78","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":552.444450378418,"y":3245.5675840377808,"wires":[["b2f86836.c8fb48"]]},{"id":"65c08315.9d279c","type":"comment","z":"ad835810.94cb78","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"762eb45.ca9224c","type":"comment","z":"ad835810.94cb78","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"7ec6ac71.82d954","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["25689363.9cc1dc"]]},{"id":"25689363.9cc1dc","type":"function","z":"ad835810.94cb78","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["babf95e0.517298"]]},{"id":"babf95e0.517298","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":801.5554809570312,"y":3394.650938987732,"wires":[["298a9210.f873fe"],[]]},{"id":"82da5154.d7df6","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["25689363.9cc1dc"]]},{"id":"b2f86836.c8fb48","type":"function","z":"ad835810.94cb78","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":695.4443435668945,"y":3248.17915725708,"wires":[["ce7a802.a3f8c8"]]},{"id":"92f9153e.e1d288","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1178.2776489257812,"y":3246.0121450424194,"wires":[]},{"id":"7d4e3713.ac3be8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["15bb4896.14de87","4fc9f0a4.acaa3"]]},{"id":"64b760f6.d0c85","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":969.555534362793,"y":3725.1510553359985,"wires":[["1fb4bc95.369253"],[]]},{"id":"3f97acd0.5c8bb4","type":"function","z":"ad835810.94cb78","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":804.9721641540527,"y":3743.0953912734985,"wires":[["64b760f6.d0c85"]]},{"id":"15bb4896.14de87","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":534.5278205871582,"y":3745.845390319824,"wires":[["177ffc9e.d13fe3"]]},{"id":"2a0e2aad.2c8346","type":"comment","z":"ad835810.94cb78","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"e68f3ff6.20374","type":"comment","z":"ad835810.94cb78","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"fd36537a.5e36","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["ab6f04d2.5da728"]]},{"id":"ab6f04d2.5da728","type":"function","z":"ad835810.94cb78","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["1c6416dd.25cce9"]]},{"id":"1c6416dd.25cce9","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":774.8888473510742,"y":3898.678889274597,"wires":[["22267f57.800e6"],[]]},{"id":"7f6879e4.c40098","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["ab6f04d2.5da728"]]},{"id":"177ffc9e.d13fe3","type":"function","z":"ad835810.94cb78","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":670.027702331543,"y":3745.9569635391235,"wires":[["3f97acd0.5c8bb4"]]},{"id":"1fb4bc95.369253","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":1152.6110229492188,"y":3768.7897272109985,"wires":[]},{"id":"35b4fb20.77c3a4","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["28e243e.386ebbc","f0b04fe8.233f3"]]},{"id":"ac0d2ed5.cc8d5","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":965.8055877685547,"y":4129.206654548645,"wires":[["c58619f0.d9dd58"],[]]},{"id":"dedd0ad1.d69108","type":"comment","z":"ad835810.94cb78","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"515685f.d7bcc7c","type":"comment","z":"ad835810.94cb78","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"d4fd4aa2.9b3ba8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["79f6c766.2e59b8"]]},{"id":"79f6c766.2e59b8","type":"function","z":"ad835810.94cb78","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["47cb74c4.39fc7c"]]},{"id":"47cb74c4.39fc7c","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":739.8888473510742,"y":4276.734314918518,"wires":[["5affd2f7.2deddc"],[]]},{"id":"1a106c9d.3edfa3","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["79f6c766.2e59b8"]]},{"id":"c58619f0.d9dd58","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":1196.861026763916,"y":4119.095652580261,"wires":[]},{"id":"956749c9.40b028","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":306.7499694824219,"y":2961.53994846344,"wires":[["6682258b.4e714c"]]},{"id":"6709e6b.1954118","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[["f0b04fe8.233f3"]]},{"id":"710a52e.21a56ac","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":1856.083366394043,"y":971.6193752288818,"wires":[]},{"id":"25a078b1.a2ce78","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1608.7461547851562,"y":117.39719104766846,"wires":[["278435dd.35385a"]]},{"id":"889bfd90.b882e","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1573.0793991088867,"y":62.61946105957031,"wires":[["278435dd.35385a"]]},{"id":"9f3a0da6.e06a8","type":"http response","z":"ad835810.94cb78","name":"","x":2397.9206886291504,"y":751.3814058303833,"wires":[]},{"id":"3b90e6b5.ce62fa","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2242.365135192871,"y":755.8258285522461,"wires":[["9f3a0da6.e06a8"]]},{"id":"d15ebb8b.809a88","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":485.77773666381836,"y":1059.3177012205124,"wires":[]},{"id":"c556b461.7bc858","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":313.9999542236328,"y":1061.4288004636765,"wires":[["a28cf0eb.2d8e9"]]},{"id":"6a079d31.78a664","type":"http response","z":"ad835810.94cb78","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"4f92471a.20ae08","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["6a079d31.78a664"]]},{"id":"87ce33c0.8674b","type":"http response","z":"ad835810.94cb78","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"596a4bc1.199f04","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["87ce33c0.8674b"]]},{"id":"e6799add.a970f8","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"f5a6490d.3a98b8","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"1990d5dc.7a2fca","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["eae5f38c.8bdfa"]]},{"id":"5c70d36c.e35f0c","type":"comment","z":"ad835810.94cb78","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"eae5f38c.8bdfa","type":"function","z":"ad835810.94cb78","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["56bd649a.bcc60c"]]},{"id":"56bd649a.bcc60c","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":729.2499389648438,"y":2824.178864479065,"wires":[["c3484df.ad745b"],[]]},{"id":"8d88a84d.77acb8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"738ae18b.2def9","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["f32b2027.cff55"]]},{"id":"f32b2027.cff55","type":"http response","z":"ad835810.94cb78","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"905b1c27.4bd17","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["eae5f38c.8bdfa"]]},{"id":"dabeb5a.df6ff48","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["9f9affc4.e2cb8"]]},{"id":"9f9affc4.e2cb8","type":"http response","z":"ad835810.94cb78","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"ab19414b.69bcf","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":562.9999465942383,"y":2941.678907394409,"wires":[]},{"id":"60e464ac.427eac","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":450.4999465942383,"y":3177.928910255432,"wires":[]},{"id":"4a697eb.a53b78","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":282.99993896484375,"y":3195.428864479065,"wires":[["ff768607.b12d88"]]},{"id":"4fc9f0a4.acaa3","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":556.6110610961914,"y":3690.151022911072,"wires":[]},{"id":"70a4a436.27d20c","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[["15bb4896.14de87"]]},{"id":"28e243e.386ebbc","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":596.3333053588867,"y":4056.262143135071,"wires":[]},{"id":"5d392867.5f1698","type":"comment","z":"ad835810.94cb78","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"fd027d3b.0ac8d","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["725e8c5b.3d7f94"]]},{"id":"725e8c5b.3d7f94","type":"function","z":"ad835810.94cb78","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["fa2b291a.ef4c88"]]},{"id":"fa2b291a.ef4c88","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":736.5554885864258,"y":4617.726898193359,"wires":[["a8c8c3f0.3f2e8"],[]]},{"id":"26c732c9.48b96e","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["725e8c5b.3d7f94"]]},{"id":"3271a816.e228a8","type":"comment","z":"ad835810.94cb78","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"b238856c.2780f8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["e8fe22ea.f065c"]]},{"id":"e8fe22ea.f065c","type":"function","z":"ad835810.94cb78","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["d141a6b5.93bbc8"]]},{"id":"d141a6b5.93bbc8","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":736.5554885864258,"y":4760.107833862305,"wires":[["60a4136d.e700fc"],[]]},{"id":"f22a4239.9fc22","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["e8fe22ea.f065c"]]},{"id":"b8ca5f6.cf07ea","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["f78c79d8.b6edd8","dabeb5a.df6ff48"]]},{"id":"ce0b7767.7d5d28","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["ef80d1a0.6f2a3","596a4bc1.199f04"]]},{"id":"a3ca55c9.65a918","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["4f92471a.20ae08","c2df09b2.a20d68"]]},{"id":"5da5076e.4c5fc8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"c0dcc1f6.06733","type":"http response","z":"ad835810.94cb78","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"cf319b32.5d0f18","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["c0dcc1f6.06733"]]},{"id":"8df1fc.3684fe08","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["cf319b32.5d0f18","5da5076e.4c5fc8"]]},{"id":"6d88d594.dd7d7c","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"759b63f0.0b2d4c","type":"http response","z":"ad835810.94cb78","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"3a68f271.0745ce","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["759b63f0.0b2d4c"]]},{"id":"95a6f35c.8c1e3","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["3a68f271.0745ce","6d88d594.dd7d7c"]]},{"id":"4b441b97.be0524","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"158d693b.7f1957","type":"http response","z":"ad835810.94cb78","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"9e406297.dc5ff","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["158d693b.7f1957"]]},{"id":"1aa29b18.3342f5","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["9e406297.dc5ff","4b441b97.be0524"]]},{"id":"270436c9.5a064a","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"5979d287.7f555c","type":"http response","z":"ad835810.94cb78","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"5af3794a.d43d88","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["5979d287.7f555c"]]},{"id":"b4e6a656.7ff328","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["5af3794a.d43d88","270436c9.5a064a"]]},{"id":"5e0b75f5.3f66ac","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"e982467c.787098","type":"http response","z":"ad835810.94cb78","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"b26b0a46.8a8208","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["e982467c.787098"]]},{"id":"ade424bf.0f6ea8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["b26b0a46.8a8208","5e0b75f5.3f66ac"]]},{"id":"c2d23e50.6482","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"ce8a2c92.d8491","type":"http response","z":"ad835810.94cb78","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"f2497d33.4f473","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["ce8a2c92.d8491"]]},{"id":"298a9210.f873fe","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["f2497d33.4f473","c2d23e50.6482"]]},{"id":"fec8c26e.b0f83","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"4540851f.b15c9c","type":"http response","z":"ad835810.94cb78","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"3002a91d.7af616","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["4540851f.b15c9c"]]},{"id":"22267f57.800e6","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["3002a91d.7af616","fec8c26e.b0f83"]]},{"id":"7ac764d7.4a2cdc","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"b36a9146.73ee","type":"http response","z":"ad835810.94cb78","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"f435637e.fddc3","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["b36a9146.73ee"]]},{"id":"eaed97f5.13b9b8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"8a87ee6c.f7dab","type":"http response","z":"ad835810.94cb78","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"39d95ea5.228682","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["8a87ee6c.f7dab"]]},{"id":"a8c8c3f0.3f2e8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["39d95ea5.228682","eaed97f5.13b9b8"]]},{"id":"647ee26b.66cd3c","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"d193a456.26a248","type":"http response","z":"ad835810.94cb78","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"55c0aff1.6c919","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["d193a456.26a248"]]},{"id":"60a4136d.e700fc","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["55c0aff1.6c919","647ee26b.66cd3c"]]},{"id":"10dbcdeb.4873d2","type":"comment","z":"ad835810.94cb78","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"f3e4b923.1496d8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["af757883.d17e68"]]},{"id":"af757883.d17e68","type":"function","z":"ad835810.94cb78","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["478a7523.fbcdbc"]]},{"id":"478a7523.fbcdbc","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":750.5832901000977,"y":4913.679074287415,"wires":[["4987c579.00c95c"],[]]},{"id":"45f0c3b0.44640c","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["af757883.d17e68"]]},{"id":"32e8e6af.c3fa1a","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"1064bbbb.d10624","type":"http response","z":"ad835810.94cb78","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"15db454f.1bc0fb","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["1064bbbb.d10624"]]},{"id":"4987c579.00c95c","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["15db454f.1bc0fb","32e8e6af.c3fa1a"]]},{"id":"6bdddca8.c24b34","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["518bc4d0.ebf59c","8aa16e3a.cbf9a"]]},{"id":"2325fffe.9c4ab","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"58792144.70fc1","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2847.0160369873047,"y":2257.968363761902,"wires":[["2325fffe.9c4ab"],[]]},{"id":"50bd1576.8f456c","type":"comment","z":"ad835810.94cb78","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"518bc4d0.ebf59c","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"44ac1eaf.740df","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["8aa16e3a.cbf9a"]]},{"id":"8aa16e3a.cbf9a","type":"function","z":"ad835810.94cb78","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["40e5861e.6c6b48"]]},{"id":"40e5861e.6c6b48","type":"function","z":"ad835810.94cb78","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["58792144.70fc1"]]},{"id":"85d8d264.8e184","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"a21b733d.f8147","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2743.8736000061035,"y":2363.159381389618,"wires":[["85d8d264.8e184"],[]]},{"id":"c442bd37.7a594","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"b676d5ab.9813a8","type":"modbus-flex-write","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["c442bd37.7a594"],[]]},{"id":"63f0ad1d.c9a8e4","type":"comment","z":"ad835810.94cb78","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"4209c741.6a9df8","type":"function","z":"ad835810.94cb78","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["76f095ca.1d94dc"]]},{"id":"76f095ca.1d94dc","type":"function","z":"ad835810.94cb78","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["b676d5ab.9813a8"]]},{"id":"498265a.dc71e9c","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["dfe7af1d.e530b","4209c741.6a9df8"]]},{"id":"dfe7af1d.e530b","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"b4800bd6.183498","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["4209c741.6a9df8"]]},{"id":"d8a2142e.99b268","type":"function","z":"ad835810.94cb78","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["8a0ec7bd.7118e8"]]},{"id":"8a0ec7bd.7118e8","type":"function","z":"ad835810.94cb78","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["a21b733d.f8147"]]},{"id":"42d0a0a2.2adab","type":"comment","z":"ad835810.94cb78","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"8616b165.8cf47","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["7b65e96c.6eed68","d8a2142e.99b268"]]},{"id":"7b65e96c.6eed68","type":"http response","z":"ad835810.94cb78","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"50d97347.37a66c","type":"comment","z":"ad835810.94cb78","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"5e6086f4.90d2d8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["c2d5e674.9fcfa8"]]},{"id":"c2d5e674.9fcfa8","type":"function","z":"ad835810.94cb78","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["812116cc.05e398"]]},{"id":"812116cc.05e398","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2524.82515335083,"y":2829.377022743225,"wires":[["1c13b7c0.14fc28"],[]]},{"id":"9bd06a4c.6bb0e8","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"ebfe979f.62eab8","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["c2d5e674.9fcfa8"]]},{"id":"fc797a52.706c58","type":"http response","z":"ad835810.94cb78","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"b01a5c3c.743e","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["fc797a52.706c58"]]},{"id":"33c7e102.723dee","type":"comment","z":"ad835810.94cb78","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"ab63500.35e81b","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["7c1bf04d.5ff96"]]},{"id":"7c1bf04d.5ff96","type":"function","z":"ad835810.94cb78","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["64d919f0.85f968"]]},{"id":"64d919f0.85f968","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2521.8252296447754,"y":2958.377064704895,"wires":[["5f29f030.8ba69"],[]]},{"id":"b1376285.183a3","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["7c1bf04d.5ff96"]]},{"id":"7f6b9294.4d594c","type":"comment","z":"ad835810.94cb78","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"8bcdb78.ce4e848","type":"comment","z":"ad835810.94cb78","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"edc17512.d35a48","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["86b1f8c3.c5f3f8"]]},{"id":"86b1f8c3.c5f3f8","type":"function","z":"ad835810.94cb78","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2331.213996887207,"y":3137.3770027160645,"wires":[["30927734.532ce8"]]},{"id":"30927734.532ce8","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2527.213996887207,"y":3144.3770027160645,"wires":[["72872d50.381ad4"],[]]},{"id":"7df2d05c.07657","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["86b1f8c3.c5f3f8"]]},{"id":"af622d42.607db","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"fccced73.8b5d4","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["f80e929.063cd7"]]},{"id":"72872d50.381ad4","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["fccced73.8b5d4","af622d42.607db"]]},{"id":"f80e929.063cd7","type":"http response","z":"ad835810.94cb78","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"5207f977.896e78","type":"comment","z":"ad835810.94cb78","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"1f06c5ed.0c227a","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["d9dfaa59.b37898"]]},{"id":"d9dfaa59.b37898","type":"function","z":"ad835810.94cb78","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2329.7776107788086,"y":3282.724784851074,"wires":[["5605633f.671d4c"]]},{"id":"5605633f.671d4c","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2525.7776107788086,"y":3289.724784851074,"wires":[["5b9ff724.0af108"],[]]},{"id":"ccc598a7.017c98","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["d9dfaa59.b37898"]]},{"id":"ca4676a3.dfd598","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"94f34138.e6465","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["423712e9.516fec"]]},{"id":"5b9ff724.0af108","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["94f34138.e6465","ca4676a3.dfd598"]]},{"id":"423712e9.516fec","type":"http response","z":"ad835810.94cb78","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"1649da95.c50705","type":"comment","z":"ad835810.94cb78","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"61208b07.cc3824","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["363657b4.3b6288"]]},{"id":"363657b4.3b6288","type":"function","z":"ad835810.94cb78","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2337.555320739746,"y":3412.724784851074,"wires":[["f4a8de4c.79355"]]},{"id":"f4a8de4c.79355","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2533.555320739746,"y":3419.724784851074,"wires":[["d748db53.86a5b8"],[]]},{"id":"a5e677bd.c9a6c8","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["363657b4.3b6288"]]},{"id":"3616950c.fe5d2a","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"69ead1bb.9b923","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["90ce09be.6289f8"]]},{"id":"d748db53.86a5b8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["69ead1bb.9b923","3616950c.fe5d2a"]]},{"id":"90ce09be.6289f8","type":"http response","z":"ad835810.94cb78","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"e78467dd.e3a3c8","type":"comment","z":"ad835810.94cb78","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"bf780ed1.affab","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["df99e9c.ec83418"]]},{"id":"df99e9c.ec83418","type":"function","z":"ad835810.94cb78","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2334.222068786621,"y":3547.169120788574,"wires":[["3d0c8dea.974b02"]]},{"id":"3d0c8dea.974b02","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2530.222068786621,"y":3554.169120788574,"wires":[["435cfe17.c940d"],[]]},{"id":"d7dac9b0.f37908","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["df99e9c.ec83418"]]},{"id":"4c940368.78374c","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"85972e1a.50e4f","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["bc033fff.0c0ff"]]},{"id":"435cfe17.c940d","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["85972e1a.50e4f","4c940368.78374c"]]},{"id":"bc033fff.0c0ff","type":"http response","z":"ad835810.94cb78","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"6340e441.3e206c","type":"comment","z":"ad835810.94cb78","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"c5a13640.e8ddc8","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["364bb251.29709e"]]},{"id":"364bb251.29709e","type":"function","z":"ad835810.94cb78","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2328.666404724121,"y":3683.465507507324,"wires":[["7c25682d.727138"]]},{"id":"7c25682d.727138","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2524.666404724121,"y":3690.465507507324,"wires":[["fa7c1b8c.2a0df8"],[]]},{"id":"fcbd58a9.3a3718","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["364bb251.29709e"]]},{"id":"f3bf2329.62f52","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"2eda3592.e7a0ca","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["1f173163.15acaf"]]},{"id":"fa7c1b8c.2a0df8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["2eda3592.e7a0ca","f3bf2329.62f52"]]},{"id":"1f173163.15acaf","type":"http response","z":"ad835810.94cb78","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"caae417.7cd35c","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"f062a.fe4279d6","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostFlow1","method":"get","swaggerDoc":"","x":2185.444290161133,"y":3917.9839010238647,"wires":[["fe882bef.c42658"]]},{"id":"fe882bef.c42658","type":"function","z":"ad835810.94cb78","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2376.444290161133,"y":3915.9839010238647,"wires":[["987c68c8.97af78"]]},{"id":"987c68c8.97af78","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2572.444290161133,"y":3922.9839010238647,"wires":[["d58454d2.1040d8"],[]]},{"id":"7cfaaa4.8df0454","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["fe882bef.c42658"]]},{"id":"d58454d2.1040d8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["c8959e6e.815fb","ad8848c5.6ee0e8"]]},{"id":"ad8848c5.6ee0e8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"c8959e6e.815fb","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["651f4353.48bf7c"]]},{"id":"651f4353.48bf7c","type":"http response","z":"ad835810.94cb78","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"d697458a.84f5c8","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"82732826.327a48","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostFlow2","method":"get","swaggerDoc":"","x":2183.222122192383,"y":4058.7246236801147,"wires":[["25a9591b.8e4346"]]},{"id":"25a9591b.8e4346","type":"function","z":"ad835810.94cb78","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2374.222122192383,"y":4056.7246236801147,"wires":[["6451e47d.f00ffc"]]},{"id":"6451e47d.f00ffc","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2570.222122192383,"y":4063.7246236801147,"wires":[["95678bd2.6a31f8"],[]]},{"id":"f6fc3d71.d174e","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["25a9591b.8e4346"]]},{"id":"95678bd2.6a31f8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["8231ddc2.fc4a2","f7e8b2a8.51d4e"]]},{"id":"f7e8b2a8.51d4e","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"8231ddc2.fc4a2","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["5846509.3ec9db"]]},{"id":"5846509.3ec9db","type":"http response","z":"ad835810.94cb78","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"8b237bd5.19f218","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"eaab62aa.12ddc","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["c5051b2a.a643c8"]]},{"id":"c5051b2a.a643c8","type":"function","z":"ad835810.94cb78","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2360.8887481689453,"y":4214.502455711365,"wires":[["1bdc0054.d530f"]]},{"id":"1bdc0054.d530f","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2556.8887481689453,"y":4221.502455711365,"wires":[["a625bfc0.357f5"],[]]},{"id":"a49298e8.d93b28","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["c5051b2a.a643c8"]]},{"id":"a625bfc0.357f5","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["d775f2e1.66781","99f1d6ae.f2c6b8"]]},{"id":"99f1d6ae.f2c6b8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"d775f2e1.66781","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["ab8d6da3.8c8b2"]]},{"id":"ab8d6da3.8c8b2","type":"http response","z":"ad835810.94cb78","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"b1737a3a.b39af8","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"65ccf344.ee0d1c","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostFlow4","method":"get","swaggerDoc":"","x":2172.111038208008,"y":4360.94703578949,"wires":[["73960c8a.86a8a4"]]},{"id":"73960c8a.86a8a4","type":"function","z":"ad835810.94cb78","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4358.94703578949,"wires":[["e843d7c4.f96cd8"]]},{"id":"e843d7c4.f96cd8","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2559.111038208008,"y":4365.94703578949,"wires":[["745839a6.c439b8"],[]]},{"id":"664abba4.68aff4","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["73960c8a.86a8a4"]]},{"id":"745839a6.c439b8","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["b0b4f722.ce7de8","933882f0.1a89f"]]},{"id":"933882f0.1a89f","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"b0b4f722.ce7de8","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["cdca385e.7f4b18"]]},{"id":"cdca385e.7f4b18","type":"http response","z":"ad835810.94cb78","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"a25146e6.254bf8","type":"comment","z":"ad835810.94cb78","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"e57d87d8.ff7b18","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["3cc8f1fd.fc6c8e"]]},{"id":"3cc8f1fd.fc6c8e","type":"function","z":"ad835810.94cb78","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2363.111038208008,"y":4516.35426235199,"wires":[["72fdb0c5.2c142"]]},{"id":"72fdb0c5.2c142","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2559.111038208008,"y":4523.35426235199,"wires":[["a9ef20e0.2e867"],[]]},{"id":"52ae9fc0.f1b74","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["3cc8f1fd.fc6c8e"]]},{"id":"a9ef20e0.2e867","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["b5d78335.42343","fb6453fc.588f8"]]},{"id":"fb6453fc.588f8","type":"debug","z":"ad835810.94cb78","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"b5d78335.42343","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["9ee26d46.aa561"]]},{"id":"9ee26d46.aa561","type":"http response","z":"ad835810.94cb78","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"f0b04fe8.233f3","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":475.7779769897461,"y":4135.652293205261,"wires":[["2ac3f3d1.b9cfdc"]]},{"id":"2ac3f3d1.b9cfdc","type":"function","z":"ad835810.94cb78","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":630.2778244018555,"y":4134.763295173645,"wires":[["cefd2a7.46db1d8"]]},{"id":"cefd2a7.46db1d8","type":"function","z":"ad835810.94cb78","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":798.72216796875,"y":4129.651316642761,"wires":[["ac0d2ed5.cc8d5"]]},{"id":"5affd2f7.2deddc","type":"function","z":"ad835810.94cb78","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["7ac764d7.4a2cdc","f435637e.fddc3"]]},{"id":"1fc22061.30947","type":"comment","z":"ad835810.94cb78","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":2390.7428588867188,"y":605.8633480072021,"wires":[]},{"id":"7d49cd88.268ae4","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["b475c201.c558c"]]},{"id":"ee8a1ee0.09b14","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["b475c201.c558c"]]},{"id":"59a61a36.8c8484","type":"comment","z":"ad835810.94cb78","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"b475c201.c558c","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["831bb63.0d6bf48"]]},{"id":"7dc5a87d.14a288","type":"function","z":"ad835810.94cb78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["1891775d.d05c49"]]},{"id":"1891775d.d05c49","type":"function","z":"ad835810.94cb78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["cdf5a06d.18788","28dcd2ea.8d9b0e"]]},{"id":"cdf5a06d.18788","type":"http response","z":"ad835810.94cb78","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"28dcd2ea.8d9b0e","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"831bb63.0d6bf48","type":"function","z":"ad835810.94cb78","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["9f9ca7b2.6f8408"]]},{"id":"c3413bc7.529928","type":"function","z":"ad835810.94cb78","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["1f4231e1.bc6dfe"]]},{"id":"9f9ca7b2.6f8408","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":946.3656005859375,"y":413.76866817474365,"wires":[["de342188.17084"],[]]},{"id":"1f4231e1.bc6dfe","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":904.6988525390625,"y":492.102011680603,"wires":[["cebd1c92.64abe"],[]]},{"id":"7561b40d.7f23fc","type":"function","z":"ad835810.94cb78","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["c21aad56.d632c"]]},{"id":"c21aad56.d632c","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":892.3139419555664,"y":555.7012310028076,"wires":[["3d3a3e22.55a7e2"],[]]},{"id":"3d3a3e22.55a7e2","type":"function","z":"ad835810.94cb78","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["317da177.50de4e"]]},{"id":"317da177.50de4e","type":"function","z":"ad835810.94cb78","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["454c4225.1ee11c"]]},{"id":"454c4225.1ee11c","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":897.3139419555664,"y":614.0345439910889,"wires":[["7dc5a87d.14a288"],[]]},{"id":"de342188.17084","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["c3413bc7.529928"]]},{"id":"cebd1c92.64abe","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["7561b40d.7f23fc"]]},{"id":"f161920d.15a97","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2179.8137130737305,"y":860.4345016479492,"wires":[["9226b465.72ec98","acf48a7c.7e4238"]]},{"id":"c3484df.ad745b","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["738ae18b.2def9","8d88a84d.77acb8"]]},{"id":"1c13b7c0.14fc28","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["b01a5c3c.743e","9bd06a4c.6bb0e8"]]},{"id":"7f7e06e0.1ac6d8","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"263d3481.6f011c","type":"http response","z":"ad835810.94cb78","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"e2f0c079.14b2","type":"function","z":"ad835810.94cb78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["263d3481.6f011c"]]},{"id":"5f29f030.8ba69","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["e2f0c079.14b2","7f7e06e0.1ac6d8"]]},{"id":"85ecfdef.d3702","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2669.666778564453,"y":1617.095465183258,"wires":[["8748aa62.d72cc8"],[]]},{"id":"c16b8cbb.4f322","type":"function","z":"ad835810.94cb78","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2497.0476837158203,"y":1619.7145781517029,"wires":[["85ecfdef.d3702"]]},{"id":"8748aa62.d72cc8","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2890.8575172424316,"y":1603.0480551719666,"wires":[["785505fb.0240cc"]]},{"id":"14f9b6c.473f849","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2305.143211364746,"y":1620.6669392585754,"wires":[["c16b8cbb.4f322"]]},{"id":"785505fb.0240cc","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3077.491539001465,"y":1591.619294643402,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8d4bcf9a.52134"]]},{"id":"3e828c86.cb8574","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2088.3646392822266,"y":1569.4765238761902,"wires":[["14f9b6c.473f849"]]},{"id":"fbf44c98.6d89a","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/StatusKlapan","method":"get","swaggerDoc":"","x":2052.729667663574,"y":1621.8574652671814,"wires":[["14f9b6c.473f849"]]},{"id":"8d4bcf9a.52134","type":"function","z":"ad835810.94cb78","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2315.1429290771484,"y":1741.619372844696,"wires":[["225021d1.eb0e5e"]]},{"id":"225021d1.eb0e5e","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2526.0952911376953,"y":1754.476348400116,"wires":[["e3c9099d.07bda8"],[]]},{"id":"e3c9099d.07bda8","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2795.8571968078613,"y":1734.4764475822449,"wires":[["ccce0c28.ad814"]]},{"id":"ccce0c28.ad814","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3219.396381378174,"y":1721.8573088645935,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["7736c92a.8bd3d8"],[]]},{"id":"7736c92a.8bd3d8","type":"function","z":"ad835810.94cb78","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2227.9678955078125,"y":1844.4764618873596,"wires":[["a3fd2dee.0a36f"]]},{"id":"a3fd2dee.0a36f","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2432.2533950805664,"y":1841.6193537712097,"wires":[["c3b55ac5.4efb78"],[]]},{"id":"c3b55ac5.4efb78","type":"function","z":"ad835810.94cb78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2613.6820755004883,"y":1835.9051594734192,"wires":[["69311a6c.23f5a4"]]},{"id":"69311a6c.23f5a4","type":"function","z":"ad835810.94cb78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2794.3132705688477,"y":1840.297999382019,"wires":[["a2b703f5.4a941","212f32ae.ebf20e"]]},{"id":"a2b703f5.4a941","type":"http response","z":"ad835810.94cb78","name":"","x":3052.8131523132324,"y":1875.4290232658386,"wires":[]},{"id":"212f32ae.ebf20e","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":3071.8014030456543,"y":1912.059769153595,"wires":[]},{"id":"34ae9e8f.83b4e2","type":"inject","z":"ad835810.94cb78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2095.1900177001953,"y":1113.7622146606445,"wires":[["fca0234d.f129"]]},{"id":"fca0234d.f129","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2311.968589782715,"y":1164.9526300430298,"wires":[["d4d7cdd9.a43a4"]]},{"id":"d4d7cdd9.a43a4","type":"function","z":"ad835810.94cb78","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2493.873062133789,"y":1164.0002689361572,"wires":[["6aebedf.46e0814"]]},{"id":"2afefcf5.9b46a4","type":"function","z":"ad835810.94cb78","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2411.9683113098145,"y":1262.5716915130615,"wires":[["841a2888.4b0768"]]},{"id":"6aebedf.46e0814","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2676.492156982422,"y":1161.3811559677124,"wires":[["48eb7e65.c65a1"],[]]},{"id":"841a2888.4b0768","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2666.2539253234863,"y":1265.4287767410278,"wires":[["fe88e879.53f2c8"],[]]},{"id":"48eb7e65.c65a1","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2877.6828536987305,"y":1162.333740234375,"wires":[["70942092.ee33c"]]},{"id":"fe88e879.53f2c8","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2869.3491497039795,"y":1260.4287595748901,"wires":[["380a23b2.041e6c"]]},{"id":"70942092.ee33c","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3050.9836349487305,"y":1057.571647644043,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["2afefcf5.9b46a4"]]},{"id":"380a23b2.041e6c","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3212.888397216797,"y":1216.1430220603943,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["5e8868f2.bf4608"],[],[]]},{"id":"5e8868f2.bf4608","type":"function","z":"ad835810.94cb78","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2328.126564025879,"y":1347.0954222679138,"wires":[["9d840ca.8953af"]]},{"id":"9d840ca.8953af","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2524.0787353515625,"y":1355.9049496650696,"wires":[["67d14081.ab4d"],[]]},{"id":"67d14081.ab4d","type":"function","z":"ad835810.94cb78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2725.5074768066406,"y":1356.8575015068054,"wires":[["dd0b9ef5.b9852"]]},{"id":"dd0b9ef5.b9852","type":"function","z":"ad835810.94cb78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2859.4720153808594,"y":1359.5836062431335,"wires":[["ed8bc50f.e39728","cabe2e8a.6c67c"]]},{"id":"ed8bc50f.e39728","type":"http response","z":"ad835810.94cb78","name":"","x":3016.305187225342,"y":1359.7145657539368,"wires":[]},{"id":"cabe2e8a.6c67c","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":3050.293472290039,"y":1408.0120482444763,"wires":[]},{"id":"db49f9ff.560668","type":"http in","z":"ad835810.94cb78","name":"","url":"/k6/StatusPump","method":"get","swaggerDoc":"","x":2049.555046081543,"y":1166.1431560516357,"wires":[["fca0234d.f129"]]},{"id":"32a80330.3b79bc","type":"function","z":"758be521.7f57fc","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["18b0269b.700039"]]},{"id":"872af01e.10d0b","type":"inject","z":"758be521.7f57fc","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["32a80330.3b79bc"]]},{"id":"4a7917f0.f132f8","type":"http in","z":"758be521.7f57fc","name":"","url":"/k6/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["32a80330.3b79bc"]]},{"id":"18b0269b.700039","type":"function","z":"758be521.7f57fc","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.26969146728516,"y":235.10162162780762,"wires":[["a58e97a6.909ba8"]]},{"id":"a58e97a6.909ba8","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":627.1229553222656,"y":234.18895053863525,"wires":[["3c4b2b9a.181a64"],[]]},{"id":"3c4b2b9a.181a64","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":808.2141876220703,"y":232.85718536376953,"wires":[["6d3aba5c.fe6784"]]},{"id":"6d3aba5c.fe6784","type":"function","z":"758be521.7f57fc","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":387.13871002197266,"y":278.2325859069824,"wires":[["19d66050.bf25f"]]},{"id":"19d66050.bf25f","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":585.1982192993164,"y":279.32783699035645,"wires":[["f45ae2cb.98bf1"],[]]},{"id":"f45ae2cb.98bf1","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":775.3570404052734,"y":278.57147455215454,"wires":[["3a98592.b447aa6"]]},{"id":"3a98592.b447aa6","type":"function","z":"758be521.7f57fc","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":392.9601593017578,"y":327.5540370941162,"wires":[["c194e26f.f999c"]]},{"id":"c194e26f.f999c","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":597.2417526245117,"y":324.48656940460205,"wires":[["ab269c21.0990a"],[]]},{"id":"ab269c21.0990a","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":801.2221145629883,"y":320.351598739624,"wires":[["6cc89343.56ab8c"]]},{"id":"6cc89343.56ab8c","type":"function","z":"758be521.7f57fc","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.9958953857422,"y":372.30401515960693,"wires":[["6a1848af.c41718"]]},{"id":"6a1848af.c41718","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":604.7417984008789,"y":372.700870513916,"wires":[["36c48550.73399a"],[]]},{"id":"36c48550.73399a","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":805.0437622070312,"y":365.8278532028198,"wires":[["3cb3e4d9.93ef0c"]]},{"id":"3cb3e4d9.93ef0c","type":"function","z":"758be521.7f57fc","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.6506652832031,"y":418.38728523254395,"wires":[["1883e6af.8a6a69"]]},{"id":"1883e6af.8a6a69","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":601.4005355834961,"y":419.1015748977661,"wires":[["5d902b00.b2de74"],[]]},{"id":"5d902b00.b2de74","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.8453674316406,"y":413.65710830688477,"wires":[["3914ac21.bf0de4"]]},{"id":"3914ac21.bf0de4","type":"function","z":"758be521.7f57fc","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":399.25770568847656,"y":460.53014183044434,"wires":[["cb19fc26.85e4c"]]},{"id":"cb19fc26.85e4c","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":602.7057266235352,"y":462.5817823410034,"wires":[["e8562eb4.12e6a"],[]]},{"id":"e8562eb4.12e6a","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.2933387756348,"y":458.5658645629883,"wires":[["7319c530.5f5b3c"]]},{"id":"7319c530.5f5b3c","type":"function","z":"758be521.7f57fc","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":398.00768280029297,"y":504.6372718811035,"wires":[["14a1c8ca.4aa687"]]},{"id":"14a1c8ca.4aa687","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":600.5628623962402,"y":513.8317775726318,"wires":[["925d0015.ac0a4"],[]]},{"id":"925d0015.ac0a4","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":806.5790710449219,"y":498.3872718811035,"wires":[["6c58b4d7.c46d0c"]]},{"id":"6c58b4d7.c46d0c","type":"function","z":"758be521.7f57fc","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":385.50769805908203,"y":548.9230284690857,"wires":[["b2a119aa.bdad68"]]},{"id":"b2a119aa.bdad68","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":600.0271911621094,"y":560.7960548400879,"wires":[["c786f306.30515"],[]]},{"id":"c786f306.30515","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.6147842407227,"y":549.6373100280762,"wires":[["510b37f4.4086c8"]]},{"id":"510b37f4.4086c8","type":"function","z":"758be521.7f57fc","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.82908630371094,"y":600.7088451385498,"wires":[["145efb30.630ed5"]]},{"id":"145efb30.630ed5","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":607.8843231201172,"y":605.0817642211914,"wires":[["baa12817.9fb5d8"],[]]},{"id":"baa12817.9fb5d8","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.1862144470215,"y":598.2087173461914,"wires":[["be5e15f3.0f88b8"]]},{"id":"be5e15f3.0f88b8","type":"function","z":"758be521.7f57fc","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":378.3887023925781,"y":649.9111614227295,"wires":[["309f9ab2.6505e6"]]},{"id":"309f9ab2.6505e6","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":603.1346893310547,"y":657.1651706695557,"wires":[["e2f692e6.3577c"],[]]},{"id":"e2f692e6.3577c","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.2933387756348,"y":652.9706268310547,"wires":[["158090b5.eed1ff"]]},{"id":"158090b5.eed1ff","type":"function","z":"758be521.7f57fc","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":375.30543518066406,"y":697.5181579589844,"wires":[["32bef006.4f45e"]]},{"id":"32bef006.4f45e","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":602.6267395019531,"y":708.2324261665344,"wires":[["19b88e08.453502"],[]]},{"id":"19b88e08.453502","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.214427947998,"y":702.7879877090454,"wires":[["61b2e501.9ac65c"]]},{"id":"61b2e501.9ac65c","type":"function","z":"758be521.7f57fc","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":369.0552673339844,"y":749.6609973907471,"wires":[["692c5e51.24e8f"]]},{"id":"692c5e51.24e8f","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":616.7890205383301,"y":758.8554773330688,"wires":[["97ecbb22.66e9e8"],[]]},{"id":"97ecbb22.66e9e8","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":794.2338333129883,"y":757.6967029571533,"wires":[["4861c2a.4e1563c"]]},{"id":"4861c2a.4e1563c","type":"function","z":"758be521.7f57fc","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":363.51954650878906,"y":789.4824266433716,"wires":[["e0bd6112.ca8b8"]]},{"id":"e0bd6112.ca8b8","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":617.5032806396484,"y":805.8197631835938,"wires":[["e08d0c03.78cda"],[]]},{"id":"e08d0c03.78cda","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.948127746582,"y":806.0895957946777,"wires":[["12cc9c5c.ff6d14"]]},{"id":"12cc9c5c.ff6d14","type":"function","z":"758be521.7f57fc","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":359.59100341796875,"y":842.3396759033203,"wires":[["3d0ff9f0.554496"]]},{"id":"3d0ff9f0.554496","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":614.1104202270508,"y":855.6412906646729,"wires":[["19233fe1.fb462"],[]]},{"id":"19233fe1.fb462","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":810.1267166137695,"y":855.9111061096191,"wires":[["f0e9841f.e3f608"]]},{"id":"f0e9841f.e3f608","type":"function","z":"758be521.7f57fc","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":351.9124298095703,"y":908.4111814498901,"wires":[["fa1939ba.d6a3a8"]]},{"id":"fa1939ba.d6a3a8","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":613.3961601257324,"y":909.9270133972168,"wires":[["927f4507.1d22e8"],[]]},{"id":"927f4507.1d22e8","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":829.412446975708,"y":905.9110794067383,"wires":[["9767571d.360068"]]},{"id":"9767571d.360068","type":"function","z":"758be521.7f57fc","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":352.4720001220703,"y":957.6134796142578,"wires":[["80d8d62a.8493e8"]]},{"id":"80d8d62a.8493e8","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":605.7894058227539,"y":956.2960872650146,"wires":[["cd054a48.089fd8"],[]]},{"id":"cd054a48.089fd8","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":821.3767242431641,"y":959.2444286346436,"wires":[["d3a67cd2.b7341"]]},{"id":"d3a67cd2.b7341","type":"function","z":"758be521.7f57fc","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":338.2141876220703,"y":998.5714988708496,"wires":[["2715bcc.2ef2144"]]},{"id":"2715bcc.2ef2144","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":607.6388473510742,"y":1004.8016843795776,"wires":[["4b39efd5.345c8"],[]]},{"id":"4b39efd5.345c8","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":815.8729705810547,"y":1002.0413913726807,"wires":[["8efa3a4e.a42a38"]]},{"id":"8efa3a4e.a42a38","type":"function","z":"758be521.7f57fc","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.2142105102539,"y":1048.5714702606201,"wires":[["2624a9bf.079636"]]},{"id":"2624a9bf.079636","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":607.6388626098633,"y":1063.3731002807617,"wires":[["5ce6cec.201e63"],[]]},{"id":"5ce6cec.201e63","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":813.0158462524414,"y":1053.4698905944824,"wires":[["e5b80c1b.38f51"]]},{"id":"e5b80c1b.38f51","type":"function","z":"758be521.7f57fc","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":319.6427764892578,"y":1104.2857360839844,"wires":[["87af145b.cd8c28"]]},{"id":"87af145b.cd8c28","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":607.6388626098633,"y":1121.9444847106934,"wires":[["999e63fb.21b9f"],[]]},{"id":"999e63fb.21b9f","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":821.587287902832,"y":1114.8984069824219,"wires":[["764a771a.6ef188"]]},{"id":"764a771a.6ef188","type":"function","z":"758be521.7f57fc","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":328.21421813964844,"y":1160.000126838684,"wires":[["c8c66224.99ed4"]]},{"id":"c8c66224.99ed4","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":613.3532180786133,"y":1160.5160179138184,"wires":[["4dc6d60f.aa6538"],[]]},{"id":"4dc6d60f.aa6538","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":811.5872039794922,"y":1157.7556552886963,"wires":[["641b67b8.c11c98"]]},{"id":"641b67b8.c11c98","type":"function","z":"758be521.7f57fc","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":316.78564453125,"y":1222.8571338653564,"wires":[["40a60595.f789dc"]]},{"id":"40a60595.f789dc","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":580.4960479736328,"y":1215.9445724487305,"wires":[["e1a0d200.47f1a"],[]]},{"id":"e1a0d200.47f1a","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.7300643920898,"y":1216.327018737793,"wires":[["dc0d200c.1613"]]},{"id":"dc0d200c.1613","type":"function","z":"758be521.7f57fc","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":322.4999237060547,"y":1291.428731918335,"wires":[["bd63590f.f98718"]]},{"id":"bd63590f.f98718","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":599.0674362182617,"y":1303.3730735778809,"wires":[["dc781d1a.b1bda"],[]]},{"id":"dc781d1a.b1bda","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":807.3015441894531,"y":1287.755723953247,"wires":[["947b0894.16ec48"]]},{"id":"947b0894.16ec48","type":"function","z":"758be521.7f57fc","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":311.0713653564453,"y":1342.8571290969849,"wires":[["6b5a1474.56c82c"]]},{"id":"6b5a1474.56c82c","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":599.0674247741699,"y":1353.3731546401978,"wires":[["4e0e91d5.d188b"],[]]},{"id":"4e0e91d5.d188b","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":801.5872764587402,"y":1344.8984060287476,"wires":[["c2304645.aff278"]]},{"id":"c2304645.aff278","type":"function","z":"758be521.7f57fc","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":312.49991607666016,"y":1391.4286708831787,"wires":[["c5f8066b.2fe618"]]},{"id":"c5f8066b.2fe618","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":603.3531494140625,"y":1401.9444751739502,"wires":[["cecfdfd.634912"],[]]},{"id":"cecfdfd.634912","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":805.8729782104492,"y":1394.8983316421509,"wires":[["7aa331ab.d93c9"]]},{"id":"7aa331ab.d93c9","type":"function","z":"758be521.7f57fc","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":305.35707092285156,"y":1457.143060684204,"wires":[["ccf0d5b4.917888"]]},{"id":"ccf0d5b4.917888","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":617.6389122009277,"y":1450.516077041626,"wires":[["a104df5e.d7637"],[]]},{"id":"a104df5e.d7637","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":820.1586570739746,"y":1442.0412578582764,"wires":[["e7a5885e.f7de28"]]},{"id":"e7a5885e.f7de28","type":"function","z":"758be521.7f57fc","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":308.2142105102539,"y":1511.4285221099854,"wires":[["1290e096.ccb83f"]]},{"id":"1290e096.ccb83f","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":611.9246253967285,"y":1503.3731718063354,"wires":[["4652f94f.d39eb8"],[]]},{"id":"4652f94f.d39eb8","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.872917175293,"y":1499.1840858459473,"wires":[["b6668506.6a60e8"]]},{"id":"b6668506.6a60e8","type":"function","z":"758be521.7f57fc","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":325.71417236328125,"y":1572.8571519851685,"wires":[["dc80b8d2.50f4e8"]]},{"id":"dc80b8d2.50f4e8","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":619.0476379394531,"y":1559.5240449905396,"wires":[["8980094c.4bf428"],[]]},{"id":"8980094c.4bf428","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.428466796875,"y":1560.000096321106,"wires":[["9e4b7211.9fefd"]]},{"id":"9e4b7211.9fefd","type":"function","z":"758be521.7f57fc","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":326.26990509033203,"y":1622.3016958236694,"wires":[["5fa1026d.2bae5c"]]},{"id":"5fa1026d.2bae5c","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":638.4919395446777,"y":1633.4127979278564,"wires":[["52462e69.7abc5"],[]]},{"id":"52462e69.7abc5","type":"function","z":"758be521.7f57fc","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.5713195800781,"y":1630.0001306533813,"wires":[["8a2a74f.06be688"]]},{"id":"8a2a74f.06be688","type":"function","z":"758be521.7f57fc","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":311.2699546813965,"y":1677.3016576766968,"wires":[["6626292.a596cd8"]]},{"id":"6626292.a596cd8","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":635.158763885498,"y":1675.0794277191162,"wires":[["63c2cebc.5b25c"],[]]},{"id":"63c2cebc.5b25c","type":"function","z":"758be521.7f57fc","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8570556640625,"y":1680.000096321106,"wires":[["30bdddd5.eb2d82"]]},{"id":"30bdddd5.eb2d82","type":"function","z":"758be521.7f57fc","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":322.93649673461914,"y":1725.6349325180054,"wires":[["2ce794c1.b4aabc"]]},{"id":"2ce794c1.b4aabc","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":625.1586799621582,"y":1718.4127435684204,"wires":[["e09b97b8.cd9e58"],[]]},{"id":"e09b97b8.cd9e58","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.7141723632812,"y":1735.714451789856,"wires":[["24e4b096.89897"]]},{"id":"24e4b096.89897","type":"function","z":"758be521.7f57fc","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":327.9364547729492,"y":1780.6350145339966,"wires":[["ed540d33.5e5e9"]]},{"id":"ed540d33.5e5e9","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":626.8253440856934,"y":1773.412766456604,"wires":[["81f45875.d91788"],[]]},{"id":"81f45875.d91788","type":"function","z":"758be521.7f57fc","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.428466796875,"y":1780.0002403259277,"wires":[["65a43a61.c49a44"]]},{"id":"65a43a61.c49a44","type":"function","z":"758be521.7f57fc","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":286.56935119628906,"y":1829.5282020568848,"wires":[["f0166e12.9bbb6"]]},{"id":"f0166e12.9bbb6","type":"modbus-flex-getter","z":"758be521.7f57fc","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":619.9027214050293,"y":1831.1948499679565,"wires":[["5a7d9fa0.ee106"],[]]},{"id":"5a7d9fa0.ee106","type":"function","z":"758be521.7f57fc","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":792.8570785522461,"y":1828.5714378356934,"wires":[["57fea367.327fbc"]]},{"id":"57fea367.327fbc","type":"function","z":"758be521.7f57fc","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":929.2025032043457,"y":1830.1070613861084,"wires":[["b684f4f2.3c81d8","b6c2fdb1.5993f"]]},{"id":"b684f4f2.3c81d8","type":"http response","z":"758be521.7f57fc","name":"","x":1100.5596656799316,"y":1792.381085395813,"wires":[]},{"id":"b6c2fdb1.5993f","type":"debug","z":"758be521.7f57fc","name":"","active":true,"console":"false","complete":"payload","x":1119.5479164123535,"y":1829.0118312835693,"wires":[]},{"id":"ab15d99c.af73c8","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2440,"y":194.99998474121094,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["9c5e69c6.639a58"]]},{"id":"3fb0cd76.4bd362","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1648.7499237060547,"y":231.24998092651367,"wires":[["205f4c0f.17b8d4"]]},{"id":"205f4c0f.17b8d4","type":"function","z":"6827c201.44d26c","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1794.5833854675293,"y":232.49998092651367,"wires":[["151184d.a8e477b"]]},{"id":"151184d.a8e477b","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1973.333251953125,"y":237.49998474121094,"wires":[["c3a3d3ad.93f61"],[]]},{"id":"c3a3d3ad.93f61","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2173.333251953125,"y":231.24998474121094,"wires":[["ab15d99c.af73c8"]]},{"id":"9c5e69c6.639a58","type":"function","z":"6827c201.44d26c","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1655.8333892822266,"y":301.50002002716064,"wires":[["d9b88679.b95768"]]},{"id":"d9b88679.b95768","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1877.8334007263184,"y":307.4999809265137,"wires":[["36679754.467838"],[]]},{"id":"36679754.467838","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2079.583293914795,"y":305.4999589920044,"wires":[["574097ff.366658"]]},{"id":"574097ff.366658","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2561.500156402588,"y":336.75,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3e2be783.97b788"],[]]},{"id":"3e2be783.97b788","type":"function","z":"6827c201.44d26c","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1645.8333892822266,"y":370.24998474121094,"wires":[["2877be50.703bb2"]]},{"id":"2877be50.703bb2","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1880.8334045410156,"y":366.24994468688965,"wires":[["18d21a1b.ec7c66"],[]]},{"id":"18d21a1b.ec7c66","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2085.583293914795,"y":362.24994468688965,"wires":[["f363072e.e228b8"]]},{"id":"f363072e.e228b8","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2316.6665115356445,"y":422.4999694824219,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["811b1f31.c758e"],[],[]]},{"id":"811b1f31.c758e","type":"function","z":"6827c201.44d26c","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1642.6667251586914,"y":439.00003242492676,"wires":[["5f8b6451.20ff0c"]]},{"id":"5f8b6451.20ff0c","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1883.6667404174805,"y":442.9999523162842,"wires":[["cc03552c.35f298"],[]]},{"id":"cc03552c.35f298","type":"function","z":"6827c201.44d26c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2076.1741123199463,"y":439.0121183395386,"wires":[["4755efed.b6c3e"]]},{"id":"4755efed.b6c3e","type":"function","z":"6827c201.44d26c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":1904.1387634277344,"y":515.7382335662842,"wires":[["a2d20890.146c78","6fe99050.27929"]]},{"id":"a2d20890.146c78","type":"http response","z":"6827c201.44d26c","name":"","x":2082.971981048584,"y":507.8691749572754,"wires":[]},{"id":"6fe99050.27929","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":2140.9602661132812,"y":564.1666622161865,"wires":[]},{"id":"81a4c328.b12bf","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_marshrut","info":"","x":4034,"y":1764.6666259765625,"wires":[]},{"id":"5731501f.fc66e","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4472.945339202881,"y":1769.8253173828125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["50560339.427e2c","c2a18d7f.a1552"]]},{"id":"9d964d97.bdfda","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3741.6944122314453,"y":1838.93230342865,"wires":[["a4c691c2.62dea"]]},{"id":"a4c691c2.62dea","type":"function","z":"6827c201.44d26c","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3897.52787399292,"y":1840.18230342865,"wires":[["6fd37fd.f5ccf8"]]},{"id":"6fd37fd.f5ccf8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":4066.2777404785156,"y":1845.1823072433472,"wires":[["d2b11b63.5f8c58"],[]]},{"id":"d2b11b63.5f8c58","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4266.277740478516,"y":1838.9323072433472,"wires":[["5731501f.fc66e","c2a18d7f.a1552"]]},{"id":"50560339.427e2c","type":"function","z":"6827c201.44d26c","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3748.777877807617,"y":1909.1823425292969,"wires":[["1f7785bf.c522ea"]]},{"id":"1f7785bf.c522ea","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3970.777889251709,"y":1915.18230342865,"wires":[["87775512.547b48"],[]]},{"id":"87775512.547b48","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4172.527782440186,"y":1913.1822814941406,"wires":[["f276b2ea.d16e3"]]},{"id":"f276b2ea.d16e3","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4655.873455047607,"y":1884.432357788086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3a4309a4.231986"],[]]},{"id":"3a4309a4.231986","type":"function","z":"6827c201.44d26c","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3738.777877807617,"y":1977.9323072433472,"wires":[["f949b291.57ef2"]]},{"id":"f949b291.57ef2","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3973.7778930664062,"y":1973.9322671890259,"wires":[["7f2afc7e.f70a14"],[]]},{"id":"7f2afc7e.f70a14","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4178.527782440186,"y":1969.9322671890259,"wires":[["575eda4e.d38714"]]},{"id":"575eda4e.d38714","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4356.753650665283,"y":2064.4680557250977,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["8c9df32b.9213c"],[],[]]},{"id":"8c9df32b.9213c","type":"function","z":"6827c201.44d26c","name":"R_22_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3735.611213684082,"y":2046.682354927063,"wires":[["bf5564a3.5efc68"]]},{"id":"bf5564a3.5efc68","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3976.611228942871,"y":2050.6822748184204,"wires":[["a8ff7728.4372d8"],[]]},{"id":"9dd9d91c.1c5848","type":"function","z":"6827c201.44d26c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3843.404815673828,"y":2370.9801530838013,"wires":[["7f0e1341.d7086c"]]},{"id":"7f0e1341.d7086c","type":"function","z":"6827c201.44d26c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":3987.0842819213867,"y":2374.8490533828735,"wires":[["e68cedf8.898ad","5788c862.f23108"]]},{"id":"e68cedf8.898ad","type":"http response","z":"6827c201.44d26c","name":"","x":4221.631839752197,"y":2374.122908592224,"wires":[]},{"id":"5788c862.f23108","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":4218.191345214844,"y":2426.134757041931,"wires":[]},{"id":"a8ff7728.4372d8","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4180.47607421875,"y":2046.6666259765625,"wires":[["58db7244.6ea33c"]]},{"id":"f0ec627b.5d94d","type":"function","z":"6827c201.44d26c","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3693.3333129882812,"y":2153.8097581863403,"wires":[["fe2ff5fd.cc2208"]]},{"id":"fe2ff5fd.cc2208","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3941.4762115478516,"y":2142.09529876709,"wires":[["7d7faf13.cdf0e"],[]]},{"id":"7d7faf13.cdf0e","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4142.483779907227,"y":2146.6511363983154,"wires":[["90f96ed5.1ecb"]]},{"id":"58db7244.6ea33c","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4544.476024627686,"y":2118.738151550293,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["f0ec627b.5d94d"],[],[],[]]},{"id":"90f96ed5.1ecb","type":"function","z":"6827c201.44d26c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4379.04736328125,"y":2296.666748046875,"wires":[[],[],[],[],[],[],[],[],[],[],[],["34414e79.55d2c2"],[],[],[],[]]},{"id":"34414e79.55d2c2","type":"function","z":"6827c201.44d26c","name":"R_22_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3590.47607421875,"y":2275.238037109375,"wires":[["500bcdad.92a714"]]},{"id":"500bcdad.92a714","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":3838.6189727783203,"y":2263.5235776901245,"wires":[["9dd9d91c.1c5848"],[]]},{"id":"c2a18d7f.a1552","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":4261.90478515625,"y":1702.3809814453125,"wires":[]},{"id":"4db8afe6.839cb","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2577.0397033691406,"y":256.58710765838623,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["29321277.0a11ae"]]},{"id":"771845f2.32617c","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1785.7896270751953,"y":292.83710384368896,"wires":[["b3dbd711.09b8c8"]]},{"id":"b3dbd711.09b8c8","type":"function","z":"9338adab.2ba02","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1931.62308883667,"y":294.08710384368896,"wires":[["d2944b17.9f74f8"]]},{"id":"d2944b17.9f74f8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2110.3729553222656,"y":299.08710765838623,"wires":[["14b81e69.bc6d32"],[]]},{"id":"14b81e69.bc6d32","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2310.3729553222656,"y":292.83710765838623,"wires":[["4db8afe6.839cb"]]},{"id":"29321277.0a11ae","type":"function","z":"9338adab.2ba02","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1792.8730926513672,"y":363.08714294433594,"wires":[["55d22682.e13af8"]]},{"id":"55d22682.e13af8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2014.873104095459,"y":369.08710384368896,"wires":[["c25eaae2.b88d18"],[]]},{"id":"c25eaae2.b88d18","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2216.6229972839355,"y":367.0870819091797,"wires":[["a1994a97.991cf8"]]},{"id":"a1994a97.991cf8","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2698.5398597717285,"y":398.3371229171753,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["4d72292b.9af7b8"],[]]},{"id":"4d72292b.9af7b8","type":"function","z":"9338adab.2ba02","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1782.8730926513672,"y":431.83710765838623,"wires":[["877efd9a.0461d"]]},{"id":"877efd9a.0461d","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2017.8731079101562,"y":427.83706760406494,"wires":[["27302c1d.69f1d4"],[]]},{"id":"27302c1d.69f1d4","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2222.6229972839355,"y":423.83706760406494,"wires":[["c9d0dc52.03162"]]},{"id":"c9d0dc52.03162","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2453.706214904785,"y":484.08709239959717,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["af71fa12.1e82e8"],[],[]]},{"id":"af71fa12.1e82e8","type":"function","z":"9338adab.2ba02","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1779.706428527832,"y":500.58715534210205,"wires":[["369bb6d6.9248aa"]]},{"id":"369bb6d6.9248aa","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":2020.706443786621,"y":504.5870752334595,"wires":[["f61a0c2e.d7502"],[]]},{"id":"f61a0c2e.d7502","type":"function","z":"9338adab.2ba02","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2213.213815689087,"y":500.59924125671387,"wires":[["a225c440.8c90e8"]]},{"id":"a225c440.8c90e8","type":"function","z":"9338adab.2ba02","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2041.178466796875,"y":577.3253564834595,"wires":[["a18f2217.7daf9","34d09798.946e88"]]},{"id":"a18f2217.7daf9","type":"http response","z":"9338adab.2ba02","name":"","x":2220.0116844177246,"y":569.4562978744507,"wires":[]},{"id":"34d09798.946e88","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":2277.999969482422,"y":625.7537851333618,"wires":[]},{"id":"afd21cad.6d6e8","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2698.944610595703,"y":163.72997951507568,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["7d6d5607.4392c8"]]},{"id":"4769ea1c.da88d4","type":"function","z":"4907b097.a19c","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1907.6945343017578,"y":199.97997570037842,"wires":[["7f1e151b.3cf04c"]]},{"id":"7f1e151b.3cf04c","type":"function","z":"4907b097.a19c","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2053.5279960632324,"y":201.22997570037842,"wires":[["6405bfae.88c64"]]},{"id":"6405bfae.88c64","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2232.277862548828,"y":206.22997951507568,"wires":[["e2abd7fe.352268"],[]]},{"id":"e2abd7fe.352268","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2432.277862548828,"y":199.97997951507568,"wires":[["afd21cad.6d6e8"]]},{"id":"7d6d5607.4392c8","type":"function","z":"4907b097.a19c","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1914.7779998779297,"y":270.2300148010254,"wires":[["a58fd413.c6adb8"]]},{"id":"a58fd413.c6adb8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2136.7780113220215,"y":276.2299757003784,"wires":[["4677be5b.b1a0f"],[]]},{"id":"4677be5b.b1a0f","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2338.527904510498,"y":274.22995376586914,"wires":[["347a143.4485bec"]]},{"id":"347a143.4485bec","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2841.8733139038086,"y":314.0514373779297,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6d59e49b.345c8c"],[]]},{"id":"6d59e49b.345c8c","type":"function","z":"4907b097.a19c","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1904.7779998779297,"y":338.9799795150757,"wires":[["20988267.a2a79e"]]},{"id":"20988267.a2a79e","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2139.7780151367188,"y":334.9799394607544,"wires":[["ae4a3c17.72d3a"],[]]},{"id":"ae4a3c17.72d3a","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2344.527904510498,"y":330.9799394607544,"wires":[["ce013081.cc7eb"]]},{"id":"ce013081.cc7eb","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2575.6111221313477,"y":391.2299642562866,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["cdf20f4d.e564c"],[],[]]},{"id":"cdf20f4d.e564c","type":"function","z":"4907b097.a19c","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1901.6113357543945,"y":407.7300271987915,"wires":[["91952b1f.e94dc8"]]},{"id":"91952b1f.e94dc8","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":2142.6113510131836,"y":411.7299470901489,"wires":[["bbe0c60e.c560a8"],[]]},{"id":"bbe0c60e.c560a8","type":"function","z":"4907b097.a19c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2335.1187229156494,"y":407.7421131134033,"wires":[["603dd897.002ab8"]]},{"id":"603dd897.002ab8","type":"function","z":"4907b097.a19c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":1971.6547622680664,"y":477.3253402709961,"wires":[["ecb72d6a.35e88","5f6c19b2.6cbdc8"]]},{"id":"ecb72d6a.35e88","type":"http response","z":"4907b097.a19c","name":"","x":2204.773868560791,"y":468.02776765823364,"wires":[]},{"id":"5f6c19b2.6cbdc8","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":2375.6193313598633,"y":518.6109781265259,"wires":[]},{"id":"bbfaaa59.8de548","type":"comment","z":"57146746.fd06d8","name":"read_Upakovka_marshrut","info":"","x":2440,"y":86.98431873321533,"wires":[]},{"id":"ccee3594.bfbce8","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2938.9444885253906,"y":125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["57e9fa34.5c2144"]]},{"id":"988a3937.970038","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2147.6944122314453,"y":161.24999618530273,"wires":[["90c8879d.ccb938"]]},{"id":"90c8879d.ccb938","type":"function","z":"57146746.fd06d8","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2293.52787399292,"y":162.49999618530273,"wires":[["21ca0372.7518bc"]]},{"id":"21ca0372.7518bc","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2472.2777404785156,"y":167.5,"wires":[["b0868ecc.b407c"],[]]},{"id":"b0868ecc.b407c","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2672.2777404785156,"y":161.25,"wires":[["ccee3594.bfbce8"]]},{"id":"57e9fa34.5c2144","type":"function","z":"57146746.fd06d8","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2154.777877807617,"y":231.5000352859497,"wires":[["6dbc3988.68c298"]]},{"id":"6dbc3988.68c298","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2376.777889251709,"y":237.49999618530273,"wires":[["afe90741.639df8"],[]]},{"id":"afe90741.639df8","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2578.5277824401855,"y":235.49997425079346,"wires":[["5bc1de11.1cc16"]]},{"id":"5bc1de11.1cc16","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3060.4446449279785,"y":266.75001525878906,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5a17792e.d72208"],[]]},{"id":"5a17792e.d72208","type":"function","z":"57146746.fd06d8","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2144.777877807617,"y":300.25,"wires":[["38db047b.a27fec"]]},{"id":"38db047b.a27fec","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2379.7778930664062,"y":296.2499599456787,"wires":[["ed99499b.a02668"],[]]},{"id":"ed99499b.a02668","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2584.5277824401855,"y":292.2499599456787,"wires":[["a7bd6bdd.1b6508"]]},{"id":"a7bd6bdd.1b6508","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2815.611000061035,"y":352.49998474121094,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["4cb44fb9.84ce1"],[],[]]},{"id":"4cb44fb9.84ce1","type":"function","z":"57146746.fd06d8","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2141.611213684082,"y":369.0000476837158,"wires":[["10a13d8.99c94c3"]]},{"id":"10a13d8.99c94c3","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":2382.611228942871,"y":372.99996757507324,"wires":[["c4472ddd.36449"],[]]},{"id":"c4472ddd.36449","type":"function","z":"57146746.fd06d8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2575.118600845337,"y":369.01213359832764,"wires":[["39225114.3e0f4e"]]},{"id":"39225114.3e0f4e","type":"function","z":"57146746.fd06d8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2403.083251953125,"y":445.73824882507324,"wires":[["e349e852.74f2d8","6757a174.328bf"]]},{"id":"e349e852.74f2d8","type":"http response","z":"57146746.fd06d8","name":"","x":2581.9164695739746,"y":437.86919021606445,"wires":[]},{"id":"6757a174.328bf","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":2639.904754638672,"y":494.1666774749756,"wires":[]},{"id":"dd6f9b50.bd8e18","type":"comment","z":"974abb37.699ac8","name":"read_Upakovka_marshrut","info":"","x":2484.761993408203,"y":86.98431873321533,"wires":[]},{"id":"dfb3221f.23411","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2983.7064819335938,"y":125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ee5ddae9.61d518"]]},{"id":"789f405.2d512c","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2192.4564056396484,"y":161.24999618530273,"wires":[["c1e5d4a6.94cd58"]]},{"id":"c1e5d4a6.94cd58","type":"function","z":"974abb37.699ac8","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2338.289867401123,"y":162.49999618530273,"wires":[["b55804a.5e652f8"]]},{"id":"b55804a.5e652f8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2517.0397338867188,"y":167.5,"wires":[["85cc9d4b.c637a"],[]]},{"id":"85cc9d4b.c637a","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2717.0397338867188,"y":161.25,"wires":[["dfb3221f.23411"]]},{"id":"ee5ddae9.61d518","type":"function","z":"974abb37.699ac8","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2199.5398712158203,"y":231.5000352859497,"wires":[["d698d55f.f1f638"]]},{"id":"d698d55f.f1f638","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2421.539882659912,"y":237.49999618530273,"wires":[["d06f9bcb.bf8038"],[]]},{"id":"d06f9bcb.bf8038","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2623.2897758483887,"y":235.49997425079346,"wires":[["7bee12ae.e4fa8c"]]},{"id":"7bee12ae.e4fa8c","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3105.2066383361816,"y":266.75001525878906,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["feb53360.abfd1"],[]]},{"id":"feb53360.abfd1","type":"function","z":"974abb37.699ac8","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2189.5398712158203,"y":300.25,"wires":[["7371af0.b2fc65"]]},{"id":"7371af0.b2fc65","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2424.5398864746094,"y":296.2499599456787,"wires":[["213539b1.1b4c46"],[]]},{"id":"213539b1.1b4c46","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2629.2897758483887,"y":292.2499599456787,"wires":[["cba8f817.c6e928"]]},{"id":"cba8f817.c6e928","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2860.3729934692383,"y":352.49998474121094,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["4f52ccca.0ac9f4"],[],[]]},{"id":"4f52ccca.0ac9f4","type":"function","z":"974abb37.699ac8","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2186.373207092285,"y":369.0000476837158,"wires":[["a62b27b7.9b3d68"]]},{"id":"a62b27b7.9b3d68","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":2427.373222351074,"y":372.99996757507324,"wires":[["4ddea7e1.fa2758"],[]]},{"id":"4ddea7e1.fa2758","type":"function","z":"974abb37.699ac8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2619.88059425354,"y":369.01213359832764,"wires":[["a5fca1fa.0926a"]]},{"id":"a5fca1fa.0926a","type":"function","z":"974abb37.699ac8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2447.845245361328,"y":445.73824882507324,"wires":[["4ead71ea.d130e","1e7ac90d.39e277"]]},{"id":"4ead71ea.d130e","type":"http response","z":"974abb37.699ac8","name":"","x":2626.6784629821777,"y":437.86919021606445,"wires":[]},{"id":"1e7ac90d.39e277","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":2684.666748046875,"y":494.1666774749756,"wires":[]},{"id":"a7955b0b.83b958","type":"comment","z":"ad835810.94cb78","name":"read_Upakovka_marshrut","info":"","x":2080.952392578125,"y":97.14285278320312,"wires":[]},{"id":"c2a2d5d7.59ddd8","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2579.8968811035156,"y":135.1585340499878,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d28cafaf.9f4ca"]]},{"id":"278435dd.35385a","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1788.6468048095703,"y":171.40853023529053,"wires":[["a7f35d83.ec3f3"]]},{"id":"a7f35d83.ec3f3","type":"function","z":"ad835810.94cb78","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1934.480266571045,"y":172.65853023529053,"wires":[["bcdaf983.f07828"]]},{"id":"bcdaf983.f07828","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2113.2301330566406,"y":177.6585340499878,"wires":[["4b5f508c.9f272"],[]]},{"id":"4b5f508c.9f272","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2313.2301330566406,"y":171.4085340499878,"wires":[["c2a2d5d7.59ddd8"]]},{"id":"d28cafaf.9f4ca","type":"function","z":"ad835810.94cb78","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1795.7302703857422,"y":241.6585693359375,"wires":[["4be8e698.37f0b8"]]},{"id":"4be8e698.37f0b8","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2017.730281829834,"y":247.65853023529053,"wires":[["8810e6ac.d49558"],[]]},{"id":"8810e6ac.d49558","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2219.4801750183105,"y":245.65850830078125,"wires":[["7f552550.571fbc"]]},{"id":"7f552550.571fbc","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2701.3970375061035,"y":276.90854930877686,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b14de68c.456a38"],[]]},{"id":"b14de68c.456a38","type":"function","z":"ad835810.94cb78","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1785.7302703857422,"y":310.4085340499878,"wires":[["eecb2a8a.715c58"]]},{"id":"eecb2a8a.715c58","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2020.7302856445312,"y":306.4084939956665,"wires":[["9fd878cb.0f3818"],[]]},{"id":"9fd878cb.0f3818","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2225.4801750183105,"y":302.4084939956665,"wires":[["e48a7e26.f113f"]]},{"id":"e48a7e26.f113f","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2456.56339263916,"y":362.65851879119873,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["c3cc13bf.37f2d"],[],[]]},{"id":"c3cc13bf.37f2d","type":"function","z":"ad835810.94cb78","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1782.563606262207,"y":379.1585817337036,"wires":[["7032506.b0c93b"]]},{"id":"7032506.b0c93b","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":2023.563621520996,"y":383.15850162506104,"wires":[["8ea06155.74a3c"],[]]},{"id":"8ea06155.74a3c","type":"function","z":"ad835810.94cb78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2216.070993423462,"y":379.17066764831543,"wires":[["9d98e010.8a7de"]]},{"id":"9d98e010.8a7de","type":"function","z":"ad835810.94cb78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2044.03564453125,"y":455.89678287506104,"wires":[["56d77e78.e30fe","a75b15ea.ae3198"]]},{"id":"56d77e78.e30fe","type":"http response","z":"ad835810.94cb78","name":"","x":2222.8688621520996,"y":448.02772426605225,"wires":[]},{"id":"a75b15ea.ae3198","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":2280.857147216797,"y":504.3252115249634,"wires":[]},{"id":"613aadf3.0841b4","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4337.611843109131,"y":1758.491943359375,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b7755e2a.9a6b7"]]},{"id":"da2bfc90.c4fcf","type":"function","z":"9338adab.2ba02","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3606.3609161376953,"y":1827.5989294052124,"wires":[["76121dfa.13d474"]]},{"id":"76121dfa.13d474","type":"function","z":"9338adab.2ba02","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3762.19437789917,"y":1828.8489294052124,"wires":[["669aec94.9d36f4"]]},{"id":"669aec94.9d36f4","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3930.9442443847656,"y":1833.8489332199097,"wires":[["68fb4cb7.06e2b4"],[]]},{"id":"68fb4cb7.06e2b4","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4130.944244384766,"y":1827.5989332199097,"wires":[["613aadf3.0841b4"]]},{"id":"b7755e2a.9a6b7","type":"function","z":"9338adab.2ba02","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3613.444381713867,"y":1897.8489685058594,"wires":[["c0ed26d9.e02008"]]},{"id":"c0ed26d9.e02008","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3835.444393157959,"y":1903.8489294052124,"wires":[["b90f93a2.0bd"],[]]},{"id":"b90f93a2.0bd","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4037.1942863464355,"y":1901.8489074707031,"wires":[["6663b91f.effb88"]]},{"id":"6663b91f.effb88","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4520.539958953857,"y":1873.0989837646484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["4ea7113e.49372"],[]]},{"id":"4ea7113e.49372","type":"function","z":"9338adab.2ba02","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3603.444381713867,"y":1966.5989332199097,"wires":[["10c7bef5.c6c5b1"]]},{"id":"10c7bef5.c6c5b1","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3838.4443969726562,"y":1962.5988931655884,"wires":[["b1907669.086ad8"],[]]},{"id":"b1907669.086ad8","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4043.1942863464355,"y":1958.5988931655884,"wires":[["856759c0.09e428"]]},{"id":"856759c0.09e428","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4221.420154571533,"y":2053.13468170166,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["f1abcfb8.cf5f7"],[],[]]},{"id":"f1abcfb8.cf5f7","type":"function","z":"9338adab.2ba02","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3600.277717590332,"y":2035.3489809036255,"wires":[["9389a9b0.72f308"]]},{"id":"9389a9b0.72f308","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3841.277732849121,"y":2039.348900794983,"wires":[["f438a66d.39c9e8"],[]]},{"id":"fc1902b4.bf99c","type":"function","z":"9338adab.2ba02","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3708.071319580078,"y":2359.6467790603638,"wires":[["a1ae758d.213aa8"]]},{"id":"a1ae758d.213aa8","type":"function","z":"9338adab.2ba02","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":3851.7507858276367,"y":2363.515679359436,"wires":[["ab8e05e5.dbaa98","c4175467.050e68"]]},{"id":"ab8e05e5.dbaa98","type":"http response","z":"9338adab.2ba02","name":"","x":4086.2983436584473,"y":2362.7895345687866,"wires":[]},{"id":"c4175467.050e68","type":"debug","z":"9338adab.2ba02","name":"","active":true,"console":"false","complete":"payload","x":4082.8578491210938,"y":2414.8013830184937,"wires":[]},{"id":"f438a66d.39c9e8","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4045.142578125,"y":2035.333251953125,"wires":[["efc37841.508f88"]]},{"id":"acf81b1e.e23ff8","type":"function","z":"9338adab.2ba02","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3557.9998168945312,"y":2142.476384162903,"wires":[["6097871a.3a7ba8"]]},{"id":"6097871a.3a7ba8","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3806.1427154541016,"y":2130.7619247436523,"wires":[["2a98de95.01c622"],[]]},{"id":"2a98de95.01c622","type":"function","z":"9338adab.2ba02","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4007.1502838134766,"y":2135.317762374878,"wires":[["a0e37b8.fb87388"]]},{"id":"efc37841.508f88","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4409.142528533936,"y":2107.4047775268555,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["acf81b1e.e23ff8"],[],[],[]]},{"id":"a0e37b8.fb87388","type":"function","z":"9338adab.2ba02","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4243.7138671875,"y":2285.3333740234375,"wires":[[],[],[],[],[],[],[],[],[],[],[],["e69310a4.3ea21"],[],[],[],[]]},{"id":"e69310a4.3ea21","type":"function","z":"9338adab.2ba02","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3578.4760360717773,"y":2220.5712385177612,"wires":[["55e444ef.c2f9dc"]]},{"id":"55e444ef.c2f9dc","type":"modbus-flex-getter","z":"9338adab.2ba02","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":3826.6189346313477,"y":2208.8567790985107,"wires":[["fc1902b4.bf99c"],[]]},{"id":"2d072634.cf99ba","type":"comment","z":"4907b097.a19c","name":"read_register_error","info":"","x":4140,"y":402.4999694824219,"wires":[]},{"id":"736cebb5.c32484","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4597.325923919678,"y":424.404109954834,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f96c7b48.0d3ca8"]]},{"id":"9607029b.cc2a3","type":"function","z":"4907b097.a19c","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3866.074996948242,"y":493.5110960006714,"wires":[["63650687.0f7318"]]},{"id":"63650687.0f7318","type":"function","z":"4907b097.a19c","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4021.908458709717,"y":494.7610960006714,"wires":[["51b2571d.769e38"]]},{"id":"51b2571d.769e38","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4190.6583251953125,"y":499.76109981536865,"wires":[["24b23a72.14ad96"],[]]},{"id":"24b23a72.14ad96","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4390.6583251953125,"y":493.51109981536865,"wires":[["736cebb5.c32484"]]},{"id":"f96c7b48.0d3ca8","type":"function","z":"4907b097.a19c","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3873.158462524414,"y":563.7611351013184,"wires":[["8c0eb06b.6849d"]]},{"id":"8c0eb06b.6849d","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4095.158473968506,"y":569.7610960006714,"wires":[["28ba1934.d45e26"],[]]},{"id":"28ba1934.d45e26","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4296.908367156982,"y":567.7610740661621,"wires":[["75781837.0e0938"]]},{"id":"75781837.0e0938","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4780.254039764404,"y":539.0111503601074,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6c3f33c5.2b0dac"],[]]},{"id":"6c3f33c5.2b0dac","type":"function","z":"4907b097.a19c","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3863.158462524414,"y":632.5110998153687,"wires":[["2a6ab58e.78a83a"]]},{"id":"2a6ab58e.78a83a","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4098.158477783203,"y":628.5110597610474,"wires":[["a56815ec.6c5628"],[]]},{"id":"a56815ec.6c5628","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4302.908367156982,"y":624.5110597610474,"wires":[["9437f048.dec13"]]},{"id":"9437f048.dec13","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4481.13423538208,"y":719.0468482971191,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["5cb680ab.dd9cb"],[],[]]},{"id":"5cb680ab.dd9cb","type":"function","z":"4907b097.a19c","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3859.991798400879,"y":701.2611474990845,"wires":[["253f32c7.2c403e"]]},{"id":"253f32c7.2c403e","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4100.991813659668,"y":705.2610673904419,"wires":[["c3b08bed.691628"],[]]},{"id":"6a367f93.bf3d3","type":"function","z":"4907b097.a19c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3967.785400390625,"y":1025.5589456558228,"wires":[["2109003e.5d068"]]},{"id":"2109003e.5d068","type":"function","z":"4907b097.a19c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4111.464866638184,"y":1029.427845954895,"wires":[["3cf2ef11.90179","17d2920e.01d71e"]]},{"id":"3cf2ef11.90179","type":"http response","z":"4907b097.a19c","name":"","x":4346.012424468994,"y":1028.7017011642456,"wires":[]},{"id":"17d2920e.01d71e","type":"debug","z":"4907b097.a19c","name":"","active":true,"console":"false","complete":"payload","x":4342.571929931641,"y":1080.7135496139526,"wires":[]},{"id":"c3b08bed.691628","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4304.856658935547,"y":701.245418548584,"wires":[["347ac701.db17e8"]]},{"id":"ac56aa05.113c18","type":"function","z":"4907b097.a19c","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3817.713897705078,"y":808.3885507583618,"wires":[["8a4e7fbd.3862b"]]},{"id":"8a4e7fbd.3862b","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4065.8567962646484,"y":796.6740913391113,"wires":[["3b88a4c5.7ed09c"],[]]},{"id":"3b88a4c5.7ed09c","type":"function","z":"4907b097.a19c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4266.864364624023,"y":801.2299289703369,"wires":[["a00bf463.ef8be8"]]},{"id":"347ac701.db17e8","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4668.856609344482,"y":773.3169441223145,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["ac56aa05.113c18"],[],[],[]]},{"id":"a00bf463.ef8be8","type":"function","z":"4907b097.a19c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4503.427947998047,"y":951.2455406188965,"wires":[[],[],[],[],[],[],[],[],[],[],[],["2b5ba674.407c7a"],[],[],[],[]]},{"id":"2b5ba674.407c7a","type":"function","z":"4907b097.a19c","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3838.190116882324,"y":886.4834051132202,"wires":[["aa01880d.204a98"]]},{"id":"aa01880d.204a98","type":"modbus-flex-getter","z":"4907b097.a19c","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":4086.3330154418945,"y":874.7689456939697,"wires":[["6a367f93.bf3d3"],[]]},{"id":"509de7e4.7a7928","type":"comment","z":"57146746.fd06d8","name":"read_register_error","info":"","x":4180,"y":550,"wires":[]},{"id":"b8f3ceb5.ff502","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4637.325923919678,"y":571.9041404724121,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["deaf128c.457b"]]},{"id":"3dceb722.1753d8","type":"function","z":"57146746.fd06d8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3906.074996948242,"y":641.0111265182495,"wires":[["fd2b60e7.316ca"]]},{"id":"fd2b60e7.316ca","type":"function","z":"57146746.fd06d8","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4061.908458709717,"y":642.2611265182495,"wires":[["84433e7f.c24e5"]]},{"id":"84433e7f.c24e5","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":4230.6583251953125,"y":647.2611303329468,"wires":[["9723bddd.16f84"],[]]},{"id":"9723bddd.16f84","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4430.6583251953125,"y":641.0111303329468,"wires":[["b8f3ceb5.ff502"]]},{"id":"deaf128c.457b","type":"function","z":"57146746.fd06d8","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3913.158462524414,"y":711.2611656188965,"wires":[["87563281.449c3"]]},{"id":"87563281.449c3","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":4135.158473968506,"y":717.2611265182495,"wires":[["4f905497.901f4c"],[]]},{"id":"4f905497.901f4c","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4336.908367156982,"y":715.2611045837402,"wires":[["18c81baf.e2c224"]]},{"id":"18c81baf.e2c224","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4820.254039764404,"y":686.5111808776855,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["16dcc2ed.8411ad"],[]]},{"id":"16dcc2ed.8411ad","type":"function","z":"57146746.fd06d8","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3903.158462524414,"y":780.0111303329468,"wires":[["1fa73048.1e79f"]]},{"id":"1fa73048.1e79f","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":4138.158477783203,"y":776.0110902786255,"wires":[["4f48466d.58f9f8"],[]]},{"id":"4f48466d.58f9f8","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4342.908367156982,"y":772.0110902786255,"wires":[["902deb3f.891548"]]},{"id":"902deb3f.891548","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4521.13423538208,"y":866.5468788146973,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["ea2c94af.3d2038"],[],[]]},{"id":"ea2c94af.3d2038","type":"function","z":"57146746.fd06d8","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3899.991798400879,"y":848.7611780166626,"wires":[["5ce041fd.f51ff"]]},{"id":"5ce041fd.f51ff","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":4140.991813659668,"y":852.76109790802,"wires":[["6e10e4c0.dd29ac"],[]]},{"id":"423676ab.36bb98","type":"function","z":"57146746.fd06d8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4007.785400390625,"y":1173.0589761734009,"wires":[["9bf5c19a.007e9"]]},{"id":"9bf5c19a.007e9","type":"function","z":"57146746.fd06d8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4151.464866638184,"y":1176.9278764724731,"wires":[["caec431a.62bb6","dd02e755.47ed18"]]},{"id":"caec431a.62bb6","type":"http response","z":"57146746.fd06d8","name":"","x":4386.012424468994,"y":1176.2017316818237,"wires":[]},{"id":"dd02e755.47ed18","type":"debug","z":"57146746.fd06d8","name":"","active":true,"console":"false","complete":"payload","x":4382.571929931641,"y":1228.2135801315308,"wires":[]},{"id":"6e10e4c0.dd29ac","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4344.856658935547,"y":848.7454490661621,"wires":[["f5a141c.ea1d3c"]]},{"id":"d5cb0ab7.9ba678","type":"function","z":"57146746.fd06d8","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3857.713897705078,"y":955.8885812759399,"wires":[["90013056.7c036"]]},{"id":"90013056.7c036","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":4105.856796264648,"y":944.1741218566895,"wires":[["929d72d6.7740b"],[]]},{"id":"929d72d6.7740b","type":"function","z":"57146746.fd06d8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4306.864364624023,"y":948.729959487915,"wires":[["ebd898d3.2af228"]]},{"id":"f5a141c.ea1d3c","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4708.856609344482,"y":920.8169746398926,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["d5cb0ab7.9ba678"],[],[],[]]},{"id":"ebd898d3.2af228","type":"function","z":"57146746.fd06d8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4543.427947998047,"y":1098.7455711364746,"wires":[[],[],[],[],[],[],[],[],[],[],[],["b7cc3043.4d45a"],[],[],[],[]]},{"id":"b7cc3043.4d45a","type":"function","z":"57146746.fd06d8","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3878.190116882324,"y":1033.9834356307983,"wires":[["2a422a32.da18d6"]]},{"id":"2a422a32.da18d6","type":"modbus-flex-getter","z":"57146746.fd06d8","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":4126.3330154418945,"y":1022.2689762115479,"wires":[["423676ab.36bb98"],[]]},{"id":"72b9580f.072a78","type":"comment","z":"974abb37.699ac8","name":"read_register_error","info":"","x":4165,"y":509.9999694824219,"wires":[]},{"id":"63d2a7ce.63b508","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4622.325923919678,"y":531.904109954834,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["db8af21a.7804f"]]},{"id":"46fe5ed3.f2658","type":"function","z":"974abb37.699ac8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3891.074996948242,"y":601.0110960006714,"wires":[["5128b6d3.9b60b8"]]},{"id":"5128b6d3.9b60b8","type":"function","z":"974abb37.699ac8","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4046.908458709717,"y":602.2610960006714,"wires":[["6e13aabd.f387c4"]]},{"id":"6e13aabd.f387c4","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":4215.6583251953125,"y":607.2610998153687,"wires":[["310f5c36.b3ddc4"],[]]},{"id":"310f5c36.b3ddc4","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4415.6583251953125,"y":601.0110998153687,"wires":[["63d2a7ce.63b508"]]},{"id":"db8af21a.7804f","type":"function","z":"974abb37.699ac8","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3898.158462524414,"y":671.2611351013184,"wires":[["863dd555.e48488"]]},{"id":"863dd555.e48488","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":4120.158473968506,"y":677.2610960006714,"wires":[["28529504.9bb82a"],[]]},{"id":"28529504.9bb82a","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4321.908367156982,"y":675.2610740661621,"wires":[["e51d31e.e834cd"]]},{"id":"e51d31e.e834cd","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4805.254039764404,"y":646.5111503601074,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5b0472d0.cd660c"],[]]},{"id":"5b0472d0.cd660c","type":"function","z":"974abb37.699ac8","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3888.158462524414,"y":740.0110998153687,"wires":[["9252656f.9934a8"]]},{"id":"9252656f.9934a8","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":4123.158477783203,"y":736.0110597610474,"wires":[["b4e0d4f7.75bd78"],[]]},{"id":"b4e0d4f7.75bd78","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4327.908367156982,"y":732.0110597610474,"wires":[["768811af.a6c16"]]},{"id":"768811af.a6c16","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4506.13423538208,"y":826.5468482971191,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["40577d03.869904"],[],[]]},{"id":"40577d03.869904","type":"function","z":"974abb37.699ac8","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3884.991798400879,"y":808.7611474990845,"wires":[["5b18a4e3.90bedc"]]},{"id":"5b18a4e3.90bedc","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":4125.991813659668,"y":812.7610673904419,"wires":[["2be45809.242a38"],[]]},{"id":"f57e3932.6a90f8","type":"function","z":"974abb37.699ac8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3992.785400390625,"y":1133.0589456558228,"wires":[["fd589a08.10ca78"]]},{"id":"fd589a08.10ca78","type":"function","z":"974abb37.699ac8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4136.464866638184,"y":1136.927845954895,"wires":[["a39aa00.befdd6","336b27cf.7d3178"]]},{"id":"a39aa00.befdd6","type":"http response","z":"974abb37.699ac8","name":"","x":4371.012424468994,"y":1136.2017011642456,"wires":[]},{"id":"336b27cf.7d3178","type":"debug","z":"974abb37.699ac8","name":"","active":true,"console":"false","complete":"payload","x":4367.571929931641,"y":1188.2135496139526,"wires":[]},{"id":"2be45809.242a38","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4329.856658935547,"y":808.745418548584,"wires":[["8dd95a5d.dc5538"]]},{"id":"dbbfbe30.d4648","type":"function","z":"974abb37.699ac8","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3842.713897705078,"y":915.8885507583618,"wires":[["70c9c866.510a58"]]},{"id":"70c9c866.510a58","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":4090.8567962646484,"y":904.1740913391113,"wires":[["18806501.34b1ab"],[]]},{"id":"18806501.34b1ab","type":"function","z":"974abb37.699ac8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4291.864364624023,"y":908.7299289703369,"wires":[["c8156d79.37c3a"]]},{"id":"8dd95a5d.dc5538","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4693.856609344482,"y":880.8169441223145,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["dbbfbe30.d4648"],[],[],[]]},{"id":"c8156d79.37c3a","type":"function","z":"974abb37.699ac8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4528.427947998047,"y":1058.7455406188965,"wires":[[],[],[],[],[],[],[],[],[],[],[],["dd8c94c5.4cbdb8"],[],[],[],[]]},{"id":"dd8c94c5.4cbdb8","type":"function","z":"974abb37.699ac8","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3863.190116882324,"y":993.9834051132202,"wires":[["e5c1bfe5.2ffdc"]]},{"id":"e5c1bfe5.2ffdc","type":"modbus-flex-getter","z":"974abb37.699ac8","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":4111.3330154418945,"y":982.2689456939697,"wires":[["f57e3932.6a90f8"],[]]},{"id":"abf4d41e.9e8418","type":"comment","z":"ad835810.94cb78","name":"read_register_error","info":"","x":4212.5,"y":512.5,"wires":[]},{"id":"b8a62f05.332a7","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4669.825923919678,"y":534.4041404724121,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8c07184b.e8d308"]]},{"id":"2a4048b4.925bd8","type":"function","z":"ad835810.94cb78","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3938.574996948242,"y":603.5111265182495,"wires":[["66d1bc59.8c67f4"]]},{"id":"66d1bc59.8c67f4","type":"function","z":"ad835810.94cb78","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4094.408458709717,"y":604.7611265182495,"wires":[["8db41fe5.1ed05"]]},{"id":"8db41fe5.1ed05","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4263.1583251953125,"y":609.7611303329468,"wires":[["392bebfc.27df34"],[]]},{"id":"392bebfc.27df34","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4463.1583251953125,"y":603.5111303329468,"wires":[["b8a62f05.332a7"]]},{"id":"8c07184b.e8d308","type":"function","z":"ad835810.94cb78","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3945.658462524414,"y":673.7611656188965,"wires":[["ae15008e.c6ccd"]]},{"id":"ae15008e.c6ccd","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4167.658473968506,"y":679.7611265182495,"wires":[["63330075.bca03"],[]]},{"id":"63330075.bca03","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4369.408367156982,"y":677.7611045837402,"wires":[["3379d301.dd462c"]]},{"id":"3379d301.dd462c","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4852.754039764404,"y":649.0111808776855,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cdde4809.692008"],[]]},{"id":"cdde4809.692008","type":"function","z":"ad835810.94cb78","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3935.658462524414,"y":742.5111303329468,"wires":[["332f36d7.e5294a"]]},{"id":"332f36d7.e5294a","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4170.658477783203,"y":738.5110902786255,"wires":[["9af79db5.57c19"],[]]},{"id":"9af79db5.57c19","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4375.408367156982,"y":734.5110902786255,"wires":[["548cffa6.c3648"]]},{"id":"548cffa6.c3648","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4553.63423538208,"y":829.0468788146973,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["dd7ec37.28c304"],[],[]]},{"id":"dd7ec37.28c304","type":"function","z":"ad835810.94cb78","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3932.491798400879,"y":811.2611780166626,"wires":[["e6b605e4.845c28"]]},{"id":"e6b605e4.845c28","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4173.491813659668,"y":815.26109790802,"wires":[["e42a8e17.9471d"],[]]},{"id":"af2155ac.d33678","type":"function","z":"ad835810.94cb78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4040.285400390625,"y":1135.5589761734009,"wires":[["9524177.4344be8"]]},{"id":"9524177.4344be8","type":"function","z":"ad835810.94cb78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4183.964866638184,"y":1139.4278764724731,"wires":[["a9ceab5a.9d7c08","eff94060.bc805"]]},{"id":"a9ceab5a.9d7c08","type":"http response","z":"ad835810.94cb78","name":"","x":4418.512424468994,"y":1138.7017316818237,"wires":[]},{"id":"eff94060.bc805","type":"debug","z":"ad835810.94cb78","name":"","active":true,"console":"false","complete":"payload","x":4415.071929931641,"y":1190.7135801315308,"wires":[]},{"id":"e42a8e17.9471d","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4377.356658935547,"y":811.2454490661621,"wires":[["abaa76e1.798a38"]]},{"id":"7854f4f4.0a93cc","type":"function","z":"ad835810.94cb78","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3890.213897705078,"y":918.3885812759399,"wires":[["9bea2415.ca6e28"]]},{"id":"9bea2415.ca6e28","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4138.356796264648,"y":906.6741218566895,"wires":[["bd7e3653.c16078"],[]]},{"id":"bd7e3653.c16078","type":"function","z":"ad835810.94cb78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4339.364364624023,"y":911.229959487915,"wires":[["25f67d5.0ffa582"]]},{"id":"abaa76e1.798a38","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4741.356609344482,"y":883.3169746398926,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["7854f4f4.0a93cc"],[],[],[]]},{"id":"25f67d5.0ffa582","type":"function","z":"ad835810.94cb78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4575.927947998047,"y":1061.2455711364746,"wires":[[],[],[],[],[],[],[],[],[],[],[],["56895df9.cf8594"],[],[],[],[]]},{"id":"56895df9.cf8594","type":"function","z":"ad835810.94cb78","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3910.690116882324,"y":996.4834356307983,"wires":[["da568550.17a358"]]},{"id":"da568550.17a358","type":"modbus-flex-getter","z":"ad835810.94cb78","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":4158.8330154418945,"y":984.7689762115479,"wires":[["af2155ac.d33678"],[]]},{"id":"76509937.a81fa8","type":"function","z":"ec6b84fa.e5e0a8","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.5000152587891,"y":1983.7498664855957,"wires":[["75cedeb5.acf47"]]},{"id":"75cedeb5.acf47","type":"modbus-flex-getter","z":"ec6b84fa.e5e0a8","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":796.4879684448242,"y":1986.2497005462646,"wires":[["e87e5838.08b418"],[]]},{"id":"e87e5838.08b418","type":"function","z":"ec6b84fa.e5e0a8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1011.249870300293,"y":1980.0000228881836,"wires":[["669e486c.1c9248"]]},{"id":"d2a52241.84b9a","type":"http in","z":"51c1bf61.e1ba4","name":"","url":"/k2/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["ebbea832.d11ff8"]]},{"id":"a057f13c.a9396","type":"inject","z":"51c1bf61.e1ba4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":432.0635070800781,"y":169.0475673675537,"wires":[["ebbea832.d11ff8"]]},{"id":"ebbea832.d11ff8","type":"function","z":"51c1bf61.e1ba4","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":630.7468566894531,"y":150.23811531066895,"wires":[["7e5ff581.06534c"]]},{"id":"ce64a4fa.c5eae8","type":"function","z":"51c1bf61.e1ba4","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1014.1401062011719,"y":2980.1194276809692,"wires":[["c3255639.fc5598"]]},{"id":"c3255639.fc5598","type":"function","z":"51c1bf61.e1ba4","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.4855308532715,"y":2981.6550512313843,"wires":[["c7417ee8.15476","a5e98c1.ef26f7"]]},{"id":"6fb6ed01.279994","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":865.1907196044922,"y":308.2024669647217,"wires":[["758b8778.902b08"],[]]},{"id":"a514de52.74504","type":"function","z":"51c1bf61.e1ba4","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":657.5715675354004,"y":305.8215665817261,"wires":[["6fb6ed01.279994"]]},{"id":"758b8778.902b08","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.8813705444336,"y":301.6550226211548,"wires":[["ef162c38.90bbc"]]},{"id":"ef162c38.90bbc","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1275.5152969360352,"y":378.9762668609619,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1e1eb92b.a15e57"]]},{"id":"1e1eb92b.a15e57","type":"function","z":"51c1bf61.e1ba4","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.7499618530273,"y":398.14304542541504,"wires":[["62243413.15803c"]]},{"id":"62243413.15803c","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":846.2023696899414,"y":402.25006103515625,"wires":[["927c7e65.0519c"],[]]},{"id":"927c7e65.0519c","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1092.2143096923828,"y":398.5001401901245,"wires":[["50f599ca.a9d4d8"]]},{"id":"50f599ca.a9d4d8","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1479.086826324463,"y":422.5476379394531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b2345ce7.38c6f"],[]]},{"id":"7e5ff581.06534c","type":"function","z":"51c1bf61.e1ba4","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":794.7539367675781,"y":148.79769897460938,"wires":[["6d9f5e44.0bb2a"]]},{"id":"cbf00eb7.346f8","type":"function","z":"51c1bf61.e1ba4","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":777.8492889404297,"y":219.86919021606445,"wires":[["cf068b7d.3c3e38"]]},{"id":"6d9f5e44.0bb2a","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":989.8730926513672,"y":146.17857837677002,"wires":[["9552486f.640178"],[]]},{"id":"cf068b7d.3c3e38","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":984.6348075866699,"y":220.22622871398926,"wires":[["f501db67.f0c168"],[]]},{"id":"9552486f.640178","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.063720703125,"y":143.38115406036377,"wires":[["b22e3127.3c1ad"]]},{"id":"f501db67.f0c168","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1168.9800643920898,"y":225.2262086868286,"wires":[["24d145e1.9610da"]]},{"id":"b22e3127.3c1ad","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1442.6980209350586,"y":169.2856903076172,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cbf00eb7.346f8"]]},{"id":"2a193239.5d623e","type":"function","z":"51c1bf61.e1ba4","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.6905250549316,"y":1006.3690195083618,"wires":[["944e072f.111808"]]},{"id":"944e072f.111808","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":927.1429328918457,"y":1006.7259368896484,"wires":[["774517a0.450718"],[]]},{"id":"774517a0.450718","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.1549263000488,"y":1010.4760990142822,"wires":[["8b16186f.bfcc48"]]},{"id":"98f77eae.a438d","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":890.3574676513672,"y":1654.7028427124023,"wires":[["89923ec1.61d8a"],[]]},{"id":"897962a6.05da8","type":"function","z":"51c1bf61.e1ba4","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":597.857479095459,"y":1662.2028617858887,"wires":[["98f77eae.a438d"]]},{"id":"89923ec1.61d8a","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1085.3575439453125,"y":1657.2029056549072,"wires":[["fda3ff7f.e813"]]},{"id":"cb3604aa.62ec28","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":887.8574104309082,"y":1717.202781677246,"wires":[["703b2382.afcffc"],[]]},{"id":"fda3ff7f.e813","type":"function","z":"51c1bf61.e1ba4","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":620.3573989868164,"y":1717.202781677246,"wires":[["cb3604aa.62ec28"]]},{"id":"703b2382.afcffc","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1082.8574867248535,"y":1719.702844619751,"wires":[["75797ee5.d24e6"]]},{"id":"2618ac8f.513114","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1788.452781677246,"wires":[["4eaad8c1.83e898"]]},{"id":"291ee6ec.dc3d5a","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":896.8454170227051,"y":1784.7026195526123,"wires":[["2618ac8f.513114"],[]]},{"id":"75797ee5.d24e6","type":"function","z":"51c1bf61.e1ba4","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.1430397033691,"y":1778.095775604248,"wires":[["291ee6ec.dc3d5a"]]},{"id":"c95e681.d74fe98","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1100.3574104309082,"y":1858.0360946655273,"wires":[["2018515e.ea15ce"]]},{"id":"7ab22849.839068","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":899.3454170227051,"y":1854.2859325408936,"wires":[["c95e681.d74fe98"],[]]},{"id":"4eaad8c1.83e898","type":"function","z":"51c1bf61.e1ba4","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.607479095459,"y":1848.0361280441284,"wires":[["7ab22849.839068"]]},{"id":"3bd3cd36.bab6b2","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1925.1194076538086,"wires":[["7277036a.655a0c"]]},{"id":"ec31f9f6.dc5308","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":896.8454170227051,"y":1921.3692455291748,"wires":[["3bd3cd36.bab6b2"],[]]},{"id":"2018515e.ea15ce","type":"function","z":"51c1bf61.e1ba4","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":604.107479095459,"y":1910.11940574646,"wires":[["ec31f9f6.dc5308"]]},{"id":"b401c70d.063e68","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1200.3573455810547,"y":2022.6194925308228,"wires":[["46e18953.628618"]]},{"id":"bc84f979.6a4898","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":984.3453903198242,"y":2032.6190042495728,"wires":[["b401c70d.063e68"],[]]},{"id":"3f5377ba.6c1608","type":"function","z":"51c1bf61.e1ba4","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.3573913574219,"y":2036.3691673278809,"wires":[["bc84f979.6a4898"]]},{"id":"72c930a.ed9bad","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.690788269043,"y":2362.2027645111084,"wires":[["b75e0c08.07b69"]]},{"id":"750f28ab.29d768","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":929.9407119750977,"y":2360.9527158737183,"wires":[["72c930a.ed9bad"],[]]},{"id":"c822d5be.23a848","type":"function","z":"51c1bf61.e1ba4","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9527778625488,"y":2365.953203201294,"wires":[["750f28ab.29d768"]]},{"id":"aef19d6f.90ba1","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1137.4407119750977,"y":2423.4527158737183,"wires":[["8564c4ae.74f2c8"]]},{"id":"62dd5efe.269ad","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":923.6906356811523,"y":2422.202667236328,"wires":[["aef19d6f.90ba1"],[]]},{"id":"b75e0c08.07b69","type":"function","z":"51c1bf61.e1ba4","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":660.9526672363281,"y":2420.952877998352,"wires":[["62dd5efe.269ad"]]},{"id":"7f3aa0d2.fb8ef","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1117.4407119750977,"y":2499.2859678268433,"wires":[["a99ea8f6.47c728"]]},{"id":"b6471026.88a17","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":903.6906356811523,"y":2498.035919189453,"wires":[["7f3aa0d2.fb8ef"],[]]},{"id":"8564c4ae.74f2c8","type":"function","z":"51c1bf61.e1ba4","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9526672363281,"y":2496.786129951477,"wires":[["b6471026.88a17"]]},{"id":"54e3c518.4deb4c","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1109.9407119750977,"y":2570.1193418502808,"wires":[["b441bfc5.0fe64"]]},{"id":"a69243aa.ac5b3","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":896.1906356811523,"y":2568.8692932128906,"wires":[["54e3c518.4deb4c"],[]]},{"id":"a99ea8f6.47c728","type":"function","z":"51c1bf61.e1ba4","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":623.4526672363281,"y":2567.6195039749146,"wires":[["a69243aa.ac5b3"]]},{"id":"bf76a91b.036f58","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":884.9406356811523,"y":2634.7025451660156,"wires":[["c35b31a4.d93d3"],[]]},{"id":"b441bfc5.0fe64","type":"function","z":"51c1bf61.e1ba4","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.4407577514648,"y":2633.452540397644,"wires":[["bf76a91b.036f58"]]},{"id":"c35b31a4.d93d3","type":"function","z":"51c1bf61.e1ba4","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1113.6907806396484,"y":2630.9525480270386,"wires":[["4f3d06fa.b7dd88"]]},{"id":"9a2c2d1b.d76b6","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":912.4407119750977,"y":2718.4525938034058,"wires":[["6037552b.ba495c"],[]]},{"id":"4f3d06fa.b7dd88","type":"function","z":"51c1bf61.e1ba4","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":609.9408340454102,"y":2717.202589035034,"wires":[["9a2c2d1b.d76b6"]]},{"id":"4121f6e0.930bf8","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1103.6907119750977,"y":2793.4525938034058,"wires":[["36600f60.6da31"]]},{"id":"6037552b.ba495c","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1123.6907119750977,"y":2717.6193418502808,"wires":[["b534b356.5fcb9"]]},{"id":"c3615b42.ea1f88","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":892.4407119750977,"y":2789.7025938034058,"wires":[["4121f6e0.930bf8"],[]]},{"id":"b534b356.5fcb9","type":"function","z":"51c1bf61.e1ba4","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.9408340454102,"y":2788.452589035034,"wires":[["c3615b42.ea1f88"]]},{"id":"1c3d38cc.a49657","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":846.1907119750977,"y":2867.6193418502808,"wires":[["23667fbe.5743a"],[]]},{"id":"36600f60.6da31","type":"function","z":"51c1bf61.e1ba4","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.6908340454102,"y":2866.369337081909,"wires":[["1c3d38cc.a49657"]]},{"id":"b3a73b4d.a32d88","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":807.4407119750977,"y":2958.8693418502808,"wires":[["ce64a4fa.c5eae8"],[]]},{"id":"f53290fc.81434","type":"function","z":"51c1bf61.e1ba4","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":504.94083404541016,"y":2957.619337081909,"wires":[["b3a73b4d.a32d88"]]},{"id":"23667fbe.5743a","type":"function","z":"51c1bf61.e1ba4","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.690860748291,"y":2865.9525594711304,"wires":[["f53290fc.81434"]]},{"id":"b2345ce7.38c6f","type":"function","z":"51c1bf61.e1ba4","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":719.6904983520508,"y":533.2023582458496,"wires":[["3f5301de.7c0b6e"]]},{"id":"3f5301de.7c0b6e","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":976.1429138183594,"y":544.0592918395996,"wires":[["c52a8493.55c7d8"],[]]},{"id":"c52a8493.55c7d8","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.654884338379,"y":540.5594463348389,"wires":[["c1710eb3.b4a33"]]},{"id":"de1f0a2e.37fad8","type":"function","z":"51c1bf61.e1ba4","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":712.7399597167969,"y":707.2154521942139,"wires":[["c361f531.267278"]]},{"id":"c361f531.267278","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":969.1923751831055,"y":718.0723857879639,"wires":[["c7fc8f32.efd45"],[]]},{"id":"c7fc8f32.efd45","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.704345703125,"y":714.5725402832031,"wires":[["42800281.819c3c"]]},{"id":"42800281.819c3c","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1388.9898681640625,"y":699.8543758392334,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["217d63d5.db8edc"],[]]},{"id":"217d63d5.db8edc","type":"function","z":"51c1bf61.e1ba4","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9066925048828,"y":848.1876678466797,"wires":[["9d32417f.ac3f9"]]},{"id":"9d32417f.ac3f9","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":985.8591079711914,"y":849.0446033477783,"wires":[["62762da8.8f7514"],[]]},{"id":"62762da8.8f7514","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1191.3711395263672,"y":843.0447177886963,"wires":[["2a3196eb.06c46a"]]},{"id":"8b16186f.bfcc48","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1397.7398643493652,"y":1001.6598424911499,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6680ad88.c28ea4"]]},{"id":"6680ad88.c28ea4","type":"function","z":"51c1bf61.e1ba4","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":728.9899787902832,"y":1155.1320323944092,"wires":[["a2d7a63.bd00158"]]},{"id":"a2d7a63.bd00158","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":991.1923866271973,"y":1157.989019393921,"wires":[["55e8aae6.1bb914"],[]]},{"id":"55e8aae6.1bb914","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1189.704502105713,"y":1157.9891548156738,"wires":[["bc9964e.5a14598"]]},{"id":"1290a399.9d34ec","type":"function","z":"51c1bf61.e1ba4","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.5733489990234,"y":1263.604299545288,"wires":[["d1683413.0f2748"]]},{"id":"d1683413.0f2748","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":955.7757568359375,"y":1266.4612865447998,"wires":[["94a25b8a.f56638"],[]]},{"id":"94a25b8a.f56638","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1154.2878723144531,"y":1266.4614219665527,"wires":[["975be09e.f7bf5"]]},{"id":"975be09e.f7bf5","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.5732879638672,"y":1299.854299545288,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["9ccfc330.be1d5"],[],[]]},{"id":"9ccfc330.be1d5","type":"function","z":"51c1bf61.e1ba4","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.906608581543,"y":1389.159818649292,"wires":[["b6b920d.52ca1e"]]},{"id":"b6b920d.52ca1e","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":984.109016418457,"y":1392.0168056488037,"wires":[["594b2656.1169c8"],[]]},{"id":"594b2656.1169c8","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.6211318969727,"y":1392.0169410705566,"wires":[["dd1fde32.5babe"]]},{"id":"9f3ea8a7.9173f8","type":"function","z":"51c1bf61.e1ba4","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":701.4899291992188,"y":1562.4931621551514,"wires":[["e7a01146.669d2"]]},{"id":"e7a01146.669d2","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":963.6923370361328,"y":1565.350149154663,"wires":[["1d68a5b4.4755aa"],[]]},{"id":"1d68a5b4.4755aa","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.2044525146484,"y":1565.350284576416,"wires":[["f41a5276.4379a"]]},{"id":"f41a5276.4379a","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.9898681640625,"y":1554.0208721160889,"wires":[[],[],[],[],[],[],[],[],[],[],[],["897962a6.05da8"],[],[],[],[]]},{"id":"46e18953.628618","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1362.7400512695312,"y":1956.1048431396484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cbca092b.126838"]]},{"id":"54f46604.55db18","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1152.8570156097412,"y":2099.993224143982,"wires":[["437bad4e.147514"]]},{"id":"39a6445b.51104c","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":939.3450374603271,"y":2103.7429523468018,"wires":[["54f46604.55db18"],[]]},{"id":"cbca092b.126838","type":"function","z":"51c1bf61.e1ba4","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.3570785522461,"y":2106.242983818054,"wires":[["39a6445b.51104c"]]},{"id":"437bad4e.147514","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1493.9899921417236,"y":2097.228751182556,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b8e7585b.7df628"],[]]},{"id":"b8e7585b.7df628","type":"function","z":"51c1bf61.e1ba4","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":672.8787460327148,"y":2233.743224143982,"wires":[["d995963c.337bd8"]]},{"id":"d995963c.337bd8","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":936.8667049407959,"y":2231.2431926727295,"wires":[["a19894f3.8b3438"],[]]},{"id":"a19894f3.8b3438","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.37868309021,"y":2227.4934644699097,"wires":[["b9bddff0.e2d4b"]]},{"id":"b9bddff0.e2d4b","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1348.0176010131836,"y":2243.743224143982,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["c822d5be.23a848"],[],[]]},{"id":"24d145e1.9610da","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1601.6860733032227,"y":209.69043731689453,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["a514de52.74504"],[],[]]},{"id":"c1710eb3.b4a33","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1628.156608581543,"y":551.659833908081,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["de1f0a2e.37fad8"]]},{"id":"2a3196eb.06c46a","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1575.6566162109375,"y":834.4376029968262,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["2a193239.5d623e"],[],[]]},{"id":"bc9964e.5a14598","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1637.7398948669434,"y":1126.3820552825928,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1290a399.9d34ec"],[]]},{"id":"dd1fde32.5babe","type":"function","z":"51c1bf61.e1ba4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1635.6565475463867,"y":1391.659818649292,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["9f3ea8a7.9173f8"],[],[],[]]},{"id":"c7417ee8.15476","type":"http response","z":"51c1bf61.e1ba4","name":"","x":1321.3572807312012,"y":2949.892738342285,"wires":[]},{"id":"a5e98c1.ef26f7","type":"debug","z":"51c1bf61.e1ba4","name":"","active":true,"console":"false","complete":"payload","x":1350.3455123901367,"y":3003.666630744934,"wires":[]},{"id":"7277036a.655a0c","type":"function","z":"51c1bf61.e1ba4","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.5000152587891,"y":1983.7498664855957,"wires":[["865acfcc.42765"]]},{"id":"865acfcc.42765","type":"modbus-flex-getter","z":"51c1bf61.e1ba4","name":"","showStatusActivities":false,"showErrors":false,"server":"867b16e8.ba5d18","x":796.4879684448242,"y":1986.2497005462646,"wires":[["234c7c21.be1894"],[]]},{"id":"234c7c21.be1894","type":"function","z":"51c1bf61.e1ba4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1011.249870300293,"y":1980.0000228881836,"wires":[["3f5377ba.6c1608"]]},{"id":"38cf1c7e.411824","type":"http in","z":"962bc35a.d7be5","name":"","url":"/k3/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["8b0dcda0.a16ba"]]},{"id":"39b283ad.e35c1c","type":"inject","z":"962bc35a.d7be5","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":432.0635070800781,"y":169.0475673675537,"wires":[["8b0dcda0.a16ba"]]},{"id":"8b0dcda0.a16ba","type":"function","z":"962bc35a.d7be5","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":630.7468566894531,"y":150.23811531066895,"wires":[["c92fa168.0d0c6"]]},{"id":"3d4e33b7.98313c","type":"function","z":"962bc35a.d7be5","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1014.1401062011719,"y":2980.1194276809692,"wires":[["a12f9220.a63a8"]]},{"id":"a12f9220.a63a8","type":"function","z":"962bc35a.d7be5","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.4855308532715,"y":2981.6550512313843,"wires":[["baa8444e.764be8","27d146af.4697aa"]]},{"id":"b6726ecc.29c4e","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":865.1907196044922,"y":308.2024669647217,"wires":[["128cd326.abea7d"],[]]},{"id":"74845036.97298","type":"function","z":"962bc35a.d7be5","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":657.5715675354004,"y":305.8215665817261,"wires":[["b6726ecc.29c4e"]]},{"id":"128cd326.abea7d","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.8813705444336,"y":301.6550226211548,"wires":[["59795282.73a8ac"]]},{"id":"59795282.73a8ac","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1275.5152969360352,"y":378.9762668609619,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["98156eed.01387"]]},{"id":"98156eed.01387","type":"function","z":"962bc35a.d7be5","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.7499618530273,"y":398.14304542541504,"wires":[["af794aa.0240ab8"]]},{"id":"af794aa.0240ab8","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":846.2023696899414,"y":402.25006103515625,"wires":[["c7189d71.8bafd"],[]]},{"id":"c7189d71.8bafd","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1092.2143096923828,"y":398.5001401901245,"wires":[["cb788bd6.00b178"]]},{"id":"cb788bd6.00b178","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1479.086826324463,"y":422.5476379394531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["c79a1b9d.be4038"],[]]},{"id":"c92fa168.0d0c6","type":"function","z":"962bc35a.d7be5","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":794.7539367675781,"y":148.79769897460938,"wires":[["9aa6c4b5.d6f498"]]},{"id":"9189a30d.fca8a","type":"function","z":"962bc35a.d7be5","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":777.8492889404297,"y":219.86919021606445,"wires":[["52ce51e5.9afed"]]},{"id":"9aa6c4b5.d6f498","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":989.8730926513672,"y":146.17857837677002,"wires":[["a7337e1a.c8ee3"],[]]},{"id":"52ce51e5.9afed","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":984.6348075866699,"y":220.22622871398926,"wires":[["e11a1716.5dbdb8"],[]]},{"id":"a7337e1a.c8ee3","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.063720703125,"y":143.38115406036377,"wires":[["c33bd75b.b32458"]]},{"id":"e11a1716.5dbdb8","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1168.9800643920898,"y":225.2262086868286,"wires":[["d2206e6f.963ea"]]},{"id":"c33bd75b.b32458","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1442.6980209350586,"y":169.2856903076172,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["9189a30d.fca8a"]]},{"id":"1094b2a9.60fa6d","type":"function","z":"962bc35a.d7be5","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.6905250549316,"y":1006.3690195083618,"wires":[["c2c1a2f7.62982"]]},{"id":"c2c1a2f7.62982","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":927.1429328918457,"y":1006.7259368896484,"wires":[["ed9f1081.e242d"],[]]},{"id":"ed9f1081.e242d","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.1549263000488,"y":1010.4760990142822,"wires":[["b3e85316.2f4f6"]]},{"id":"1f0731ca.16182e","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":890.3574676513672,"y":1654.7028427124023,"wires":[["a25895d9.afb5d8"],[]]},{"id":"d1056f35.c0431","type":"function","z":"962bc35a.d7be5","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":597.857479095459,"y":1662.2028617858887,"wires":[["1f0731ca.16182e"]]},{"id":"a25895d9.afb5d8","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1085.3575439453125,"y":1657.2029056549072,"wires":[["2f26f4bf.9dd79c"]]},{"id":"707cd53b.b399dc","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":887.8574104309082,"y":1717.202781677246,"wires":[["7189a560.1b434c"],[]]},{"id":"2f26f4bf.9dd79c","type":"function","z":"962bc35a.d7be5","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":620.3573989868164,"y":1717.202781677246,"wires":[["707cd53b.b399dc"]]},{"id":"7189a560.1b434c","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1082.8574867248535,"y":1719.702844619751,"wires":[["dcbc07e1.045dd8"]]},{"id":"6ad9efd1.846de","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1788.452781677246,"wires":[["9540c954.742c18"]]},{"id":"4fb8feec.d6ff8","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":896.8454170227051,"y":1784.7026195526123,"wires":[["6ad9efd1.846de"],[]]},{"id":"dcbc07e1.045dd8","type":"function","z":"962bc35a.d7be5","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.1430397033691,"y":1778.095775604248,"wires":[["4fb8feec.d6ff8"]]},{"id":"8fcad00.0bdaf3","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1100.3574104309082,"y":1858.0360946655273,"wires":[["cc8ab236.6e6b4"]]},{"id":"408b13e2.395e7c","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":899.3454170227051,"y":1854.2859325408936,"wires":[["8fcad00.0bdaf3"],[]]},{"id":"9540c954.742c18","type":"function","z":"962bc35a.d7be5","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.607479095459,"y":1848.0361280441284,"wires":[["408b13e2.395e7c"]]},{"id":"558129fd.bf5c28","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1925.1194076538086,"wires":[["fc011e1b.fea7f"]]},{"id":"3f80c105.4805ce","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":896.8454170227051,"y":1921.3692455291748,"wires":[["558129fd.bf5c28"],[]]},{"id":"cc8ab236.6e6b4","type":"function","z":"962bc35a.d7be5","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":604.107479095459,"y":1910.11940574646,"wires":[["3f80c105.4805ce"]]},{"id":"90758c01.73552","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1200.3573455810547,"y":2022.6194925308228,"wires":[["a4ccfd2c.6f5d5"]]},{"id":"d1f6b62e.bcfe18","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":984.3453903198242,"y":2032.6190042495728,"wires":[["90758c01.73552"],[]]},{"id":"65e236bd.728218","type":"function","z":"962bc35a.d7be5","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.3573913574219,"y":2036.3691673278809,"wires":[["d1f6b62e.bcfe18"]]},{"id":"e040855b.06df58","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.690788269043,"y":2362.2027645111084,"wires":[["dde17897.a9f208"]]},{"id":"e43bd6aa.a6c6d8","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":929.9407119750977,"y":2360.9527158737183,"wires":[["e040855b.06df58"],[]]},{"id":"df9cedb8.4d686","type":"function","z":"962bc35a.d7be5","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9527778625488,"y":2365.953203201294,"wires":[["e43bd6aa.a6c6d8"]]},{"id":"b7f42c84.14f2e","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1137.4407119750977,"y":2423.4527158737183,"wires":[["23c1fae1.d07d86"]]},{"id":"623c010a.1305a","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":923.6906356811523,"y":2422.202667236328,"wires":[["b7f42c84.14f2e"],[]]},{"id":"dde17897.a9f208","type":"function","z":"962bc35a.d7be5","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":660.9526672363281,"y":2420.952877998352,"wires":[["623c010a.1305a"]]},{"id":"4f5177e1.6222a8","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1117.4407119750977,"y":2499.2859678268433,"wires":[["583870ee.22546"]]},{"id":"9c3c505b.5d358","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":903.6906356811523,"y":2498.035919189453,"wires":[["4f5177e1.6222a8"],[]]},{"id":"23c1fae1.d07d86","type":"function","z":"962bc35a.d7be5","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9526672363281,"y":2496.786129951477,"wires":[["9c3c505b.5d358"]]},{"id":"1d649361.9cf12d","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1109.9407119750977,"y":2570.1193418502808,"wires":[["9d21827.6183c8"]]},{"id":"f9871c00.45b0d","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":896.1906356811523,"y":2568.8692932128906,"wires":[["1d649361.9cf12d"],[]]},{"id":"583870ee.22546","type":"function","z":"962bc35a.d7be5","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":623.4526672363281,"y":2567.6195039749146,"wires":[["f9871c00.45b0d"]]},{"id":"67743610.9aea88","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":884.9406356811523,"y":2634.7025451660156,"wires":[["64b12a7d.0f0c64"],[]]},{"id":"9d21827.6183c8","type":"function","z":"962bc35a.d7be5","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.4407577514648,"y":2633.452540397644,"wires":[["67743610.9aea88"]]},{"id":"64b12a7d.0f0c64","type":"function","z":"962bc35a.d7be5","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1113.6907806396484,"y":2630.9525480270386,"wires":[["58748fed.2e39e"]]},{"id":"b496924f.bccd3","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":912.4407119750977,"y":2718.4525938034058,"wires":[["ab52ec0f.5baa7"],[]]},{"id":"58748fed.2e39e","type":"function","z":"962bc35a.d7be5","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":609.9408340454102,"y":2717.202589035034,"wires":[["b496924f.bccd3"]]},{"id":"ebaad48a.1e08d8","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1103.6907119750977,"y":2793.4525938034058,"wires":[["6b47c0fc.4756c"]]},{"id":"ab52ec0f.5baa7","type":"function","z":"962bc35a.d7be5","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1123.6907119750977,"y":2717.6193418502808,"wires":[["423ad06f.cac14"]]},{"id":"b6c077d8.820778","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":892.4407119750977,"y":2789.7025938034058,"wires":[["ebaad48a.1e08d8"],[]]},{"id":"423ad06f.cac14","type":"function","z":"962bc35a.d7be5","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.9408340454102,"y":2788.452589035034,"wires":[["b6c077d8.820778"]]},{"id":"2b1c43b5.45c43c","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":846.1907119750977,"y":2867.6193418502808,"wires":[["a34a7119.3bd11"],[]]},{"id":"6b47c0fc.4756c","type":"function","z":"962bc35a.d7be5","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.6908340454102,"y":2866.369337081909,"wires":[["2b1c43b5.45c43c"]]},{"id":"81ec6780.ce0508","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":807.4407119750977,"y":2958.8693418502808,"wires":[["3d4e33b7.98313c"],[]]},{"id":"b049f0d3.5022a","type":"function","z":"962bc35a.d7be5","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":504.94083404541016,"y":2957.619337081909,"wires":[["81ec6780.ce0508"]]},{"id":"a34a7119.3bd11","type":"function","z":"962bc35a.d7be5","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.690860748291,"y":2865.9525594711304,"wires":[["b049f0d3.5022a"]]},{"id":"c79a1b9d.be4038","type":"function","z":"962bc35a.d7be5","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":719.6904983520508,"y":533.2023582458496,"wires":[["6463287e.920738"]]},{"id":"6463287e.920738","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":976.1429138183594,"y":544.0592918395996,"wires":[["4d2f4f9b.bb6ce"],[]]},{"id":"4d2f4f9b.bb6ce","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.654884338379,"y":540.5594463348389,"wires":[["35abbb4c.351b04"]]},{"id":"be9179a4.bdb518","type":"function","z":"962bc35a.d7be5","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":712.7399597167969,"y":707.2154521942139,"wires":[["60053219.33a85c"]]},{"id":"60053219.33a85c","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":969.1923751831055,"y":718.0723857879639,"wires":[["759912a.b1074ec"],[]]},{"id":"759912a.b1074ec","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.704345703125,"y":714.5725402832031,"wires":[["7deec1ac.4355d"]]},{"id":"7deec1ac.4355d","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1388.9898681640625,"y":699.8543758392334,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["54ea3041.aaade"],[]]},{"id":"54ea3041.aaade","type":"function","z":"962bc35a.d7be5","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9066925048828,"y":848.1876678466797,"wires":[["42588cd2.ea2154"]]},{"id":"42588cd2.ea2154","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":985.8591079711914,"y":849.0446033477783,"wires":[["6c6acf00.c847b"],[]]},{"id":"6c6acf00.c847b","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1191.3711395263672,"y":843.0447177886963,"wires":[["bc95aab5.dd4f88"]]},{"id":"b3e85316.2f4f6","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1397.7398643493652,"y":1001.6598424911499,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6dff5670.c550b8"]]},{"id":"6dff5670.c550b8","type":"function","z":"962bc35a.d7be5","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":728.9899787902832,"y":1155.1320323944092,"wires":[["dcc897ba.5fdac8"]]},{"id":"dcc897ba.5fdac8","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":991.1923866271973,"y":1157.989019393921,"wires":[["29c5108f.61c57"],[]]},{"id":"29c5108f.61c57","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1189.704502105713,"y":1157.9891548156738,"wires":[["d0b4ae54.84ff2"]]},{"id":"f225f38c.33dd6","type":"function","z":"962bc35a.d7be5","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.5733489990234,"y":1263.604299545288,"wires":[["24b5d73e.a2bd78"]]},{"id":"24b5d73e.a2bd78","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":955.7757568359375,"y":1266.4612865447998,"wires":[["7582ac89.7f0e94"],[]]},{"id":"7582ac89.7f0e94","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1154.2878723144531,"y":1266.4614219665527,"wires":[["37405816.e6b028"]]},{"id":"37405816.e6b028","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.5732879638672,"y":1299.854299545288,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["555e45ab.93e8fc"],[],[]]},{"id":"555e45ab.93e8fc","type":"function","z":"962bc35a.d7be5","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.906608581543,"y":1389.159818649292,"wires":[["58859b68.9cf914"]]},{"id":"58859b68.9cf914","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":984.109016418457,"y":1392.0168056488037,"wires":[["fe56b7fb.5ad0e8"],[]]},{"id":"fe56b7fb.5ad0e8","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.6211318969727,"y":1392.0169410705566,"wires":[["3a8a704b.d406c"]]},{"id":"aaad63f2.1027f","type":"function","z":"962bc35a.d7be5","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":701.4899291992188,"y":1562.4931621551514,"wires":[["59104e6f.7f2b5"]]},{"id":"59104e6f.7f2b5","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":963.6923370361328,"y":1565.350149154663,"wires":[["d4c23e4f.578d7"],[]]},{"id":"d4c23e4f.578d7","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.2044525146484,"y":1565.350284576416,"wires":[["17b60e8b.e0fc71"]]},{"id":"17b60e8b.e0fc71","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.9898681640625,"y":1554.0208721160889,"wires":[[],[],[],[],[],[],[],[],[],[],[],["d1056f35.c0431"],[],[],[],[]]},{"id":"a4ccfd2c.6f5d5","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1362.7400512695312,"y":1956.1048431396484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cb84c32b.c244b"]]},{"id":"54027c72.a68eb4","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1152.8570156097412,"y":2099.993224143982,"wires":[["87faeaa3.b594e8"]]},{"id":"9307e739.e388b8","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":939.3450374603271,"y":2103.7429523468018,"wires":[["54027c72.a68eb4"],[]]},{"id":"cb84c32b.c244b","type":"function","z":"962bc35a.d7be5","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.3570785522461,"y":2106.242983818054,"wires":[["9307e739.e388b8"]]},{"id":"87faeaa3.b594e8","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1493.9899921417236,"y":2097.228751182556,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8441e297.88cbc"],[]]},{"id":"8441e297.88cbc","type":"function","z":"962bc35a.d7be5","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":672.8787460327148,"y":2233.743224143982,"wires":[["da6f025.ea638"]]},{"id":"da6f025.ea638","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":936.8667049407959,"y":2231.2431926727295,"wires":[["b70eb02.17c135"],[]]},{"id":"b70eb02.17c135","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.37868309021,"y":2227.4934644699097,"wires":[["8730bdd.387c64"]]},{"id":"8730bdd.387c64","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1348.0176010131836,"y":2243.743224143982,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["df9cedb8.4d686"],[],[]]},{"id":"d2206e6f.963ea","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1601.6860733032227,"y":209.69043731689453,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["74845036.97298"],[],[]]},{"id":"35abbb4c.351b04","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1628.156608581543,"y":551.659833908081,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["be9179a4.bdb518"]]},{"id":"bc95aab5.dd4f88","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1575.6566162109375,"y":834.4376029968262,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["1094b2a9.60fa6d"],[],[]]},{"id":"d0b4ae54.84ff2","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1637.7398948669434,"y":1126.3820552825928,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f225f38c.33dd6"],[]]},{"id":"3a8a704b.d406c","type":"function","z":"962bc35a.d7be5","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1635.6565475463867,"y":1391.659818649292,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["aaad63f2.1027f"],[],[],[]]},{"id":"baa8444e.764be8","type":"http response","z":"962bc35a.d7be5","name":"","x":1321.3572807312012,"y":2949.892738342285,"wires":[]},{"id":"27d146af.4697aa","type":"debug","z":"962bc35a.d7be5","name":"","active":true,"console":"false","complete":"payload","x":1350.3455123901367,"y":3003.666630744934,"wires":[]},{"id":"fc011e1b.fea7f","type":"function","z":"962bc35a.d7be5","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.5000152587891,"y":1983.7498664855957,"wires":[["a2eb1655.4a6ec8"]]},{"id":"a2eb1655.4a6ec8","type":"modbus-flex-getter","z":"962bc35a.d7be5","name":"","showStatusActivities":false,"showErrors":false,"server":"dab05af0.723d98","x":796.4879684448242,"y":1986.2497005462646,"wires":[["853565d1.0ca3a8"],[]]},{"id":"853565d1.0ca3a8","type":"function","z":"962bc35a.d7be5","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1011.249870300293,"y":1980.0000228881836,"wires":[["65e236bd.728218"]]},{"id":"7d6f06bb.29d608","type":"http in","z":"6557d31.1a8692c","name":"","url":"/k4/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["bcbfa57d.f2ba68"]]},{"id":"f77b54fe.0df1a8","type":"inject","z":"6557d31.1a8692c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":432.0635070800781,"y":169.0475673675537,"wires":[["bcbfa57d.f2ba68"]]},{"id":"bcbfa57d.f2ba68","type":"function","z":"6557d31.1a8692c","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":630.7468566894531,"y":150.23811531066895,"wires":[["1faf722e.24debe"]]},{"id":"28c6f11c.e3225e","type":"function","z":"6557d31.1a8692c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1014.1401062011719,"y":2980.1194276809692,"wires":[["6cb31805.fca038"]]},{"id":"6cb31805.fca038","type":"function","z":"6557d31.1a8692c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.4855308532715,"y":2981.6550512313843,"wires":[["bfd5dc77.bfbb1","3bba5d99.d8bcf2"]]},{"id":"4897bc00.d52a74","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":865.1907196044922,"y":308.2024669647217,"wires":[["8ab55759.da1178"],[]]},{"id":"8066818e.2e54d","type":"function","z":"6557d31.1a8692c","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":657.5715675354004,"y":305.8215665817261,"wires":[["4897bc00.d52a74"]]},{"id":"8ab55759.da1178","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.8813705444336,"y":301.6550226211548,"wires":[["fdd467e0.f13b08"]]},{"id":"fdd467e0.f13b08","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1275.5152969360352,"y":378.9762668609619,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["4624edd.586e714"]]},{"id":"4624edd.586e714","type":"function","z":"6557d31.1a8692c","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.7499618530273,"y":398.14304542541504,"wires":[["f6e7b81c.712598"]]},{"id":"f6e7b81c.712598","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":846.2023696899414,"y":402.25006103515625,"wires":[["3e9e0f97.eb2d9"],[]]},{"id":"3e9e0f97.eb2d9","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1092.2143096923828,"y":398.5001401901245,"wires":[["8c8fca86.8173a8"]]},{"id":"8c8fca86.8173a8","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1479.086826324463,"y":422.5476379394531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["14d3787a.bf2768"],[]]},{"id":"1faf722e.24debe","type":"function","z":"6557d31.1a8692c","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":794.7539367675781,"y":148.79769897460938,"wires":[["21d6cba7.473c54"]]},{"id":"f0478cd2.54396","type":"function","z":"6557d31.1a8692c","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":777.8492889404297,"y":219.86919021606445,"wires":[["878fc6cf.4b76d8"]]},{"id":"21d6cba7.473c54","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":989.8730926513672,"y":146.17857837677002,"wires":[["2a172684.c8cb6a"],[]]},{"id":"878fc6cf.4b76d8","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":984.6348075866699,"y":220.22622871398926,"wires":[["3bab4c8.6c55cb4"],[]]},{"id":"2a172684.c8cb6a","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.063720703125,"y":143.38115406036377,"wires":[["cfcc9c11.a39a9"]]},{"id":"3bab4c8.6c55cb4","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1168.9800643920898,"y":225.2262086868286,"wires":[["cfae94dd.28a388"]]},{"id":"cfcc9c11.a39a9","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1442.6980209350586,"y":169.2856903076172,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f0478cd2.54396"]]},{"id":"2e0432be.1adf7e","type":"function","z":"6557d31.1a8692c","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.6905250549316,"y":1006.3690195083618,"wires":[["e14f4afe.4edff8"]]},{"id":"e14f4afe.4edff8","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":927.1429328918457,"y":1006.7259368896484,"wires":[["ce4c8e3d.a7cb5"],[]]},{"id":"ce4c8e3d.a7cb5","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.1549263000488,"y":1010.4760990142822,"wires":[["caf422cd.38bde"]]},{"id":"3a28d934.c39cd6","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":890.3574676513672,"y":1654.7028427124023,"wires":[["f2e316c.cd06de8"],[]]},{"id":"4306ef7.c9fe61","type":"function","z":"6557d31.1a8692c","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":597.857479095459,"y":1662.2028617858887,"wires":[["3a28d934.c39cd6"]]},{"id":"f2e316c.cd06de8","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1085.3575439453125,"y":1657.2029056549072,"wires":[["b8648dcd.a6b7d"]]},{"id":"8cedc8f8.754798","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":887.8574104309082,"y":1717.202781677246,"wires":[["dd4cf25b.860a5"],[]]},{"id":"b8648dcd.a6b7d","type":"function","z":"6557d31.1a8692c","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":620.3573989868164,"y":1717.202781677246,"wires":[["8cedc8f8.754798"]]},{"id":"dd4cf25b.860a5","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1082.8574867248535,"y":1719.702844619751,"wires":[["c1643dd2.01a7"]]},{"id":"46e891be.49df","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1788.452781677246,"wires":[["f85b7d46.79eab"]]},{"id":"1f88c8a5.6cda57","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":896.8454170227051,"y":1784.7026195526123,"wires":[["46e891be.49df"],[]]},{"id":"c1643dd2.01a7","type":"function","z":"6557d31.1a8692c","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.1430397033691,"y":1778.095775604248,"wires":[["1f88c8a5.6cda57"]]},{"id":"dc53048b.2a50a8","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1100.3574104309082,"y":1858.0360946655273,"wires":[["ac7b5cb3.ee29a"]]},{"id":"819ad5b7.7bb0d8","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":899.3454170227051,"y":1854.2859325408936,"wires":[["dc53048b.2a50a8"],[]]},{"id":"f85b7d46.79eab","type":"function","z":"6557d31.1a8692c","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.607479095459,"y":1848.0361280441284,"wires":[["819ad5b7.7bb0d8"]]},{"id":"4f93582c.d57248","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1925.1194076538086,"wires":[["551f2f3e.2304b"]]},{"id":"69559826.df8248","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":896.8454170227051,"y":1921.3692455291748,"wires":[["4f93582c.d57248"],[]]},{"id":"ac7b5cb3.ee29a","type":"function","z":"6557d31.1a8692c","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":604.107479095459,"y":1910.11940574646,"wires":[["69559826.df8248"]]},{"id":"7c8c388d.32f438","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1200.3573455810547,"y":2022.6194925308228,"wires":[["846ca1d6.45a1f"]]},{"id":"c66a3414.b660d8","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":984.3453903198242,"y":2032.6190042495728,"wires":[["7c8c388d.32f438"],[]]},{"id":"aef44955.387508","type":"function","z":"6557d31.1a8692c","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.3573913574219,"y":2036.3691673278809,"wires":[["c66a3414.b660d8"]]},{"id":"5e17044.5bf68fc","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.690788269043,"y":2362.2027645111084,"wires":[["1aa63f60.c53b81"]]},{"id":"5b31fe33.565fc","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":929.9407119750977,"y":2360.9527158737183,"wires":[["5e17044.5bf68fc"],[]]},{"id":"6fde72b0.e07cbc","type":"function","z":"6557d31.1a8692c","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9527778625488,"y":2365.953203201294,"wires":[["5b31fe33.565fc"]]},{"id":"42d0905b.f590b","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1137.4407119750977,"y":2423.4527158737183,"wires":[["ec6d5d79.f4e2"]]},{"id":"eb6d87d6.ed35f8","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":923.6906356811523,"y":2422.202667236328,"wires":[["42d0905b.f590b"],[]]},{"id":"1aa63f60.c53b81","type":"function","z":"6557d31.1a8692c","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":660.9526672363281,"y":2420.952877998352,"wires":[["eb6d87d6.ed35f8"]]},{"id":"95dda108.fc6ad","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1117.4407119750977,"y":2499.2859678268433,"wires":[["50aee59e.c53aac"]]},{"id":"c79359cf.b49558","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":903.6906356811523,"y":2498.035919189453,"wires":[["95dda108.fc6ad"],[]]},{"id":"ec6d5d79.f4e2","type":"function","z":"6557d31.1a8692c","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9526672363281,"y":2496.786129951477,"wires":[["c79359cf.b49558"]]},{"id":"6a42ad17.974444","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1109.9407119750977,"y":2570.1193418502808,"wires":[["7dd6cb0d.52d354"]]},{"id":"273f324d.2cc8de","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":896.1906356811523,"y":2568.8692932128906,"wires":[["6a42ad17.974444"],[]]},{"id":"50aee59e.c53aac","type":"function","z":"6557d31.1a8692c","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":623.4526672363281,"y":2567.6195039749146,"wires":[["273f324d.2cc8de"]]},{"id":"4d610f77.30dde","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":884.9406356811523,"y":2634.7025451660156,"wires":[["7a6a1b72.207134"],[]]},{"id":"7dd6cb0d.52d354","type":"function","z":"6557d31.1a8692c","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.4407577514648,"y":2633.452540397644,"wires":[["4d610f77.30dde"]]},{"id":"7a6a1b72.207134","type":"function","z":"6557d31.1a8692c","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1113.6907806396484,"y":2630.9525480270386,"wires":[["d2069abb.a287e8"]]},{"id":"e08ed7cf.204c38","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":912.4407119750977,"y":2718.4525938034058,"wires":[["6a3481de.b9954"],[]]},{"id":"d2069abb.a287e8","type":"function","z":"6557d31.1a8692c","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":609.9408340454102,"y":2717.202589035034,"wires":[["e08ed7cf.204c38"]]},{"id":"6454d0ed.96781","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1103.6907119750977,"y":2793.4525938034058,"wires":[["1308b42d.b2b30c"]]},{"id":"6a3481de.b9954","type":"function","z":"6557d31.1a8692c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1123.6907119750977,"y":2717.6193418502808,"wires":[["bbba2311.dc6bc"]]},{"id":"ad6a8b5d.329a58","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":892.4407119750977,"y":2789.7025938034058,"wires":[["6454d0ed.96781"],[]]},{"id":"bbba2311.dc6bc","type":"function","z":"6557d31.1a8692c","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.9408340454102,"y":2788.452589035034,"wires":[["ad6a8b5d.329a58"]]},{"id":"ed56433f.3ba8d","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":846.1907119750977,"y":2867.6193418502808,"wires":[["b73bb4d1.80a318"],[]]},{"id":"1308b42d.b2b30c","type":"function","z":"6557d31.1a8692c","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.6908340454102,"y":2866.369337081909,"wires":[["ed56433f.3ba8d"]]},{"id":"f4efd7a0.550c28","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":807.4407119750977,"y":2958.8693418502808,"wires":[["28c6f11c.e3225e"],[]]},{"id":"e2a7b7fe.922d88","type":"function","z":"6557d31.1a8692c","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":504.94083404541016,"y":2957.619337081909,"wires":[["f4efd7a0.550c28"]]},{"id":"b73bb4d1.80a318","type":"function","z":"6557d31.1a8692c","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.690860748291,"y":2865.9525594711304,"wires":[["e2a7b7fe.922d88"]]},{"id":"14d3787a.bf2768","type":"function","z":"6557d31.1a8692c","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":719.6904983520508,"y":533.2023582458496,"wires":[["5ef03bff.200f94"]]},{"id":"5ef03bff.200f94","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":976.1429138183594,"y":544.0592918395996,"wires":[["2dd57231.ed350e"],[]]},{"id":"2dd57231.ed350e","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.654884338379,"y":540.5594463348389,"wires":[["b50ca732.0d9748"]]},{"id":"725154ca.c10b7c","type":"function","z":"6557d31.1a8692c","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":712.7399597167969,"y":707.2154521942139,"wires":[["ecd15cb9.05c2"]]},{"id":"ecd15cb9.05c2","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":969.1923751831055,"y":718.0723857879639,"wires":[["8667a461.665de8"],[]]},{"id":"8667a461.665de8","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.704345703125,"y":714.5725402832031,"wires":[["d0373fa5.6799d"]]},{"id":"d0373fa5.6799d","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1388.9898681640625,"y":699.8543758392334,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["644d75d.31c9d8c"],[]]},{"id":"644d75d.31c9d8c","type":"function","z":"6557d31.1a8692c","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9066925048828,"y":848.1876678466797,"wires":[["243aa61f.5087ba"]]},{"id":"243aa61f.5087ba","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":985.8591079711914,"y":849.0446033477783,"wires":[["34816956.5a39c6"],[]]},{"id":"34816956.5a39c6","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1191.3711395263672,"y":843.0447177886963,"wires":[["a1cd5ba8.25bae8"]]},{"id":"caf422cd.38bde","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1397.7398643493652,"y":1001.6598424911499,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["71af252a.40271c"]]},{"id":"71af252a.40271c","type":"function","z":"6557d31.1a8692c","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":728.9899787902832,"y":1155.1320323944092,"wires":[["92248bad.b51d58"]]},{"id":"92248bad.b51d58","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":991.1923866271973,"y":1157.989019393921,"wires":[["aa0296fa.c01298"],[]]},{"id":"aa0296fa.c01298","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1189.704502105713,"y":1157.9891548156738,"wires":[["b9fc1441.87cde8"]]},{"id":"ded1ff6.2ab85","type":"function","z":"6557d31.1a8692c","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.5733489990234,"y":1263.604299545288,"wires":[["8b7e8636.58d948"]]},{"id":"8b7e8636.58d948","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":955.7757568359375,"y":1266.4612865447998,"wires":[["ebb570ee.0e636"],[]]},{"id":"ebb570ee.0e636","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1154.2878723144531,"y":1266.4614219665527,"wires":[["8d72e761.239f78"]]},{"id":"8d72e761.239f78","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.5732879638672,"y":1299.854299545288,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["32bbf214.7f8bfe"],[],[]]},{"id":"32bbf214.7f8bfe","type":"function","z":"6557d31.1a8692c","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.906608581543,"y":1389.159818649292,"wires":[["49613b67.cf8e74"]]},{"id":"49613b67.cf8e74","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":984.109016418457,"y":1392.0168056488037,"wires":[["3a538641.3ee3da"],[]]},{"id":"3a538641.3ee3da","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.6211318969727,"y":1392.0169410705566,"wires":[["341fa171.854a6e"]]},{"id":"57eaaf0c.2056d","type":"function","z":"6557d31.1a8692c","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":701.4899291992188,"y":1562.4931621551514,"wires":[["72c08aac.5d34c4"]]},{"id":"72c08aac.5d34c4","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":963.6923370361328,"y":1565.350149154663,"wires":[["6b415969.80c648"],[]]},{"id":"6b415969.80c648","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.2044525146484,"y":1565.350284576416,"wires":[["e02b9ff2.2f888"]]},{"id":"e02b9ff2.2f888","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.9898681640625,"y":1554.0208721160889,"wires":[[],[],[],[],[],[],[],[],[],[],[],["4306ef7.c9fe61"],[],[],[],[]]},{"id":"846ca1d6.45a1f","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1362.7400512695312,"y":1956.1048431396484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6ccaf543.36683c"]]},{"id":"7016fa5f.4b8df4","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1152.8570156097412,"y":2099.993224143982,"wires":[["36f62bb5.c22e94"]]},{"id":"7bd3d928.0fea48","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":939.3450374603271,"y":2103.7429523468018,"wires":[["7016fa5f.4b8df4"],[]]},{"id":"6ccaf543.36683c","type":"function","z":"6557d31.1a8692c","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.3570785522461,"y":2106.242983818054,"wires":[["7bd3d928.0fea48"]]},{"id":"36f62bb5.c22e94","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1493.9899921417236,"y":2097.228751182556,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6a7d1fc9.b3772"],[]]},{"id":"6a7d1fc9.b3772","type":"function","z":"6557d31.1a8692c","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":672.8787460327148,"y":2233.743224143982,"wires":[["70f90f80.b52f9"]]},{"id":"70f90f80.b52f9","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":936.8667049407959,"y":2231.2431926727295,"wires":[["1c591752.b16889"],[]]},{"id":"1c591752.b16889","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.37868309021,"y":2227.4934644699097,"wires":[["5f20c720.e57a48"]]},{"id":"5f20c720.e57a48","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1348.0176010131836,"y":2243.743224143982,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["6fde72b0.e07cbc"],[],[]]},{"id":"cfae94dd.28a388","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1601.6860733032227,"y":209.69043731689453,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["8066818e.2e54d"],[],[]]},{"id":"b50ca732.0d9748","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1628.156608581543,"y":551.659833908081,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["725154ca.c10b7c"]]},{"id":"a1cd5ba8.25bae8","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1575.6566162109375,"y":834.4376029968262,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["2e0432be.1adf7e"],[],[]]},{"id":"b9fc1441.87cde8","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1637.7398948669434,"y":1126.3820552825928,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ded1ff6.2ab85"],[]]},{"id":"341fa171.854a6e","type":"function","z":"6557d31.1a8692c","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1635.6565475463867,"y":1391.659818649292,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["57eaaf0c.2056d"],[],[],[]]},{"id":"bfd5dc77.bfbb1","type":"http response","z":"6557d31.1a8692c","name":"","x":1321.3572807312012,"y":2949.892738342285,"wires":[]},{"id":"3bba5d99.d8bcf2","type":"debug","z":"6557d31.1a8692c","name":"","active":true,"console":"false","complete":"payload","x":1350.3455123901367,"y":3003.666630744934,"wires":[]},{"id":"551f2f3e.2304b","type":"function","z":"6557d31.1a8692c","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.5000152587891,"y":1983.7498664855957,"wires":[["46f74814.0b9d28"]]},{"id":"46f74814.0b9d28","type":"modbus-flex-getter","z":"6557d31.1a8692c","name":"","showStatusActivities":false,"showErrors":false,"server":"4a121b8d.bc20c4","x":796.4879684448242,"y":1986.2497005462646,"wires":[["a49d2f5d.4373d"],[]]},{"id":"a49d2f5d.4373d","type":"function","z":"6557d31.1a8692c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1011.249870300293,"y":1980.0000228881836,"wires":[["aef44955.387508"]]},{"id":"2394cfea.42968","type":"http in","z":"f6b46311.79746","name":"","url":"/k5/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["62368574.5af83c"]]},{"id":"c7348d42.4ab71","type":"inject","z":"f6b46311.79746","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":432.0635070800781,"y":169.0475673675537,"wires":[["62368574.5af83c"]]},{"id":"62368574.5af83c","type":"function","z":"f6b46311.79746","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":630.7468566894531,"y":150.23811531066895,"wires":[["dbf194a0.aaa518"]]},{"id":"a08325f6.820b08","type":"function","z":"f6b46311.79746","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1014.1401062011719,"y":2980.1194276809692,"wires":[["b85236fa.8af038"]]},{"id":"b85236fa.8af038","type":"function","z":"f6b46311.79746","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.4855308532715,"y":2981.6550512313843,"wires":[["f9e0e40a.46a7f8","1e47dd3e.c17263"]]},{"id":"71ce0ec1.142d9","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":865.1907196044922,"y":308.2024669647217,"wires":[["ceef8f4c.4b94b"],[]]},{"id":"a3e7dfd9.8e483","type":"function","z":"f6b46311.79746","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":657.5715675354004,"y":305.8215665817261,"wires":[["71ce0ec1.142d9"]]},{"id":"ceef8f4c.4b94b","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.8813705444336,"y":301.6550226211548,"wires":[["805d7397.a7f04"]]},{"id":"805d7397.a7f04","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1275.5152969360352,"y":378.9762668609619,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["4f5cf6c1.6e5538"]]},{"id":"4f5cf6c1.6e5538","type":"function","z":"f6b46311.79746","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.7499618530273,"y":398.14304542541504,"wires":[["ec141cb8.6fbac"]]},{"id":"ec141cb8.6fbac","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":846.2023696899414,"y":402.25006103515625,"wires":[["bb637c39.14d07"],[]]},{"id":"bb637c39.14d07","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1092.2143096923828,"y":398.5001401901245,"wires":[["46bb970b.44b1d8"]]},{"id":"46bb970b.44b1d8","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1479.086826324463,"y":422.5476379394531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8ff70c89.edd"],[]]},{"id":"dbf194a0.aaa518","type":"function","z":"f6b46311.79746","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":794.7539367675781,"y":148.79769897460938,"wires":[["f5d700cc.3e56d"]]},{"id":"68397bb1.d3cd24","type":"function","z":"f6b46311.79746","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":777.8492889404297,"y":219.86919021606445,"wires":[["2a2b06b5.ae312a"]]},{"id":"f5d700cc.3e56d","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":989.8730926513672,"y":146.17857837677002,"wires":[["473af9b7.fa6798"],[]]},{"id":"2a2b06b5.ae312a","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":984.6348075866699,"y":220.22622871398926,"wires":[["e1edd19b.867da"],[]]},{"id":"473af9b7.fa6798","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.063720703125,"y":143.38115406036377,"wires":[["9703b3f2.6f0f7"]]},{"id":"e1edd19b.867da","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1168.9800643920898,"y":225.2262086868286,"wires":[["657e330d.e2d73c"]]},{"id":"9703b3f2.6f0f7","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1442.6980209350586,"y":169.2856903076172,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["68397bb1.d3cd24"]]},{"id":"ba622c43.a57f5","type":"function","z":"f6b46311.79746","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.6905250549316,"y":1006.3690195083618,"wires":[["c377815.7a7e78"]]},{"id":"c377815.7a7e78","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":927.1429328918457,"y":1006.7259368896484,"wires":[["524d13f7.dab19c"],[]]},{"id":"524d13f7.dab19c","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.1549263000488,"y":1010.4760990142822,"wires":[["bf6091ed.e9a0e"]]},{"id":"aae681ec.07d5f","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":890.3574676513672,"y":1654.7028427124023,"wires":[["d765a1ed.cdb95"],[]]},{"id":"8d0b4246.f254e","type":"function","z":"f6b46311.79746","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":597.857479095459,"y":1662.2028617858887,"wires":[["aae681ec.07d5f"]]},{"id":"d765a1ed.cdb95","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1085.3575439453125,"y":1657.2029056549072,"wires":[["66b821b.3512ce"]]},{"id":"cd83c0fe.d76b","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":887.8574104309082,"y":1717.202781677246,"wires":[["2484b818.68a4a8"],[]]},{"id":"66b821b.3512ce","type":"function","z":"f6b46311.79746","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":620.3573989868164,"y":1717.202781677246,"wires":[["cd83c0fe.d76b"]]},{"id":"2484b818.68a4a8","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1082.8574867248535,"y":1719.702844619751,"wires":[["777ab520.3eadbc"]]},{"id":"f5e1dbf2.4f1728","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1788.452781677246,"wires":[["fdf52b7a.923b08"]]},{"id":"da993c11.9b45b","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":896.8454170227051,"y":1784.7026195526123,"wires":[["f5e1dbf2.4f1728"],[]]},{"id":"777ab520.3eadbc","type":"function","z":"f6b46311.79746","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.1430397033691,"y":1778.095775604248,"wires":[["da993c11.9b45b"]]},{"id":"d6e5ef4d.82319","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1100.3574104309082,"y":1858.0360946655273,"wires":[["5d53abfe.082794"]]},{"id":"9303c859.fec028","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":899.3454170227051,"y":1854.2859325408936,"wires":[["d6e5ef4d.82319"],[]]},{"id":"fdf52b7a.923b08","type":"function","z":"f6b46311.79746","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.607479095459,"y":1848.0361280441284,"wires":[["9303c859.fec028"]]},{"id":"5aaae218.f0cffc","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1925.1194076538086,"wires":[["137d01b1.b1afce"]]},{"id":"bb22afc0.3dabc","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":896.8454170227051,"y":1921.3692455291748,"wires":[["5aaae218.f0cffc"],[]]},{"id":"5d53abfe.082794","type":"function","z":"f6b46311.79746","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":604.107479095459,"y":1910.11940574646,"wires":[["bb22afc0.3dabc"]]},{"id":"f75356c9.36a4b8","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1200.3573455810547,"y":2022.6194925308228,"wires":[["fdd9d7ed.4cb518"]]},{"id":"dd05d18d.37b98","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":984.3453903198242,"y":2032.6190042495728,"wires":[["f75356c9.36a4b8"],[]]},{"id":"2a4279ef.42a8e6","type":"function","z":"f6b46311.79746","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.3573913574219,"y":2036.3691673278809,"wires":[["dd05d18d.37b98"]]},{"id":"1da30ba3.3ee0c4","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.690788269043,"y":2362.2027645111084,"wires":[["32da2eec.592ef2"]]},{"id":"b9d71a70.7e3f98","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":929.9407119750977,"y":2360.9527158737183,"wires":[["1da30ba3.3ee0c4"],[]]},{"id":"b9eecc41.fa569","type":"function","z":"f6b46311.79746","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9527778625488,"y":2365.953203201294,"wires":[["b9d71a70.7e3f98"]]},{"id":"39413078.ec868","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1137.4407119750977,"y":2423.4527158737183,"wires":[["f844beaa.ba7fc"]]},{"id":"f831f7f8.0ee728","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":923.6906356811523,"y":2422.202667236328,"wires":[["39413078.ec868"],[]]},{"id":"32da2eec.592ef2","type":"function","z":"f6b46311.79746","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":660.9526672363281,"y":2420.952877998352,"wires":[["f831f7f8.0ee728"]]},{"id":"60aa5e3d.ed963","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1117.4407119750977,"y":2499.2859678268433,"wires":[["813af614.660678"]]},{"id":"e6a1511b.d4265","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":903.6906356811523,"y":2498.035919189453,"wires":[["60aa5e3d.ed963"],[]]},{"id":"f844beaa.ba7fc","type":"function","z":"f6b46311.79746","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9526672363281,"y":2496.786129951477,"wires":[["e6a1511b.d4265"]]},{"id":"2657e631.6778ea","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1109.9407119750977,"y":2570.1193418502808,"wires":[["719750b7.83fc1"]]},{"id":"90132fbd.bed5d","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":896.1906356811523,"y":2568.8692932128906,"wires":[["2657e631.6778ea"],[]]},{"id":"813af614.660678","type":"function","z":"f6b46311.79746","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":623.4526672363281,"y":2567.6195039749146,"wires":[["90132fbd.bed5d"]]},{"id":"59f2c536.85579c","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":884.9406356811523,"y":2634.7025451660156,"wires":[["7041c690.4b2b28"],[]]},{"id":"719750b7.83fc1","type":"function","z":"f6b46311.79746","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.4407577514648,"y":2633.452540397644,"wires":[["59f2c536.85579c"]]},{"id":"7041c690.4b2b28","type":"function","z":"f6b46311.79746","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1113.6907806396484,"y":2630.9525480270386,"wires":[["18570b0f.5b4a95"]]},{"id":"d75fe19.d6f9a2","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":912.4407119750977,"y":2718.4525938034058,"wires":[["299f4141.f36cbe"],[]]},{"id":"18570b0f.5b4a95","type":"function","z":"f6b46311.79746","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":609.9408340454102,"y":2717.202589035034,"wires":[["d75fe19.d6f9a2"]]},{"id":"a51a48f1.7fc648","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1103.6907119750977,"y":2793.4525938034058,"wires":[["b7cde58a.e201b8"]]},{"id":"299f4141.f36cbe","type":"function","z":"f6b46311.79746","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1123.6907119750977,"y":2717.6193418502808,"wires":[["542fabd4.0750d4"]]},{"id":"95237e66.f435a","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":892.4407119750977,"y":2789.7025938034058,"wires":[["a51a48f1.7fc648"],[]]},{"id":"542fabd4.0750d4","type":"function","z":"f6b46311.79746","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.9408340454102,"y":2788.452589035034,"wires":[["95237e66.f435a"]]},{"id":"ceb01b24.7f77c8","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":846.1907119750977,"y":2867.6193418502808,"wires":[["aae0290b.3c40c8"],[]]},{"id":"b7cde58a.e201b8","type":"function","z":"f6b46311.79746","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.6908340454102,"y":2866.369337081909,"wires":[["ceb01b24.7f77c8"]]},{"id":"2f0f1690.6d7ffa","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":807.4407119750977,"y":2958.8693418502808,"wires":[["a08325f6.820b08"],[]]},{"id":"618725e9.ab23dc","type":"function","z":"f6b46311.79746","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":504.94083404541016,"y":2957.619337081909,"wires":[["2f0f1690.6d7ffa"]]},{"id":"aae0290b.3c40c8","type":"function","z":"f6b46311.79746","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.690860748291,"y":2865.9525594711304,"wires":[["618725e9.ab23dc"]]},{"id":"8ff70c89.edd","type":"function","z":"f6b46311.79746","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":719.6904983520508,"y":533.2023582458496,"wires":[["e17bb00c.00786"]]},{"id":"e17bb00c.00786","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":976.1429138183594,"y":544.0592918395996,"wires":[["9203b17f.66acd"],[]]},{"id":"9203b17f.66acd","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.654884338379,"y":540.5594463348389,"wires":[["b78a977a.de64f8"]]},{"id":"ff451f1e.6612a","type":"function","z":"f6b46311.79746","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":712.7399597167969,"y":707.2154521942139,"wires":[["65cd820f.b6a8fc"]]},{"id":"65cd820f.b6a8fc","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":969.1923751831055,"y":718.0723857879639,"wires":[["9705fde0.37277"],[]]},{"id":"9705fde0.37277","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.704345703125,"y":714.5725402832031,"wires":[["fa1b2dc8.a851"]]},{"id":"fa1b2dc8.a851","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1388.9898681640625,"y":699.8543758392334,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e36d2ef7.66664"],[]]},{"id":"e36d2ef7.66664","type":"function","z":"f6b46311.79746","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9066925048828,"y":848.1876678466797,"wires":[["7830acdf.6630a4"]]},{"id":"7830acdf.6630a4","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":985.8591079711914,"y":849.0446033477783,"wires":[["2d89342e.a3d27c"],[]]},{"id":"2d89342e.a3d27c","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1191.3711395263672,"y":843.0447177886963,"wires":[["93a6f696.c1c688"]]},{"id":"bf6091ed.e9a0e","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1397.7398643493652,"y":1001.6598424911499,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ee9e8d3c.7b663"]]},{"id":"ee9e8d3c.7b663","type":"function","z":"f6b46311.79746","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":728.9899787902832,"y":1155.1320323944092,"wires":[["48def1cf.62d1d"]]},{"id":"48def1cf.62d1d","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":991.1923866271973,"y":1157.989019393921,"wires":[["fe72d953.c5c038"],[]]},{"id":"fe72d953.c5c038","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1189.704502105713,"y":1157.9891548156738,"wires":[["46ca2152.374db"]]},{"id":"2d7b9f0b.70871","type":"function","z":"f6b46311.79746","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.5733489990234,"y":1263.604299545288,"wires":[["70c1bcb.bd92944"]]},{"id":"70c1bcb.bd92944","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":955.7757568359375,"y":1266.4612865447998,"wires":[["5b167309.dcd4bc"],[]]},{"id":"5b167309.dcd4bc","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1154.2878723144531,"y":1266.4614219665527,"wires":[["368610b4.1d40d"]]},{"id":"368610b4.1d40d","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.5732879638672,"y":1299.854299545288,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["1a60c287.1c9a3d"],[],[]]},{"id":"1a60c287.1c9a3d","type":"function","z":"f6b46311.79746","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.906608581543,"y":1389.159818649292,"wires":[["53d41990.ab3d58"]]},{"id":"53d41990.ab3d58","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":984.109016418457,"y":1392.0168056488037,"wires":[["b516ecfe.df813"],[]]},{"id":"b516ecfe.df813","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.6211318969727,"y":1392.0169410705566,"wires":[["3e28b70a.56f4f8"]]},{"id":"cbca3b22.6134c8","type":"function","z":"f6b46311.79746","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":701.4899291992188,"y":1562.4931621551514,"wires":[["211a322c.15c93e"]]},{"id":"211a322c.15c93e","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":963.6923370361328,"y":1565.350149154663,"wires":[["3ac9841c.531c0c"],[]]},{"id":"3ac9841c.531c0c","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.2044525146484,"y":1565.350284576416,"wires":[["476a88a6.cfe088"]]},{"id":"476a88a6.cfe088","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.9898681640625,"y":1554.0208721160889,"wires":[[],[],[],[],[],[],[],[],[],[],[],["8d0b4246.f254e"],[],[],[],[]]},{"id":"fdd9d7ed.4cb518","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1362.7400512695312,"y":1956.1048431396484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["2dd3e914.74bae6"]]},{"id":"780ff67b.7aab38","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1152.8570156097412,"y":2099.993224143982,"wires":[["7c241abf.2fff94"]]},{"id":"1422e32f.31ad1d","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":939.3450374603271,"y":2103.7429523468018,"wires":[["780ff67b.7aab38"],[]]},{"id":"2dd3e914.74bae6","type":"function","z":"f6b46311.79746","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.3570785522461,"y":2106.242983818054,"wires":[["1422e32f.31ad1d"]]},{"id":"7c241abf.2fff94","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1493.9899921417236,"y":2097.228751182556,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["be668f1b.6d7e8"],[]]},{"id":"be668f1b.6d7e8","type":"function","z":"f6b46311.79746","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":672.8787460327148,"y":2233.743224143982,"wires":[["b3be4a16.551608"]]},{"id":"b3be4a16.551608","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":936.8667049407959,"y":2231.2431926727295,"wires":[["1c346757.f71009"],[]]},{"id":"1c346757.f71009","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.37868309021,"y":2227.4934644699097,"wires":[["ecb90cf4.58d73"]]},{"id":"ecb90cf4.58d73","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1348.0176010131836,"y":2243.743224143982,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["b9eecc41.fa569"],[],[]]},{"id":"657e330d.e2d73c","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1601.6860733032227,"y":209.69043731689453,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["a3e7dfd9.8e483"],[],[]]},{"id":"b78a977a.de64f8","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1628.156608581543,"y":551.659833908081,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ff451f1e.6612a"]]},{"id":"93a6f696.c1c688","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1575.6566162109375,"y":834.4376029968262,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["ba622c43.a57f5"],[],[]]},{"id":"46ca2152.374db","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1637.7398948669434,"y":1126.3820552825928,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["2d7b9f0b.70871"],[]]},{"id":"3e28b70a.56f4f8","type":"function","z":"f6b46311.79746","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1635.6565475463867,"y":1391.659818649292,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["cbca3b22.6134c8"],[],[],[]]},{"id":"f9e0e40a.46a7f8","type":"http response","z":"f6b46311.79746","name":"","x":1321.3572807312012,"y":2949.892738342285,"wires":[]},{"id":"1e47dd3e.c17263","type":"debug","z":"f6b46311.79746","name":"","active":true,"console":"false","complete":"payload","x":1350.3455123901367,"y":3003.666630744934,"wires":[]},{"id":"137d01b1.b1afce","type":"function","z":"f6b46311.79746","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.5000152587891,"y":1983.7498664855957,"wires":[["13b659bb.a3a8c6"]]},{"id":"13b659bb.a3a8c6","type":"modbus-flex-getter","z":"f6b46311.79746","name":"","showStatusActivities":false,"showErrors":false,"server":"b2485314.7c836","x":796.4879684448242,"y":1986.2497005462646,"wires":[["5c154f51.fb63c"],[]]},{"id":"5c154f51.fb63c","type":"function","z":"f6b46311.79746","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1011.249870300293,"y":1980.0000228881836,"wires":[["2a4279ef.42a8e6"]]},{"id":"24103ea0.43cdc2","type":"http in","z":"ebf61fb2.31eb4","name":"","url":"/k6/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["c00d5fcf.49abe"]]},{"id":"c02bacd9.397cc","type":"inject","z":"ebf61fb2.31eb4","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":432.0635070800781,"y":169.0475673675537,"wires":[["c00d5fcf.49abe"]]},{"id":"c00d5fcf.49abe","type":"function","z":"ebf61fb2.31eb4","name":"with_1C","func":"//var status_all = msg.payload;\nvar status_all = \n{\n  \"bit_0_status_pump\": 0,\n  \"bit_18_status_pump\": 0,\n  \"bit_0_status_klapan\": 0,\n  \"bit_1_status_klapan\": 0,\n  \"status_hend_vent_bit_0\":0,\n  \"status_hend_vent_bit_1\":0,\n  \"status_hend_vent_bit_2\":0,\n  \"register_error_status_bit_0\": 0,\n  \"register_error_status_bit_1\": 0,\n  \"register_error_status_bit_2\": 0,\n  \"register_error_status_bit_3\": 0,\n  \"register_error_status_bit_4\": 0,\n  \"t_flow\": 0,\n  \"plotnost_flow\": 0,\n  \"second_for_scada\": 0,\n  \"mode_system\": 0,\n  \"zayavka\": 0,\n  \"marshrut_setpoint_number\": 0,\n  \"marshrut_setpoint_bit_0\": 0,\n  \"marshrut_setpoint_bit_1\": 0,\n  \"marshrut_setpoint_bit_2\": 0,\n  \"setpoint\": 0,\n  \"set_lflow_start\": 0,\n  \"set_lflow_stop\": 0,\n  \"protok_min\": 0,\n  \"protok_dead_time\": 0,\n  \"counter_1\": 0,\n  \"counter_2\": 0,\n  \"counter_3\": 0\n  };\n \nmsg.payload = status_all;\nflow.set('status_all',status_all);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":630.7468566894531,"y":150.23811531066895,"wires":[["4b1ee667.9d5f08"]]},{"id":"c109a1a9.17cda","type":"function","z":"ebf61fb2.31eb4","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":1014.1401062011719,"y":2980.1194276809692,"wires":[["b9dad590.023628"]]},{"id":"b9dad590.023628","type":"function","z":"ebf61fb2.31eb4","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('status_all');\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.4855308532715,"y":2981.6550512313843,"wires":[["bc591322.3bd6a","cc122875.2c6a38"]]},{"id":"3ef16a7a.8ffd86","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":865.1907196044922,"y":308.2024669647217,"wires":[["7abca848.22a9e8"],[]]},{"id":"e24eec2.cfd2f1","type":"function","z":"ebf61fb2.31eb4","name":"R_12_b0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_18_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":657.5715675354004,"y":305.8215665817261,"wires":[["3ef16a7a.8ffd86"]]},{"id":"7abca848.22a9e8","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1093.8813705444336,"y":301.6550226211548,"wires":[["fe3e20da.e150d"]]},{"id":"fe3e20da.e150d","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1275.5152969360352,"y":378.9762668609619,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["13d206e3.eb0ea9"]]},{"id":"13d206e3.eb0ea9","type":"function","z":"ebf61fb2.31eb4","name":"R_12_b1","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.7499618530273,"y":398.14304542541504,"wires":[["3cef4f56.9d2c9"]]},{"id":"3cef4f56.9d2c9","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":846.2023696899414,"y":402.25006103515625,"wires":[["aed4f3c.f08051"],[]]},{"id":"aed4f3c.f08051","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1092.2143096923828,"y":398.5001401901245,"wires":[["9a853817.9b9e98"]]},{"id":"9a853817.9b9e98","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1479.086826324463,"y":422.5476379394531,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["c6105a23.e9cdd8"],[]]},{"id":"4b1ee667.9d5f08","type":"function","z":"ebf61fb2.31eb4","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":794.7539367675781,"y":148.79769897460938,"wires":[["6d3d14f0.8779dc"]]},{"id":"5405a339.4fbeec","type":"function","z":"ebf61fb2.31eb4","name":"R_1_bit_3(18)","func":"var status_all = flow.get('status_all');\nstatus_all.bit_0_status_pump = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":777.8492889404297,"y":219.86919021606445,"wires":[["341d41d7.c0309e"]]},{"id":"6d3d14f0.8779dc","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":989.8730926513672,"y":146.17857837677002,"wires":[["2ed82a4d.db5a96"],[]]},{"id":"341d41d7.c0309e","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":984.6348075866699,"y":220.22622871398926,"wires":[["e373d7ec.8825a8"],[]]},{"id":"2ed82a4d.db5a96","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.063720703125,"y":143.38115406036377,"wires":[["9732f3bf.61d01"]]},{"id":"e373d7ec.8825a8","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1168.9800643920898,"y":225.2262086868286,"wires":[["b2254c7.c87f8b"]]},{"id":"9732f3bf.61d01","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1442.6980209350586,"y":169.2856903076172,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5405a339.4fbeec"]]},{"id":"5d668f2d.d56dc","type":"function","z":"ebf61fb2.31eb4","name":"R_25_register_error_status_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.6905250549316,"y":1006.3690195083618,"wires":[["d6403224.5472d"]]},{"id":"d6403224.5472d","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":927.1429328918457,"y":1006.7259368896484,"wires":[["65bd49d2.58ee98"],[]]},{"id":"65bd49d2.58ee98","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.1549263000488,"y":1010.4760990142822,"wires":[["32a52216.dcc6de"]]},{"id":"1b1a5309.56bb4d","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":890.3574676513672,"y":1654.7028427124023,"wires":[["f6f2257a.0a77e8"],[]]},{"id":"982bd851.a61468","type":"function","z":"ebf61fb2.31eb4","name":"R_36+1_t_flow","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_4 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":597.857479095459,"y":1662.2028617858887,"wires":[["1b1a5309.56bb4d"]]},{"id":"f6f2257a.0a77e8","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1085.3575439453125,"y":1657.2029056549072,"wires":[["b136e66d.34fb48"]]},{"id":"770b583a.350a98","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":887.8574104309082,"y":1717.202781677246,"wires":[["1032529a.02080d"],[]]},{"id":"b136e66d.34fb48","type":"function","z":"ebf61fb2.31eb4","name":"R_38+1_plotnost_flow","func":"var status_all = flow.get('status_all');\nstatus_all.t_flow  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":620.3573989868164,"y":1717.202781677246,"wires":[["770b583a.350a98"]]},{"id":"1032529a.02080d","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1082.8574867248535,"y":1719.702844619751,"wires":[["e17c313b.638da"]]},{"id":"e403eea.0708c1","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1788.452781677246,"wires":[["385cbe35.c992e2"]]},{"id":"8cb98d2c.84e1a","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":896.8454170227051,"y":1784.7026195526123,"wires":[["e403eea.0708c1"],[]]},{"id":"e17c313b.638da","type":"function","z":"ebf61fb2.31eb4","name":"R_83_second_for_scada","func":"var status_all = flow.get('status_all');\nstatus_all.plotnost_flow = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":627.1430397033691,"y":1778.095775604248,"wires":[["8cb98d2c.84e1a"]]},{"id":"109a1276.a7607e","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1100.3574104309082,"y":1858.0360946655273,"wires":[["6f32648a.d590cc"]]},{"id":"216575d7.14236a","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":899.3454170227051,"y":1854.2859325408936,"wires":[["109a1276.a7607e"],[]]},{"id":"385cbe35.c992e2","type":"function","z":"ebf61fb2.31eb4","name":"R_5002_mode_system","func":"var status_all = flow.get('status_all');\nstatus_all.second_for_scada  = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.607479095459,"y":1848.0361280441284,"wires":[["216575d7.14236a"]]},{"id":"f901e3c1.83cb","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1097.8574104309082,"y":1925.1194076538086,"wires":[["d94d477b.e56708"]]},{"id":"22d290c9.a1452","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":896.8454170227051,"y":1921.3692455291748,"wires":[["f901e3c1.83cb"],[]]},{"id":"6f32648a.d590cc","type":"function","z":"ebf61fb2.31eb4","name":"R_5004_zayavka","func":"var status_all = flow.get('status_all');\nstatus_all.mode_system = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":604.107479095459,"y":1910.11940574646,"wires":[["22d290c9.a1452"]]},{"id":"c1351b72.b47ea8","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1200.3573455810547,"y":2022.6194925308228,"wires":[["29cb7eed.c37d22"]]},{"id":"2cce9a0.d5ebc66","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":984.3453903198242,"y":2032.6190042495728,"wires":[["c1351b72.b47ea8"],[]]},{"id":"760775a6.ecc20c","type":"function","z":"ebf61fb2.31eb4","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_number = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.3573913574219,"y":2036.3691673278809,"wires":[["2cce9a0.d5ebc66"]]},{"id":"9a5a95d8.2e8158","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.690788269043,"y":2362.2027645111084,"wires":[["f8d091de.41014"]]},{"id":"ae4c452a.8e6db8","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":929.9407119750977,"y":2360.9527158737183,"wires":[["9a5a95d8.2e8158"],[]]},{"id":"518c1086.b6eb9","type":"function","z":"ebf61fb2.31eb4","name":"R_5006+1_setpoint","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9527778625488,"y":2365.953203201294,"wires":[["ae4c452a.8e6db8"]]},{"id":"a1e87402.031678","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1137.4407119750977,"y":2423.4527158737183,"wires":[["2d845076.77c46"]]},{"id":"2f5e72c3.52f27e","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":923.6906356811523,"y":2422.202667236328,"wires":[["a1e87402.031678"],[]]},{"id":"f8d091de.41014","type":"function","z":"ebf61fb2.31eb4","name":"R_5008+1_set_lflow_start","func":"var status_all = flow.get('status_all');\nstatus_all.setpoint   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":660.9526672363281,"y":2420.952877998352,"wires":[["2f5e72c3.52f27e"]]},{"id":"22c0c2a9.647e4e","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1117.4407119750977,"y":2499.2859678268433,"wires":[["47434299.63942c"]]},{"id":"783b095f.979068","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":903.6906356811523,"y":2498.035919189453,"wires":[["22c0c2a9.647e4e"],[]]},{"id":"2d845076.77c46","type":"function","z":"ebf61fb2.31eb4","name":"R_5010+1_set_lflow_stop","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_start   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.9526672363281,"y":2496.786129951477,"wires":[["783b095f.979068"]]},{"id":"ca20801f.e0afd","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1109.9407119750977,"y":2570.1193418502808,"wires":[["eefe823e.1417a"]]},{"id":"ca942aa6.18af78","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":896.1906356811523,"y":2568.8692932128906,"wires":[["ca20801f.e0afd"],[]]},{"id":"47434299.63942c","type":"function","z":"ebf61fb2.31eb4","name":"R_5012+1_protok_min","func":"var status_all = flow.get('status_all');\nstatus_all.set_lflow_stop   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":623.4526672363281,"y":2567.6195039749146,"wires":[["ca942aa6.18af78"]]},{"id":"94b5fdea.e342","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":884.9406356811523,"y":2634.7025451660156,"wires":[["f5a0e2ca.e03b2"],[]]},{"id":"eefe823e.1417a","type":"function","z":"ebf61fb2.31eb4","name":"R_5014+1_protok_dead_time","func":"var status_all = flow.get('status_all');\nstatus_all.protok_min   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.4407577514648,"y":2633.452540397644,"wires":[["94b5fdea.e342"]]},{"id":"f5a0e2ca.e03b2","type":"function","z":"ebf61fb2.31eb4","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(dwView[0]);\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1113.6907806396484,"y":2630.9525480270386,"wires":[["c8458eb2.9ba98"]]},{"id":"19b5f1f9.f68fce","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":912.4407119750977,"y":2718.4525938034058,"wires":[["a0f9ab68.038788"],[]]},{"id":"c8458eb2.9ba98","type":"function","z":"ebf61fb2.31eb4","name":"R_5016+1_counter_1","func":"var status_all = flow.get('status_all');\nstatus_all.protok_dead_time   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":609.9408340454102,"y":2717.202589035034,"wires":[["19b5f1f9.f68fce"]]},{"id":"deef8e61.6aa0b","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1103.6907119750977,"y":2793.4525938034058,"wires":[["ff168fe1.00ac4"]]},{"id":"a0f9ab68.038788","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1123.6907119750977,"y":2717.6193418502808,"wires":[["a5fd3457.3e3238"]]},{"id":"7634fe8f.03477","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":892.4407119750977,"y":2789.7025938034058,"wires":[["deef8e61.6aa0b"],[]]},{"id":"a5fd3457.3e3238","type":"function","z":"ebf61fb2.31eb4","name":"R_5018+1_counter_2","func":"var status_all = flow.get('status_all');\nstatus_all.counter_1   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.9408340454102,"y":2788.452589035034,"wires":[["7634fe8f.03477"]]},{"id":"98863ad5.d516c8","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":846.1907119750977,"y":2867.6193418502808,"wires":[["31e14ad1.7ada06"],[]]},{"id":"ff168fe1.00ac4","type":"function","z":"ebf61fb2.31eb4","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_2   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":543.6908340454102,"y":2866.369337081909,"wires":[["98863ad5.d516c8"]]},{"id":"73a9af36.94c4c","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":807.4407119750977,"y":2958.8693418502808,"wires":[["c109a1a9.17cda"],[]]},{"id":"f98b7fdc.b5816","type":"function","z":"ebf61fb2.31eb4","name":"R_5020+3_counter_3","func":"var status_all = flow.get('status_all');\nstatus_all.counter_3   = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":504.94083404541016,"y":2957.619337081909,"wires":[["73a9af36.94c4c"]]},{"id":"31e14ad1.7ada06","type":"function","z":"ebf61fb2.31eb4","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1083.690860748291,"y":2865.9525594711304,"wires":[["f98b7fdc.b5816"]]},{"id":"c6105a23.e9cdd8","type":"function","z":"ebf61fb2.31eb4","name":"R_22_status_hend_vent_bit_0","func":"var status_all = flow.get('status_all');\nstatus_all.bit_1_status_klapan = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":719.6904983520508,"y":533.2023582458496,"wires":[["1bd61ee8.0576a1"]]},{"id":"1bd61ee8.0576a1","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":976.1429138183594,"y":544.0592918395996,"wires":[["d1b7b6ac.838e88"],[]]},{"id":"d1b7b6ac.838e88","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1181.654884338379,"y":540.5594463348389,"wires":[["cb25de0f.138b7"]]},{"id":"dd4490bc.1a742","type":"function","z":"ebf61fb2.31eb4","name":"R_22_status_hend_vent_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":712.7399597167969,"y":707.2154521942139,"wires":[["52a06292.4bcd8c"]]},{"id":"52a06292.4bcd8c","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":969.1923751831055,"y":718.0723857879639,"wires":[["9b83c3bc.d03cf"],[]]},{"id":"9b83c3bc.d03cf","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.704345703125,"y":714.5725402832031,"wires":[["a0913956.4f0528"]]},{"id":"a0913956.4f0528","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1388.9898681640625,"y":699.8543758392334,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["9adff72b.7a80d8"],[]]},{"id":"9adff72b.7a80d8","type":"function","z":"ebf61fb2.31eb4","name":"R_22_status_hend_vent_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.status_hend_vent_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9066925048828,"y":848.1876678466797,"wires":[["3ff64b66.10cbd4"]]},{"id":"3ff64b66.10cbd4","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":985.8591079711914,"y":849.0446033477783,"wires":[["86c44522.11ffd8"],[]]},{"id":"86c44522.11ffd8","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1191.3711395263672,"y":843.0447177886963,"wires":[["286a4e3f.89ee82"]]},{"id":"32a52216.dcc6de","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1397.7398643493652,"y":1001.6598424911499,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["81d34a8.89095b8"]]},{"id":"81d34a8.89095b8","type":"function","z":"ebf61fb2.31eb4","name":"R_25_register_error_status_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":728.9899787902832,"y":1155.1320323944092,"wires":[["30dc6b3f.c78d84"]]},{"id":"30dc6b3f.c78d84","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":991.1923866271973,"y":1157.989019393921,"wires":[["59a0316d.2d52a"],[]]},{"id":"59a0316d.2d52a","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1189.704502105713,"y":1157.9891548156738,"wires":[["e11b02f.aa4ca"]]},{"id":"c8430d4b.e80f6","type":"function","z":"ebf61fb2.31eb4","name":"R_25_register_error_status_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":693.5733489990234,"y":1263.604299545288,"wires":[["c25674ae.82c5d8"]]},{"id":"c25674ae.82c5d8","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":955.7757568359375,"y":1266.4612865447998,"wires":[["f13281f.ef70e8"],[]]},{"id":"f13281f.ef70e8","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1154.2878723144531,"y":1266.4614219665527,"wires":[["6fc55770.f994a8"]]},{"id":"6fc55770.f994a8","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.5732879638672,"y":1299.854299545288,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["435187ec.e28cb8"],[],[]]},{"id":"435187ec.e28cb8","type":"function","z":"ebf61fb2.31eb4","name":"R_25_register_error_status_bit_3","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_2 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.906608581543,"y":1389.159818649292,"wires":[["c53543db.1c961"]]},{"id":"c53543db.1c961","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":984.109016418457,"y":1392.0168056488037,"wires":[["b887336a.f497d"],[]]},{"id":"b887336a.f497d","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.6211318969727,"y":1392.0169410705566,"wires":[["3adfd77c.5b7b88"]]},{"id":"44e37937.200428","type":"function","z":"ebf61fb2.31eb4","name":"R_25_register_error_status_bit_4","func":"var status_all = flow.get('status_all');\nstatus_all.register_error_status_bit_3 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":701.4899291992188,"y":1562.4931621551514,"wires":[["797c8bdf.34b184"]]},{"id":"797c8bdf.34b184","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":963.6923370361328,"y":1565.350149154663,"wires":[["362cb9f6.1c94a6"],[]]},{"id":"362cb9f6.1c94a6","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.2044525146484,"y":1565.350284576416,"wires":[["ccc81c17.37b51"]]},{"id":"ccc81c17.37b51","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1458.9898681640625,"y":1554.0208721160889,"wires":[[],[],[],[],[],[],[],[],[],[],[],["982bd851.a61468"],[],[],[],[]]},{"id":"29cb7eed.c37d22","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1362.7400512695312,"y":1956.1048431396484,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["6daac4e.863893c"]]},{"id":"ce450b1f.f87958","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1152.8570156097412,"y":2099.993224143982,"wires":[["91452517.498e88"]]},{"id":"eabec07a.63a0b","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":939.3450374603271,"y":2103.7429523468018,"wires":[["ce450b1f.f87958"],[]]},{"id":"6daac4e.863893c","type":"function","z":"ebf61fb2.31eb4","name":"R_5005_marshrut_setpoint_bit_1","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_0 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.3570785522461,"y":2106.242983818054,"wires":[["eabec07a.63a0b"]]},{"id":"91452517.498e88","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1493.9899921417236,"y":2097.228751182556,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b03b6fcd.698dd"],[]]},{"id":"b03b6fcd.698dd","type":"function","z":"ebf61fb2.31eb4","name":"R_5005_marshrut_setpoint_bit_2","func":"var status_all = flow.get('status_all');\nstatus_all.marshrut_setpoint_bit_1 = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":672.8787460327148,"y":2233.743224143982,"wires":[["6a410278.3968ac"]]},{"id":"6a410278.3968ac","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":936.8667049407959,"y":2231.2431926727295,"wires":[["4bd0b632.33bb38"],[]]},{"id":"4bd0b632.33bb38","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1150.37868309021,"y":2227.4934644699097,"wires":[["3abde190.8643ee"]]},{"id":"3abde190.8643ee","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1348.0176010131836,"y":2243.743224143982,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["518c1086.b6eb9"],[],[]]},{"id":"b2254c7.c87f8b","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1601.6860733032227,"y":209.69043731689453,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["e24eec2.cfd2f1"],[],[]]},{"id":"cb25de0f.138b7","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1628.156608581543,"y":551.659833908081,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["dd4490bc.1a742"]]},{"id":"286a4e3f.89ee82","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1575.6566162109375,"y":834.4376029968262,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["5d668f2d.d56dc"],[],[]]},{"id":"e11b02f.aa4ca","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1637.7398948669434,"y":1126.3820552825928,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["c8430d4b.e80f6"],[]]},{"id":"3adfd77c.5b7b88","type":"function","z":"ebf61fb2.31eb4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1635.6565475463867,"y":1391.659818649292,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["44e37937.200428"],[],[],[]]},{"id":"bc591322.3bd6a","type":"http response","z":"ebf61fb2.31eb4","name":"","x":1321.3572807312012,"y":2949.892738342285,"wires":[]},{"id":"cc122875.2c6a38","type":"debug","z":"ebf61fb2.31eb4","name":"","active":true,"console":"false","complete":"payload","x":1350.3455123901367,"y":3003.666630744934,"wires":[]},{"id":"d94d477b.e56708","type":"function","z":"ebf61fb2.31eb4","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":512.5000152587891,"y":1983.7498664855957,"wires":[["82bcbcfb.7e599"]]},{"id":"82bcbcfb.7e599","type":"modbus-flex-getter","z":"ebf61fb2.31eb4","name":"","showStatusActivities":false,"showErrors":false,"server":"9f2bbfe9.d69b","x":796.4879684448242,"y":1986.2497005462646,"wires":[["268af303.fab6bc"],[]]},{"id":"268af303.fab6bc","type":"function","z":"ebf61fb2.31eb4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1011.249870300293,"y":1980.0000228881836,"wires":[["760775a6.ecc20c"]]},{"id":"c5547c2e.f5ac7","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1990.5233154296875,"y":2277.038818359375,"wires":[["ce098e53.26365"]]},{"id":"6c747da9.2b77f4","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_number","func":"var status_all = flow.get('status_all');\nstatus_all.zayavka = msg.payload;\nflow.set('status_all',status_all);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":495.02344512939453,"y":1948.0389795303345,"wires":[["42a48190.667ed"]]},{"id":"42a48190.667ed","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":773.0113906860352,"y":1938.5390424728394,"wires":[["9303fd76.17f36"],[]]},{"id":"9303fd76.17f36","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1008.5234222412109,"y":1934.7892265319824,"wires":[["3e92b609.ff5bfa"]]},{"id":"8e0d56ac.6853f8","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_number","func":"var status_all_k2 = flow.get('status_all_k2');\nstatus_all_k2.zayavka = msg.payload;\nflow.set('status_all_k2',status_all_k2);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2230.0234375,"y":1932.0389404296875,"wires":[["7eb9f8f0.d5b5c8"]]},{"id":"7eb9f8f0.d5b5c8","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2508.0113830566406,"y":1922.5390033721924,"wires":[["2053efc7.a7ca7"],[]]},{"id":"2053efc7.a7ca7","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2743.5234146118164,"y":1918.7891874313354,"wires":[["4bbf8d40.d74524"]]},{"id":"97f0b4d5.1f6cf8","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.marshrut_setpoint_number = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3962.023147583008,"y":2008.0389862060547,"wires":[["b70d89bb.008198"]]},{"id":"3c679b60.56f634","type":"function","z":"a3ec1c26.65c37","name":"R_5005_marshrut_setpoint_number","func":"var status_all_k3 = flow.get('status_all_k3');\nstatus_all_k3.zayavka = msg.payload;\nflow.set('status_all_k3',status_all_k3);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3887.616897583008,"y":1910.1104564666748,"wires":[["4ba650ce.b2881"]]},{"id":"4ba650ce.b2881","type":"modbus-flex-getter","z":"a3ec1c26.65c37","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":4189.605308532715,"y":1912.6105785369873,"wires":[["d272dd99.d93f5"],[]]},{"id":"d272dd99.d93f5","type":"function","z":"a3ec1c26.65c37","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4380.117279052734,"y":1917.8605785369873,"wires":[["97f0b4d5.1f6cf8"]]},{"id":"d5bcb613.eacd88","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.marshrut_setpoint_number = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":537.0234527587891,"y":2144.0391731262207,"wires":[["674c0f28.bb5bd"]]},{"id":"bd875237.7e56","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_number","func":"var status_all_k4 = flow.get('status_all_k4');\nstatus_all_k4.zayavka = msg.payload;\nflow.set('status_all_k4',status_all_k4);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":509.61720275878906,"y":2044.1106433868408,"wires":[["6c9304f7.67300c"]]},{"id":"6c9304f7.67300c","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":797.6051559448242,"y":2043.6107654571533,"wires":[["b0e3b7f3.92b408"],[]]},{"id":"b0e3b7f3.92b408","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":990.1172180175781,"y":2045.860948562622,"wires":[["d5bcb613.eacd88"]]},{"id":"9a33751a.06dcd8","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.marshrut_setpoint_number = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2278.0234375,"y":2103.0390625,"wires":[["193ec6ee.a88c29"]]},{"id":"2349d7b.4490728","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_number","func":"var status_all_k5 = flow.get('status_all_k5');\nstatus_all_k5.zayavka = msg.payload;\nflow.set('status_all_k5',status_all_k5);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2208.617198944092,"y":2039.1105241775513,"wires":[["c0458b5a.9b2ba8"]]},{"id":"c0458b5a.9b2ba8","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2486.6051445007324,"y":2029.6105871200562,"wires":[["4ce074e4.41b42c"],[]]},{"id":"4ce074e4.41b42c","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2722.117176055908,"y":2025.8607711791992,"wires":[["9a33751a.06dcd8"]]},{"id":"f0286d6d.65e2a","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_bit_0","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.marshrut_setpoint_number = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3929.023162841797,"y":2118.0392932891846,"wires":[["7d7c6f66.37a1c"]]},{"id":"28f11b8c.156804","type":"function","z":"64e1bfa5.5ebd3","name":"R_5005_marshrut_setpoint_number","func":"var status_all_k6 = flow.get('status_all_k6');\nstatus_all_k6.zayavka = msg.payload;\nflow.set('status_all_k6',status_all_k6);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3878.616954803467,"y":2015.1105241775513,"wires":[["3d51fa05.dd1fc6"]]},{"id":"3d51fa05.dd1fc6","type":"modbus-flex-getter","z":"64e1bfa5.5ebd3","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":4156.604900360107,"y":2005.6105871200562,"wires":[["fa46acce.aa8cb"],[]]},{"id":"fa46acce.aa8cb","type":"function","z":"64e1bfa5.5ebd3","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":4392.116931915283,"y":2001.8607711791992,"wires":[["f0286d6d.65e2a"]]}]
