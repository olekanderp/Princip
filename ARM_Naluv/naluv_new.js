[{"id":"6827c201.44d26c","type":"tab","label":"ARM Naliv"},{"id":"2b7caf95.f1aa6","type":"tab","label":"Interface"},{"id":"4e43cc07.6e3564","type":"tab","label":"ARM naliva STATUS data"},{"id":"cd34e71a.f9b228","type":"tab","label":"Read_status_klapan_pump"},{"id":"5d4a5441.06d74c","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":false,"stateLogEnabled":false,"tcpHost":"192.168.0.201","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"93b99d9e.1cf4b","type":"ui_tab","z":"","name":"Modbus","icon":"memory","order":15},{"id":"33ed2dde.c9dab2","type":"modbustcp-server","z":"cd34e71a.f9b228","host":"192.168.0.20","port":"502","unit_id":"1"},{"id":"84d54d36.a3ecb","type":"modbustcp-server","z":"cd34e71a.f9b228","host":"192.168.0.20","port":"502","unit_id":"1"},{"id":"15897232.2c8bde","type":"modbustcp-server","z":"cd34e71a.f9b228","host":"192.168.0.20","port":"502","unit_id":"1"},{"id":"341c3350.a4422c","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":652,"y":88,"wires":[[],["cafb3f5.57ad1c","b3fd5df5.06e9a"]]},{"id":"cc89cfcf.c0b06","type":"function","z":"6827c201.44d26c","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":478.22222900390625,"y":86.66667175292969,"wires":[["341c3350.a4422c"]]},{"id":"b3fd5df5.06e9a","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":808.333251953125,"y":141.88890075683594,"wires":[]},{"id":"19f53f48.9e6111","type":"function","z":"6827c201.44d26c","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   orderId: 1234,\n   track: 0,\n   volume: 978.20\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":342.22220611572266,"y":85.5555534362793,"wires":[["cc89cfcf.c0b06"]]},{"id":"95ae3977.c24668","type":"http in","z":"6827c201.44d26c","name":"","url":"/setOrders","method":"post","swaggerDoc":"","x":120,"y":20,"wires":[["19f53f48.9e6111","49881f5f.9f8db"]]},{"id":"fe4929d.54e73d8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":124.44445037841797,"y":82.22222232818604,"wires":[["19f53f48.9e6111"]]},{"id":"6ec54daf.930d64","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":574.5555419921875,"y":143.22222137451172,"wires":[["b3fd5df5.06e9a"],["36d2fb36.55a8f4"]]},{"id":"36d2fb36.55a8f4","type":"function","z":"6827c201.44d26c","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":268.6667175292969,"y":190.44442749023438,"wires":[["aa5937b7.c85218"]]},{"id":"aa5937b7.c85218","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":451.00006103515625,"y":192.33334350585938,"wires":[[],["325f070b.aeb478"]]},{"id":"e8f49779.3786e8","type":"http in","z":"6827c201.44d26c","name":"","url":"/status","method":"get","swaggerDoc":"","x":1376.6666870117188,"y":927.7778167724609,"wires":[["9e09af31.592ff"]]},{"id":"49881f5f.9f8db","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":350,"y":20,"wires":[]},{"id":"486afa29.4bc8e4","type":"http in","z":"6827c201.44d26c","name":"","url":"/status","method":"post","swaggerDoc":"","x":1393.333351135254,"y":1092.861117362976,"wires":[["d480b459.5e8528","4679b12b.404c6"]]},{"id":"d480b459.5e8528","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1593.083351135254,"y":1096.1111249923706,"wires":[["6c5b3ff3.df2e8"]]},{"id":"6c5b3ff3.df2e8","type":"function","z":"6827c201.44d26c","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1723.333339691162,"y":1099.527720451355,"wires":[["d3a2dd7f.347aa"]]},{"id":"3d95dd8d.d87252","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2126.7461853027344,"y":928.4127540588379,"wires":[]},{"id":"ca564506.db3438","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1379.4444580078125,"y":881.1111278533936,"wires":[["9e09af31.592ff"]]},{"id":"d3a2dd7f.347aa","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1892.2222290039062,"y":1100.6388521194458,"wires":[[],["d4427682.9ec0f8"]]},{"id":"d4427682.9ec0f8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2077.5277786254883,"y":1106.1111364364624,"wires":[]},{"id":"b92a475c.fd1df8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1745.2500305175781,"y":930.0833625793457,"wires":[["aedee1db.844ff"],[]]},{"id":"9e09af31.592ff","type":"function","z":"6827c201.44d26c","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1571.4722480773926,"y":927.8611392974854,"wires":[["b92a475c.fd1df8"]]},{"id":"bb398ecf.6b61b","type":"comment","z":"6827c201.44d26c","name":"Read_R5002","info":"","x":1687.333366394043,"y":883.0000066757202,"wires":[]},{"id":"48ce71c6.96334","type":"comment","z":"6827c201.44d26c","name":"Write_R5002","info":"","x":1685.3055419921875,"y":982.7778015136719,"wires":[]},{"id":"7fdf34a0.aea48c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1363.083351135254,"y":1056.1111249923706,"wires":[["d480b459.5e8528"]]},{"id":"d1ebbd58.8bb8f","type":"http response","z":"6827c201.44d26c","name":"","x":2178.730182647705,"y":987.6190900802612,"wires":[]},{"id":"b8f2a494.c57eb8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1958.8888626098633,"y":984.4445056915283,"wires":[["d1ebbd58.8bb8f"]]},{"id":"325f070b.aeb478","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"false","x":803.8778686523438,"y":189.22222900390625,"wires":[]},{"id":"407e36b8.d0e8a8","type":"function","z":"6827c201.44d26c","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":401.5555725097656,"y":144.88887786865234,"wires":[["6ec54daf.930d64"]]},{"id":"cafb3f5.57ad1c","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(0),b.readUInt16BE(2)]; \nreturn msg;","outputs":1,"noerr":0,"x":263.88887786865234,"y":143.66668510437012,"wires":[["407e36b8.d0e8a8"]]},{"id":"34dc86a5.7eea0a","type":"comment","z":"6827c201.44d26c","name":"read_PLC input status","info":"","x":1619.6667938232422,"y":648.1111249923706,"wires":[]},{"id":"2b91fbd8.0716b4","type":"http in","z":"6827c201.44d26c","name":"","url":"/PLCInputStatus","method":"get","swaggerDoc":"","x":1338.2223472595215,"y":687.3334140777588,"wires":[["f4ff6c06.1e238"]]},{"id":"f4ff6c06.1e238","type":"function","z":"6827c201.44d26c","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1539.2223472595215,"y":685.3334140777588,"wires":[["7bcc395b.3d8bf8"]]},{"id":"7bcc395b.3d8bf8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1735.2223472595215,"y":692.3334140777588,"wires":[["3ff95cb0.b63394","70805aaf.af48d4"],[]]},{"id":"3ff95cb0.b63394","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1934.2223472595215,"y":686.3334140777588,"wires":[]},{"id":"19d81e5b.225f52","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1277.2223472595215,"y":636.3334140777588,"wires":[["f4ff6c06.1e238"]]},{"id":"fc411fcb.947fb","type":"comment","z":"6827c201.44d26c","name":"read_register_error","info":"","x":453.6667022705078,"y":909.1111068725586,"wires":[]},{"id":"a0322562.cde268","type":"http in","z":"6827c201.44d26c","name":"","url":"/RegisterError","method":"get","swaggerDoc":"","x":180.0000457763672,"y":968.3333367109299,"wires":[["a6567dfc.9cc47"]]},{"id":"a6567dfc.9cc47","type":"function","z":"6827c201.44d26c","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":381.0000457763672,"y":966.3333367109299,"wires":[["7aaa2518.7b945c"]]},{"id":"7aaa2518.7b945c","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":577.0000457763672,"y":973.3333367109299,"wires":[["d48af736.7a1f18"],[]]},{"id":"4d3c5b32.b83c74","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":976.000114440918,"y":970.1904735565186,"wires":[]},{"id":"4bcb654.b94f99c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":119.00004577636719,"y":917.3333367109299,"wires":[["a6567dfc.9cc47"]]},{"id":"439fa641.4a7db8","type":"comment","z":"6827c201.44d26c","name":"read_Speed_flow","info":"","x":438,"y":1282.8888082504272,"wires":[]},{"id":"63af063d.fa46b8","type":"http in","z":"6827c201.44d26c","name":"","url":"/SpeedFlow","method":"get","swaggerDoc":"","x":125,"y":1338.8888082504272,"wires":[["a5ae6f67.a3896"]]},{"id":"a5ae6f67.a3896","type":"function","z":"6827c201.44d26c","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":336,"y":1336.8888082504272,"wires":[["ae70b752.0be748"]]},{"id":"ae70b752.0be748","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":532,"y":1343.8888082504272,"wires":[["5e05f1fb.3e3db"],[]]},{"id":"5aaca9e.ded6258","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":74,"y":1287.8888082504272,"wires":[["a5ae6f67.a3896"]]},{"id":"413f37d8.4be368","type":"comment","z":"6827c201.44d26c","name":"read_V_flow","info":"","x":406.44444274902344,"y":1397.3332242965698,"wires":[]},{"id":"8f042192.cd4ef","type":"http in","z":"6827c201.44d26c","name":"","url":"/VFlow","method":"get","swaggerDoc":"","x":119.44444274902344,"y":1474.3332242965698,"wires":[["5dc4eba2.77d9a4"]]},{"id":"5dc4eba2.77d9a4","type":"function","z":"6827c201.44d26c","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1472.3332242965698,"wires":[["9acf827e.cf3d6"]]},{"id":"9acf827e.cf3d6","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":1479.3332242965698,"wires":[["3b48b378.f73a7c"],[]]},{"id":"303dbd33.755412","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1423.3332242965698,"wires":[["5dc4eba2.77d9a4"]]},{"id":"86d76607.4a70c8","type":"http in","z":"6827c201.44d26c","name":"","url":"/resetError","method":"post","swaggerDoc":"","x":168.88893508911133,"y":1073.6666439771652,"wires":[["ee693202.cbb68","ec871507.fb1368"]]},{"id":"441be100.be8e8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":888.9999580383301,"y":1068.6666439771652,"wires":[]},{"id":"46b17c67.e8f084","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":707.6667060852051,"y":1069.7777279615402,"wires":[["441be100.be8e8"],["441be100.be8e8"]]},{"id":"32261e9c.2f48b2","type":"function","z":"6827c201.44d26c","name":"25","func":"var Reset_Error = flow.get('Reset_Error');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_Error.Reset_Error, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":525.8889656066895,"y":1069.4443539381027,"wires":[["46b17c67.e8f084"]]},{"id":"ee693202.cbb68","type":"function","z":"6827c201.44d26c","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n/* var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":383.8889350891113,"y":1070.33329474926,"wires":[["32261e9c.2f48b2"]]},{"id":"7b6d7968.8f0458","type":"comment","z":"6827c201.44d26c","name":"read_M_flow","info":"","x":411.44444274902344,"y":1571.3332242965698,"wires":[]},{"id":"5ac8fa05.914bb4","type":"http in","z":"6827c201.44d26c","name":"","url":"/MFlow","method":"get","swaggerDoc":"","x":124.44444274902344,"y":1648.3332242965698,"wires":[["8e9b9322.28b77"]]},{"id":"8e9b9322.28b77","type":"function","z":"6827c201.44d26c","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":345.44444274902344,"y":1646.3332242965698,"wires":[["48b1f594.ca452c"]]},{"id":"48b1f594.ca452c","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":541.4444427490234,"y":1653.3332242965698,"wires":[["caba9f73.04581"],[]]},{"id":"362dfcff.e2f414","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1055.4444541931152,"y":1648.9998807907104,"wires":[]},{"id":"8864025.deabc","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":83.44444274902344,"y":1597.3332242965698,"wires":[["8e9b9322.28b77"]]},{"id":"6c8ce18e.db8c4","type":"comment","z":"6827c201.44d26c","name":"read_T_flow","info":"","x":406.44444274902344,"y":1733.3332242965698,"wires":[]},{"id":"2b2fb847.2b5578","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlow","method":"get","swaggerDoc":"","x":109.44444274902344,"y":1810.3332242965698,"wires":[["a0867fba.76faf"]]},{"id":"a0867fba.76faf","type":"function","z":"6827c201.44d26c","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1808.3332242965698,"wires":[["d08f6cca.c8a79"]]},{"id":"d08f6cca.c8a79","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":1815.3332242965698,"wires":[["6676e9b7.348bf8"],[]]},{"id":"c9b17457.da6df8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1038.7777786254883,"y":1814.3332605361938,"wires":[]},{"id":"5a16bac3.674a44","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1759.3332242965698,"wires":[["a0867fba.76faf"]]},{"id":"2440ac9f.372b84","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow","info":"","x":426.44444274902344,"y":1885.3332242965698,"wires":[]},{"id":"98aeca2a.c942b8","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostFlow","method":"get","swaggerDoc":"","x":139.44444274902344,"y":1962.3332242965698,"wires":[["53d91241.c5c47c"]]},{"id":"53d91241.c5c47c","type":"function","z":"6827c201.44d26c","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1960.3332242965698,"wires":[["53c3cd2a.abadf4"]]},{"id":"53c3cd2a.abadf4","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":1967.3332242965698,"wires":[["405e3dd1.7be1c4"],[]]},{"id":"6565f56a.d7e9cc","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1911.3332242965698,"wires":[["53d91241.c5c47c"]]},{"id":"2b3a92a4.7634be","type":"comment","z":"6827c201.44d26c","name":"read_T_flow_middle","info":"","x":412,"y":2072.8888664245605,"wires":[]},{"id":"c2ee268.74753d8","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlowMiddle","method":"get","swaggerDoc":"","x":139.44444274902344,"y":2124.33322429657,"wires":[["cce66826.d91bd8"]]},{"id":"cce66826.d91bd8","type":"function","z":"6827c201.44d26c","name":"64+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 64 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":2122.33322429657,"wires":[["fcab227f.56daa"]]},{"id":"fcab227f.56daa","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.4444427490234,"y":2129.33322429657,"wires":[["65d43092.7d928"],[]]},{"id":"195065ad.21381a","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":2073.33322429657,"wires":[["cce66826.d91bd8"]]},{"id":"b4f42a30.7b3308","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_middle","info":"","x":436.6666946411133,"y":2247.000082015991,"wires":[]},{"id":"e6a312d5.e9214","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostMiddle","method":"get","swaggerDoc":"","x":146.3333740234375,"y":2307.333320617676,"wires":[["85e8ac57.87916"]]},{"id":"85e8ac57.87916","type":"function","z":"6827c201.44d26c","name":"76+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 76 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":347.3333740234375,"y":2305.333320617676,"wires":[["1dc1830e.8ae3fd"]]},{"id":"1dc1830e.8ae3fd","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.3333740234375,"y":2312.333320617676,"wires":[["ebf16ff3.90f6"],[]]},{"id":"69ad4f47.9c15d","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":85.3333740234375,"y":2256.333320617676,"wires":[["85e8ac57.87916"]]},{"id":"7217faa3.3f26b4","type":"comment","z":"6827c201.44d26c","name":"write_error_reset","info":"","x":470.7778091430664,"y":1023.6666144132614,"wires":[]},{"id":"f27f9581.996cd8","type":"http in","z":"6827c201.44d26c","name":"","url":"/ResetCounter12","method":"post","swaggerDoc":"","x":167.9167022705078,"y":2523.3332929611206,"wires":[["6c5a5d43.01dda4","a2506d50.4e6f9"]]},{"id":"1770a983.99eeb6","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":989.694450378418,"y":2531.0437145233154,"wires":[]},{"id":"a861c0fc.56acc","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":734.6111221313477,"y":2529.8332929611206,"wires":[[],["1770a983.99eeb6"]]},{"id":"b41f483f.eff0e8","type":"function","z":"6827c201.44d26c","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":576.138952255249,"y":2525.3332843780518,"wires":[["a861c0fc.56acc"]]},{"id":"6c5a5d43.01dda4","type":"function","z":"6827c201.44d26c","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":426.6111526489258,"y":2523.7778730392456,"wires":[["b41f483f.eff0e8"]]},{"id":"f53acd71.2fa38","type":"comment","z":"6827c201.44d26c","name":"write_Reset_counter1/2","info":"","x":471.9166946411133,"y":2479.3332920074463,"wires":[]},{"id":"e63db09c.07606","type":"http in","z":"6827c201.44d26c","name":"","url":"/ResetCounter3","method":"post","swaggerDoc":"","x":149.16670989990234,"y":2630.8333349227905,"wires":[["40fafac9.53ff94","332be98.30b5f16"]]},{"id":"9d1fcb52.766778","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":914.6110687255859,"y":2629.6110849380493,"wires":[]},{"id":"89abd34d.b242c","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":709.0555953979492,"y":2634.722222328186,"wires":[[],["9d1fcb52.766778"]]},{"id":"71b6d2f4.0e7c1c","type":"function","z":"6827c201.44d26c","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":537.3889350891113,"y":2632.944390773773,"wires":[["89abd34d.b242c"]]},{"id":"40fafac9.53ff94","type":"function","z":"6827c201.44d26c","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":394.16670989990234,"y":2632.5000829696655,"wires":[["71b6d2f4.0e7c1c"]]},{"id":"c73c8f2f.646c","type":"comment","z":"6827c201.44d26c","name":"write_Reset_counter_3","info":"","x":481.63893127441406,"y":2576.388753890991,"wires":[]},{"id":"8c3acabb.3376c8","type":"http in","z":"6827c201.44d26c","name":"","url":"/SetLflowStart","method":"post","swaggerDoc":"","x":135,"y":2880.9722118377686,"wires":[["59cb2639.321eb8","8b52bfb7.3a4f4"]]},{"id":"6ab889ad.96f5e8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":930.9999084472656,"y":2951.0001182556152,"wires":[]},{"id":"9145d5a9.bc8728","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":744.4722633361816,"y":2957.0832357406616,"wires":[["6ab889ad.96f5e8"],[]]},{"id":"f60306a6.0e8b28","type":"function","z":"6827c201.44d26c","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":558.3610801696777,"y":2959.7498474121094,"wires":[["9145d5a9.bc8728"]]},{"id":"59cb2639.321eb8","type":"function","z":"6827c201.44d26c","name":"with_1c","func":"var setflowstart = msg.payload;\n/* var setflowstart = \n{\n  'volume': 789.89\n};\n*/\nflow.set('setflowstart',setflowstart);\nreturn msg;","outputs":"1","noerr":0,"x":269.02783966064453,"y":2960.555675506592,"wires":[["6c6b1093.1d8d3"]]},{"id":"3900fed7.d847c2","type":"comment","z":"6827c201.44d26c","name":"write_Set_Lflow_start","info":"","x":479.5555877685547,"y":2849.16654586792,"wires":[]},{"id":"986b24c4.eb8ca8","type":"comment","z":"6827c201.44d26c","name":"read_Set_Lflow_start","info":"","x":452.44446563720703,"y":3022.916549682617,"wires":[]},{"id":"2d6eb20f.45248e","type":"http in","z":"6827c201.44d26c","name":"","url":"/SetLflowStart","method":"get","swaggerDoc":"","x":172.94446563720703,"y":3085.750045776367,"wires":[["49324060.b1edb"]]},{"id":"49324060.b1edb","type":"function","z":"6827c201.44d26c","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":395.19446563720703,"y":3085.000045776367,"wires":[["d66a163.ef56fe8"]]},{"id":"d66a163.ef56fe8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":601.194465637207,"y":3070.750045776367,"wires":[["7254d10f.a0a5e"],[]]},{"id":"c0f303fe.81254","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1141.444480895996,"y":3066.00044631958,"wires":[]},{"id":"90f02e53.5212","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.19446563720703,"y":3036.000045776367,"wires":[["49324060.b1edb"]]},{"id":"6c6b1093.1d8d3","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('setflowstart').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\nmsg.payload = [b.readInt16BE(0),b.readInt16BE(2)]; \nreturn msg;","outputs":1,"noerr":0,"x":408.2777442932129,"y":2958.028284072876,"wires":[["f60306a6.0e8b28"]]},{"id":"de3e5a68.f4d748","type":"http in","z":"6827c201.44d26c","name":"","url":"/SetLflowStop","method":"post","swaggerDoc":"","x":135.83335876464844,"y":3216.666551589966,"wires":[["3eac5770.72a0f8","3a00a561.5e8d7a"]]},{"id":"5d844a69.328264","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":795.7222442626953,"y":3218.194383621216,"wires":[["84e559ea.42b318"],[]]},{"id":"22c894b9.c5166c","type":"function","z":"6827c201.44d26c","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":636.1388664245605,"y":3218.6387214660645,"wires":[["5d844a69.328264"]]},{"id":"3eac5770.72a0f8","type":"function","z":"6827c201.44d26c","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":359.4445114135742,"y":3215.138719558716,"wires":[["941c118.ac7a9f"]]},{"id":"ac95a3ca.738a1","type":"comment","z":"6827c201.44d26c","name":"write_Set_Lflow_stop","info":"","x":499.55558013916016,"y":3164.8608860969543,"wires":[]},{"id":"5b98e7dd.76e358","type":"comment","z":"6827c201.44d26c","name":"read_Set_Lflow_stopt","info":"","x":468.5555419921875,"y":3308.8886394500732,"wires":[]},{"id":"fae9c56a.6ed6c8","type":"http in","z":"6827c201.44d26c","name":"","url":"/SetLflowStop","method":"get","swaggerDoc":"","x":211.5555419921875,"y":3359.222074508667,"wires":[["1be20af5.3419b5"]]},{"id":"1be20af5.3419b5","type":"function","z":"6827c201.44d26c","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":422.5555419921875,"y":3357.222074508667,"wires":[["5e716d79.674984"]]},{"id":"5e716d79.674984","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":608.5555419921875,"y":3364.222074508667,"wires":[["63e2b9d7.2ff008"],[]]},{"id":"980abacc.bf04b8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":150.5555419921875,"y":3308.222074508667,"wires":[["1be20af5.3419b5"]]},{"id":"941c118.ac7a9f","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(0),b.readUInt16BE(2)]; \nreturn msg;","outputs":1,"noerr":0,"x":502.4444046020508,"y":3217.750292778015,"wires":[["22c894b9.c5166c"]]},{"id":"84e559ea.42b318","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":985.2777099609375,"y":3215.5832805633545,"wires":[]},{"id":"9b546985.b404b8","type":"http in","z":"6827c201.44d26c","name":"","url":"/ProtokMin","method":"post","swaggerDoc":"","x":130.41671752929688,"y":3715.6943588256836,"wires":[["f7f52b5e.814508","c12811cd.7858d"]]},{"id":"fd7914af.349f58","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":776.5555953979492,"y":3694.7221908569336,"wires":[["d2481380.a3cc6"],[]]},{"id":"601b9bfd.903f04","type":"function","z":"6827c201.44d26c","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":611.972225189209,"y":3712.6665267944336,"wires":[["fd7914af.349f58"]]},{"id":"f7f52b5e.814508","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"var protokmin = msg.payload;\n/* var protokmin = \n {\n   \"volume\": 668.75,\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":341.52788162231445,"y":3715.4165258407593,"wires":[["1c3a23cb.c6eacc"]]},{"id":"6079868b.d75478","type":"comment","z":"6827c201.44d26c","name":"write_Protok_min","info":"","x":496.6389389038086,"y":3630.138692855835,"wires":[]},{"id":"2f692d79.8e4a82","type":"comment","z":"6827c201.44d26c","name":"read_Protok_Min","info":"","x":475.63890838623047,"y":3795.4165267944336,"wires":[]},{"id":"7852be78.a2dce","type":"http in","z":"6827c201.44d26c","name":"","url":"/ProtokMin","method":"get","swaggerDoc":"","x":171.55558013916016,"y":3864.3613500595093,"wires":[["bae6d919.a7ba28"]]},{"id":"bae6d919.a7ba28","type":"function","z":"6827c201.44d26c","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":395.88890838623047,"y":3861.250024795532,"wires":[["53b4d1df.a8ac8"]]},{"id":"53b4d1df.a8ac8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":581.8889083862305,"y":3868.250024795532,"wires":[["65d27d03.ef7dc4"],[]]},{"id":"b7e34ee.53299b","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":123.88890838623047,"y":3812.250024795532,"wires":[["bae6d919.a7ba28"]]},{"id":"1c3a23cb.c6eacc","type":"function","z":"6827c201.44d26c","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(0),b.readUInt16BE(2)]; \nreturn msg;","outputs":1,"noerr":0,"x":477.0277633666992,"y":3715.5280990600586,"wires":[["601b9bfd.903f04"]]},{"id":"d2481380.a3cc6","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":959.611083984375,"y":3738.3608627319336,"wires":[]},{"id":"2fc89027.b48d4","type":"http in","z":"6827c201.44d26c","name":"","url":"/ProtokDeadTime","method":"post","swaggerDoc":"","x":148.33335876464844,"y":4023.74978351593,"wires":[["b38eb291.2c52d","db7b25e7.b8b748"]]},{"id":"3a9306f7.a500fa","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":772.8056488037109,"y":4098.77779006958,"wires":[["96fee46e.23f6c8"],[]]},{"id":"a053d897.b04058","type":"comment","z":"6827c201.44d26c","name":"write_Protok_Dead_time","info":"","x":496.63893127441406,"y":3971.944118499756,"wires":[]},{"id":"fc9a648c.c70378","type":"comment","z":"6827c201.44d26c","name":"read_Protok_Dead_time","info":"","x":478.13890838623047,"y":4164.721953392029,"wires":[]},{"id":"54b92806.39aea8","type":"http in","z":"6827c201.44d26c","name":"","url":"/ProtokDeadTime","method":"get","swaggerDoc":"","x":148.33335876464844,"y":4249.916778564453,"wires":[["efc5b126.8b90a"]]},{"id":"efc5b126.8b90a","type":"function","z":"6827c201.44d26c","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":375.88890838623047,"y":4248.055450439453,"wires":[["34be1c88.516d94"]]},{"id":"34be1c88.516d94","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":546.8889083862305,"y":4246.305450439453,"wires":[["93c1f2b6.33791"],[]]},{"id":"f02a82cb.a48","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":117.6389045715332,"y":4209.055449485779,"wires":[["efc5b126.8b90a"]]},{"id":"96fee46e.23f6c8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1003.8610877990723,"y":4088.6667881011963,"wires":[]},{"id":"afecfb24.d0f7d8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":113.75003051757812,"y":2931.111083984375,"wires":[["59cb2639.321eb8"]]},{"id":"34648aa1.936456","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":104.44449615478516,"y":3984.7219524383545,"wires":[["db7b25e7.b8b748"]]},{"id":"4679b12b.404c6","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":1613.0833358764648,"y":1038.33332157135,"wires":[]},{"id":"8a5affac.3a023","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_marshrut","info":"","x":1618.5556030273438,"y":495.5556945800781,"wires":[]},{"id":"25c22e24.8461b2","type":"http in","z":"6827c201.44d26c","name":"","url":"/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1324.8889846801758,"y":558.1111488342285,"wires":[["5082a571.b4f79c"]]},{"id":"5082a571.b4f79c","type":"function","z":"6827c201.44d26c","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1544.77787399292,"y":541.6666927337646,"wires":[["4f8edd29.308e04"]]},{"id":"4f8edd29.308e04","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":1704.1112022399902,"y":542.000072479248,"wires":[["d8b8af10.41013"],[]]},{"id":"6e4334d3.b83f2c","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":2093.270221710205,"y":538.8572196960449,"wires":[]},{"id":"a582baac.161a48","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1257.222297668457,"y":519.3334159851074,"wires":[["5082a571.b4f79c"]]},{"id":"4fc00d5b.a3e8e4","type":"http response","z":"6827c201.44d26c","name":"","x":2127.6192588806152,"y":596.6666650772095,"wires":[]},{"id":"e07ef3ec.6f383","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1969.0477142333984,"y":605.8730173110962,"wires":[["4fc00d5b.a3e8e4"]]},{"id":"18b7dfb8.400f6","type":"http response","z":"6827c201.44d26c","name":"","x":2077.7778816223145,"y":726.6667728424072,"wires":[]},{"id":"70805aaf.af48d4","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1922.2223281860352,"y":731.11119556427,"wires":[["18b7dfb8.400f6"]]},{"id":"ec871507.fb1368","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":292.7777976989746,"y":1028.8888367414474,"wires":[]},{"id":"b6338849.f79788","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":121.00001525878906,"y":1030.9999359846115,"wires":[["ee693202.cbb68"]]},{"id":"2862063d.520b6a","type":"http response","z":"6827c201.44d26c","name":"","x":1133.8887176513672,"y":1719.444260597229,"wires":[]},{"id":"bdd75326.cd5fc","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":982.7777481079102,"y":1721.6665105819702,"wires":[["2862063d.520b6a"]]},{"id":"65b696ba.b32608","type":"http response","z":"6827c201.44d26c","name":"","x":1143.8888931274414,"y":1899.4443731307983,"wires":[]},{"id":"986ff7a7.430858","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":992.7778015136719,"y":1898.333264350891,"wires":[["65b696ba.b32608"]]},{"id":"332be98.30b5f16","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":252.0833511352539,"y":2573.3332948684692,"wires":[]},{"id":"a2506d50.4e6f9","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":277.0833435058594,"y":2454.583254814148,"wires":[]},{"id":"b894c6dc.fdd5d8","type":"http in","z":"6827c201.44d26c","name":"","url":"/SecondForScada","method":"get","swaggerDoc":"","x":145,"y":2791.25,"wires":[["5592b12f.b626b"]]},{"id":"b4a8d601.a7a8e8","type":"comment","z":"6827c201.44d26c","name":"read_Second_for_scada","info":"","x":487.4722213745117,"y":2736.8054189682007,"wires":[]},{"id":"5592b12f.b626b","type":"function","z":"6827c201.44d26c","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":365.0000057220459,"y":2793.75004196167,"wires":[["3b7daf9c.ae918"]]},{"id":"3b7daf9c.ae918","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":536.25,"y":2793.75,"wires":[["e18d19a0.576a28"],[]]},{"id":"d464ac06.d98b4","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":959.5357933044434,"y":2782.0356607437134,"wires":[]},{"id":"6172168b.76bcd8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":713.3334197998047,"y":2854.7500801086426,"wires":[["905b11eb.fc8bb"]]},{"id":"905b11eb.fc8bb","type":"http response","z":"6827c201.44d26c","name":"","x":856.6666412353516,"y":2854.75,"wires":[]},{"id":"37ee089c.45ece8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":93.75,"y":2751.25,"wires":[["5592b12f.b626b"]]},{"id":"b8be5235.7cc17","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1155.8333282470703,"y":3148.749963760376,"wires":[["82ff15d0.ec75d8"]]},{"id":"82ff15d0.ec75d8","type":"http response","z":"6827c201.44d26c","name":"","x":1300.8333206176758,"y":3147.0833225250244,"wires":[]},{"id":"8b52bfb7.3a4f4","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":370.00000762939453,"y":2911.2500429153442,"wires":[]},{"id":"3a00a561.5e8d7a","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":257.50000762939453,"y":3147.500045776367,"wires":[]},{"id":"3a2f8682.c1882a","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":3165,"wires":[["3eac5770.72a0f8"]]},{"id":"c12811cd.7858d","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":363.61112213134766,"y":3659.722158432007,"wires":[]},{"id":"a26f19d3.080fd8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100.83335876464844,"y":3640.833221435547,"wires":[["f7f52b5e.814508"]]},{"id":"b38eb291.2c52d","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":403.33336639404297,"y":4025.833278656006,"wires":[]},{"id":"74b96a49.a0e774","type":"comment","z":"6827c201.44d26c","name":"read_Counter_1","info":"","x":444.80554962158203,"y":4505.71453666687,"wires":[]},{"id":"1bd4d2da.2a7bed","type":"http in","z":"6827c201.44d26c","name":"","url":"/Counter1","method":"get","swaggerDoc":"","x":115,"y":4590.909361839294,"wires":[["b06ccc12.eb6cb"]]},{"id":"b06ccc12.eb6cb","type":"function","z":"6827c201.44d26c","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":372.55554962158203,"y":4589.048033714294,"wires":[["cd85068e.ce4448"]]},{"id":"cd85068e.ce4448","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.555549621582,"y":4587.298033714294,"wires":[["b950de21.b632f"],[]]},{"id":"19665c68.018c64","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":114.30554580688477,"y":4550.04803276062,"wires":[["b06ccc12.eb6cb"]]},{"id":"a88b730c.c7fd8","type":"comment","z":"6827c201.44d26c","name":"read_Counter_2","info":"","x":444.80554962158203,"y":4648.095472335815,"wires":[]},{"id":"88b1d679.bd7f98","type":"http in","z":"6827c201.44d26c","name":"","url":"/Counter2","method":"get","swaggerDoc":"","x":115,"y":4733.29029750824,"wires":[["505cad54.42d4e4"]]},{"id":"505cad54.42d4e4","type":"function","z":"6827c201.44d26c","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":372.55554962158203,"y":4731.42896938324,"wires":[["a312544a.241a48"]]},{"id":"a312544a.241a48","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.555549621582,"y":4729.67896938324,"wires":[["744d2e4.e0c76d"],[]]},{"id":"20e9cc61.c94db4","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":114.30554580688477,"y":4692.428968429565,"wires":[["505cad54.42d4e4"]]},{"id":"7254d10f.a0a5e","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":879.9999542236328,"y":3071.666301727295,"wires":[["c0f303fe.81254","b8be5235.7cc17"]]},{"id":"6676e9b7.348bf8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":784.4443893432617,"y":1813.3330976963043,"wires":[["c9b17457.da6df8","986ff7a7.430858"]]},{"id":"caba9f73.04581","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":781.1109924316406,"y":1651.6665048599243,"wires":[["bdd75326.cd5fc","362dfcff.e2f414"]]},{"id":"4990b90e.79a368","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1046.111083984375,"y":1481.6664762496948,"wires":[]},{"id":"374e38a8.bb9bb8","type":"http response","z":"6827c201.44d26c","name":"","x":1124.555347442627,"y":1552.1108560562134,"wires":[]},{"id":"b6294d5b.02201","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":973.4443778991699,"y":1554.3331060409546,"wires":[["374e38a8.bb9bb8"]]},{"id":"3b48b378.f73a7c","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":771.7776222229004,"y":1484.3331003189087,"wires":[["b6294d5b.02201","4990b90e.79a368"]]},{"id":"b3e28ca4.1c67a","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1052.7777099609375,"y":1338.3332242965698,"wires":[]},{"id":"5af107cc.0df058","type":"http response","z":"6827c201.44d26c","name":"","x":1131.2219734191895,"y":1408.7776041030884,"wires":[]},{"id":"bb65182d.2e4d98","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.1110038757324,"y":1410.9998540878296,"wires":[["5af107cc.0df058"]]},{"id":"5e05f1fb.3e3db","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":774.1585540771484,"y":1321.47603225708,"wires":[["bb65182d.2e4d98","b3e28ca4.1c67a"]]},{"id":"e3c96573.429bb8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1052.7777099609375,"y":1963.3332242965698,"wires":[]},{"id":"5acc0fe4.346e9","type":"http response","z":"6827c201.44d26c","name":"","x":1131.2219734191895,"y":2033.7776041030884,"wires":[]},{"id":"8682b19a.7970d","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.1110038757324,"y":2035.9998540878296,"wires":[["5acc0fe4.346e9"]]},{"id":"405e3dd1.7be1c4","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":778.4442481994629,"y":1965.9998483657837,"wires":[["8682b19a.7970d","e3c96573.429bb8"]]},{"id":"d6356fa7.56479","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1091.111083984375,"y":2121.666476249695,"wires":[]},{"id":"da5f7de9.eb0a","type":"http response","z":"6827c201.44d26c","name":"","x":1169.555347442627,"y":2192.1108560562134,"wires":[]},{"id":"8c14f4f6.761368","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1018.4443778991699,"y":2194.3331060409546,"wires":[["da5f7de9.eb0a"]]},{"id":"65d43092.7d928","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":816.7776222229004,"y":2124.3331003189087,"wires":[["8c14f4f6.761368","d6356fa7.56479"]]},{"id":"fd1443b.18cd1c","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1065.000015258789,"y":2309.999824523926,"wires":[]},{"id":"d1b2afe3.051d6","type":"http response","z":"6827c201.44d26c","name":"","x":1185.1109466552734,"y":2373.77783870697,"wires":[]},{"id":"9031f3a3.f0b93","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1033.9999771118164,"y":2376.0000886917114,"wires":[["d1b2afe3.051d6"]]},{"id":"ebf16ff3.90f6","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":790.6665534973145,"y":2312.6664485931396,"wires":[["9031f3a3.f0b93","fd1443b.18cd1c"]]},{"id":"3d200177.7de0ae","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1121.6666259765625,"y":3356.66650390625,"wires":[]},{"id":"bb4a825f.5f406","type":"http response","z":"6827c201.44d26c","name":"","x":1200.1108894348145,"y":3427.1108837127686,"wires":[]},{"id":"cbc40d62.68df1","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1048.9999198913574,"y":3429.3331336975098,"wires":[["bb4a825f.5f406"]]},{"id":"63e2b9d7.2ff008","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":847.3331642150879,"y":3359.333127975464,"wires":[["cbc40d62.68df1","3d200177.7de0ae"]]},{"id":"1e94ba96.09d775","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1088.3333587646484,"y":3861.666473388672,"wires":[]},{"id":"bca7d30b.bbd4b","type":"http response","z":"6827c201.44d26c","name":"","x":1166.7776222229004,"y":3932.1108531951904,"wires":[]},{"id":"a43cbdf9.4c59d","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1015.6666526794434,"y":3934.3331031799316,"wires":[["bca7d30b.bbd4b"]]},{"id":"65d27d03.ef7dc4","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":813.9999923706055,"y":3884.3331155776978,"wires":[["a43cbdf9.4c59d","1e94ba96.09d775"]]},{"id":"fe4c6781.4ba538","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":1073.3333587646484,"y":4236.666473388672,"wires":[]},{"id":"f0a2cb6a.73f198","type":"http response","z":"6827c201.44d26c","name":"","x":1151.7776222229004,"y":4307.11085319519,"wires":[]},{"id":"698182d5.b6bc2c","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1000.6666526794434,"y":4309.333103179932,"wires":[["f0a2cb6a.73f198"]]},{"id":"f38e87e4.1cf7b8","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1088.333251953125,"y":4581.66668510437,"wires":[]},{"id":"7c27d3b7.77bfec","type":"http response","z":"6827c201.44d26c","name":"","x":1166.777515411377,"y":4652.111064910889,"wires":[]},{"id":"a87b71c2.49109","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1015.6665458679199,"y":4654.33331489563,"wires":[["7c27d3b7.77bfec"]]},{"id":"b950de21.b632f","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":813.9997901916504,"y":4584.333309173584,"wires":[["a87b71c2.49109","f38e87e4.1cf7b8"]]},{"id":"5d662c5f.e968d4","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1045,"y":4723.333265304565,"wires":[]},{"id":"478e41c8.46bc8","type":"http response","z":"6827c201.44d26c","name":"","x":1123.444263458252,"y":4793.777645111084,"wires":[]},{"id":"c1fbb732.d3a228","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":972.3332939147949,"y":4795.999895095825,"wires":[["478e41c8.46bc8"]]},{"id":"744d2e4.e0c76d","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":770.6665382385254,"y":4725.999889373779,"wires":[["c1fbb732.d3a228","5d662c5f.e968d4"]]},{"id":"3a0813be.63944c","type":"comment","z":"6827c201.44d26c","name":"read_Counter_3","info":"","x":458.8333511352539,"y":4801.666712760925,"wires":[]},{"id":"8b667ded.f6e4b","type":"http in","z":"6827c201.44d26c","name":"","url":"/Counter3","method":"get","swaggerDoc":"","x":129.02780151367188,"y":4886.86153793335,"wires":[["c4ddaebd.5ca5f"]]},{"id":"c4ddaebd.5ca5f","type":"function","z":"6827c201.44d26c","name":"50020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":371.58336639404297,"y":4885.000385284424,"wires":[["1855b977.6cc987"]]},{"id":"1855b977.6cc987","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":557.5833511352539,"y":4883.25020980835,"wires":[["f1c21fdd.0cf95"],[]]},{"id":"1938c49b.f3860b","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":128.33334732055664,"y":4846.000208854675,"wires":[["c4ddaebd.5ca5f"]]},{"id":"a0757f42.1022e","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1059.0278015136719,"y":4876.904505729675,"wires":[]},{"id":"1265c8e7.780c17","type":"http response","z":"6827c201.44d26c","name":"","x":1137.4720649719238,"y":4947.348885536194,"wires":[]},{"id":"dc912ad7.4726e8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":986.3610954284668,"y":4949.571135520935,"wires":[["1265c8e7.780c17"]]},{"id":"f1c21fdd.0cf95","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[3]; //low\nintView[3] = msg.payload[0]; //high\nintView[1] = msg.payload[2]; //low\nintView[2] = msg.payload[1]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\nreturn msg;\n\n","outputs":1,"noerr":0,"x":796.6665916442871,"y":4888.333377838135,"wires":[["dc912ad7.4726e8","a0757f42.1022e"]]},{"id":"b5b983c0.c9c97","type":"http in","z":"6827c201.44d26c","name":"","url":"/send_start_write_date","method":"post","swaggerDoc":"","x":2060.238235473633,"y":2223.143114566803,"wires":[["41164a8a.a6e784","17093dc7.96bfb2"]]},{"id":"6ee6c652.6d52d8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2986.7781143188477,"y":2216.4287281036377,"wires":[]},{"id":"b1794c14.62e3e","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2654.016098022461,"y":2227.539499282837,"wires":[["6ee6c652.6d52d8"],[]]},{"id":"18ad8ce.cc7e273","type":"comment","z":"6827c201.44d26c","name":"Write_comand_time","info":"","x":2466.015998840332,"y":2126.9843640327454,"wires":[]},{"id":"41164a8a.a6e784","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":2377.540023803711,"y":2185.758162021637,"wires":[]},{"id":"9811714c.6774c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2121.984233856201,"y":2172.8414311408997,"wires":[["17093dc7.96bfb2"]]},{"id":"17093dc7.96bfb2","type":"function","z":"6827c201.44d26c","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2358.0952911376953,"y":2225.7144923210144,"wires":[["78dc62a8.25e8ec"]]},{"id":"78dc62a8.25e8ec","type":"function","z":"6827c201.44d26c","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2488.3811264038086,"y":2226.8255591392517,"wires":[["b1794c14.62e3e"]]},{"id":"e167425c.26d8d","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2754.2066764831543,"y":2331.0001091957092,"wires":[]},{"id":"c48d6f69.58bd9","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2550.8736610412598,"y":2332.730516910553,"wires":[["e167425c.26d8d"],[]]},{"id":"8f3e9863.6a2388","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2780.022415161133,"y":2528.3386554718018,"wires":[]},{"id":"753b0264.427adc","type":"modbus-flex-write","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2597.5780487060547,"y":2527.0687713623047,"wires":[["8f3e9863.6a2388"],[]]},{"id":"14cef5a8.53652a","type":"comment","z":"6827c201.44d26c","name":"write_18b_status_pump","info":"","x":2379.451072692871,"y":2403.783405303955,"wires":[]},{"id":"a64c4d4f.9c407","type":"function","z":"6827c201.44d26c","name":"wirh_1C","func":"var order = msg.payload;\n/* \n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2301.4192504882812,"y":2525.3389184474945,"wires":[["b07f05bb.6642d8"]]},{"id":"b07f05bb.6642d8","type":"function","z":"6827c201.44d26c","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2437.2448768615723,"y":2527.8785922527313,"wires":[["753b0264.427adc"]]},{"id":"1dc2d1d8.6d0cee","type":"http in","z":"6827c201.44d26c","name":"","url":"/send18bI_status_pump","method":"post","swaggerDoc":"","x":2024.022315979004,"y":2531.11617064476,"wires":[["2971f492.2cbaac","a64c4d4f.9c407"]]},{"id":"2971f492.2cbaac","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":2286.7683639526367,"y":2448.481230735779,"wires":[]},{"id":"dbc2d6a0.a4a2e8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.990581512451,"y":2459.592288017273,"wires":[["a64c4d4f.9c407"]]},{"id":"ce098e53.26365","type":"function","z":"6827c201.44d26c","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2193.0502319335938,"y":2328.8088574409485,"wires":[["5f76903a.b5bd2"]]},{"id":"5f76903a.b5bd2","type":"function","z":"6827c201.44d26c","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2345.936611175537,"y":2330.004135608673,"wires":[["c48d6f69.58bd9"]]},{"id":"52ec2506.7c897c","type":"comment","z":"6827c201.44d26c","name":"Write_comand_time","info":"","x":2511.686408996582,"y":2287.0042605400085,"wires":[]},{"id":"8164daa3.76b788","type":"http in","z":"2b7caf95.f1aa6","name":"Отримуємо методи для 1С","url":"/getMethods","method":"get","swaggerDoc":"","x":160.89453125,"y":173.33593678474426,"wires":[["7b4bc3ef.7a540c"]]},{"id":"7b4bc3ef.7a540c","type":"template","z":"2b7caf95.f1aa6","name":"Описуємо доступні методи","field":"payload","fieldType":"msg","format":"json","syntax":"mustache","template":"{\n    \"source\":\"/api/platform\",\n    \"methods\":[\n                {\n                    \"description\":\"Установлює заявку, маршрут, обєм перед початком наливу\",\n                    \"source\":\"/setOrders\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"orderId\": 1234,\n                        \"track\": 0,\n                        \"volume\": 978.20\n                    }\n                },\n                {\n                    \"description\":\"Зчитує заявку, маршрут, обєм перед початком наливу\",\n                    \"source\":\"/setOrders\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"orderId\": 1234,\n                        \"track\": 0,\n                        \"volume\": 978.20\n                    }\n                },\n                {\n                    \"description\":\"Зчитує режим наливу(числове значння)\",\n                    \"source\":\"/status\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 2\n                    }\n                },\n                {\n                    \"description\":\"Установлює режим наливу(числове значння)\",\n                    \"source\":\"/status\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"cmd\": 2\n                    }\n                },\n                {\n                    \"description\":\"Зчитує статус насосу\",\n                    \"source\":\"/StatusPump\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_18\": 1\n                    }\n                },\n                {\n                    \"description\":\"Установлює умімкння/вимкнення носама 18 бітом 1/0\",\n                    \"source\":\"/send18bI_status_pump\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"write18b\": 4\n                    }\n                },\n                {\n                     \"description\":\"Зчитує статус клапана біт 0 - 1 - малий протік, біт 1 - 1 - великий протік\",\n                    \"source\":\"/StatusKlapan\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"bit_0\": 0,\n                       \"bit_1\": 1\n                    }\n                },\n                {\n                    \"description\":\"Установлює маршрут КЛапан 5.2 - 0 біт, 5.4 - 1 біт, 5.6 - 2 біт ( 1 відкрито, 0 закрито)\",\n                    \"source\":\"/UpakovkaMarshrut\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 123 \n                    }\n                },\n                {\n                   \"description\":\"Статус входів ПЛК\",\n                    \"source\":\"/PLCInputStatus\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 255 \n                    }\n                },\n                {\n                    \"description\":\"Регістр  аварій, для інформування про причину аварії  \",\n                    \"source\":\"/RegisterError\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 123 \n                    }\n                },\n                {\n                    \"description\":\"Установка 15 біта в 1 і всі інші біти в 0 для скидання аварії\",\n                    \"source\":\"/resetError\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"Reset_Error\": 32768\n                    }\n                },\n                {\n                    \"description\":\"Зчитує швидкість потоку м/с  рег 30000 фн 04\",\n                    \"source\":\"/SpeedFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.89\n                    }\n                },\n                {\n                    \"description\":\"Зчитує об'ємну витрата  л/год\",\n                    \"source\":\"/VFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує массову витрата кг/год\",\n                    \"source\":\"/MFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує температуру град\",\n                    \"source\":\"/TFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує густину кг/л\",\n                    \"source\":\"/PlotnostFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує температуру середню град\",\n                    \"source\":\"/TFlowMiddle\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує густину сер кг/л\",\n                    \"source\":\"/PlotnostMiddle\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Запис 1(числа) для скидання лічильника 1 та 2 \",\n                    \"source\":\"/ResetCounter12\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"Reset_counter_1_2\": 1\n                       }\n                },\n                {\n                    \"description\":\"Запис 1(числа) для скидання лічильника 3 \",\n                    \"source\":\"/ResetCounter3\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"ResetCounter3\": 1 \n                       }\n                },\n                {\n                    \"description\":\"Зчитування секундного таймера 0-60 сек, для діагностики звязку з ПЛК \",\n                    \"source\":\"/SecondForScada\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5\n                    }\n                },\n                {\n                    \"description\":\"Запис об’єму первинного наливу (за замовчув. 20 л.)\",\n                    \"source\":\"/SetLflowStart\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"volume\": 789.89\n                       }\n                },\n                {\n                    \"description\":\"Зчутування об’єму первинного наливу (за замовчув. 20 л.)\",\n                    \"source\":\"/SetLflowStart\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчутування об’єму остаточного доливу в кінці (за замовчув. 40 л.) \",\n                    \"source\":\"/SetLflowStop\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Установка об’єму остаточного доливу в кінці (за замовчув. 40 л.) \",\n                    \"source\":\"/SetLflowStop\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"volume\": 789.25 \n                       }\n                },\n                {\n                    \"description\":\"Установка мінімальний поріг витрат НП при працюючому насосі \",\n                    \"source\":\"/ProtokMin\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"volume\": 668.75\n                       }\n                },\n                {\n                    \"description\":\"Зчутвання мінімальний поріг витрат НП при працюючому насосі \",\n                    \"source\":\"/ProtokMin\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Запис час для досягнення мінімального протоку (сек) \",\n                    \"source\":\"/ProtokDeadTime\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"volume\": 785.69\n                       }\n                },\n                {\n                    \"description\":\"Зчитування час для досягнення мінімального протоку (сек) \",\n                    \"source\":\"/ProtokDeadTime\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5858567\n                    }\n                },\n                {\n                    \"description\":\"Зчитування Значення лічильника 1\",\n                    \"source\":\"/Counter1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                    \n                },\n                {\n                    \"description\":\"Зчитування Значення лічильника 2\",\n                    \"source\":\"/Counter2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5858.56\n                    }\n                },\n                  {\n                    \"description\":\"Зчитування Значення лічильника 3 ( 64біта)\",\n                    \"source\":\"/Counter3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585546568.56\n                    }\n                },\n                {\n                    \"description\":\"Записуємо 1 для синхронізації часу/дати ПК з ПЛК\",\n                    \"source\":\"/send_start_write_date\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"sendI\": 1\n                       }\n                },\n                {\n                    \"description\":\"Записуємо поточний рік, місяць, день, година, хвелинни, секунда\",\n                    \"source\":\"/write_date_PLC\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"year\": 2018,\n                          \"mounth\": 2,\n                          \"day\": 21,\n                          \"hour\": 15,\n                          \"minute\": 54,\n                          \"second\": 18\n                       }\n                },\n                {\n                     \"description\":\"Зчитуємо дані, щойно завершеної заявки,  D92-143 \",\n                    \"source\":\"/status/data\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"order_req\": 1234,\n                        \"route\": 2,\n                        \"setpoint\": 25.65,\n                        \"counterr\": 25.65,\n                        \"t_flow_1\": 25.65,\n                        \"t_flow_2\": 25.65,\n                        \"t_flow_3\": 25.65,\n                        \"t_flow_4\": 25.65,\n                        \"t_flow_5\": 25.65,\n                        \"t_flow_middle\": 25.65,\n                        \"Plotnost_flow_1\": 25.65,\n                        \"Plotnost_flow_2\": 25.65,\n                        \"Plotnost_flow_3\": 25.65,\n                        \"Plotnost_flow_4\": 25.65,\n                        \"Plotnost_flow_5\": 25.65,\n                        \"Plotnost_middle\": 25.65,\n                        \"t_start_year\": 2018,\n                        \"t_start_month\": 2,\n                        \"t_start_day\": 3,\n                        \"t_start_hour\": 1,\n                        \"t_start_minute\": 25,\n                        \"t_end_year\":2018,\n                        \"t_end_month\":2,\n                        \"t_end_day\":3,\n                        \"t_end_hour\":10,\n                        \"t_end_minute\":20,\n                        \"Counter1M\":25.25,\n                        \"Counter_3\":789536.25,\n                        \"rezervf\": 25.25,\n                        \"rezervw1\": 123,\n                        \"rezervw2\": 123\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо резерв 26 регітр \",\n                    \"source\":\"/Upakovka5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо резерв 27 регітр \",\n                    \"source\":\"/Upakovka6\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58586\n                    }\n                    \n                },\n                {\n                    \"description\":\"Зчитуємо температуру 1 град\",\n                    \"source\":\"/TFlow1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 2 град\",\n                    \"source\":\"/TFlow2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 3 град\",\n                    \"source\":\"/TFlow3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 4 град\",\n                    \"source\":\"/TFlow4\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 5 град\",\n                    \"source\":\"/TFlow5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 1 кг/л\",\n                    \"source\":\"/PlotnostFlow1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 2 кг/л\",\n                    \"source\":\"/PlotnostFlow2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 3 кг/л\",\n                    \"source\":\"/PlotnostFlow3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 4 кг/л\",\n                    \"source\":\"/PlotnostFlow4\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густина 5 кг/л\",\n                    \"source\":\"/PlotnostFlow5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                }\n            ]\n            \n}","x":479.89849853515625,"y":171.78907775878906,"wires":[["94c3314b.c0f9f","934a2baf.24b468"]]},{"id":"94c3314b.c0f9f","type":"http response","z":"2b7caf95.f1aa6","name":"","x":694.8906478881836,"y":172.56252479553223,"wires":[]},{"id":"a01129e4.bc2448","type":"http in","z":"6827c201.44d26c","name":"","url":"/write_date_PLC","method":"post","swaggerDoc":"","x":1951.686378479004,"y":2327.004107952118,"wires":[["36cd98f3.0665d8","ce098e53.26365"]]},{"id":"36cd98f3.0665d8","type":"http response","z":"6827c201.44d26c","name":"send to 1C","x":2183.6863327026367,"y":2282.0040459632874,"wires":[]},{"id":"98f4d0cd.8221a","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_5","info":"","x":2226.26961517334,"y":2752.5037803649902,"wires":[]},{"id":"98b19909.84e7d8","type":"http in","z":"6827c201.44d26c","name":"","url":"/Upakovka5","method":"get","swaggerDoc":"","x":1932.6029968261719,"y":2815.0592346191406,"wires":[["ce961ead.6237c"]]},{"id":"ce961ead.6237c","type":"function","z":"6827c201.44d26c","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2172.491886138916,"y":2798.6147785186768,"wires":[["ae8872d1.d9b7f"]]},{"id":"ae8872d1.d9b7f","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2331.8252143859863,"y":2798.94815826416,"wires":[["5c97dbf6.3f2294"],[]]},{"id":"60c048f6.9292a8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2668.1268463134766,"y":2790.091260910034,"wires":[]},{"id":"ef4aeb86.a95378","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1884.9363098144531,"y":2776.2815017700195,"wires":[["ce961ead.6237c"]]},{"id":"a2bc6932.b6f658","type":"http response","z":"6827c201.44d26c","name":"","x":2796.7615928649902,"y":2859.3289833068848,"wires":[]},{"id":"d2033e54.79353","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2531.0474243164062,"y":2851.392557144165,"wires":[["a2bc6932.b6f658"]]},{"id":"bbba571c.3fce18","type":"comment","z":"6827c201.44d26c","name":"read_Upakovka_6","info":"","x":2227.26961517334,"y":2873.5037803649902,"wires":[]},{"id":"84d94a34.a89ae8","type":"http in","z":"6827c201.44d26c","name":"","url":"/Upakovka6","method":"get","swaggerDoc":"","x":1933.6029968261719,"y":2936.0592346191406,"wires":[["8b1c8b89.8bc188"]]},{"id":"8b1c8b89.8bc188","type":"function","z":"6827c201.44d26c","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2158.4919471740723,"y":2928.6147966384888,"wires":[["3e2b2b49.459ac4"]]},{"id":"3e2b2b49.459ac4","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2328.8252906799316,"y":2927.94820022583,"wires":[["b0fa800a.70074"],[]]},{"id":"568c206a.bd1f4","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1885.9363098144531,"y":2897.2815017700195,"wires":[["8b1c8b89.8bc188"]]},{"id":"d918d832.1a5038","type":"comment","z":"6827c201.44d26c","name":"REZERVU","info":"","x":2236.269691467285,"y":2657.5038261413574,"wires":[]},{"id":"7354f93f.ab6428","type":"comment","z":"6827c201.44d26c","name":"T_flow_1","info":"","x":2199.7697219848633,"y":3051.5038986206055,"wires":[]},{"id":"b2be7c45.6a59e","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlow1","method":"get","swaggerDoc":"","x":1917.2140579223633,"y":3108.9481382369995,"wires":[["962b059d.4f92d8"]]},{"id":"962b059d.4f92d8","type":"function","z":"6827c201.44d26c","name":"54+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 54 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2138.2140579223633,"y":3106.9481382369995,"wires":[["6864a4ef.b61dac"]]},{"id":"6864a4ef.b61dac","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2334.2140579223633,"y":3113.9481382369995,"wires":[["d0fa148f.5a3aa8"],[]]},{"id":"3969399b.016bf6","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1876.2140579223633,"y":3057.9481382369995,"wires":[["962b059d.4f92d8"]]},{"id":"efc443cd.d6877","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2778.8807525634766,"y":3109.6149253845215,"wires":[]},{"id":"7981bf6e.22038","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2779.5474395751953,"y":3175.6147422790527,"wires":[["63def5ef.ffe99c"]]},{"id":"d0fa148f.5a3aa8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2558.99169921875,"y":3110.0593423843384,"wires":[["7981bf6e.22038","efc443cd.d6877"]]},{"id":"63def5ef.ffe99c","type":"http response","z":"6827c201.44d26c","name":"","x":2920.6583766937256,"y":3174.503686904907,"wires":[]},{"id":"51d8f31f.b7b4fc","type":"comment","z":"6827c201.44d26c","name":"T_flow_2","info":"","x":2198.333335876465,"y":3196.8516807556152,"wires":[]},{"id":"8b4a42a0.5484f","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlow2","method":"get","swaggerDoc":"","x":1915.7776718139648,"y":3254.2959203720093,"wires":[["bfb02f2f.5a2f5"]]},{"id":"bfb02f2f.5a2f5","type":"function","z":"6827c201.44d26c","name":"56+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 56 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2136.777671813965,"y":3252.2959203720093,"wires":[["3cedede2.154602"]]},{"id":"3cedede2.154602","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2332.777671813965,"y":3259.2959203720093,"wires":[["bcf5f39.068751"],[]]},{"id":"7bf8e3fd.99a65c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1874.7776718139648,"y":3203.2959203720093,"wires":[["bfb02f2f.5a2f5"]]},{"id":"ba52670a.d93a48","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2777.444366455078,"y":3254.9627075195312,"wires":[]},{"id":"6c64d4a6.03bdec","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2778.111053466797,"y":3320.9625244140625,"wires":[["942f85e3.f4f078"]]},{"id":"bcf5f39.068751","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2557.5553131103516,"y":3255.407124519348,"wires":[["6c64d4a6.03bdec","ba52670a.d93a48"]]},{"id":"942f85e3.f4f078","type":"http response","z":"6827c201.44d26c","name":"","x":2919.221990585327,"y":3319.851469039917,"wires":[]},{"id":"36d65d63.53be92","type":"comment","z":"6827c201.44d26c","name":"T_flow_3","info":"","x":2206.1110458374023,"y":3326.8516807556152,"wires":[]},{"id":"e616c283.24cd9","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlow3","method":"get","swaggerDoc":"","x":1923.5553817749023,"y":3384.2959203720093,"wires":[["65188ba1.a02b74"]]},{"id":"65188ba1.a02b74","type":"function","z":"6827c201.44d26c","name":"58+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 58 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2144.5553817749023,"y":3382.2959203720093,"wires":[["342c198d.ac1526"]]},{"id":"342c198d.ac1526","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2340.5553817749023,"y":3389.2959203720093,"wires":[["903c1726.99bca8"],[]]},{"id":"2ea90043.0dc08","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1882.5553817749023,"y":3333.2959203720093,"wires":[["65188ba1.a02b74"]]},{"id":"b0699367.6817b","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2785.2220764160156,"y":3384.9627075195312,"wires":[]},{"id":"a83f4eac.2656e","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2785.8887634277344,"y":3450.9625244140625,"wires":[["38c7ab18.22c644"]]},{"id":"903c1726.99bca8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2565.333023071289,"y":3385.407124519348,"wires":[["a83f4eac.2656e","b0699367.6817b"]]},{"id":"38c7ab18.22c644","type":"http response","z":"6827c201.44d26c","name":"","x":2926.9997005462646,"y":3449.851469039917,"wires":[]},{"id":"209e4d0c.3659e2","type":"comment","z":"6827c201.44d26c","name":"T_flow_4","info":"","x":2202.7777938842773,"y":3461.2960166931152,"wires":[]},{"id":"25bfc031.9dc33","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlow4","method":"get","swaggerDoc":"","x":1920.2221298217773,"y":3518.7402563095093,"wires":[["cb73ff93.67622"]]},{"id":"cb73ff93.67622","type":"function","z":"6827c201.44d26c","name":"60+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 60 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2141.2221298217773,"y":3516.7402563095093,"wires":[["c893c467.c4df38"]]},{"id":"c893c467.c4df38","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2337.2221298217773,"y":3523.7402563095093,"wires":[["791d4321.5d647c"],[]]},{"id":"47bf04aa.d0176c","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1879.2221298217773,"y":3467.7402563095093,"wires":[["cb73ff93.67622"]]},{"id":"5e6df5ca.02135c","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2781.8888244628906,"y":3519.4070434570312,"wires":[]},{"id":"876166ff.d8e418","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2782.5555114746094,"y":3585.4068603515625,"wires":[["35425d7a.2dc042"]]},{"id":"791d4321.5d647c","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2561.999771118164,"y":3519.851460456848,"wires":[["876166ff.d8e418","5e6df5ca.02135c"]]},{"id":"35425d7a.2dc042","type":"http response","z":"6827c201.44d26c","name":"","x":2923.6664485931396,"y":3584.295804977417,"wires":[]},{"id":"f07df6c1.281cb8","type":"comment","z":"6827c201.44d26c","name":"T_flow_5","info":"","x":2197.2221298217773,"y":3597.5924034118652,"wires":[]},{"id":"15c33885.2d0aa7","type":"http in","z":"6827c201.44d26c","name":"","url":"/TFlow5","method":"get","swaggerDoc":"","x":1914.6664657592773,"y":3655.0366430282593,"wires":[["f3db72a3.8b68a"]]},{"id":"f3db72a3.8b68a","type":"function","z":"6827c201.44d26c","name":"62+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 62 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2135.6664657592773,"y":3653.0366430282593,"wires":[["1a86387e.b815d8"]]},{"id":"1a86387e.b815d8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2331.6664657592773,"y":3660.0366430282593,"wires":[["9cfcd914.241028"],[]]},{"id":"b91156dd.ef0ef8","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1873.6664657592773,"y":3604.0366430282593,"wires":[["f3db72a3.8b68a"]]},{"id":"4020d6c3.c92c68","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2776.3331604003906,"y":3655.7034301757812,"wires":[]},{"id":"4bbdaf71.1580c","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2776.9998474121094,"y":3721.7032470703125,"wires":[["31b57cbd.2efde4"]]},{"id":"9cfcd914.241028","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2556.444107055664,"y":3656.147847175598,"wires":[["4bbdaf71.1580c","4020d6c3.c92c68"]]},{"id":"31b57cbd.2efde4","type":"http response","z":"6827c201.44d26c","name":"","x":2918.1107845306396,"y":3720.592191696167,"wires":[]},{"id":"c9f1afbb.8f74","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_1","info":"","x":2272.777671813965,"y":3827.2217979431152,"wires":[]},{"id":"b84d9177.d168e","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostFlow1","method":"get","swaggerDoc":"","x":1982.444351196289,"y":3887.5550365448,"wires":[["c882dc37.db415"]]},{"id":"c882dc37.db415","type":"function","z":"6827c201.44d26c","name":"66+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 66 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2183.444351196289,"y":3885.5550365448,"wires":[["d6c6a817.45f0f8"]]},{"id":"d6c6a817.45f0f8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2379.444351196289,"y":3892.5550365448,"wires":[["f3a0732b.2e8be"],[]]},{"id":"1a6b39eb.ebdd46","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1921.444351196289,"y":3836.5550365448,"wires":[["c882dc37.db415"]]},{"id":"f3a0732b.2e8be","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2626.777530670166,"y":3892.8881645202637,"wires":[["812a87ad.46aba8","c8ffa9e9.b892d8"]]},{"id":"c8ffa9e9.b892d8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2901.1109924316406,"y":3890.22154045105,"wires":[]},{"id":"812a87ad.46aba8","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2828.4442863464355,"y":3962.8881702423096,"wires":[["e40925a3.0d2a38"]]},{"id":"e40925a3.0d2a38","type":"http response","z":"6827c201.44d26c","name":"","x":2979.5552558898926,"y":3960.6659202575684,"wires":[]},{"id":"b6bf93a0.c2e31","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_2","info":"","x":2270.555503845215,"y":3967.9625205993652,"wires":[]},{"id":"8c6b6d72.02104","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostFlow2","method":"get","swaggerDoc":"","x":1980.222183227539,"y":4028.29575920105,"wires":[["990cd089.3c0ba"]]},{"id":"990cd089.3c0ba","type":"function","z":"6827c201.44d26c","name":"68+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 68 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2181.222183227539,"y":4026.29575920105,"wires":[["703018.fdc10fe8"]]},{"id":"703018.fdc10fe8","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2377.222183227539,"y":4033.29575920105,"wires":[["eb183352.4446d"],[]]},{"id":"276de27d.0eb78e","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1919.222183227539,"y":3977.29575920105,"wires":[["990cd089.3c0ba"]]},{"id":"eb183352.4446d","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2624.555362701416,"y":4033.6288871765137,"wires":[["c59f2a77.e4b758","eb025f31.d6ffd"]]},{"id":"eb025f31.d6ffd","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2898.8888244628906,"y":4030.9622631073,"wires":[]},{"id":"c59f2a77.e4b758","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2826.2221183776855,"y":4103.62889289856,"wires":[["1311bc70.40b284"]]},{"id":"1311bc70.40b284","type":"http response","z":"6827c201.44d26c","name":"","x":2977.3330879211426,"y":4101.406642913818,"wires":[]},{"id":"8a054d87.3a7c3","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_3","info":"","x":2257.2221298217773,"y":4125.740352630615,"wires":[]},{"id":"f445691b.074658","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostFlow3","method":"get","swaggerDoc":"","x":1966.8888092041016,"y":4186.0735912323,"wires":[["5f3f802b.45944"]]},{"id":"5f3f802b.45944","type":"function","z":"6827c201.44d26c","name":"70+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 70 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2167.8888092041016,"y":4184.0735912323,"wires":[["ba8d9c6c.7a4ae"]]},{"id":"ba8d9c6c.7a4ae","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2363.8888092041016,"y":4191.0735912323,"wires":[["dd9cdb04.6575d8"],[]]},{"id":"e1722712.21a518","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1905.8888092041016,"y":4135.0735912323,"wires":[["5f3f802b.45944"]]},{"id":"dd9cdb04.6575d8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2611.2219886779785,"y":4191.406719207764,"wires":[["510fb45a.70ce8c","19995c3e.669164"]]},{"id":"19995c3e.669164","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2885.555450439453,"y":4188.74009513855,"wires":[]},{"id":"510fb45a.70ce8c","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2812.888744354248,"y":4261.40672492981,"wires":[["43c01be9.4bff74"]]},{"id":"43c01be9.4bff74","type":"http response","z":"6827c201.44d26c","name":"","x":2963.999713897705,"y":4259.184474945068,"wires":[]},{"id":"f563e599.497308","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_4","info":"","x":2259.44441986084,"y":4270.18493270874,"wires":[]},{"id":"f9dc954e.34c278","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostFlow4","method":"get","swaggerDoc":"","x":1969.111099243164,"y":4330.518171310425,"wires":[["ff687db.7e4028"]]},{"id":"ff687db.7e4028","type":"function","z":"6827c201.44d26c","name":"72+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 72 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2170.111099243164,"y":4328.518171310425,"wires":[["8e501118.d1836"]]},{"id":"8e501118.d1836","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2366.111099243164,"y":4335.518171310425,"wires":[["78dae9a7.cabe28"],[]]},{"id":"1a8644dd.82fe6b","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1908.111099243164,"y":4279.518171310425,"wires":[["ff687db.7e4028"]]},{"id":"78dae9a7.cabe28","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2613.444278717041,"y":4335.851299285889,"wires":[["253d4aea.7abeb6","5ba77815.1102a8"]]},{"id":"5ba77815.1102a8","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2887.7777404785156,"y":4333.184675216675,"wires":[]},{"id":"253d4aea.7abeb6","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2815.1110343933105,"y":4405.851305007935,"wires":[["3df1eb20.b0c014"]]},{"id":"3df1eb20.b0c014","type":"http response","z":"6827c201.44d26c","name":"","x":2966.2220039367676,"y":4403.629055023193,"wires":[]},{"id":"da834981.572378","type":"comment","z":"6827c201.44d26c","name":"read_Plotnost_flow_5","info":"","x":2259.44441986084,"y":4427.59215927124,"wires":[]},{"id":"4eb0a720.cb0e28","type":"http in","z":"6827c201.44d26c","name":"","url":"/PlotnostFlow5","method":"get","swaggerDoc":"","x":1969.111099243164,"y":4487.925397872925,"wires":[["f2baa70a.a20308"]]},{"id":"f2baa70a.a20308","type":"function","z":"6827c201.44d26c","name":"74+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 74 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2170.111099243164,"y":4485.925397872925,"wires":[["7eadf4c4.550ebc"]]},{"id":"7eadf4c4.550ebc","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":2366.111099243164,"y":4492.925397872925,"wires":[["946125f4.c269c8"],[]]},{"id":"f6866f4.e7bc09","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1908.111099243164,"y":4436.925397872925,"wires":[["f2baa70a.a20308"]]},{"id":"946125f4.c269c8","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2613.444278717041,"y":4493.258525848389,"wires":[["17b5e7b0.3d1358","7c8f7c0e.481f24"]]},{"id":"7c8f7c0e.481f24","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2887.7777404785156,"y":4490.591901779175,"wires":[]},{"id":"17b5e7b0.3d1358","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2815.1110343933105,"y":4563.258531570435,"wires":[["c928329c.77b83"]]},{"id":"c928329c.77b83","type":"http response","z":"6827c201.44d26c","name":"","x":2966.2220039367676,"y":4561.036281585693,"wires":[]},{"id":"db7b25e7.b8b748","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"var protokdeadtime = msg.payload;\n/* var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":282.77803802490234,"y":4105.223428726196,"wires":[["3fa6e5f0.19dbaa"]]},{"id":"3fa6e5f0.19dbaa","type":"function","z":"6827c201.44d26c","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(0),b.readInt16BE(2)]; \nreturn msg;","outputs":1,"noerr":0,"x":437.2778854370117,"y":4104.33443069458,"wires":[["15d09bb5.3f88b4","ac8430.62045bd"]]},{"id":"ac8430.62045bd","type":"function","z":"6827c201.44d26c","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":605.7222290039062,"y":4099.222452163696,"wires":[["3a9306f7.a500fa"]]},{"id":"93c1f2b6.33791","type":"function","z":"6827c201.44d26c","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = {\n \"val\":parseFloat(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":784.3334045410156,"y":4247.333468437195,"wires":[["fe4c6781.4ba538","698182d5.b6bc2c"]]},{"id":"15d09bb5.3f88b4","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":588.3333587646484,"y":4030.333221435547,"wires":[]},{"id":"5146ea58.3014b4","type":"comment","z":"6827c201.44d26c","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":3822.742431640625,"y":50.434471130371094,"wires":[]},{"id":"934a2baf.24b468","type":"debug","z":"2b7caf95.f1aa6","name":"","active":true,"console":"false","complete":"false","x":651.1041564941406,"y":296.6119842529297,"wires":[]},{"id":"541b7987.624568","type":"http in","z":"6827c201.44d26c","name":"","url":"/setOrders","method":"get","swaggerDoc":"","x":125,"y":386.6731262207031,"wires":[["4b8b696d.0a8008"]]},{"id":"4d5b1b4e.8f7634","type":"inject","z":"6827c201.44d26c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":107.77777099609375,"y":340.00643730163574,"wires":[[]]},{"id":"acf920b1.f4115","type":"comment","z":"6827c201.44d26c","name":"Read_R5004 5005 5006","info":"","x":414.00001525878906,"y":293.5619192123413,"wires":[]},{"id":"d8b8af10.41013","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":1902.2946586608887,"y":540.7207865715027,"wires":[["6e4334d3.b83f2c","e07ef3ec.6f383"]]},{"id":"4b8b696d.0a8008","type":"function","z":"6827c201.44d26c","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":331.6991958618164,"y":388.3398199081421,"wires":[["46822503.f72bdc"]]},{"id":"ccba3bdf.85a088","type":"function","z":"6827c201.44d26c","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":673.3656845092773,"y":678.3398265838623,"wires":[["78392f56.76da6"]]},{"id":"78392f56.76da6","type":"function","z":"6827c201.44d26c","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":809.711109161377,"y":679.8754501342773,"wires":[["655aae.cdb90554","c549eb80.450cf8"]]},{"id":"655aae.cdb90554","type":"http response","z":"6827c201.44d26c","name":"","x":981.0682716369629,"y":642.1494741439819,"wires":[]},{"id":"c549eb80.450cf8","type":"debug","z":"6827c201.44d26c","name":"","active":true,"console":"false","complete":"payload","x":1000.0565223693848,"y":678.7802200317383,"wires":[]},{"id":"46822503.f72bdc","type":"function","z":"6827c201.44d26c","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":525.0323257446289,"y":381.6731815338135,"wires":[["cd3f143f.77d238"]]},{"id":"3894c471.b0609c","type":"function","z":"6827c201.44d26c","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":491.69889068603516,"y":451.6731605529785,"wires":[["9824f1fb.d6bb1"]]},{"id":"cd3f143f.77d238","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":753.3656616210938,"y":383.3398036956787,"wires":[["410465fa.43e31c"],[]]},{"id":"9824f1fb.d6bb1","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":711.6989135742188,"y":461.6731472015381,"wires":[["6d9e222d.36977c"],[]]},{"id":"4d7726f8.4693d8","type":"function","z":"6827c201.44d26c","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":491.69905853271484,"y":516.6731805801392,"wires":[["5fb8c794.d84878"]]},{"id":"5fb8c794.d84878","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":699.3140029907227,"y":525.2723665237427,"wires":[["d080c8f.dd95f38"],[]]},{"id":"d080c8f.dd95f38","type":"function","z":"6827c201.44d26c","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":903.2943649291992,"y":521.1373958587646,"wires":[["7c31d229.54037c"]]},{"id":"7c31d229.54037c","type":"function","z":"6827c201.44d26c","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":496.69905853271484,"y":575.0064935684204,"wires":[["ba7eff64.b1c29"]]},{"id":"ba7eff64.b1c29","type":"modbus-flex-getter","z":"6827c201.44d26c","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":704.3140029907227,"y":583.6056795120239,"wires":[["ccba3bdf.85a088"],[]]},{"id":"410465fa.43e31c","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":931.6993141174316,"y":380.00649070739746,"wires":[["3894c471.b0609c"]]},{"id":"6d9e222d.36977c","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":923.3654174804688,"y":456.67318534851074,"wires":[["4d7726f8.4693d8"]]},{"id":"aedee1db.844ff","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":1936.8136825561523,"y":927.1484479904175,"wires":[["b8f2a494.c57eb8","3d95dd8d.d87252"]]},{"id":"d48af736.7a1f18","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":778.5993614196777,"y":970.0055885314941,"wires":[["4d3c5b32.b83c74","70092546.3550ac"]]},{"id":"70092546.3550ac","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":967.1707763671875,"y":1021.4341430664062,"wires":[["c192a052.235b"]]},{"id":"c192a052.235b","type":"http response","z":"6827c201.44d26c","name":"","x":1118.2817459106445,"y":1019.211893081665,"wires":[]},{"id":"e18d19a0.576a28","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":708.5992774963379,"y":2777.1486110687256,"wires":[["6172168b.76bcd8","d464ac06.d98b4"]]},{"id":"5c97dbf6.3f2294","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2511.45654296875,"y":2721.43408203125,"wires":[["d2033e54.79353","60c048f6.9292a8"]]},{"id":"ee332954.4d4208","type":"debug","z":"6827c201.44d26c","name":"","active":false,"console":"false","complete":"payload","x":2785.742198944092,"y":2924.2911410331726,"wires":[]},{"id":"8867d722.2a8368","type":"http response","z":"6827c201.44d26c","name":"","x":2787.2341861724854,"y":2993.5289163589478,"wires":[]},{"id":"c3b7e99a.031378","type":"function","z":"6827c201.44d26c","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2598.6627807617188,"y":2994.1640481948853,"wires":[["8867d722.2a8368"]]},{"id":"b0fa800a.70074","type":"function","z":"6827c201.44d26c","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2569.0718841552734,"y":2919.919725418091,"wires":[["c3b7e99a.031378","ee332954.4d4208"]]},{"id":"9feed88f.c979c8","type":"inject","z":"4e43cc07.6e3564","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":148,"y":43,"wires":[["467d1d8a.85ba54"]]},{"id":"467d1d8a.85ba54","type":"function","z":"4e43cc07.6e3564","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":331.43274307250977,"y":83.29520416259766,"wires":[["332df4b8.ed7c1c"]]},{"id":"1e980cf3.dd7bc3","type":"http in","z":"4e43cc07.6e3564","name":"","url":"/status/data","method":"get","swaggerDoc":"","x":129.19052505493164,"y":93.75396156311035,"wires":[["467d1d8a.85ba54"]]},{"id":"332df4b8.ed7c1c","type":"function","z":"4e43cc07.6e3564","name":"R_40092_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 92 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":273.4167289733887,"y":184.11112022399902,"wires":[["f5de123e.0b28a"]]},{"id":"f5de123e.0b28a","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":484.26999282836914,"y":183.19844913482666,"wires":[["e09211c7.218ea"],[]]},{"id":"e09211c7.218ea","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":665.3612251281738,"y":181.86668395996094,"wires":[["b0703072.b833f"]]},{"id":"b0703072.b833f","type":"function","z":"4e43cc07.6e3564","name":"40093_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 93 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":244.28574752807617,"y":227.24208450317383,"wires":[["78e30f72.0683e"]]},{"id":"78e30f72.0683e","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":442.3452568054199,"y":228.33733558654785,"wires":[["c4de9c06.243d"],[]]},{"id":"c4de9c06.243d","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":632.504077911377,"y":227.58097314834595,"wires":[["cf7c04ff.c18ca8"]]},{"id":"cf7c04ff.c18ca8","type":"function","z":"4e43cc07.6e3564","name":"40094+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 94 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":250.10719680786133,"y":276.5635356903076,"wires":[["384a6a5f.9930e6"]]},{"id":"384a6a5f.9930e6","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":454.38879013061523,"y":273.49606800079346,"wires":[["fd47ecae.d0cf9"],[]]},{"id":"fd47ecae.d0cf9","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":658.3691520690918,"y":269.36109733581543,"wires":[["20b4414a.81830e"]]},{"id":"20b4414a.81830e","type":"function","z":"4e43cc07.6e3564","name":"40096+1_Counterr","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 96 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":250.1429328918457,"y":321.31351375579834,"wires":[["97b19712.708468"]]},{"id":"97b19712.708468","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":461.8888359069824,"y":321.7103691101074,"wires":[["7b36b613.867fd8"],[]]},{"id":"7b36b613.867fd8","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":662.1907997131348,"y":314.83735179901123,"wires":[["3c38534f.e946ec"]]},{"id":"3c38534f.e946ec","type":"function","z":"4e43cc07.6e3564","name":"40098+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 98 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":249.79770278930664,"y":367.39678382873535,"wires":[["d688460.4bf73b8"]]},{"id":"d688460.4bf73b8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":458.5475730895996,"y":368.1110734939575,"wires":[["99a8aab2.d320b8"],[]]},{"id":"99a8aab2.d320b8","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":665.9924049377441,"y":362.6666069030762,"wires":[["c08e8bb3.dcb9c8"]]},{"id":"c08e8bb3.dcb9c8","type":"function","z":"4e43cc07.6e3564","name":"40100+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 100 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":256.4047431945801,"y":409.53964042663574,"wires":[["cb5aa9a8.dd2838"]]},{"id":"cb5aa9a8.dd2838","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":459.8527641296387,"y":411.5912809371948,"wires":[["47e49787.fe1418"],[]]},{"id":"47e49787.fe1418","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":654.4403762817383,"y":407.5753631591797,"wires":[["c4c83d92.52aa2"]]},{"id":"c4c83d92.52aa2","type":"function","z":"4e43cc07.6e3564","name":"40102+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 102 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":255.15472030639648,"y":453.6467704772949,"wires":[["5a97204a.4244a"]]},{"id":"5a97204a.4244a","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":457.70989990234375,"y":462.84127616882324,"wires":[["fc9f4f3.cfa10b"],[]]},{"id":"fc9f4f3.cfa10b","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":663.7261085510254,"y":447.3967704772949,"wires":[["c28bd9e8.e2f958"]]},{"id":"c28bd9e8.e2f958","type":"function","z":"4e43cc07.6e3564","name":"40104+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 104 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":242.65473556518555,"y":497.9325270652771,"wires":[["631b6394.76951c"]]},{"id":"631b6394.76951c","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":457.1742286682129,"y":509.8055534362793,"wires":[["3d0ce143.ca524e"],[]]},{"id":"3d0ce143.ca524e","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":661.7618217468262,"y":498.6468086242676,"wires":[["f08eb0e9.27876"]]},{"id":"f08eb0e9.27876","type":"function","z":"4e43cc07.6e3564","name":"40106+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 106 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":234.97612380981445,"y":549.7183437347412,"wires":[["1872f145.9c453f"]]},{"id":"1872f145.9c453f","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":465.0313606262207,"y":554.0912628173828,"wires":[["976c76cd.6182f8"],[]]},{"id":"976c76cd.6182f8","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":665.333251953125,"y":547.2182159423828,"wires":[["f1a458cd.2d6e98"]]},{"id":"f1a458cd.2d6e98","type":"function","z":"4e43cc07.6e3564","name":"400108+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 108 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":235.53573989868164,"y":598.9206600189209,"wires":[["d61dd4ce.c58218"]]},{"id":"d61dd4ce.c58218","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":460.2817268371582,"y":606.1746692657471,"wires":[["85103f42.3d24a"],[]]},{"id":"85103f42.3d24a","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":664.4403762817383,"y":601.9801254272461,"wires":[["fb33d169.19f46"]]},{"id":"fb33d169.19f46","type":"function","z":"4e43cc07.6e3564","name":"40110+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 110 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":232.45247268676758,"y":646.5276565551758,"wires":[["60828437.99d6fc"]]},{"id":"60828437.99d6fc","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":459.77377700805664,"y":657.2419247627258,"wires":[["f22c28e0.098118"],[]]},{"id":"f22c28e0.098118","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":664.3614654541016,"y":651.7974863052368,"wires":[["fc43b2d7.e30dc"]]},{"id":"fc43b2d7.e30dc","type":"function","z":"4e43cc07.6e3564","name":"40112+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 112 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":226.2023048400879,"y":698.6704959869385,"wires":[["2e7573be.bad96c"]]},{"id":"2e7573be.bad96c","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":473.9360580444336,"y":707.8649759292603,"wires":[["4ea161c2.aee92"],[]]},{"id":"4ea161c2.aee92","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":651.3808708190918,"y":706.7062015533447,"wires":[["a23178ef.7f3908"]]},{"id":"a23178ef.7f3908","type":"function","z":"4e43cc07.6e3564","name":"40114+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 114 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":220.66658401489258,"y":738.491925239563,"wires":[["9513bb85.3bd1a8"]]},{"id":"9513bb85.3bd1a8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":474.65031814575195,"y":754.8292617797852,"wires":[["f6228818.d69118"],[]]},{"id":"f6228818.d69118","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":662.0951652526855,"y":755.0990943908691,"wires":[["c53bfdd1.3059c"]]},{"id":"c53bfdd1.3059c","type":"function","z":"4e43cc07.6e3564","name":"40116+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 116 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":216.73804092407227,"y":791.3491744995117,"wires":[["fbf30e9b.ebab4"]]},{"id":"fbf30e9b.ebab4","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":471.2574577331543,"y":804.6507892608643,"wires":[["3596ba05.69ce96"],[]]},{"id":"3596ba05.69ce96","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":667.273754119873,"y":804.9206047058105,"wires":[["b0dc3930.011278"]]},{"id":"b0dc3930.011278","type":"function","z":"4e43cc07.6e3564","name":"40118+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 118 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":209.05946731567383,"y":857.4206800460815,"wires":[["3d9331a4.0cf5ee"]]},{"id":"3d9331a4.0cf5ee","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":470.54319763183594,"y":858.9365119934082,"wires":[["cbdc207e.654e"],[]]},{"id":"cbdc207e.654e","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":686.5594844818115,"y":854.9205780029297,"wires":[["e8b4d30d.dcb79"]]},{"id":"e8b4d30d.dcb79","type":"function","z":"4e43cc07.6e3564","name":"400120+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 120 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":209.61903762817383,"y":906.6229782104492,"wires":[["4f312d63.a3f324"]]},{"id":"4f312d63.a3f324","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":462.9364433288574,"y":905.305585861206,"wires":[["e59462f6.749be"],[]]},{"id":"e59462f6.749be","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":678.5237617492676,"y":908.253927230835,"wires":[["ae0459af.df5cf8"]]},{"id":"ae0459af.df5cf8","type":"function","z":"4e43cc07.6e3564","name":"R_40122_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 122 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":195.36122512817383,"y":947.580997467041,"wires":[["87d4f77b.c83818"]]},{"id":"87d4f77b.c83818","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":464.78588485717773,"y":953.811182975769,"wires":[["37dc770f.76b0b8"],[]]},{"id":"37dc770f.76b0b8","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":673.0200080871582,"y":951.0508899688721,"wires":[["d409074d.4ba8a8"]]},{"id":"d409074d.4ba8a8","type":"function","z":"4e43cc07.6e3564","name":"R_40123_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 123 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":185.36124801635742,"y":997.5809688568115,"wires":[["f8913e48.ae80e"]]},{"id":"f8913e48.ae80e","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":464.7859001159668,"y":1012.3825988769531,"wires":[["603d1fb1.678e6"],[]]},{"id":"603d1fb1.678e6","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":670.1628837585449,"y":1002.4793891906738,"wires":[["767c05ea.377f8c"]]},{"id":"767c05ea.377f8c","type":"function","z":"4e43cc07.6e3564","name":"R_40124_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 124 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":176.78981399536133,"y":1053.2952346801758,"wires":[["b5d8ad35.f521"]]},{"id":"b5d8ad35.f521","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":464.7859001159668,"y":1070.9539833068848,"wires":[["95f4979c.2bbe78"],[]]},{"id":"95f4979c.2bbe78","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":678.7343254089355,"y":1063.9079055786133,"wires":[["b3f6b8a4.830bd8"]]},{"id":"b3f6b8a4.830bd8","type":"function","z":"4e43cc07.6e3564","name":"R_40125_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 125 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":185.36125564575195,"y":1109.0096254348755,"wires":[["4860262d.b8b238"]]},{"id":"4860262d.b8b238","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":470.5002555847168,"y":1109.5255165100098,"wires":[["e0785a4b.1efe48"],[]]},{"id":"e0785a4b.1efe48","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":668.7342414855957,"y":1106.7651538848877,"wires":[["54406786.67a2d8"]]},{"id":"54406786.67a2d8","type":"function","z":"4e43cc07.6e3564","name":"R_40126_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 126 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":173.93268203735352,"y":1171.8666324615479,"wires":[["b28f248b.0810f8"]]},{"id":"b28f248b.0810f8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":477.64307022094727,"y":1180.9539699554443,"wires":[["e7fc16d4.806398"],[]]},{"id":"e7fc16d4.806398","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":675.8771018981934,"y":1165.3365173339844,"wires":[["f1dfde78.68a62"]]},{"id":"f1dfde78.68a62","type":"function","z":"4e43cc07.6e3564","name":"R_40127_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 127 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":179.6469612121582,"y":1240.4382305145264,"wires":[["748b74d6.705b6c"]]},{"id":"748b74d6.705b6c","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":456.21447372436523,"y":1252.3825721740723,"wires":[["782a1ddc.e3d4c4"],[]]},{"id":"782a1ddc.e3d4c4","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":664.4485816955566,"y":1236.7652225494385,"wires":[["27cf833f.41254c"]]},{"id":"27cf833f.41254c","type":"function","z":"4e43cc07.6e3564","name":"R_40128_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 128 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":168.21840286254883,"y":1291.8666276931763,"wires":[["d88aa622.9fc4b8"]]},{"id":"d88aa622.9fc4b8","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":456.21446228027344,"y":1302.3826532363892,"wires":[["cddc5ff5.f541c"],[]]},{"id":"cddc5ff5.f541c","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":658.7343139648438,"y":1293.907904624939,"wires":[["8f4dd7cd.185058"]]},{"id":"8f4dd7cd.185058","type":"function","z":"4e43cc07.6e3564","name":"R_40129_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 129 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":169.64695358276367,"y":1340.4381694793701,"wires":[["5acffcbf.f66aa4"]]},{"id":"5acffcbf.f66aa4","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":460.500186920166,"y":1350.9539737701416,"wires":[["55ed2aec.eaa154"],[]]},{"id":"55ed2aec.eaa154","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":663.0200157165527,"y":1343.9078302383423,"wires":[["8d33f91f.3d57f8"]]},{"id":"8d33f91f.3d57f8","type":"function","z":"4e43cc07.6e3564","name":"R_40130_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 130 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":162.50410842895508,"y":1406.1525592803955,"wires":[["57eaf9c8.bd2828"]]},{"id":"57eaf9c8.bd2828","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":474.78594970703125,"y":1399.5255756378174,"wires":[["67eba996.d7ef98"],[]]},{"id":"67eba996.d7ef98","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":677.3056945800781,"y":1391.0507564544678,"wires":[["7f02cdb0.f98c04"]]},{"id":"7f02cdb0.f98c04","type":"function","z":"4e43cc07.6e3564","name":"R_40131_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 131 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":165.36124801635742,"y":1460.4380207061768,"wires":[["5cae7182.f3cac"]]},{"id":"5cae7182.f3cac","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":469.07166290283203,"y":1452.3826704025269,"wires":[["844f6740.4fa2e8"],[]]},{"id":"844f6740.4fa2e8","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":703.0199546813965,"y":1448.1935844421387,"wires":[["74a39969.a67a68"]]},{"id":"74a39969.a67a68","type":"function","z":"4e43cc07.6e3564","name":"40132 - 40133_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 132 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":182.86120986938477,"y":1521.8666505813599,"wires":[["2b89474b.544f08"]]},{"id":"2b89474b.544f08","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":476.19467544555664,"y":1508.533543586731,"wires":[["d724ee42.ed818"],[]]},{"id":"d724ee42.ed818","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":708.5755043029785,"y":1509.0095949172974,"wires":[["dacc9161.f2d72"]]},{"id":"dacc9161.f2d72","type":"function","z":"4e43cc07.6e3564","name":"40134 - 40137_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 134 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":183.41694259643555,"y":1571.3111944198608,"wires":[["18e1275f.922939"]]},{"id":"18e1275f.922939","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":495.63897705078125,"y":1582.4222965240479,"wires":[["135d67f9.8ba688"],[]]},{"id":"135d67f9.8ba688","type":"function","z":"4e43cc07.6e3564","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[3]; //low\nintView[3] = msg.payload[0]; //high\nintView[1] = msg.payload[2]; //low\nintView[2] = msg.payload[1]; //high\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":705.7183570861816,"y":1579.0096292495728,"wires":[["27e91867.1ae768"]]},{"id":"27e91867.1ae768","type":"function","z":"4e43cc07.6e3564","name":"40138 - 40139_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 138 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":168.4169921875,"y":1626.3111562728882,"wires":[["1491b002.e81bd"]]},{"id":"1491b002.e81bd","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":492.30580139160156,"y":1624.0889263153076,"wires":[["808c84b2.69c298"],[]]},{"id":"808c84b2.69c298","type":"function","z":"4e43cc07.6e3564","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":710.004093170166,"y":1629.0095949172974,"wires":[["991919a8.d5d178"]]},{"id":"991919a8.d5d178","type":"function","z":"4e43cc07.6e3564","name":"40140_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 140 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":180.08353424072266,"y":1674.6444311141968,"wires":[["16717c0d.1877c4"]]},{"id":"16717c0d.1877c4","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":482.3057174682617,"y":1667.4222421646118,"wires":[["3862497e.f03ba6"],[]]},{"id":"3862497e.f03ba6","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":712.8612098693848,"y":1684.7239503860474,"wires":[["d3c46b68.d2ddb8"]]},{"id":"d3c46b68.d2ddb8","type":"function","z":"4e43cc07.6e3564","name":"40141_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":185.08349227905273,"y":1729.644513130188,"wires":[["2839d958.7b23c6"]]},{"id":"2839d958.7b23c6","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":483.9723815917969,"y":1722.4222650527954,"wires":[["120c4989.eef166"],[]]},{"id":"120c4989.eef166","type":"function","z":"4e43cc07.6e3564","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":718.5755043029785,"y":1729.0097389221191,"wires":[["95030969.10bed8"]]},{"id":"95030969.10bed8","type":"function","z":"4e43cc07.6e3564","name":"40141_2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 141 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":143.71638870239258,"y":1778.5377006530762,"wires":[["d4b760a6.fa93"]]},{"id":"d4b760a6.fa93","type":"modbus-flex-getter","z":"4e43cc07.6e3564","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":477.0497589111328,"y":1780.204348564148,"wires":[["6ff8515b.1b8cd"],[]]},{"id":"6ff8515b.1b8cd","type":"function","z":"4e43cc07.6e3564","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":650.0041160583496,"y":1777.5809364318848,"wires":[["33002289.90b2de"]]},{"id":"33002289.90b2de","type":"function","z":"4e43cc07.6e3564","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":786.3495407104492,"y":1779.1165599822998,"wires":[["b4337de1.1f1e3","905ea7a2.f06208"]]},{"id":"b4337de1.1f1e3","type":"http response","z":"4e43cc07.6e3564","name":"","x":957.7067031860352,"y":1741.3905839920044,"wires":[]},{"id":"905ea7a2.f06208","type":"debug","z":"4e43cc07.6e3564","name":"","active":true,"console":"false","complete":"payload","x":976.694953918457,"y":1778.0213298797607,"wires":[]},{"id":"289e7ce5.406ca4","type":"inject","z":"cd34e71a.f9b228","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":206.37715911865234,"y":221.9105134010315,"wires":[["9722ee9f.2153"]]},{"id":"9722ee9f.2153","type":"function","z":"cd34e71a.f9b228","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":423.1557312011719,"y":273.10092878341675,"wires":[["35f63f7b.12112"]]},{"id":"35f63f7b.12112","type":"function","z":"cd34e71a.f9b228","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":605.0602035522461,"y":272.1485676765442,"wires":[["2ad9b140.9b765e"]]},{"id":"683035.dc6d9fcc","type":"function","z":"cd34e71a.f9b228","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":523.1554527282715,"y":370.7199902534485,"wires":[["7115ec50.6dd594"]]},{"id":"2ad9b140.9b765e","type":"modbus-flex-getter","z":"cd34e71a.f9b228","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":787.6792984008789,"y":269.52945470809937,"wires":[["b0dd5543.e56da8"],[]]},{"id":"7115ec50.6dd594","type":"modbus-flex-getter","z":"cd34e71a.f9b228","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":777.4410667419434,"y":373.5770754814148,"wires":[["d391298.84a7dd8"],[]]},{"id":"b0dd5543.e56da8","type":"function","z":"cd34e71a.f9b228","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":988.8699951171875,"y":270.48203897476196,"wires":[["f9db483c.b68818"]]},{"id":"d391298.84a7dd8","type":"function","z":"cd34e71a.f9b228","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":980.5362911224365,"y":368.5770583152771,"wires":[["82c8555e.d89fb8"]]},{"id":"f9db483c.b68818","type":"function","z":"cd34e71a.f9b228","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1162.1707763671875,"y":165.71994638442993,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["683035.dc6d9fcc"]]},{"id":"82c8555e.d89fb8","type":"function","z":"cd34e71a.f9b228","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1324.075538635254,"y":324.29132080078125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["ef6ce29b.8fe57"],[],[]]},{"id":"ef6ce29b.8fe57","type":"function","z":"cd34e71a.f9b228","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":439.31370544433594,"y":455.2437210083008,"wires":[["8181e124.b0d22"]]},{"id":"8181e124.b0d22","type":"modbus-flex-getter","z":"cd34e71a.f9b228","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":635.2658767700195,"y":464.05324840545654,"wires":[["9a1045f0.6c3ec8"],[]]},{"id":"9a1045f0.6c3ec8","type":"function","z":"cd34e71a.f9b228","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":836.6946182250977,"y":465.0058002471924,"wires":[["56530147.5f32e"]]},{"id":"56530147.5f32e","type":"function","z":"cd34e71a.f9b228","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":970.6591567993164,"y":467.7319049835205,"wires":[["b943e3f9.b3695","360ea163.eb8c5e"]]},{"id":"b943e3f9.b3695","type":"http response","z":"cd34e71a.f9b228","name":"","x":1127.4923286437988,"y":467.86286449432373,"wires":[]},{"id":"360ea163.eb8c5e","type":"debug","z":"cd34e71a.f9b228","name":"","active":true,"console":"false","complete":"payload","x":1161.480613708496,"y":516.1603469848633,"wires":[]},{"id":"60637413.26017c","type":"http in","z":"cd34e71a.f9b228","name":"","url":"/StatusPump","method":"get","swaggerDoc":"","x":150.7421875,"y":274.2914547920227,"wires":[["9722ee9f.2153"]]},{"id":"7cda12a3.8da15c","type":"inject","z":"cd34e71a.f9b228","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":199.5517807006836,"y":677.6248226165771,"wires":[["f01956cc.a54468"]]},{"id":"f01956cc.a54468","type":"function","z":"cd34e71a.f9b228","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":416.3303527832031,"y":728.8152379989624,"wires":[["cd2b3594.4d21b8"]]},{"id":"cd2b3594.4d21b8","type":"function","z":"cd34e71a.f9b228","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":608.2348251342773,"y":727.8628768920898,"wires":[["fcc18208.0e72f"]]},{"id":"cb84a629.a41eb8","type":"function","z":"cd34e71a.f9b228","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":426.33007049560547,"y":849.767671585083,"wires":[["3081d202.3c9dde"]]},{"id":"fcc18208.0e72f","type":"modbus-flex-getter","z":"cd34e71a.f9b228","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":780.8539199829102,"y":725.243763923645,"wires":[["fd2dcd8e.2dc53"],[]]},{"id":"3081d202.3c9dde","type":"modbus-flex-getter","z":"cd34e71a.f9b228","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":637.2824325561523,"y":862.6246471405029,"wires":[["63a89ad5.8f2754"],[]]},{"id":"fd2dcd8e.2dc53","type":"function","z":"cd34e71a.f9b228","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1002.0446586608887,"y":711.1963539123535,"wires":[["bb109e41.4d4d4"]]},{"id":"63a89ad5.8f2754","type":"function","z":"cd34e71a.f9b228","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":907.0443382263184,"y":842.6247463226318,"wires":[["ead2e267.269eb"]]},{"id":"bb109e41.4d4d4","type":"function","z":"cd34e71a.f9b228","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1188.6786804199219,"y":699.7675933837891,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["cb84a629.a41eb8"]]},{"id":"ead2e267.269eb","type":"function","z":"cd34e71a.f9b228","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1330.5835227966309,"y":830.0056076049805,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e1fbf6e3.24c278"],[]]},{"id":"e1fbf6e3.24c278","type":"function","z":"cd34e71a.f9b228","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":339.15503692626953,"y":952.6247606277466,"wires":[["e8781422.c48948"]]},{"id":"e8781422.c48948","type":"modbus-flex-getter","z":"cd34e71a.f9b228","name":"","showStatusActivities":false,"showErrors":false,"server":"5d4a5441.06d74c","x":543.4405364990234,"y":949.7676525115967,"wires":[["332aa7a3.263068"],[]]},{"id":"332aa7a3.263068","type":"function","z":"cd34e71a.f9b228","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":724.8692169189453,"y":944.0534582138062,"wires":[["eec0d9c9.2af518"]]},{"id":"eec0d9c9.2af518","type":"function","z":"cd34e71a.f9b228","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":905.5004119873047,"y":948.446298122406,"wires":[["5a4abec7.304e9","3e7478f9.4ee628"]]},{"id":"5a4abec7.304e9","type":"http response","z":"cd34e71a.f9b228","name":"","x":1164.0002937316895,"y":983.5773220062256,"wires":[]},{"id":"3e7478f9.4ee628","type":"debug","z":"cd34e71a.f9b228","name":"","active":true,"console":"false","complete":"payload","x":1182.9885444641113,"y":1020.2080678939819,"wires":[]},{"id":"215ca089.e60a9","type":"http in","z":"cd34e71a.f9b228","name":"","url":"/StatusKlapan","method":"get","swaggerDoc":"","x":153.91680908203125,"y":730.0057640075684,"wires":[["f01956cc.a54468"]]}]
