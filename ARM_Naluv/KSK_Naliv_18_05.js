[{"id":"4ed6615.db998a","type":"tab","label":"Interface"},{"id":"1457c252.91a1de","type":"tab","label":"PLC1_status_all"},{"id":"71d2f7af.b37db8","type":"tab","label":"PLC_1_all_method"},{"id":"16dfcda7.f79852","type":"tab","label":"PLC_1_DATE_Stat"},{"id":"9c18996a.b18888","type":"tab","label":"PLC_3_always_monitor_status_PLC3"},{"id":"64ffbfa5.9f63d","type":"tab","label":"PLC_3_ARM Naliv"},{"id":"c072b5b.d762648","type":"tab","label":"PLC_3_ARM naliva STATUS data"},{"id":"af248669.b85bd8","type":"tab","label":"PLC2_status_all"},{"id":"96cf880.06b4b78","type":"tab","label":"PLC_2_ARM_NALiv"},{"id":"3809082e.4a5f28","type":"tab","label":"PLC_2_ARM nalive STATUS PLC2"},{"id":"d87addf3.3252","type":"tab","label":"PLC_4_ARM Naliv PLC4"},{"id":"b67896f0.aa9288","type":"tab","label":"PLC_4_always_monitor_status"},{"id":"26322f83.41d31","type":"tab","label":"PLC_4_data_stat"},{"id":"76d04a24.33dbd4","type":"tab","label":"PLC_5_always_monitor_status"},{"id":"c3bd0ed2.bdd29","type":"tab","label":"PLC_5_ARM Naliv PLC5"},{"id":"238115c.c26aaea","type":"tab","label":"PLC_5_ARM nalive STATUS PLC5"},{"id":"9de15b38.b5e158","type":"tab","label":"PLC_6_always_monitor_status_PLC6"},{"id":"38cafb3c.f19c64","type":"tab","label":"PLC_6_ARM Naliv PLC6"},{"id":"7c979a3f.780724","type":"tab","label":"PLC_6_ARM nalive STATUS PLC6"},{"id":"71b80a08.0a9494","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.5.203","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"1ea9b448.b760ec","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.5.201","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"834a531c.c0124","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.5.202","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"b84fea20.d60318","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.5.204","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"ec229c44.10de8","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.5.205","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"fc070094.acbd8","type":"modbus-client","z":"","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"tcpHost":"192.168.5.206","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectTimeout":"2000"},{"id":"e5b6b875.8eb988","type":"http in","z":"4ed6615.db998a","name":"Отримуємо методи для 1С","url":"/getMethods","method":"get","swaggerDoc":"","x":160.89453125,"y":173.33593678474426,"wires":[["863473a5.1b00b"]]},{"id":"863473a5.1b00b","type":"template","z":"4ed6615.db998a","name":"Описуємо доступні методи","field":"payload","fieldType":"msg","format":"json","syntax":"mustache","template":"{\n    \"source\":\"/api/platform\",\n    \"methods\":[\n                {\n                    \"description\":\"Установлює заявку, маршрут, обєм перед початком наливу\",\n                    \"source\":\"/setOrders\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"orderId\": 1234,\n                        \"track\": 0,\n                        \"volume\": 978.20\n                    }\n                },\n                {\n                    \"description\":\"Запис всіх сетпоінт\",\n                    \"source\":\"/kt/setOrders\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                      \"volume1\": 978.20,\n                      \"volume2\": 978.20,\n                      \"volume3\": 978.20,\n                      \"volume4\": 978.20,\n                      \"volume5\": 978.20,\n                      \"volume6\": 555.65\n                    }\n                },\n                {\n                    \"description\":\"Зчитує всі дані статусів системи 4,5,6 PLC (плостійний моніторинг)\",\n                    \"source\":\"/status/all_system_4_5_6\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0_status_pump\": 0,\n                        \"bit_18_status_pump\": 0,\n                        \"bit_0_status_klapan\": 0,\n                        \"bit_1_status_klapan\": 0,\n                        \"status_hend_vent_bit_0\":0,\n                        \"status_hend_vent_bit_1\":0,\n                        \"status_hend_vent_bit_2\":0,\n                        \"register_error_status_bit_0\": 0,\n                        \"register_error_status_bit_1\": 0,\n                        \"register_error_status_bit_2\": 0,\n                        \"register_error_status_bit_3\": 0,\n                        \"register_error_status_bit_4\": 0,\n                        \"register_error_status_bit_5\": 0,\n                        \"register_error_status_bit_6\": 0,\n                        \"t_flow\": 0,\n                        \"plotnost_flow\": 0,\n                        \"second_for_scada\": 0,\n                        \"mode_system\": 0,\n                        \"zayavka\": 0,\n                        \"marshrut_setpoint_bit_0\": 0,\n                        \"marshrut_setpoint_bit_1\": 0,\n                        \"marshrut_setpoint_bit_2\": 0,\n                        \"setpoint\": 0,\n                        \"set_lflow_start\": 0,\n                        \"set_lflow_stop\": 0,\n                        \"protok_min\": 0,\n                        \"protok_dead_time\": 0,\n                        \"counter_1\": 0,\n                        \"counter_2\": 0,\n                        \"counter_3\": 0\n                    }\n                },\n                {\n                    \"description\":\"Зчитує всі дані статусів системи 1,2,3 PLC(плостійний моніторинг)\",\n                    \"source\":\"/status/all_system_1_2_3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0_status_pump\": 0,\n                        \"bit_18_status_pump\": 0,\n                        \"bit_0_status_klapan\": 0,\n                        \"bit_1_status_klapan\": 0,\n                        \"status_hend_vent_bit_0\":0,\n                        \"status_hend_vent_bit_1\":0,\n                        \"status_hend_vent_bit_2\":0,\n                        \"register_error_status_bit_0\": 0,\n                        \"register_error_status_bit_1\": 0,\n                        \"register_error_status_bit_2\": 0,\n                        \"register_error_status_bit_3\": 0,\n                        \"register_error_status_bit_4\": 0,\n                        \"register_error_status_bit_5\": 0,\n                        \"register_error_status_bit_6\": 0,\n                        \"register_error_status_bit_7\": 0,\n                        \"register_error_status_bit_8\": 0,\n                        \"t_flow\": 0,\n                        \"plotnost_flow\": 0,\n                        \"second_for_scada\": 0,\n                        \"mode_system\": 0,\n                        \"zayavka\": 0,\n                        \"marshrut_setpoint_bit_0\": 0,\n                        \"marshrut_setpoint_bit_1\": 0,\n                        \"marshrut_setpoint_bit_2\": 0,\n                        \"setpoint\": 0,\n                        \"set_lflow_start\": 0,\n                        \"set_lflow_stop\": 0,\n                        \"protok_min\": 0,\n                        \"protok_dead_time\": 0,\n                        \"counter_1\": 0,\n                        \"counter_2\": 0,\n                        \"counter_3\": 0\n                    }\n                },\n                {\n                    \"description\":\"Зчитує всі дані статусів системи(плостійний моніторинг)\",\n                    \"source\":\"/status/all_system\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0_status_pump\": 0,\n                        \"bit_18_status_pump\": 0,\n                        \"bit_0_status_klapan\": 0,\n                        \"bit_1_status_klapan\": 0,\n                        \"status_hend_vent_bit_0\":0,\n                        \"status_hend_vent_bit_1\":0,\n                        \"status_hend_vent_bit_2\":0,\n                        \"register_error_status_bit_0\": 0,\n                        \"register_error_status_bit_1\": 0,\n                        \"register_error_status_bit_2\": 0,\n                        \"register_error_status_bit_3\": 0,\n                        \"register_error_status_bit_4\": 0,\n                        \"register_error_status_bit_5\": 0,\n                        \"register_error_status_bit_6\": 0,\n                        \"register_error_status_bit_7\": 0,\n                        \"register_error_status_bit_8\": 0,\n                        \"t_flow\": 0,\n                        \"plotnost_flow\": 0,\n                        \"second_for_scada\": 0,\n                        \"mode_system\": 0,\n                        \"zayavka\": 0,\n                        \"marshrut_setpoint_bit_0\": 0,\n                        \"marshrut_setpoint_bit_1\": 0,\n                        \"marshrut_setpoint_bit_2\": 0,\n                        \"setpoint\": 0,\n                        \"set_lflow_start\": 0,\n                        \"set_lflow_stop\": 0,\n                        \"protok_min\": 0,\n                        \"protok_dead_time\": 0,\n                        \"counter_1\": 0,\n                        \"counter_2\": 0,\n                        \"counter_3\": 0\n                    }\n                },\n                {\n                    \"description\":\"Зчитує заявку, маршрут, обєм перед початком наливу\",\n                    \"source\":\"/setOrders\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"orderId\": 1234,\n                        \"track\": 0,\n                        \"volume\": 978.20\n                    }\n                },\n                {\n                    \"description\":\"Корекція Setpoin, зчитування\",\n                    \"source\":\"/CorrectionSetpoint\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 2\n                    }\n                },\n                {\n                    \"description\":\"Корекція Setpoin, запис\",\n                    \"source\":\"/CorrectionSetpoint\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"volume\": 2.25\n                    }\n                },\n                {\n                    \"description\":\"Резер 6002 зчитування\",\n                    \"source\":\"/rezerv6002\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 2\n                    }\n                },\n                {\n                    \"description\":\"Резер 6002 запис\",\n                    \"source\":\"/rezerv6002\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"volume\": 2.25\n                    }\n                },\n                {\n                    \"description\":\"Зчитує режим наливу(числове значння)\",\n                    \"source\":\"/status\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 2\n                    }\n                },\n                {\n                    \"description\":\"Установлює режим наливу(числове значння)\",\n                    \"source\":\"/status\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"cmd\": 2\n                    }\n                },\n                {\n                    \"description\":\"Зчитує статус насосу\",\n                    \"source\":\"/StatusPump\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_18\": 1\n                    }\n                },\n                {\n                    \"description\":\"Установлює умімкння/вимкнення носама 18 бітом 1/0\",\n                    \"source\":\"/send18bI_status_pump\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"write18b\": 4\n                    }\n                },\n                {\n                     \"description\":\"Зчитує всі сетпоінти\",\n                    \"source\":\"/kt/read5006\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"setp1\": 0,\n                        \"setp2\": 0,\n                        \"setp3\": 0,\n                        \"setp4\": 0,\n                        \"setp5\": 0,\n                        \"setp6\": 0\n                       \n                    }\n                },\n                {\n                     \"description\":\"Зчитує секунди час з усіх\",\n                    \"source\":\"/kt/SecondForScada\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"time1\": 0,\n                       \"time2\": 0,\n                       \"time3\": 0,\n                       \"time4\": 0,\n                       \"time5\": 0,\n                       \"time6\": 0\n                       \n                    }\n                },\n                {\n                     \"description\":\"Зчитує статус клапана біт 0 - 1 - малий протік, біт 1 - 1 - великий протік\",\n                    \"source\":\"/StatusKlapan\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                       \"bit_0\": 0,\n                       \"bit_1\": 1\n                    }\n                },\n                {\n                    \"description\":\"Установлює маршрут КЛапан 5.2 - 0 біт, 5.4 - 1 біт, 5.6 - 2 біт ( 1 відкрито, 0 закрито)\",\n                    \"source\":\"/UpakovkaMarshrut\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_1\": 0,\n                        \"bit_2\": 0 \n                    }\n                },\n                {\n                   \"description\":\"Статус входів ПЛК\",\n                    \"source\":\"/PLCInputStatus\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 255 \n                    }\n                },\n                {\n                    \"description\":\"Регістр  аварій, для інформування про причину аварії  \",\n                    \"source\":\"/RegisterError\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"bit_0\": 0,\n                        \"bit_1\": 0,\n                        \"bit_2\": 0,\n                        \"bit_3\": 0,\n                        \"bit_4\": 0, \n                        \"bit_5\": 0,\n                        \"bit_6\": 0 \n                    }\n                },\n                {\n                    \"description\":\"Установка 15 біта в 1 і всі інші біти в 0 для скидання аварії(число не треба слати, лише пустий метод, аналыз числа здыйснюэться на рывны распберы\",\n                    \"source\":\"/resetError\",\n                    \"type\":\"POST\",\n                    \"in_body\":{\n                        \"Reset_Error\": 32768\n                    }\n                },\n                {\n                    \"description\":\"Зчитує швидкість потоку м/с  рег 30000 фн 04\",\n                    \"source\":\"/SpeedFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.89\n                    }\n                },\n                {\n                    \"description\":\"Зчитує об'ємну витрата  л/год\",\n                    \"source\":\"/VFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує массову витрата кг/год\",\n                    \"source\":\"/MFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує температуру град\",\n                    \"source\":\"/TFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує густину кг/л\",\n                    \"source\":\"/PlotnostFlow\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує температуру середню град\",\n                    \"source\":\"/TFlowMiddle\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Зчитує густину сер кг/л\",\n                    \"source\":\"/PlotnostMiddle\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Запис 1(числа) для скидання лічильника 1 та 2 \",\n                    \"source\":\"/ResetCounter12\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"Reset_counter_1_2\": 1\n                       }\n                },\n                {\n                    \"description\":\"Запис 1(числа) для скидання лічильника 3 \",\n                    \"source\":\"/ResetCounter3\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"ResetCounter3\": 1 \n                       }\n                },\n                {\n                    \"description\":\"Зчитування секундного таймера 0-60 сек, для діагностики звязку з ПЛК \",\n                    \"source\":\"/SecondForScada\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5\n                    }\n                },\n                {\n                    \"description\":\"Запис об’єму первинного наливу (за замовчув. 20 л.)\",\n                    \"source\":\"/SetLflowStart\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"volume\": 789.89\n                       }\n                },\n                {\n                    \"description\":\"Зчутування об’єму первинного наливу (за замовчув. 20 л.)\",\n                    \"source\":\"/SetLflowStart\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 588.58\n                    }\n                },\n                {\n                    \"description\":\"Зчутування об’єму остаточного доливу в кінці (за замовчув. 40 л.) \",\n                    \"source\":\"/SetLflowStop\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Установка об’єму остаточного доливу в кінці (за замовчув. 40 л.) \",\n                    \"source\":\"/SetLflowStop\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                        \"volume\": 789.25 \n                       }\n                },\n                {\n                    \"description\":\"Установка мінімальний поріг витрат НП при працюючому насосі \",\n                    \"source\":\"/ProtokMin\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"volume\": 668.75\n                       }\n                },\n                {\n                    \"description\":\"Зчутвання мінімальний поріг витрат НП при працюючому насосі \",\n                    \"source\":\"/ProtokMin\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58.58\n                    }\n                },\n                {\n                    \"description\":\"Запис час для досягнення мінімального протоку (сек) \",\n                    \"source\":\"/ProtokDeadTime\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"volume\": 785.69\n                       }\n                },\n                {\n                    \"description\":\"Зчитування час для досягнення мінімального протоку (сек) \",\n                    \"source\":\"/ProtokDeadTime\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5858567\n                    }\n                },\n                {\n                    \"description\":\"Зчитування Значення лічильника 1\",\n                    \"source\":\"/Counter1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                    \n                },\n                {\n                    \"description\":\"Зчитування Значення лічильника 2\",\n                    \"source\":\"/Counter2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5858.56\n                    }\n                },\n                  {\n                    \"description\":\"Зчитування Значення лічильника 3 ( 64біта)\",\n                    \"source\":\"/Counter3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585546568.56\n                    }\n                },\n                {\n                    \"description\":\"Записуємо 1 для синхронізації часу/дати ПК з ПЛК\",\n                    \"source\":\"/send_start_write_date\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"sendI\": 1\n                       }\n                },\n                {\n                    \"description\":\"Записуємо поточний рік, місяць, день, година, хвелинни, секунда\",\n                    \"source\":\"/write_date_PLC\",\n                    \"type\":\"POST\",\n                      \"in_body\":{\n                          \"year\": 2018,\n                          \"mounth\": 2,\n                          \"day\": 21,\n                          \"hour\": 15,\n                          \"minute\": 54,\n                          \"second\": 18\n                       }\n                },\n                {\n                     \"description\":\"Зчитуємо дані, щойно завершеної заявки,  D92-143 \",\n                    \"source\":\"/status/data\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"order_req\": 1234,\n                        \"route\": 2,\n                        \"setpoint\": 25.65,\n                        \"counterr\": 25.65,\n                        \"t_flow_1\": 25.65,\n                        \"t_flow_2\": 25.65,\n                        \"t_flow_3\": 25.65,\n                        \"t_flow_4\": 25.65,\n                        \"t_flow_5\": 25.65,\n                        \"t_flow_middle\": 25.65,\n                        \"Plotnost_flow_1\": 25.65,\n                        \"Plotnost_flow_2\": 25.65,\n                        \"Plotnost_flow_3\": 25.65,\n                        \"Plotnost_flow_4\": 25.65,\n                        \"Plotnost_flow_5\": 25.65,\n                        \"Plotnost_middle\": 25.65,\n                        \"t_start_year\": 2018,\n                        \"t_start_month\": 2,\n                        \"t_start_day\": 3,\n                        \"t_start_hour\": 1,\n                        \"t_start_minute\": 25,\n                        \"t_end_year\":2018,\n                        \"t_end_month\":2,\n                        \"t_end_day\":3,\n                        \"t_end_hour\":10,\n                        \"t_end_minute\":20,\n                        \"Counter1M\":25.25,\n                        \"Counter_3\":789536.25,\n                        \"rezervf\": 25.25,\n                        \"rezervw1\": 123,\n                        \"rezervw2\": 123\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо резерв 26 регітр \",\n                    \"source\":\"/Upakovka5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 5856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо резерв 27 регітр \",\n                    \"source\":\"/Upakovka6\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 58586\n                    }\n                    \n                },\n                {\n                    \"description\":\"Зчитуємо температуру 1 град\",\n                    \"source\":\"/TFlow1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 2 град\",\n                    \"source\":\"/TFlow2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 3 град\",\n                    \"source\":\"/TFlow3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 4 град\",\n                    \"source\":\"/TFlow4\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо температуру 5 град\",\n                    \"source\":\"/TFlow5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 1 кг/л\",\n                    \"source\":\"/PlotnostFlow1\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 2 кг/л\",\n                    \"source\":\"/PlotnostFlow2\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 3 кг/л\",\n                    \"source\":\"/PlotnostFlow3\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густину 4 кг/л\",\n                    \"source\":\"/PlotnostFlow4\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                },\n                {\n                    \"description\":\"Зчитуємо густина 5 кг/л\",\n                    \"source\":\"/PlotnostFlow5\",\n                    \"type\":\"GET\",\n                    \"out_body\":{\n                        \"val\": 585.856\n                    }\n                }\n            ]\n            \n}","x":479.89849853515625,"y":171.78907775878906,"wires":[["d447b5ae.aee4c8","e3b51fda.8c7dd"]]},{"id":"d447b5ae.aee4c8","type":"http response","z":"4ed6615.db998a","name":"","x":694.8906478881836,"y":172.56252479553223,"wires":[]},{"id":"e3b51fda.8c7dd","type":"debug","z":"4ed6615.db998a","name":"","active":false,"console":"false","complete":"false","x":651.1041564941406,"y":296.6119842529297,"wires":[]},{"id":"9dfd696c.af7398","type":"http in","z":"9c18996a.b18888","name":"","url":"/k3/status/all_system","method":"get","swaggerDoc":"","x":164.00001525878906,"y":56.28572368621826,"wires":[["e5a12fa7.6bf1b"]]},{"id":"c961d062.b1431","type":"function","z":"9c18996a.b18888","name":"init status_all","func":"//var status_all = msg.payload;\nflow.set(\"bit_0_status_pump\",0);\nflow.set(\"bit_18_status_pump\", 0);\nflow.set(\"bit_0_status_klapan\", 0);\nflow.set(\"bit_1_status_klapan\", 0);\nflow.set(\"status_hend_vent_bit_0\",0);\nflow.set(\"status_hend_vent_bit_1\",0);\nflow.set(\"status_hend_vent_bit_2\",0);\n  flow.set(\"register_error_status_bit_0\", 0);\n  flow.set(\"register_error_status_bit_1\", 0);\n  flow.set(\"register_error_status_bit_2\", 0);\n  flow.set(\"register_error_status_bit_3\", 0);\n  flow.set(\"register_error_status_bit_4\", 0);\n  flow.set(\"register_error_status_bit_5\", 0);\n  flow.set(\"register_error_status_bit_6\", 0);\n  flow.set(\"register_error_status_bit_7\", 0);\n  flow.set(\"register_error_status_bit_8\", 0);\n  flow.set(\"t_flow\", 0);\n  flow.set(\"plotnost_flow\", 0);\n  flow.set(\"second_for_scada\", 0);\n  flow.set(\"mode_system\", 0);\n  flow.set(\"zayavka\", 0);\n  flow.set(\"marshrut_setpoint_number\", 0);\n  flow.set(\"marshrut_setpoint_bit_0\", 0);\n  flow.set(\"marshrut_setpoint_bit_1\", 0);\n  flow.set(\"marshrut_setpoint_bit_2\", 0);\n  flow.set(\"setpoint\", 0);\n  flow.set(\"set_lflow_start\", 0);\n  flow.set(\"set_lflow_stop\", 0);\n  flow.set(\"protok_min\", 0);\n  flow.set(\"protok_dead_time\", 0);\n  flow.set(\"counter_1\", 0);\n  flow.set(\"counter_2\", 0);\n  flow.set(\"counter_3\", 0);\n  return msg;","outputs":"1","noerr":0,"x":302.7468566894531,"y":248.2381248474121,"wires":[[]]},{"id":"c70d3fc2.5254e","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":739.1907501220703,"y":284.202449798584,"wires":[["e449e416.fd5c98"],[]]},{"id":"b8f68f7d.87df","type":"function","z":"9c18996a.b18888","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":539.5715789794922,"y":285.821569442749,"wires":[["c70d3fc2.5254e"]]},{"id":"e449e416.fd5c98","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":943.8813934326172,"y":282.655029296875,"wires":[["b8153f1c.5f0c"]]},{"id":"b8153f1c.5f0c","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_klapan',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1095.5153007507324,"y":281.97624683380127,"wires":[["16fba251.c6340e"]]},{"id":"16fba251.c6340e","type":"function","z":"9c18996a.b18888","name":"R_12_b1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":534.7499046325684,"y":337.14304065704346,"wires":[["610afe06.fa483"]]},{"id":"610afe06.fa483","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":735.2024078369141,"y":345.2500705718994,"wires":[["bd41a0a1.9071d"],[]]},{"id":"bd41a0a1.9071d","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":936.2143325805664,"y":342.5001583099365,"wires":[["972a52.2334d5b"]]},{"id":"972a52.2334d5b","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_1_status_klapan',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1095.0867462158203,"y":347.54766845703125,"wires":[["b61fe377.d39db"]]},{"id":"c29374fe.f0a908","type":"function","z":"9c18996a.b18888","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":338.7539482116699,"y":146.79772090911865,"wires":[["68edf7cd.0ce8d8"]]},{"id":"46af46fa.8837b8","type":"function","z":"9c18996a.b18888","name":"R_1_bit_3(18)","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":540.8492889404297,"y":221.86920738220215,"wires":[["dfcd5a80.c55468"]]},{"id":"68edf7cd.0ce8d8","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":526.8731307983398,"y":143.17858123779297,"wires":[["a9db9ca3.6b356"],[]]},{"id":"dfcd5a80.c55468","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":739.6348724365234,"y":221.22623825073242,"wires":[["12b1c1d2.6f279e"],[]]},{"id":"a9db9ca3.6b356","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":715.0637512207031,"y":142.38115310668945,"wires":[["2e079e70.776c22"]]},{"id":"12b1c1d2.6f279e","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":934.9800643920898,"y":216.226224899292,"wires":[["6430a82c.ad7808"]]},{"id":"2e079e70.776c22","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_pump',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":884.6982421875,"y":142.0000057220459,"wires":[["46af46fa.8837b8"]]},{"id":"6f256221.6ea04c","type":"function","z":"9c18996a.b18888","name":"R_25_register_error_status_bit_0_6","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":505.6905517578125,"y":577.3690185546875,"wires":[["cb4634b1.99c9f8"]]},{"id":"cb4634b1.99c9f8","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":753.1429443359375,"y":578.7259521484375,"wires":[["9dedfe89.497aa"],[]]},{"id":"9dedfe89.497aa","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":952.1549072265625,"y":586.47607421875,"wires":[["824f5aa0.7167d8"]]},{"id":"5fb43d69.416ba4","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":736.7860107421875,"y":636.2743530273438,"wires":[["324ffb1b.b274a4"],[]]},{"id":"324ffb1b.b274a4","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"t_flow\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":951.7861938476562,"y":638.7744750976562,"wires":[["663a8ca0.c02a94"]]},{"id":"e7a99411.094318","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":722.2859497070312,"y":691.7742919921875,"wires":[["28180646.65af1a"],[]]},{"id":"663a8ca0.c02a94","type":"function","z":"9c18996a.b18888","name":"R_38+1_plotnost_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":440.78594970703125,"y":685.7742919921875,"wires":[["e7a99411.094318"]]},{"id":"28180646.65af1a","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"plotnost_flow\",parseFloat(fltView[0].toFixed(4)));\n\nreturn msg;","outputs":1,"noerr":0,"x":930.2860717773438,"y":695.2743530273438,"wires":[["64f67f0c.95b9f"]]},{"id":"3f1eb8f8.431578","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"second_for_scada\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":936.2859497070312,"y":744.0242919921875,"wires":[["c8b5a619.761e18"]]},{"id":"2410aee5.f0b642","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":716.2739868164062,"y":742.2741088867188,"wires":[["3f1eb8f8.431578"],[]]},{"id":"64f67f0c.95b9f","type":"function","z":"9c18996a.b18888","name":"R_83_second_for_scada","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":436.5716247558594,"y":738.6673583984375,"wires":[["2410aee5.f0b642"]]},{"id":"20b8483e.daaeb8","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"mode_system\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":913.7859497070312,"y":804.6075439453125,"wires":[["d76cd0c3.615c1"]]},{"id":"1b2ef6b2.8c86d9","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":712.7739562988281,"y":800.8573818206787,"wires":[["20b8483e.daaeb8"],[]]},{"id":"c8b5a619.761e18","type":"function","z":"9c18996a.b18888","name":"R_5002_mode_system","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":440.03601837158203,"y":794.6075773239136,"wires":[["1b2ef6b2.8c86d9"]]},{"id":"91da5342.6f2ad","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"zayavka\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":917.2859497070312,"y":847.69091796875,"wires":[["dff8da6f.0bae58"]]},{"id":"8b3b2085.9731c","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":714.27392578125,"y":851.9407348632812,"wires":[["91da5342.6f2ad"],[]]},{"id":"d76cd0c3.615c1","type":"function","z":"9c18996a.b18888","name":"R_5004_zayavka","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":417.5360107421875,"y":841.69091796875,"wires":[["8b3b2085.9731c"]]},{"id":"2a05b9b9.3e9236","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":912.785888671875,"y":952.1910400390625,"wires":[["146f1d7.b4858e3"]]},{"id":"b6bb8bb0.ea6558","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":704.77392578125,"y":951.1905517578125,"wires":[["2a05b9b9.3e9236"],[]]},{"id":"edd8b3b6.0f313","type":"function","z":"9c18996a.b18888","name":"R_5005_marshrut_setpoint_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":394.78594970703125,"y":945.940673828125,"wires":[["b6bb8bb0.ea6558"]]},{"id":"a20896a3.6fbad8","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"setpoint\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1970.1196022033691,"y":106.77458572387695,"wires":[["6f91f251.7b02ac"]]},{"id":"48619ee5.1b1cd","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1756.3695259094238,"y":105.52453708648682,"wires":[["a20896a3.6fbad8"],[]]},{"id":"bd8d479a.d586e8","type":"function","z":"9c18996a.b18888","name":"R_5006+1_setpoint","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1467.381591796875,"y":110.5250244140625,"wires":[["48619ee5.1b1cd"]]},{"id":"3cc4df50.bcaf7","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_start\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1963.8695259094238,"y":168.02453708648682,"wires":[["935d7cfc.5c77a"]]},{"id":"52536b63.c1a714","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1750.1194496154785,"y":166.77448844909668,"wires":[["3cc4df50.bcaf7"],[]]},{"id":"6f91f251.7b02ac","type":"function","z":"9c18996a.b18888","name":"R_5008+1_set_lflow_start","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1487.3814811706543,"y":165.5246992111206,"wires":[["52536b63.c1a714"]]},{"id":"7104009d.73b4c","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_stop\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1943.8695259094238,"y":243.85778903961182,"wires":[["cac5ac69.b4861"]]},{"id":"834828f7.681128","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1730.1194496154785,"y":242.60774040222168,"wires":[["7104009d.73b4c"],[]]},{"id":"935d7cfc.5c77a","type":"function","z":"9c18996a.b18888","name":"R_5010+1_set_lflow_stop","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1467.3814811706543,"y":241.3579511642456,"wires":[["834828f7.681128"]]},{"id":"3fe3f466.cf005c","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_min\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1936.3695259094238,"y":314.6911630630493,"wires":[["61c21b7c.f263d4"]]},{"id":"30e889f3.005696","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1722.6194496154785,"y":313.4411144256592,"wires":[["3fe3f466.cf005c"],[]]},{"id":"cac5ac69.b4861","type":"function","z":"9c18996a.b18888","name":"R_5012+1_protok_min","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1449.8814811706543,"y":312.1913251876831,"wires":[["30e889f3.005696"]]},{"id":"eda283cd.e0309","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1711.3694496154785,"y":379.2743663787842,"wires":[["f0b0baff.0ed608"],[]]},{"id":"61c21b7c.f263d4","type":"function","z":"9c18996a.b18888","name":"R_5014+1_protok_dead_time","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1438.869571685791,"y":378.0243616104126,"wires":[["eda283cd.e0309"]]},{"id":"f0b0baff.0ed608","type":"function","z":"9c18996a.b18888","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_dead_time\",parseInt(dwView[0]));\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1940.1195945739746,"y":375.52436923980713,"wires":[["ce26211c.5a102"]]},{"id":"2ef4e747.ba8098","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1738.8695259094238,"y":463.0244150161743,"wires":[["7b6e6909.8fa568"],[]]},{"id":"ce26211c.5a102","type":"function","z":"9c18996a.b18888","name":"R_5016+1_counter_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1436.3696479797363,"y":461.77441024780273,"wires":[["2ef4e747.ba8098"]]},{"id":"af9ce214.128cc","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_2\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1930.1195259094238,"y":538.0244150161743,"wires":[["85b0307b.2b427"]]},{"id":"7b6e6909.8fa568","type":"function","z":"9c18996a.b18888","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_1\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1950.1195259094238,"y":462.1911630630493,"wires":[["91a91eca.3c762"]]},{"id":"ab3a31c0.75f9b","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1718.8695259094238,"y":534.2744150161743,"wires":[["af9ce214.128cc"],[]]},{"id":"91a91eca.3c762","type":"function","z":"9c18996a.b18888","name":"R_5018+1_counter_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1416.3696479797363,"y":533.0244102478027,"wires":[["ab3a31c0.75f9b"]]},{"id":"53a838e0.d48388","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1672.6195259094238,"y":612.1911630630493,"wires":[["4f8315c1.686a3c"],[]]},{"id":"85b0307b.2b427","type":"function","z":"9c18996a.b18888","name":"R_5020+3_counter_3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1370.1196479797363,"y":610.9411582946777,"wires":[["53a838e0.d48388"]]},{"id":"4f8315c1.686a3c","type":"function","z":"9c18996a.b18888","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nflow.set(\"counter_3\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1910.1196746826172,"y":610.5243806838989,"wires":[["e9d2f0fd.cb8de"]]},{"id":"b61fe377.d39db","type":"function","z":"9c18996a.b18888","name":"R_22_status_hend_vent_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":500.6905059814453,"y":400.20229148864746,"wires":[["4faf5ada.4e7fa4"]]},{"id":"4faf5ada.4e7fa4","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":742.1429672241211,"y":401.0592746734619,"wires":[["eb3a631b.8550d"],[]]},{"id":"eb3a631b.8550d","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":937.6549453735352,"y":405.5594730377197,"wires":[["1f2a5f83.ade23"]]},{"id":"97fe5ff7.a6334","type":"function","z":"9c18996a.b18888","name":"R_22_status_hend_vent_bit_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":494.74005126953125,"y":460.2154426574707,"wires":[["154104cc.ffec8b"]]},{"id":"154104cc.ffec8b","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":743.1923980712891,"y":459.0724182128906,"wires":[["b6c51076.f0942"],[]]},{"id":"b6c51076.f0942","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":933.7043838500977,"y":457.57253646850586,"wires":[["17bba2fa.f835ed"]]},{"id":"17bba2fa.f835ed","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_1',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1080.9898681640625,"y":460.8543701171875,"wires":[["183e6478.3a6bac"]]},{"id":"183e6478.3a6bac","type":"function","z":"9c18996a.b18888","name":"R_22_status_hend_vent_bit_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":507.90667724609375,"y":520.1876831054688,"wires":[["a2341b40.1e5ea8"]]},{"id":"a2341b40.1e5ea8","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":747.859130859375,"y":519.0446166992188,"wires":[["7765be21.1b567"],[]]},{"id":"7765be21.1b567","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":932.37109375,"y":519.0447387695312,"wires":[["c53e81e7.7c68a"]]},{"id":"824f5aa0.7167d8","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('register_error_status_bit_0',m[15]);\nflow.set('register_error_status_bit_1',m[14]);\nflow.set('register_error_status_bit_2',m[13]);\nflow.set('register_error_status_bit_3',m[12]);\nflow.set('register_error_status_bit_4',m[11]);\nflow.set('register_error_status_bit_5',m[10]);\nflow.set('register_error_status_bit_6',m[9]);\nflow.set('register_error_status_bit_7',m[8]);\nflow.set('register_error_status_bit_8',m[7]);\nreturn msg;","outputs":"1","noerr":0,"x":1104.7398681640625,"y":589.6598510742188,"wires":[["3391fd17.deb2e2"]]},{"id":"146f1d7.b4858e3","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('marshrut_setpoint_bit_0',m[15]);\nflow.set('marshrut_setpoint_bit_1',m[14]);\nflow.set('marshrut_setpoint_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1118.1685791015625,"y":951.6763305664062,"wires":[["bd8d479a.d586e8"]]},{"id":"6430a82c.ad7808","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_18_status_pump',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1087.6860733032227,"y":217.69045639038086,"wires":[["b8f68f7d.87df"]]},{"id":"1f2a5f83.ade23","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_0',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1084.1566162109375,"y":406.65988063812256,"wires":[["97fe5ff7.a6334"]]},{"id":"c53e81e7.7c68a","type":"function","z":"9c18996a.b18888","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1089.6566162109375,"y":524.437744140625,"wires":[["6f256221.6ea04c"]]},{"id":"dff8da6f.0bae58","type":"function","z":"9c18996a.b18888","name":"R_5005_marshrut_setpoint_number","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":380.92857360839844,"y":899.3214111328125,"wires":[["f96f30c0.21f71"]]},{"id":"f96f30c0.21f71","type":"modbus-flex-getter","z":"9c18996a.b18888","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":708.91650390625,"y":898.8211669921875,"wires":[["2eb687e5.c9e5b8"],[]]},{"id":"2eb687e5.c9e5b8","type":"function","z":"9c18996a.b18888","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"marshrut_setpoint_number\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":918.6784057617188,"y":901.571533203125,"wires":[["edd8b3b6.0f313"]]},{"id":"e8029f01.2f96b","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":652,"y":88,"wires":[[],["c20bc893.5e63a8","94a5620c.fb72c"]]},{"id":"8351358b.290618","type":"function","z":"64ffbfa5.9f63d","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":478.22222900390625,"y":86.66667175292969,"wires":[["e8029f01.2f96b"]]},{"id":"94a5620c.fb72c","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":808.333251953125,"y":141.88890075683594,"wires":[]},{"id":"b5c56142.d0241","type":"function","z":"64ffbfa5.9f63d","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":342.22220611572266,"y":85.5555534362793,"wires":[["8351358b.290618"]]},{"id":"6b1df879.17ba28","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/setOrders","method":"post","swaggerDoc":"","x":130,"y":20,"wires":[["b5c56142.d0241","4d06ccf3.793c64"]]},{"id":"506a2f2c.81d9d","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":124.44445037841797,"y":82.22222232818604,"wires":[["b5c56142.d0241"]]},{"id":"786b3e95.118ee","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":574.5555419921875,"y":143.22222137451172,"wires":[["94a5620c.fb72c"],["4a0027bd.c38f98"]]},{"id":"4a0027bd.c38f98","type":"function","z":"64ffbfa5.9f63d","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":268.6667175292969,"y":190.44442749023438,"wires":[["a0a9459e.491068"]]},{"id":"a0a9459e.491068","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":451.00006103515625,"y":192.33334350585938,"wires":[[],["ada3d6f3.af42a8"]]},{"id":"739d5441.89611c","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/status","method":"get","swaggerDoc":"","x":1550.00004196167,"y":912.3018388748169,"wires":[["b57c8ceb.d0877"]]},{"id":"4d06ccf3.793c64","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":373.0000228881836,"y":20.000001907348633,"wires":[]},{"id":"dd9ad5f6.ad72e8","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/status","method":"post","swaggerDoc":"","x":1554.1666564941406,"y":1125.9564609527588,"wires":[["99a33deb.ed3ef","cf9064ba.af7918"]]},{"id":"99a33deb.ed3ef","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1776.416618347168,"y":1119.2064018249512,"wires":[["d08ae052.407ec"]]},{"id":"d08ae052.407ec","type":"function","z":"64ffbfa5.9f63d","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1906.6666069030762,"y":1122.6229972839355,"wires":[["e0ddd3ae.b9e85"]]},{"id":"cc2d5f0.c18fba","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2290.0795402526855,"y":912.9367761611938,"wires":[]},{"id":"1c69c7c5.eba8a8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1542.7778129577637,"y":865.6351499557495,"wires":[["b57c8ceb.d0877"]]},{"id":"e0ddd3ae.b9e85","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2075.5554962158203,"y":1123.7341289520264,"wires":[[],["521c7a5a.7b0e64"]]},{"id":"521c7a5a.7b0e64","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2260.8610458374023,"y":1129.206413269043,"wires":[]},{"id":"9411493f.f53428","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1908.5833854675293,"y":914.6073846817017,"wires":[["cec7665d.0ad978"],[]]},{"id":"b57c8ceb.d0877","type":"function","z":"64ffbfa5.9f63d","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1734.8056030273438,"y":912.3851613998413,"wires":[["9411493f.f53428"]]},{"id":"dda0eb78.051c98","type":"comment","z":"64ffbfa5.9f63d","name":"Read_R5002","info":"","x":1850.6667213439941,"y":867.5240287780762,"wires":[]},{"id":"a10d970b.fff498","type":"comment","z":"64ffbfa5.9f63d","name":"Write_R5002","info":"","x":1868.6390228271484,"y":1010.1589736938477,"wires":[]},{"id":"e5e78faa.70a49","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1546.416618347168,"y":1079.2064018249512,"wires":[["99a33deb.ed3ef"]]},{"id":"f579d0d7.7908","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2342.0635375976562,"y":972.1431121826172,"wires":[]},{"id":"5ee3f75c.6c7d18","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2122.2222175598145,"y":968.9685277938843,"wires":[["f579d0d7.7908"]]},{"id":"ada3d6f3.af42a8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"false","x":803.8778686523438,"y":189.22222900390625,"wires":[]},{"id":"41d47b5e.f62f14","type":"function","z":"64ffbfa5.9f63d","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":401.5555725097656,"y":144.88887786865234,"wires":[["786b3e95.118ee"]]},{"id":"c20bc893.5e63a8","type":"function","z":"64ffbfa5.9f63d","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":263.88887786865234,"y":143.66668510437012,"wires":[["41d47b5e.f62f14"]]},{"id":"ee6f3517.5ebdd8","type":"comment","z":"64ffbfa5.9f63d","name":"read_PLC input status","info":"","x":1803.0000610351562,"y":671.2064018249512,"wires":[]},{"id":"84cc8592.8b4208","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PLCInputStatus","method":"get","swaggerDoc":"","x":1521.5556144714355,"y":710.4286909103394,"wires":[["f68afb47.b27328"]]},{"id":"f68afb47.b27328","type":"function","z":"64ffbfa5.9f63d","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1722.5556144714355,"y":708.4286909103394,"wires":[["6c1f535.55c4fac"]]},{"id":"6c1f535.55c4fac","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1918.5556144714355,"y":715.4286909103394,"wires":[["e10e1c62.7382a","da69fe8f.88008"],[]]},{"id":"e10e1c62.7382a","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2117.5556144714355,"y":709.4286909103394,"wires":[]},{"id":"25a24272.aa6a6e","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1460.5556144714355,"y":659.4286909103394,"wires":[["f68afb47.b27328"]]},{"id":"b3caa119.1dea5","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/RegisterError","method":"get","swaggerDoc":"","x":3438.8928833007812,"y":1847.226411819458,"wires":[["6fcf7063.5e9d4"]]},{"id":"358d44f0.a1a51c","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3460.7501678466797,"y":1786.2263565063477,"wires":[["6fcf7063.5e9d4"]]},{"id":"e4c73648.868838","type":"comment","z":"64ffbfa5.9f63d","name":"read_Speed_flow","info":"","x":438,"y":1282.8888082504272,"wires":[]},{"id":"fee902a2.3d016","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/SpeedFlow","method":"get","swaggerDoc":"","x":135,"y":1338.8888082504272,"wires":[["68a5935a.2ad87c"]]},{"id":"68a5935a.2ad87c","type":"function","z":"64ffbfa5.9f63d","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":336,"y":1336.8888082504272,"wires":[["be1187ab.5b8d78"]]},{"id":"be1187ab.5b8d78","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":532,"y":1343.8888082504272,"wires":[["3a897b7d.dea8b4"],[]]},{"id":"b983cc64.7498c","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":74,"y":1287.8888082504272,"wires":[["68a5935a.2ad87c"]]},{"id":"1b653cb1.e22653","type":"comment","z":"64ffbfa5.9f63d","name":"read_V_flow","info":"","x":406.44444274902344,"y":1397.3332242965698,"wires":[]},{"id":"5369339c.fcff3c","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/VFlow","method":"get","swaggerDoc":"","x":119.44444274902344,"y":1474.3332242965698,"wires":[["ae4adf0a.04cac"]]},{"id":"ae4adf0a.04cac","type":"function","z":"64ffbfa5.9f63d","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1472.3332242965698,"wires":[["22c50f78.cb429"]]},{"id":"22c50f78.cb429","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":536.4444427490234,"y":1479.3332242965698,"wires":[["d4e1e4a2.da5fe8"],[]]},{"id":"ef11148c.d681a8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1423.3332242965698,"wires":[["ae4adf0a.04cac"]]},{"id":"922c9e4f.f1591","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/resetError","method":"post","swaggerDoc":"","x":135,"y":1021.5238609313965,"wires":[["e2eaa1e8.ff193"]]},{"id":"7891dc1d.0151f4","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1098.3929710388184,"y":947.5237789154053,"wires":[]},{"id":"55275b52.6df3f4","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":968.8099517822266,"y":1014.8849468231201,"wires":[["7891dc1d.0151f4"],["6f85da8d.ee0bc4"]]},{"id":"1c4f2381.dd96dc","type":"function","z":"64ffbfa5.9f63d","name":"25","func":"var send_25 = flow.get('send_25');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': send_25, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":766.2821083068848,"y":1004.5516128540039,"wires":[["55275b52.6df3f4"]]},{"id":"14c34498.f3ea4b","type":"comment","z":"64ffbfa5.9f63d","name":"read_M_flow","info":"","x":411.44444274902344,"y":1571.3332242965698,"wires":[]},{"id":"c223bf8e.6f8d4","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/MFlow","method":"get","swaggerDoc":"","x":134.44444274902344,"y":1648.3332242965698,"wires":[["faccf96c.b53918"]]},{"id":"faccf96c.b53918","type":"function","z":"64ffbfa5.9f63d","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":345.44444274902344,"y":1646.3332242965698,"wires":[["811a9f68.11629"]]},{"id":"811a9f68.11629","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":541.4444427490234,"y":1653.3332242965698,"wires":[["ee7b6647.53b458"],[]]},{"id":"83c3e205.b2013","type":"debug","z":"64ffbfa5.9f63d","name":"","active":true,"console":"false","complete":"payload","x":1055.4444541931152,"y":1648.9998807907104,"wires":[]},{"id":"89de1919.fe08e8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":83.44444274902344,"y":1597.3332242965698,"wires":[["faccf96c.b53918"]]},{"id":"44fc0083.c38fe","type":"comment","z":"64ffbfa5.9f63d","name":"read_T_flow","info":"","x":406.44444274902344,"y":1733.3332242965698,"wires":[]},{"id":"1658a351.bc348d","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlow","method":"get","swaggerDoc":"","x":109.44444274902344,"y":1810.3332242965698,"wires":[["4100a2e0.d6a74c"]]},{"id":"4100a2e0.d6a74c","type":"function","z":"64ffbfa5.9f63d","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":340.44444274902344,"y":1808.3332242965698,"wires":[["9ebf541d.cb8518"]]},{"id":"9ebf541d.cb8518","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":536.4444427490234,"y":1815.3332242965698,"wires":[["1619d9ca.221c26"],[]]},{"id":"3c39d7d0.172ff8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1038.7777786254883,"y":1814.3332605361938,"wires":[]},{"id":"8f7fdc28.6cf6d","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1759.3332242965698,"wires":[["4100a2e0.d6a74c"]]},{"id":"e36dcd13.7e5b4","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_flow","info":"","x":426.44444274902344,"y":1885.3332242965698,"wires":[]},{"id":"397843b6.b2a24c","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostFlow","method":"get","swaggerDoc":"","x":149.44444274902344,"y":1962.3332242965698,"wires":[["23a333a1.080a8c"]]},{"id":"23a333a1.080a8c","type":"function","z":"64ffbfa5.9f63d","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":366.4444274902344,"y":1964.333351135254,"wires":[["9ff6cd19.5b83a"]]},{"id":"9ff6cd19.5b83a","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":536.4444427490234,"y":1967.3332242965698,"wires":[["182787c.58cf878"],[]]},{"id":"c6522676.f2c0e8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":1911.3332242965698,"wires":[["23a333a1.080a8c"]]},{"id":"c736415.5f3acc","type":"comment","z":"64ffbfa5.9f63d","name":"read_T_flow_middle","info":"","x":412,"y":2072.8888664245605,"wires":[]},{"id":"6faf132f.bfc91c","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlowMiddle","method":"get","swaggerDoc":"","x":149.44444274902344,"y":2124.33322429657,"wires":[["6d271de7.f1fef4"]]},{"id":"6d271de7.f1fef4","type":"function","z":"64ffbfa5.9f63d","name":"5770+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5770 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":371.44444274902344,"y":2149.3336238861084,"wires":[["e6673403.9c65c8"]]},{"id":"e6673403.9c65c8","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":536.4444427490234,"y":2129.33322429657,"wires":[["1b44309f.4f7bef"],[]]},{"id":"f5227106.678b3","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":78.44444274902344,"y":2073.33322429657,"wires":[["6d271de7.f1fef4"]]},{"id":"2dc4c63.8c04f3a","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_middle","info":"","x":436.6666946411133,"y":2247.000082015991,"wires":[]},{"id":"8fc0b303.13b1b","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostMiddle","method":"get","swaggerDoc":"","x":156.3333740234375,"y":2307.333320617676,"wires":[["1681caee.fd6085"]]},{"id":"1681caee.fd6085","type":"function","z":"64ffbfa5.9f63d","name":"5782+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5782 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":357.3333740234375,"y":2305.333320617676,"wires":[["64213448.ba68ec"]]},{"id":"64213448.ba68ec","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":543.3333740234375,"y":2312.333320617676,"wires":[["38cd638f.7c866c"],[]]},{"id":"459986b3.094538","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":85.3333740234375,"y":2256.333320617676,"wires":[["1681caee.fd6085"]]},{"id":"1d248eb3.67b0c1","type":"comment","z":"64ffbfa5.9f63d","name":"write_error_reset","info":"","x":545.9208068847656,"y":765.5238590240479,"wires":[]},{"id":"84d94468.a2ca48","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/ResetCounter12","method":"post","swaggerDoc":"","x":177.9167022705078,"y":2523.3332929611206,"wires":[["9e5186a5.e7daa8","1b201f05.113a41"]]},{"id":"1784a0a8.37fd9f","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":989.694450378418,"y":2531.0437145233154,"wires":[]},{"id":"43c5442b.602ccc","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":734.6111221313477,"y":2529.8332929611206,"wires":[[],["1784a0a8.37fd9f"]]},{"id":"ff5a94a.d995668","type":"function","z":"64ffbfa5.9f63d","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":576.138952255249,"y":2525.3332843780518,"wires":[["43c5442b.602ccc"]]},{"id":"9e5186a5.e7daa8","type":"function","z":"64ffbfa5.9f63d","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":426.6111526489258,"y":2523.7778730392456,"wires":[["ff5a94a.d995668"]]},{"id":"9e704422.0ed878","type":"comment","z":"64ffbfa5.9f63d","name":"write_Reset_counter1/2","info":"","x":471.9166946411133,"y":2479.3332920074463,"wires":[]},{"id":"c68d248f.914e18","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/ResetCounter3","method":"post","swaggerDoc":"","x":159.16670989990234,"y":2630.8333349227905,"wires":[["ba717872.ba7a68","59268823.85d3e8"]]},{"id":"d726a7cb.a1d698","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":920.611083984375,"y":2638.611083984375,"wires":[]},{"id":"e38c4e9.b87cfb","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":709.0555953979492,"y":2634.722222328186,"wires":[[],["d726a7cb.a1d698"]]},{"id":"298c62.b299839e","type":"function","z":"64ffbfa5.9f63d","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":537.3889350891113,"y":2632.944390773773,"wires":[["e38c4e9.b87cfb"]]},{"id":"ba717872.ba7a68","type":"function","z":"64ffbfa5.9f63d","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":394.16670989990234,"y":2632.5000829696655,"wires":[["298c62.b299839e"]]},{"id":"a00e673f.250018","type":"comment","z":"64ffbfa5.9f63d","name":"write_Reset_counter_3","info":"","x":481.63893127441406,"y":2576.388753890991,"wires":[]},{"id":"cd4ae03b.4188","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/SetLflowStart","method":"post","swaggerDoc":"","x":145,"y":2880.9722118377686,"wires":[["574f3ee0.5c849"]]},{"id":"b08ba31d.609df","type":"function","z":"64ffbfa5.9f63d","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":558.3610801696777,"y":2959.7498474121094,"wires":[["ac0561ab.85c2c"]]},{"id":"574f3ee0.5c849","type":"function","z":"64ffbfa5.9f63d","name":"with_1c","func":"var setflowstar = msg.payload;\n/* var setflowstar = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstar',setflowstar);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":276.02784729003906,"y":2952.5556640625,"wires":[["7e57eb9d.825b74"]]},{"id":"3a2b6f21.69d4e","type":"comment","z":"64ffbfa5.9f63d","name":"write_Set_Lflow_start","info":"","x":479.5555877685547,"y":2849.16654586792,"wires":[]},{"id":"b2287627.ce3f98","type":"comment","z":"64ffbfa5.9f63d","name":"read_Set_Lflow_start","info":"","x":423.44446563720703,"y":3050.9168376922607,"wires":[]},{"id":"13945b94.fad404","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/SetLflowStart","method":"get","swaggerDoc":"","x":151.69447326660156,"y":3110.750008583069,"wires":[["ae4fb49d.370bc8"]]},{"id":"ae4fb49d.370bc8","type":"function","z":"64ffbfa5.9f63d","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":392.6944808959961,"y":3117.499885559082,"wires":[["df536276.f13"]]},{"id":"df536276.f13","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":601.1944732666016,"y":3105.7500076293945,"wires":[["49ce7e7b.fbe25"],[]]},{"id":"d3b60b36.294538","type":"debug","z":"64ffbfa5.9f63d","name":"","active":true,"console":"false","complete":"payload","x":1155.1945037841797,"y":3108.500556945801,"wires":[]},{"id":"dd609dd6.52bd","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.19446563720703,"y":3036.000045776367,"wires":[["ae4fb49d.370bc8"]]},{"id":"7e57eb9d.825b74","type":"function","z":"64ffbfa5.9f63d","name":"To float","func":"var x = flow.get('setflowstar').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":417.2777442932129,"y":2960.0283432006836,"wires":[["b08ba31d.609df"]]},{"id":"f84a274b.228b78","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/SetLflowStop","method":"post","swaggerDoc":"","x":145,"y":3245.666841506958,"wires":[["24c70edf.0bc182"]]},{"id":"ed730d82.74e7d","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":805.7222900390625,"y":3228.194366455078,"wires":[["236711cb.3d401e"],[]]},{"id":"7dfb1ed0.e994c","type":"function","z":"64ffbfa5.9f63d","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":636.1388893127441,"y":3229.638702392578,"wires":[["ed730d82.74e7d"]]},{"id":"24c70edf.0bc182","type":"function","z":"64ffbfa5.9f63d","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":365.4445266723633,"y":3237.13894367218,"wires":[["58064735.4b5878"]]},{"id":"ed816297.30cb1","type":"comment","z":"64ffbfa5.9f63d","name":"write_Set_Lflow_stop","info":"","x":499.55558013916016,"y":3164.8608860969543,"wires":[]},{"id":"68a0d8c6.114b58","type":"comment","z":"64ffbfa5.9f63d","name":"read_Set_Lflow_stopt","info":"","x":510.88890075683594,"y":3351.3332233428955,"wires":[]},{"id":"81506a51.56ba48","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/SetLflowStop","method":"get","swaggerDoc":"","x":196.5555877685547,"y":3413.222198486328,"wires":[["487791a9.957d7"]]},{"id":"487791a9.957d7","type":"function","z":"64ffbfa5.9f63d","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":429.5555725097656,"y":3411.222230911255,"wires":[["f946ee67.4e5dd"]]},{"id":"f946ee67.4e5dd","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":615.5555725097656,"y":3418.222230911255,"wires":[["e4e32ec0.eca1f"],[]]},{"id":"f5226958.aa3818","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":157.55557250976562,"y":3362.222230911255,"wires":[["487791a9.957d7"]]},{"id":"58064735.4b5878","type":"function","z":"64ffbfa5.9f63d","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":502.4444274902344,"y":3230.750334739685,"wires":[["7dfb1ed0.e994c"]]},{"id":"dc693ef3.d94ff","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/ProtokMin","method":"post","swaggerDoc":"","x":135,"y":3708.694381713867,"wires":[["86964d16.f43bb"]]},{"id":"8d6a2b5a.4da638","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":776.5555953979492,"y":3694.7221908569336,"wires":[["501669dc.ab2ec8"],[]]},{"id":"87aa4dba.4aa4c","type":"function","z":"64ffbfa5.9f63d","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":611.972225189209,"y":3712.6665267944336,"wires":[["8d6a2b5a.4da638"]]},{"id":"86964d16.f43bb","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":344.5278968811035,"y":3712.417037963867,"wires":[["be93c27d.a516d"]]},{"id":"e41833c6.7e826","type":"comment","z":"64ffbfa5.9f63d","name":"write_Protok_min","info":"","x":556.6389465332031,"y":3624.138671875,"wires":[]},{"id":"219b8bb.c03b074","type":"comment","z":"64ffbfa5.9f63d","name":"read_Protok_Min","info":"","x":475.63890838623047,"y":3795.4165267944336,"wires":[]},{"id":"589c1999.ed2738","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/ProtokMin","method":"get","swaggerDoc":"","x":181.55558013916016,"y":3864.3613500595093,"wires":[["a0a5b693.c70448"]]},{"id":"a0a5b693.c70448","type":"function","z":"64ffbfa5.9f63d","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":395.88890838623047,"y":3861.250024795532,"wires":[["b6e1681.fc5af98"]]},{"id":"b6e1681.fc5af98","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":581.8889083862305,"y":3868.250024795532,"wires":[["64541246.2d2bbc"],[]]},{"id":"332b0b9.e2e8af4","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":123.88890838623047,"y":3812.250024795532,"wires":[["a0a5b693.c70448"]]},{"id":"be93c27d.a516d","type":"function","z":"64ffbfa5.9f63d","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":477.0277633666992,"y":3715.5280990600586,"wires":[["87aa4dba.4aa4c"]]},{"id":"80117b81.13f5a8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1164.6111946105957,"y":3650.3613061904907,"wires":[]},{"id":"aa2b9c2d.c9691","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/ProtokDeadTime","method":"post","swaggerDoc":"","x":158.33335876464844,"y":4023.74978351593,"wires":[["5556dd42.056ac4"]]},{"id":"61db12f1.cb887c","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":772.8056488037109,"y":4098.77779006958,"wires":[["bf50323b.e0834"],[]]},{"id":"36d22efd.60eef2","type":"comment","z":"64ffbfa5.9f63d","name":"write_Protok_Dead_time","info":"","x":496.63893127441406,"y":3971.944118499756,"wires":[]},{"id":"df735c13.f00fd","type":"comment","z":"64ffbfa5.9f63d","name":"read_Protok_Dead_time","info":"","x":478.13890838623047,"y":4164.721953392029,"wires":[]},{"id":"e768eb82.e030b8","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/ProtokDeadTime","method":"get","swaggerDoc":"","x":158.33335876464844,"y":4249.916778564453,"wires":[["dda486ad.610008"]]},{"id":"dda486ad.610008","type":"function","z":"64ffbfa5.9f63d","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":375.88890838623047,"y":4248.055450439453,"wires":[["2aba249c.856f8c"]]},{"id":"2aba249c.856f8c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":546.8889083862305,"y":4246.305450439453,"wires":[["1c20520b.ba947e"],[]]},{"id":"85a9c78.b3c3038","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":117.6389045715332,"y":4209.055449485779,"wires":[["dda486ad.610008"]]},{"id":"150c07ac.4dac58","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":113.75003051757812,"y":2931.111083984375,"wires":[["574f3ee0.5c849"]]},{"id":"c9b2946b.1572a8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":104.44449615478516,"y":3984.7219524383545,"wires":[["5556dd42.056ac4"]]},{"id":"cf9064ba.af7918","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1796.416603088379,"y":1061.4285984039307,"wires":[]},{"id":"2024780d.132bd8","type":"comment","z":"64ffbfa5.9f63d","name":"read_Upakovka_marshrut","info":"","x":1941.0555114746094,"y":156.98430347442627,"wires":[]},{"id":"efcc4f3b.64755","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1396.3890380859375,"y":243.53977298736572,"wires":[["c8edf4a.2f2ad08"]]},{"id":"aab8b3bd.405c1","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1441.2223739624023,"y":194.76202869415283,"wires":[["c8edf4a.2f2ad08"]]},{"id":"4fe5371d.9a1cf8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2261.1111488342285,"y":749.7620496749878,"wires":[]},{"id":"da69fe8f.88008","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2105.555595397949,"y":754.2064723968506,"wires":[["4fe5371d.9a1cf8"]]},{"id":"62d80775.a0ca08","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":136.8572769165039,"y":953.7143688201904,"wires":[["e2eaa1e8.ff193"]]},{"id":"cc036e80.3d0f1","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1133.8887176513672,"y":1719.444260597229,"wires":[]},{"id":"92656a8b.176988","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":982.7777481079102,"y":1721.6665105819702,"wires":[["cc036e80.3d0f1"]]},{"id":"5c98f91c.f4b4e8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1143.8888931274414,"y":1899.4443731307983,"wires":[]},{"id":"c143e42d.8a9658","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":992.7778015136719,"y":1898.333264350891,"wires":[["5c98f91c.f4b4e8"]]},{"id":"59268823.85d3e8","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":252.0833511352539,"y":2573.3332948684692,"wires":[]},{"id":"1b201f05.113a41","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":277.0833435058594,"y":2454.583254814148,"wires":[]},{"id":"d7ceea32.062018","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/SecondForScada","method":"get","swaggerDoc":"","x":155,"y":2791.25,"wires":[["846106b9.efe1d8"]]},{"id":"b9b923ef.a6dbe","type":"comment","z":"64ffbfa5.9f63d","name":"read_Second_for_scada","info":"","x":487.4722213745117,"y":2736.8054189682007,"wires":[]},{"id":"846106b9.efe1d8","type":"function","z":"64ffbfa5.9f63d","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":365.0000057220459,"y":2793.75004196167,"wires":[["73fd02a8.7b09ec"]]},{"id":"73fd02a8.7b09ec","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":536.25,"y":2793.75,"wires":[["96443ad8.533ab8"],[]]},{"id":"cc4ccf87.5b6dc","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":959.5357933044434,"y":2782.0356607437134,"wires":[]},{"id":"3dc45738.5c1d48","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":713.3334197998047,"y":2854.7500801086426,"wires":[["30990181.002a5e"]]},{"id":"30990181.002a5e","type":"http response","z":"64ffbfa5.9f63d","name":"","x":856.6666412353516,"y":2854.75,"wires":[]},{"id":"9c9d28c.7d33ed8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":93.75,"y":2751.25,"wires":[["846106b9.efe1d8"]]},{"id":"28e7d099.48105","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1155.8333282470703,"y":3148.749963760376,"wires":[["cfac9d5c.e6d22"]]},{"id":"cfac9d5c.e6d22","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1300.8333206176758,"y":3147.0833225250244,"wires":[]},{"id":"8ef359b0.d1b9b8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":3165,"wires":[["24c70edf.0bc182"]]},{"id":"9e405e45.865bf","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1040.6112060546875,"y":3583.7226343154907,"wires":[]},{"id":"2c9ebe3.b7f6b42","type":"comment","z":"64ffbfa5.9f63d","name":"read_Counter_1","info":"","x":444.80554962158203,"y":4505.71453666687,"wires":[]},{"id":"f7cc30da.d63a4","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/Counter1","method":"get","swaggerDoc":"","x":125,"y":4590.909361839294,"wires":[["a356d8ca.81bc08"]]},{"id":"a356d8ca.81bc08","type":"function","z":"64ffbfa5.9f63d","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":372.55554962158203,"y":4589.048033714294,"wires":[["d28b1db2.2e006"]]},{"id":"d28b1db2.2e006","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":543.555549621582,"y":4587.298033714294,"wires":[["cc74dce8.81caf"],[]]},{"id":"38b6fe37.5eba32","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":114.30554580688477,"y":4550.04803276062,"wires":[["a356d8ca.81bc08"]]},{"id":"6fdd56e.ccff0a8","type":"comment","z":"64ffbfa5.9f63d","name":"read_Counter_2","info":"","x":444.80554962158203,"y":4648.095472335815,"wires":[]},{"id":"eb18b34.94f975","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/Counter2","method":"get","swaggerDoc":"","x":125,"y":4733.29029750824,"wires":[["b6491463.53a3b8"]]},{"id":"b6491463.53a3b8","type":"function","z":"64ffbfa5.9f63d","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":372.55554962158203,"y":4731.42896938324,"wires":[["6a188189.d5c5e"]]},{"id":"6a188189.d5c5e","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":543.555549621582,"y":4729.67896938324,"wires":[["99baf799.04ffb8"],[]]},{"id":"ceb00c52.d78d7","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":114.30554580688477,"y":4692.428968429565,"wires":[["b6491463.53a3b8"]]},{"id":"49ce7e7b.fbe25","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":871.2499465942383,"y":3102.916145324707,"wires":[["d3b60b36.294538","28e7d099.48105"]]},{"id":"1619d9ca.221c26","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":784.4443893432617,"y":1813.3330976963043,"wires":[["3c39d7d0.172ff8","c143e42d.8a9658"]]},{"id":"ee7b6647.53b458","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":781.1109924316406,"y":1651.6665048599243,"wires":[["92656a8b.176988","83c3e205.b2013"]]},{"id":"876ef8e4.6cdf58","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1046.111083984375,"y":1481.6664762496948,"wires":[]},{"id":"111e82e8.f7a5cd","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1124.555347442627,"y":1552.1108560562134,"wires":[]},{"id":"ddea0f3.1c56df","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":973.4443778991699,"y":1554.3331060409546,"wires":[["111e82e8.f7a5cd"]]},{"id":"d4e1e4a2.da5fe8","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":771.7776222229004,"y":1484.3331003189087,"wires":[["ddea0f3.1c56df","876ef8e4.6cdf58"]]},{"id":"38bed851.cda4b8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1052.7777099609375,"y":1338.3332242965698,"wires":[]},{"id":"f4761b1b.3a4348","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1131.2219734191895,"y":1408.7776041030884,"wires":[]},{"id":"6febe161.c07c2","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.1110038757324,"y":1410.9998540878296,"wires":[["f4761b1b.3a4348"]]},{"id":"3a897b7d.dea8b4","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":774.1585540771484,"y":1321.47603225708,"wires":[["6febe161.c07c2","38bed851.cda4b8"]]},{"id":"2ac1d23a.5c6f9e","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1052.7777099609375,"y":1963.3332242965698,"wires":[]},{"id":"bbe8218e.c6541","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1131.2219734191895,"y":2033.7776041030884,"wires":[]},{"id":"10e4ff0a.a2ba71","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.1110038757324,"y":2035.9998540878296,"wires":[["bbe8218e.c6541"]]},{"id":"182787c.58cf878","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":778.4442481994629,"y":1965.9998483657837,"wires":[["10e4ff0a.a2ba71","2ac1d23a.5c6f9e"]]},{"id":"ec18dc18.15711","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1091.111083984375,"y":2121.666476249695,"wires":[]},{"id":"d87a2665.8a6478","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1169.555347442627,"y":2192.1108560562134,"wires":[]},{"id":"25128473.0d976c","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1018.4443778991699,"y":2194.3331060409546,"wires":[["d87a2665.8a6478"]]},{"id":"1b44309f.4f7bef","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":816.7776222229004,"y":2124.3331003189087,"wires":[["25128473.0d976c","ec18dc18.15711"]]},{"id":"5e37edb7.0d0244","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1065.000015258789,"y":2309.999824523926,"wires":[]},{"id":"a285d8cd.d9f3e8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1185.1109466552734,"y":2373.77783870697,"wires":[]},{"id":"9ef04dc7.c13dc","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1033.9999771118164,"y":2376.0000886917114,"wires":[["a285d8cd.d9f3e8"]]},{"id":"38cd638f.7c866c","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":790.6665534973145,"y":2312.6664485931396,"wires":[["9ef04dc7.c13dc","5e37edb7.0d0244"]]},{"id":"5c6b5382.557dfc","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1128.6666564941406,"y":3410.666660308838,"wires":[]},{"id":"b1c6dceb.57e4a","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1207.1109199523926,"y":3481.1110401153564,"wires":[]},{"id":"33fd25c6.583e4a","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1055.9999504089355,"y":3483.3332901000977,"wires":[["b1c6dceb.57e4a"]]},{"id":"e4e32ec0.eca1f","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":854.333194732666,"y":3413.3332843780518,"wires":[["33fd25c6.583e4a","5c6b5382.557dfc"]]},{"id":"83477062.1c3d6","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1091.3334045410156,"y":3861.6667346954346,"wires":[]},{"id":"f9e0d0a.7447c3","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1166.7776222229004,"y":3932.1108531951904,"wires":[]},{"id":"8d9ee200.6d166","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1015.6666526794434,"y":3934.3331031799316,"wires":[["f9e0d0a.7447c3"]]},{"id":"64541246.2d2bbc","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":813.9999923706055,"y":3884.3331155776978,"wires":[["8d9ee200.6d166","83477062.1c3d6"]]},{"id":"e2fb11d9.c66b2","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1073.3333587646484,"y":4236.666473388672,"wires":[]},{"id":"d083425e.4e0a3","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1151.7776222229004,"y":4307.11085319519,"wires":[]},{"id":"80bafaa9.e50718","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1000.6666526794434,"y":4309.333103179932,"wires":[["d083425e.4e0a3"]]},{"id":"6abffe95.b2e0a","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1088.333251953125,"y":4581.66668510437,"wires":[]},{"id":"f5435c16.46129","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1166.777515411377,"y":4652.111064910889,"wires":[]},{"id":"6cbe964c.78b948","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1015.6665458679199,"y":4654.33331489563,"wires":[["f5435c16.46129"]]},{"id":"cc74dce8.81caf","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":813.9997901916504,"y":4584.333309173584,"wires":[["6cbe964c.78b948","6abffe95.b2e0a"]]},{"id":"a7880690.ac2388","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1045,"y":4723.333265304565,"wires":[]},{"id":"5f9eeb05.ce85e4","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1123.444263458252,"y":4793.777645111084,"wires":[]},{"id":"36194f09.292d","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":972.3332939147949,"y":4795.999895095825,"wires":[["5f9eeb05.ce85e4"]]},{"id":"99baf799.04ffb8","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":770.6665382385254,"y":4725.999889373779,"wires":[["36194f09.292d","a7880690.ac2388"]]},{"id":"1d744e96.3ca111","type":"comment","z":"64ffbfa5.9f63d","name":"read_Counter_3","info":"","x":458.8333511352539,"y":4801.666712760925,"wires":[]},{"id":"b786d986.99b0b8","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/Counter3","method":"get","swaggerDoc":"","x":139.02780151367188,"y":4886.86153793335,"wires":[["979e07fa.9971f8"]]},{"id":"979e07fa.9971f8","type":"function","z":"64ffbfa5.9f63d","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":371.58336639404297,"y":4885.000385284424,"wires":[["e9c577d7.ea9a58"]]},{"id":"e9c577d7.ea9a58","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":557.5833511352539,"y":4883.25020980835,"wires":[["2425acc1.2b1744"],[]]},{"id":"15a80b9a.b6c444","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":128.33334732055664,"y":4846.000208854675,"wires":[["979e07fa.9971f8"]]},{"id":"f0a77c9.48fe28","type":"debug","z":"64ffbfa5.9f63d","name":"","active":true,"console":"false","complete":"payload","x":1059.0278015136719,"y":4876.904505729675,"wires":[]},{"id":"64c7f8ef.5b0808","type":"http response","z":"64ffbfa5.9f63d","name":"","x":1137.4720649719238,"y":4947.348885536194,"wires":[]},{"id":"24827bd9.a5ca54","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":986.3610954284668,"y":4949.571135520935,"wires":[["64c7f8ef.5b0808"]]},{"id":"2425acc1.2b1744","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":797.7777137756348,"y":4872.777660369873,"wires":[["24827bd9.a5ca54","f0a77c9.48fe28"]]},{"id":"e40637c2.6f6888","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/send_start_write_date","method":"post","swaggerDoc":"","x":2070.238235473633,"y":2223.143114566803,"wires":[["857f543.8f563a8","dfd7f8c6.4d4398"]]},{"id":"c8baf7f9.3527e8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2986.7781143188477,"y":2216.4287281036377,"wires":[]},{"id":"8425b1c4.2a027","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2654.016098022461,"y":2227.539499282837,"wires":[["c8baf7f9.3527e8"],[]]},{"id":"b0f45017.df049","type":"comment","z":"64ffbfa5.9f63d","name":"Write_comand_time","info":"","x":2466.015998840332,"y":2126.9843640327454,"wires":[]},{"id":"857f543.8f563a8","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":2377.540023803711,"y":2185.758162021637,"wires":[]},{"id":"3158e7b8.6182c8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2121.984233856201,"y":2172.8414311408997,"wires":[["dfd7f8c6.4d4398"]]},{"id":"dfd7f8c6.4d4398","type":"function","z":"64ffbfa5.9f63d","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2358.0952911376953,"y":2225.7144923210144,"wires":[["6af5e5fa.ee4dbc"]]},{"id":"6af5e5fa.ee4dbc","type":"function","z":"64ffbfa5.9f63d","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2488.3811264038086,"y":2226.8255591392517,"wires":[["8425b1c4.2a027"]]},{"id":"e146755e.8d87f8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2754.2066764831543,"y":2331.0001091957092,"wires":[]},{"id":"18cb8c3b.4d91a4","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2550.8736610412598,"y":2332.730516910553,"wires":[["e146755e.8d87f8"],[]]},{"id":"6505269d.82a888","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2780.022415161133,"y":2528.3386554718018,"wires":[]},{"id":"b60cb751.ce5608","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2597.5780487060547,"y":2527.0687713623047,"wires":[["6505269d.82a888"],[]]},{"id":"c2fa211b.db464","type":"comment","z":"64ffbfa5.9f63d","name":"write_18b_status_pump","info":"","x":2379.451072692871,"y":2403.783405303955,"wires":[]},{"id":"599ecc5e.609284","type":"function","z":"64ffbfa5.9f63d","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2301.4192504882812,"y":2525.3389184474945,"wires":[["c9d1be60.8450c"]]},{"id":"c9d1be60.8450c","type":"function","z":"64ffbfa5.9f63d","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2437.2448768615723,"y":2527.8785922527313,"wires":[["b60cb751.ce5608"]]},{"id":"dfc05123.ddf8b","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/send18bI_status_pump","method":"post","swaggerDoc":"","x":2034.022315979004,"y":2531.11617064476,"wires":[["ffd500ac.6de14","599ecc5e.609284"]]},{"id":"ffd500ac.6de14","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":2286.7683639526367,"y":2448.481230735779,"wires":[]},{"id":"5f54df8d.386c4","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.990581512451,"y":2459.592288017273,"wires":[["599ecc5e.609284"]]},{"id":"bed8d54a.245848","type":"function","z":"64ffbfa5.9f63d","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2193.0502319335938,"y":2328.8088574409485,"wires":[["b77368b1.2d33b8"]]},{"id":"b77368b1.2d33b8","type":"function","z":"64ffbfa5.9f63d","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2345.936611175537,"y":2330.004135608673,"wires":[["18cb8c3b.4d91a4"]]},{"id":"a78e7945.e3f028","type":"comment","z":"64ffbfa5.9f63d","name":"Write_comand_time","info":"","x":2511.686408996582,"y":2287.0042605400085,"wires":[]},{"id":"f1515402.c0fa68","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/write_date_PLC","method":"post","swaggerDoc":"","x":1961.686378479004,"y":2327.004107952118,"wires":[["35c6fa6a.fd4596","bed8d54a.245848"]]},{"id":"35c6fa6a.fd4596","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":2183.6863327026367,"y":2282.0040459632874,"wires":[]},{"id":"ed8201da.3646b","type":"comment","z":"64ffbfa5.9f63d","name":"read_Upakovka_5","info":"","x":2226.26961517334,"y":2752.5037803649902,"wires":[]},{"id":"22db84e5.fffd1c","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/Upakovka5","method":"get","swaggerDoc":"","x":1942.6029968261719,"y":2815.0592346191406,"wires":[["21103d92.ed8ad2"]]},{"id":"21103d92.ed8ad2","type":"function","z":"64ffbfa5.9f63d","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2172.491886138916,"y":2798.6147785186768,"wires":[["abe92924.240138"]]},{"id":"abe92924.240138","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2331.8252143859863,"y":2798.94815826416,"wires":[["1f1bdf2b.4d1511"],[]]},{"id":"8cc5940d.41ae48","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2668.1268463134766,"y":2790.091260910034,"wires":[]},{"id":"dcf56e0e.14b88","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1884.9363098144531,"y":2776.2815017700195,"wires":[["21103d92.ed8ad2"]]},{"id":"da4f4cf9.46331","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2796.7615928649902,"y":2859.3289833068848,"wires":[]},{"id":"21b8a659.93a74a","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2531.0474243164062,"y":2851.392557144165,"wires":[["da4f4cf9.46331"]]},{"id":"8bee15e9.e68948","type":"comment","z":"64ffbfa5.9f63d","name":"read_Upakovka_6","info":"","x":2227.26961517334,"y":2873.5037803649902,"wires":[]},{"id":"dbca7dd4.9e3c6","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/Upakovka6","method":"get","swaggerDoc":"","x":1943.6029968261719,"y":2936.0592346191406,"wires":[["58b7efeb.f6dc6"]]},{"id":"58b7efeb.f6dc6","type":"function","z":"64ffbfa5.9f63d","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2158.4919471740723,"y":2928.6147966384888,"wires":[["e467a2ce.8839c"]]},{"id":"e467a2ce.8839c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2328.8252906799316,"y":2927.94820022583,"wires":[["1b89b7dc.9ef3f8"],[]]},{"id":"a3cea5d6.f5f378","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1885.9363098144531,"y":2897.2815017700195,"wires":[["58b7efeb.f6dc6"]]},{"id":"3c854097.da209","type":"comment","z":"64ffbfa5.9f63d","name":"REZERVU","info":"","x":2236.269691467285,"y":2657.5038261413574,"wires":[]},{"id":"6c0ae1a7.6c20b","type":"comment","z":"64ffbfa5.9f63d","name":"T_flow_1","info":"","x":2199.7697219848633,"y":3051.5038986206055,"wires":[]},{"id":"de74482b.aa6238","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlow1","method":"get","swaggerDoc":"","x":1927.2140579223633,"y":3108.9481382369995,"wires":[["4a462054.c2f91"]]},{"id":"4a462054.c2f91","type":"function","z":"64ffbfa5.9f63d","name":"5760+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5760 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2148.2140579223633,"y":3106.9481382369995,"wires":[["f68bf0e9.91e3a"]]},{"id":"f68bf0e9.91e3a","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2334.2140579223633,"y":3113.9481382369995,"wires":[["30e8668c.7dd41a"],[]]},{"id":"e839f27e.90ac","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1876.2140579223633,"y":3057.9481382369995,"wires":[["4a462054.c2f91"]]},{"id":"75659918.d90228","type":"debug","z":"64ffbfa5.9f63d","name":"","active":true,"console":"false","complete":"payload","x":2778.8807525634766,"y":3109.6149253845215,"wires":[]},{"id":"ccdc5b80.776d98","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2779.5474395751953,"y":3175.6147422790527,"wires":[["930f1866.c74008"]]},{"id":"30e8668c.7dd41a","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2558.99169921875,"y":3110.0593423843384,"wires":[["ccdc5b80.776d98","75659918.d90228"]]},{"id":"930f1866.c74008","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2920.6583766937256,"y":3174.503686904907,"wires":[]},{"id":"2b59f1a6.7ddb1e","type":"comment","z":"64ffbfa5.9f63d","name":"T_flow_2","info":"","x":2198.333335876465,"y":3196.8516807556152,"wires":[]},{"id":"6f7cff26.b4dff","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlow2","method":"get","swaggerDoc":"","x":1925.7776718139648,"y":3254.2959203720093,"wires":[["97e0d758.3a95d8"]]},{"id":"97e0d758.3a95d8","type":"function","z":"64ffbfa5.9f63d","name":"5762+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5762 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2146.777671813965,"y":3252.2959203720093,"wires":[["106cdc1c.894044"]]},{"id":"106cdc1c.894044","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2332.777671813965,"y":3259.2959203720093,"wires":[["19857a5.7393286"],[]]},{"id":"b0c41570.8b8bb8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1874.7776718139648,"y":3203.2959203720093,"wires":[["97e0d758.3a95d8"]]},{"id":"f6c12238.9cb9d","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2777.444366455078,"y":3254.9627075195312,"wires":[]},{"id":"2f16a028.0e00d","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2778.111053466797,"y":3320.9625244140625,"wires":[["1a77134b.afbf1d"]]},{"id":"19857a5.7393286","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2557.5553131103516,"y":3255.407124519348,"wires":[["2f16a028.0e00d","f6c12238.9cb9d"]]},{"id":"1a77134b.afbf1d","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2919.221990585327,"y":3319.851469039917,"wires":[]},{"id":"c22ebe99.aa7df","type":"comment","z":"64ffbfa5.9f63d","name":"T_flow_3","info":"","x":2206.1110458374023,"y":3326.8516807556152,"wires":[]},{"id":"b954ca2d.eeece8","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlow3","method":"get","swaggerDoc":"","x":1933.5553817749023,"y":3384.2959203720093,"wires":[["95be54c4.eaf988"]]},{"id":"95be54c4.eaf988","type":"function","z":"64ffbfa5.9f63d","name":"5764+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5764 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2154.5553817749023,"y":3382.2959203720093,"wires":[["108e2973.205ab7"]]},{"id":"108e2973.205ab7","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2340.5553817749023,"y":3389.2959203720093,"wires":[["e87a0edc.be2ff"],[]]},{"id":"a5b9c9d5.5a84f8","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1882.5553817749023,"y":3333.2959203720093,"wires":[["95be54c4.eaf988"]]},{"id":"ceda9c6f.1c3c8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2785.2220764160156,"y":3384.9627075195312,"wires":[]},{"id":"62727e9c.1f1cb","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2785.8887634277344,"y":3450.9625244140625,"wires":[["47b3368b.493c68"]]},{"id":"e87a0edc.be2ff","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2565.333023071289,"y":3385.407124519348,"wires":[["62727e9c.1f1cb","ceda9c6f.1c3c8"]]},{"id":"47b3368b.493c68","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2926.9997005462646,"y":3449.851469039917,"wires":[]},{"id":"588605f7.6e941c","type":"comment","z":"64ffbfa5.9f63d","name":"T_flow_4","info":"","x":2202.7777938842773,"y":3461.2960166931152,"wires":[]},{"id":"b151b23e.28f84","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlow4","method":"get","swaggerDoc":"","x":1930.2221298217773,"y":3518.7402563095093,"wires":[["13ade789.7d98c8"]]},{"id":"13ade789.7d98c8","type":"function","z":"64ffbfa5.9f63d","name":"5766+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5766 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2151.2221298217773,"y":3516.7402563095093,"wires":[["542af05f.eff1e"]]},{"id":"542af05f.eff1e","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2337.2221298217773,"y":3523.7402563095093,"wires":[["f1a4f7fc.172c38"],[]]},{"id":"30f2b772.730b18","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1879.2221298217773,"y":3467.7402563095093,"wires":[["13ade789.7d98c8"]]},{"id":"3e2cc2f2.ba5cce","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2781.8888244628906,"y":3519.4070434570312,"wires":[]},{"id":"315f81c5.8021ae","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2782.5555114746094,"y":3585.4068603515625,"wires":[["6223eb3c.682d94"]]},{"id":"f1a4f7fc.172c38","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2561.999771118164,"y":3519.851460456848,"wires":[["315f81c5.8021ae","3e2cc2f2.ba5cce"]]},{"id":"6223eb3c.682d94","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2923.6664485931396,"y":3584.295804977417,"wires":[]},{"id":"1c407d37.2101c3","type":"comment","z":"64ffbfa5.9f63d","name":"T_flow_5","info":"","x":2197.2221298217773,"y":3597.5924034118652,"wires":[]},{"id":"2e85fbdf.8a19f4","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/TFlow5","method":"get","swaggerDoc":"","x":1924.6664657592773,"y":3655.0366430282593,"wires":[["a281415d.3174d"]]},{"id":"a281415d.3174d","type":"function","z":"64ffbfa5.9f63d","name":"5768+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5768 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2145.6664657592773,"y":3653.0366430282593,"wires":[["739e93fa.e2630c"]]},{"id":"739e93fa.e2630c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2331.6664657592773,"y":3660.0366430282593,"wires":[["a591c7c9.40b798"],[]]},{"id":"7c8d6eca.15b5b","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1873.6664657592773,"y":3604.0366430282593,"wires":[["a281415d.3174d"]]},{"id":"6902c00.9d0c34","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2776.3331604003906,"y":3655.7034301757812,"wires":[]},{"id":"86d341f9.abeed","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2776.9998474121094,"y":3721.7032470703125,"wires":[["55a2b72e.629248"]]},{"id":"a591c7c9.40b798","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2556.444107055664,"y":3656.147847175598,"wires":[["86d341f9.abeed","6902c00.9d0c34"]]},{"id":"55a2b72e.629248","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2918.1107845306396,"y":3720.592191696167,"wires":[]},{"id":"841282b.f3dbe8","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_flow_1","info":"","x":2272.777671813965,"y":3827.2217979431152,"wires":[]},{"id":"1864e946.ce0167","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostFlow1","method":"get","swaggerDoc":"","x":1964.4443817138672,"y":3887.555244445801,"wires":[["ba302c43.0af0a"]]},{"id":"ba302c43.0af0a","type":"function","z":"64ffbfa5.9f63d","name":"5772+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5772 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2202.4443855285645,"y":3893.555244445801,"wires":[["73bb551f.838d5c"]]},{"id":"73bb551f.838d5c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2379.444351196289,"y":3892.5550365448,"wires":[["4d33a64e.41db28"],[]]},{"id":"23fe4b30.db2e04","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1921.444351196289,"y":3836.5550365448,"wires":[["ba302c43.0af0a"]]},{"id":"4d33a64e.41db28","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2626.777530670166,"y":3892.8881645202637,"wires":[["b4e1cd46.89129","63930277.e8188c"]]},{"id":"63930277.e8188c","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2901.1109924316406,"y":3890.22154045105,"wires":[]},{"id":"b4e1cd46.89129","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2828.4442863464355,"y":3962.8881702423096,"wires":[["d0231336.a6251"]]},{"id":"d0231336.a6251","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2979.5552558898926,"y":3960.6659202575684,"wires":[]},{"id":"48c05268.a7d68c","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_flow_2","info":"","x":2270.555503845215,"y":3967.9625205993652,"wires":[]},{"id":"29429f7d.56b31","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostFlow2","method":"get","swaggerDoc":"","x":1990.222183227539,"y":4028.29575920105,"wires":[["e9af8dfd.d2409"]]},{"id":"e9af8dfd.d2409","type":"function","z":"64ffbfa5.9f63d","name":"5774+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5774 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2205.2222175598145,"y":4026.2958126068115,"wires":[["13f93f9c.a60ca"]]},{"id":"13f93f9c.a60ca","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2377.222183227539,"y":4033.29575920105,"wires":[["520c692.e0bb898"],[]]},{"id":"d77228e8.5fec28","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1919.222183227539,"y":3977.29575920105,"wires":[["e9af8dfd.d2409"]]},{"id":"520c692.e0bb898","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2624.555362701416,"y":4033.6288871765137,"wires":[["10cd1006.99253","18b29c20.c5e5d4"]]},{"id":"18b29c20.c5e5d4","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2898.8888244628906,"y":4030.9622631073,"wires":[]},{"id":"10cd1006.99253","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2826.2221183776855,"y":4103.62889289856,"wires":[["7102070a.d64ee8"]]},{"id":"7102070a.d64ee8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2977.3330879211426,"y":4101.406642913818,"wires":[]},{"id":"63260fd8.dd78a","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_flow_3","info":"","x":2257.2221298217773,"y":4125.740352630615,"wires":[]},{"id":"18770b4f.709e95","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostFlow3","method":"get","swaggerDoc":"","x":1951.8888702392578,"y":4185.073492050171,"wires":[["efcf0a80.19bf48"]]},{"id":"efcf0a80.19bf48","type":"function","z":"64ffbfa5.9f63d","name":"5776+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5776 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2177.8888092041016,"y":4184.0735912323,"wires":[["b15b3a57.ebaec8"]]},{"id":"b15b3a57.ebaec8","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2363.8888092041016,"y":4191.0735912323,"wires":[["7a5ad7ee.81d398"],[]]},{"id":"2696593d.89a646","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1905.8888092041016,"y":4135.0735912323,"wires":[["efcf0a80.19bf48"]]},{"id":"7a5ad7ee.81d398","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":2611.2219886779785,"y":4191.406719207764,"wires":[["e66da885.84f038","1fd09997.ff1ea6"]]},{"id":"1fd09997.ff1ea6","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2885.555450439453,"y":4188.74009513855,"wires":[]},{"id":"e66da885.84f038","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2812.888744354248,"y":4261.40672492981,"wires":[["1c7b21b1.3ae48e"]]},{"id":"1c7b21b1.3ae48e","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2963.999713897705,"y":4259.184474945068,"wires":[]},{"id":"2414d21b.8c5d2e","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_flow_4","info":"","x":2259.44441986084,"y":4270.18493270874,"wires":[]},{"id":"3543f797.1e1f58","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostFlow4","method":"get","swaggerDoc":"","x":1979.111099243164,"y":4330.518171310425,"wires":[["d2cfcb77.fa7a88"]]},{"id":"d2cfcb77.fa7a88","type":"function","z":"64ffbfa5.9f63d","name":"5778+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5778 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2195.111053466797,"y":4349.518487930298,"wires":[["370ea909.2d9d26"]]},{"id":"370ea909.2d9d26","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2366.111099243164,"y":4335.518171310425,"wires":[["9fc57171.26d0d"],[]]},{"id":"9d9c884d.5ee848","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1908.111099243164,"y":4279.518171310425,"wires":[["d2cfcb77.fa7a88"]]},{"id":"9fc57171.26d0d","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2613.444278717041,"y":4335.851299285889,"wires":[["ee7d9a05.5c27c8","83a914fa.f0b3a8"]]},{"id":"83a914fa.f0b3a8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2887.7777404785156,"y":4333.184675216675,"wires":[]},{"id":"ee7d9a05.5c27c8","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2815.1110343933105,"y":4405.851305007935,"wires":[["95c61055.09ed8"]]},{"id":"95c61055.09ed8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2966.2220039367676,"y":4403.629055023193,"wires":[]},{"id":"e062cb6e.fbcee8","type":"comment","z":"64ffbfa5.9f63d","name":"read_Plotnost_flow_5","info":"","x":2259.44441986084,"y":4427.59215927124,"wires":[]},{"id":"e1e404d1.92ea78","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/PlotnostFlow5","method":"get","swaggerDoc":"","x":1979.111099243164,"y":4487.925397872925,"wires":[["ddcbd7bb.4a4a88"]]},{"id":"ddcbd7bb.4a4a88","type":"function","z":"64ffbfa5.9f63d","name":"5780+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5780 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2199.1110496520996,"y":4489.925397872925,"wires":[["9b253352.77292"]]},{"id":"9b253352.77292","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":2366.111099243164,"y":4492.925397872925,"wires":[["fc434b85.bf3d68"],[]]},{"id":"d9b83243.ca9ae","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1908.111099243164,"y":4436.925397872925,"wires":[["ddcbd7bb.4a4a88"]]},{"id":"fc434b85.bf3d68","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2613.444278717041,"y":4493.258525848389,"wires":[["2eb92e7f.667eb2","7753856f.bbd4bc"]]},{"id":"7753856f.bbd4bc","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2887.7777404785156,"y":4490.591901779175,"wires":[]},{"id":"2eb92e7f.667eb2","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2815.1110343933105,"y":4563.258531570435,"wires":[["5f16893e.1d4d98"]]},{"id":"5f16893e.1d4d98","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2966.2220039367676,"y":4561.036281585693,"wires":[]},{"id":"5556dd42.056ac4","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":282.77803802490234,"y":4105.223428726196,"wires":[["f8dcb429.f90eb8"]]},{"id":"f8dcb429.f90eb8","type":"function","z":"64ffbfa5.9f63d","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":437.2778854370117,"y":4104.33443069458,"wires":[["70dafa97.d30a14"]]},{"id":"70dafa97.d30a14","type":"function","z":"64ffbfa5.9f63d","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":605.7222290039062,"y":4099.222452163696,"wires":[["61db12f1.cb887c"]]},{"id":"1c20520b.ba947e","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":784.3334045410156,"y":4247.333468437195,"wires":[["e2fb11d9.c66b2","80bafaa9.e50718"]]},{"id":"87530548.27b118","type":"comment","z":"64ffbfa5.9f63d","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":3822.742431640625,"y":50.434471130371094,"wires":[]},{"id":"65d7c7f1.d593c8","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/setOrders","method":"get","swaggerDoc":"","x":135,"y":386.6731262207031,"wires":[["260c5a5.04f66a6"]]},{"id":"3b8b9fbc.7c988","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":107.77777099609375,"y":340.00643730163574,"wires":[["260c5a5.04f66a6"]]},{"id":"887d6d7.52ec49","type":"comment","z":"64ffbfa5.9f63d","name":"Read_R5004 5005 5006","info":"","x":414.00001525878906,"y":293.5619192123413,"wires":[]},{"id":"260c5a5.04f66a6","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":331.6991958618164,"y":388.3398199081421,"wires":[["630fe2dc.fbdb7c"]]},{"id":"f2fdf217.a66ef","type":"function","z":"64ffbfa5.9f63d","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":673.3656845092773,"y":678.3398265838623,"wires":[["24e2c7ca.a1db48"]]},{"id":"24e2c7ca.a1db48","type":"function","z":"64ffbfa5.9f63d","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":809.711109161377,"y":679.8754501342773,"wires":[["c1fde757.debf48","760c7667.3c2698"]]},{"id":"c1fde757.debf48","type":"http response","z":"64ffbfa5.9f63d","name":"","x":981.0682716369629,"y":642.1494741439819,"wires":[]},{"id":"760c7667.3c2698","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1000.0565223693848,"y":678.7802200317383,"wires":[]},{"id":"630fe2dc.fbdb7c","type":"function","z":"64ffbfa5.9f63d","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":525.0323257446289,"y":381.6731815338135,"wires":[["731994fd.d7d1fc"]]},{"id":"58d4dd1c.976374","type":"function","z":"64ffbfa5.9f63d","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":491.69889068603516,"y":451.6731605529785,"wires":[["6a4c9d66.578004"]]},{"id":"731994fd.d7d1fc","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":753.3656616210938,"y":383.3398036956787,"wires":[["ca939e4d.3152b"],[]]},{"id":"6a4c9d66.578004","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":711.6989135742188,"y":461.6731472015381,"wires":[["6899ddb8.57cb34"],[]]},{"id":"4c7e34d5.d114ec","type":"function","z":"64ffbfa5.9f63d","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":491.69905853271484,"y":516.6731805801392,"wires":[["78c8bf1.77a744"]]},{"id":"78c8bf1.77a744","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":699.3140029907227,"y":525.2723665237427,"wires":[["c139e406.4829d8"],[]]},{"id":"c139e406.4829d8","type":"function","z":"64ffbfa5.9f63d","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":903.2943649291992,"y":521.1373958587646,"wires":[["d6a6b48.6fd2848"]]},{"id":"d6a6b48.6fd2848","type":"function","z":"64ffbfa5.9f63d","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":496.69905853271484,"y":575.0064935684204,"wires":[["f489eb74.d08c88"]]},{"id":"f489eb74.d08c88","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":704.3140029907227,"y":583.6056795120239,"wires":[["f2fdf217.a66ef"],[]]},{"id":"ca939e4d.3152b","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":931.6993141174316,"y":380.00649070739746,"wires":[["58d4dd1c.976374"]]},{"id":"6899ddb8.57cb34","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":923.3654174804688,"y":456.67318534851074,"wires":[["4c7e34d5.d114ec"]]},{"id":"cec7665d.0ad978","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2100.1470375061035,"y":911.6724700927734,"wires":[["5ee3f75c.6c7d18","cc2d5f0.c18fba"]]},{"id":"96443ad8.533ab8","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":728.5993423461914,"y":2738.398859024048,"wires":[["3dc45738.5c1d48","cc4ccf87.5b6dc"]]},{"id":"1f1bdf2b.4d1511","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2511.45654296875,"y":2721.43408203125,"wires":[["21b8a659.93a74a","8cc5940d.41ae48"]]},{"id":"9fac500.b24fab","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2785.742198944092,"y":2924.2911410331726,"wires":[]},{"id":"5d199cec.6763c4","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2787.2341861724854,"y":2993.5289163589478,"wires":[]},{"id":"8a329989.2233f8","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2598.6627807617188,"y":2994.1640481948853,"wires":[["5d199cec.6763c4"]]},{"id":"1b89b7dc.9ef3f8","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2569.0718841552734,"y":2919.919725418091,"wires":[["8a329989.2233f8","9fac500.b24fab"]]},{"id":"8a38b591.4f97f8","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3456.66650390625,"y":919.9999389648438,"wires":[["af4bd704.f39a18"],[]]},{"id":"bc203161.fba48","type":"function","z":"64ffbfa5.9f63d","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3284.047409057617,"y":922.6190519332886,"wires":[["8a38b591.4f97f8"]]},{"id":"af4bd704.f39a18","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3677.8572425842285,"y":905.9525289535522,"wires":[["3c7c8148.4e517e"]]},{"id":"8960512d.da8ee","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3092.142936706543,"y":923.5714130401611,"wires":[["bc203161.fba48"]]},{"id":"3c7c8148.4e517e","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3864.4912643432617,"y":894.5237684249878,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["95f4ecdb.45843"]]},{"id":"788fa559.1c4abc","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2875.3643646240234,"y":872.3809976577759,"wires":[["8960512d.da8ee"]]},{"id":"79420575.6b3a2c","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/StatusKlapan","method":"get","swaggerDoc":"","x":2839.729393005371,"y":924.7619390487671,"wires":[["8960512d.da8ee"]]},{"id":"95f4ecdb.45843","type":"function","z":"64ffbfa5.9f63d","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3102.1426544189453,"y":1044.5238466262817,"wires":[["e5e23fb2.df9d8"]]},{"id":"e5e23fb2.df9d8","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3313.095016479492,"y":1057.3808221817017,"wires":[["73210f43.5c717"],[]]},{"id":"73210f43.5c717","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3582.856922149658,"y":1037.3809213638306,"wires":[["abdadf0e.8b75e"]]},{"id":"abdadf0e.8b75e","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4006.3961067199707,"y":1024.7617826461792,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["83e77258.44a5a"],[]]},{"id":"83e77258.44a5a","type":"function","z":"64ffbfa5.9f63d","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3014.9676208496094,"y":1147.3809356689453,"wires":[["fa36a5cb.72f7a8"]]},{"id":"fa36a5cb.72f7a8","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3219.2531204223633,"y":1144.5238275527954,"wires":[["1f56ecd2.b4e473"],[]]},{"id":"1f56ecd2.b4e473","type":"function","z":"64ffbfa5.9f63d","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3400.681800842285,"y":1138.8096332550049,"wires":[["9990e49d.a80e38"]]},{"id":"9990e49d.a80e38","type":"function","z":"64ffbfa5.9f63d","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":3581.3129959106445,"y":1143.2024731636047,"wires":[["98c88bc7.0c1e98","e77202c.dd3b6"]]},{"id":"98c88bc7.0c1e98","type":"http response","z":"64ffbfa5.9f63d","name":"","x":3839.8128776550293,"y":1178.3334970474243,"wires":[]},{"id":"e77202c.dd3b6","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":3858.801128387451,"y":1214.9642429351807,"wires":[]},{"id":"4dcb2a90.0184b4","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2882.189743041992,"y":416.6666884422302,"wires":[["9a8ad53c.b93a28"]]},{"id":"9a8ad53c.b93a28","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3098.9683151245117,"y":467.8571038246155,"wires":[["6bf17e4a.3f452"]]},{"id":"6bf17e4a.3f452","type":"function","z":"64ffbfa5.9f63d","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3280.872787475586,"y":466.9047427177429,"wires":[["ac42a672.811fb8"]]},{"id":"e54b4c1d.744df","type":"function","z":"64ffbfa5.9f63d","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3198.9680366516113,"y":565.4761652946472,"wires":[["70b5885f.875558"]]},{"id":"ac42a672.811fb8","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3463.4918823242188,"y":464.2856297492981,"wires":[["e6f18dc5.fe84a"],[]]},{"id":"70b5885f.875558","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3453.253650665283,"y":568.3332505226135,"wires":[["787c060d.708c28"],[]]},{"id":"e6f18dc5.fe84a","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3664.6825790405273,"y":465.2382140159607,"wires":[["1fdca0de.48dbef"]]},{"id":"787c060d.708c28","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3656.3488750457764,"y":563.3332333564758,"wires":[["e3a1328e.9626a"]]},{"id":"1fdca0de.48dbef","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3837.9833602905273,"y":360.47612142562866,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e54b4c1d.744df"]]},{"id":"e3a1328e.9626a","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3999.8881225585938,"y":519.04749584198,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["dab07b50.6f58e8"],[],[]]},{"id":"dab07b50.6f58e8","type":"function","z":"64ffbfa5.9f63d","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3115.126289367676,"y":649.9998960494995,"wires":[["b01042b2.7c221"]]},{"id":"b01042b2.7c221","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3311.0784606933594,"y":658.8094234466553,"wires":[["9b6dedae.8da21"],[]]},{"id":"9b6dedae.8da21","type":"function","z":"64ffbfa5.9f63d","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3512.5072021484375,"y":659.7619752883911,"wires":[["2078c5a3.98587a"]]},{"id":"2078c5a3.98587a","type":"function","z":"64ffbfa5.9f63d","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":3646.4717407226562,"y":662.4880800247192,"wires":[["7b344819.1cc318","7e28c1dc.04b8e"]]},{"id":"7b344819.1cc318","type":"http response","z":"64ffbfa5.9f63d","name":"","x":3803.3049125671387,"y":662.6190395355225,"wires":[]},{"id":"7e28c1dc.04b8e","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":3837.293197631836,"y":710.916522026062,"wires":[]},{"id":"9a376ce6.1e0d","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/StatusPump","method":"get","swaggerDoc":"","x":2836.55477142334,"y":469.04762983322144,"wires":[["9a8ad53c.b93a28"]]},{"id":"89d790e2.ab2a4","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2440,"y":194.99998474121094,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1f79a99b.d6d936"]]},{"id":"c8edf4a.2f2ad08","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1648.7499237060547,"y":231.24998092651367,"wires":[["9d84ac36.8b08a"]]},{"id":"9d84ac36.8b08a","type":"function","z":"64ffbfa5.9f63d","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1794.5833854675293,"y":232.49998092651367,"wires":[["48284285.a3daac"]]},{"id":"48284285.a3daac","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1973.333251953125,"y":237.49998474121094,"wires":[["98494417.0062e8"],[]]},{"id":"98494417.0062e8","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2173.333251953125,"y":231.24998474121094,"wires":[["89d790e2.ab2a4"]]},{"id":"1f79a99b.d6d936","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1655.8333892822266,"y":301.50002002716064,"wires":[["40bbcf92.077ab"]]},{"id":"40bbcf92.077ab","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1877.8334007263184,"y":307.4999809265137,"wires":[["789bd15c.5a802"],[]]},{"id":"789bd15c.5a802","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2079.583293914795,"y":305.4999589920044,"wires":[["fd64847f.762bf8"]]},{"id":"fd64847f.762bf8","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2561.500156402588,"y":336.75,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["68f3444c.fecc4c"],[]]},{"id":"68f3444c.fecc4c","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1645.8333892822266,"y":370.24998474121094,"wires":[["ca5b20c9.e9d64"]]},{"id":"ca5b20c9.e9d64","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1880.8334045410156,"y":366.24994468688965,"wires":[["11b55d62.b938a3"],[]]},{"id":"11b55d62.b938a3","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2085.583293914795,"y":362.24994468688965,"wires":[["f415bd16.3cb59"]]},{"id":"f415bd16.3cb59","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2316.6665115356445,"y":422.4999694824219,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["4251913b.a2be4"],[],[]]},{"id":"4251913b.a2be4","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1642.6667251586914,"y":439.00003242492676,"wires":[["ca4ca304.27a6f"]]},{"id":"ca4ca304.27a6f","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":1883.6667404174805,"y":442.9999523162842,"wires":[["ae7dad9a.2d35a"],[]]},{"id":"ae7dad9a.2d35a","type":"function","z":"64ffbfa5.9f63d","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2076.1741123199463,"y":439.0121183395386,"wires":[["670e74e.48aec8c"]]},{"id":"670e74e.48aec8c","type":"function","z":"64ffbfa5.9f63d","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":1904.1387634277344,"y":515.7382335662842,"wires":[["98f2e583.6d8aa8","bd13b407.5e06f8"]]},{"id":"98f2e583.6d8aa8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":2082.971981048584,"y":507.8691749572754,"wires":[]},{"id":"bd13b407.5e06f8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":2140.9602661132812,"y":564.1666622161865,"wires":[]},{"id":"36b443d4.c4db6c","type":"comment","z":"64ffbfa5.9f63d","name":"read_Upakovka_marshrut","info":"","x":4034,"y":1764.6666259765625,"wires":[]},{"id":"709b100f.5ce53","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4472.945339202881,"y":1769.8253173828125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a98c296e.38fa08"]]},{"id":"6fcf7063.5e9d4","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0,\n  \"bit_5\": 0,\n  \"bit_6\": 0,\n  \"bit_7\": 0,\n  \"bit_8\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3741.6944122314453,"y":1838.93230342865,"wires":[["43895e7e.7e7dc"]]},{"id":"43895e7e.7e7dc","type":"function","z":"64ffbfa5.9f63d","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3897.52787399292,"y":1840.18230342865,"wires":[["47e0cd17.401b64"]]},{"id":"47e0cd17.401b64","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":4066.2777404785156,"y":1845.1823072433472,"wires":[["364cbc61.399dc4"],[]]},{"id":"364cbc61.399dc4","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4266.277740478516,"y":1838.9323072433472,"wires":[["709b100f.5ce53"]]},{"id":"a98c296e.38fa08","type":"function","z":"64ffbfa5.9f63d","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3748.777877807617,"y":1909.1823425292969,"wires":[["3e7ea1a4.3c288e"]]},{"id":"3e7ea1a4.3c288e","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3970.777889251709,"y":1915.18230342865,"wires":[["b5791fbb.49293"],[]]},{"id":"b5791fbb.49293","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4172.527782440186,"y":1913.1822814941406,"wires":[["ba30f876.3fbd38"]]},{"id":"ba30f876.3fbd38","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4655.873455047607,"y":1884.432357788086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["68301f43.6ac0b"],[]]},{"id":"68301f43.6ac0b","type":"function","z":"64ffbfa5.9f63d","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3738.777877807617,"y":1977.9323072433472,"wires":[["98d01e5.09bd7e"]]},{"id":"98d01e5.09bd7e","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3973.7778930664062,"y":1973.9322671890259,"wires":[["2cb7510b.88a36e"],[]]},{"id":"2cb7510b.88a36e","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4178.527782440186,"y":1969.9322671890259,"wires":[["d371281f.1a3fd8"]]},{"id":"d371281f.1a3fd8","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4356.753650665283,"y":2064.4680557250977,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["10fd6430.0dce5c"],[],[]]},{"id":"10fd6430.0dce5c","type":"function","z":"64ffbfa5.9f63d","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3735.611213684082,"y":2046.682354927063,"wires":[["40cb6203.ac4e3c"]]},{"id":"40cb6203.ac4e3c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3976.611228942871,"y":2050.6822748184204,"wires":[["6fa84a4f.1357f4"],[]]},{"id":"9d5b0521.c12b28","type":"function","z":"64ffbfa5.9f63d","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4044.4053344726562,"y":2771.7305126190186,"wires":[["d91a26fb.2719b8"]]},{"id":"d91a26fb.2719b8","type":"function","z":"64ffbfa5.9f63d","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4190.3350257873535,"y":2759.0996522903442,"wires":[["3ddbd1fa.d76c6e","25587f6c.d668"]]},{"id":"3ddbd1fa.d76c6e","type":"http response","z":"64ffbfa5.9f63d","name":"","x":4372.8823890686035,"y":2765.1235780715942,"wires":[]},{"id":"25587f6c.d668","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":4341.9419593811035,"y":2834.1355419158936,"wires":[]},{"id":"6fa84a4f.1357f4","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4180.47607421875,"y":2046.6666259765625,"wires":[["cf84e258.75555"]]},{"id":"900f2372.c1c98","type":"function","z":"64ffbfa5.9f63d","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3693.3333129882812,"y":2153.8097581863403,"wires":[["aee59e4.e7e4c6"]]},{"id":"aee59e4.e7e4c6","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3941.4762115478516,"y":2142.09529876709,"wires":[["f732ed18.5acaa"],[]]},{"id":"f732ed18.5acaa","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4142.483779907227,"y":2146.6511363983154,"wires":[["e56d269b.a4e708"]]},{"id":"cf84e258.75555","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4544.476024627686,"y":2118.738151550293,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["900f2372.c1c98"],[],[],[]]},{"id":"e56d269b.a4e708","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4692.047622680664,"y":2247.6667251586914,"wires":[[],[],[],[],[],[],[],[],[],[],[],["4775ee1a.809fa"],[],[],[],[]]},{"id":"4775ee1a.809fa","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_5","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3676.4759635925293,"y":2235.23800945282,"wires":[["65ec8a09.ae33e4"]]},{"id":"65ec8a09.ae33e4","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3939.618881225586,"y":2226.523817062378,"wires":[["ff55b0ea.0f0fe"],[]]},{"id":"eda597d7.63e828","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1990.5233154296875,"y":2277.038818359375,"wires":[["bed8d54a.245848"]]},{"id":"70577428.6eb99c","type":"inject","z":"c072b5b.d762648","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":148,"y":43,"wires":[["e7953724.839448"]]},{"id":"e7953724.839448","type":"function","z":"c072b5b.d762648","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":389.4327621459961,"y":95.29520416259766,"wires":[["cb871860.10a2d8"]]},{"id":"a4caa29c.40a27","type":"http in","z":"c072b5b.d762648","name":"","url":"/k3/status/data","method":"get","swaggerDoc":"","x":135,"y":120.75396156311035,"wires":[["e7953724.839448"]]},{"id":"cb871860.10a2d8","type":"function","z":"c072b5b.d762648","name":"R_5702_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5702 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":263.4167289733887,"y":184.11112022399902,"wires":[["a676ed04.fce39"]]},{"id":"a676ed04.fce39","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":484.26999282836914,"y":183.19844913482666,"wires":[["8d4a6772.b09688"],[]]},{"id":"8d4a6772.b09688","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":665.3612251281738,"y":181.86668395996094,"wires":[["21eef476.d3e1ac"]]},{"id":"21eef476.d3e1ac","type":"function","z":"c072b5b.d762648","name":"5703_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5703 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":244.28574752807617,"y":227.24208450317383,"wires":[["9cbe3448.99e0c8"]]},{"id":"9cbe3448.99e0c8","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":442.3452568054199,"y":228.33733558654785,"wires":[["6cd1f008.b342f"],[]]},{"id":"6cd1f008.b342f","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":632.504077911377,"y":227.58097314834595,"wires":[["c6837a4e.2df2a8"]]},{"id":"c6837a4e.2df2a8","type":"function","z":"c072b5b.d762648","name":"5704+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5704 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":250.10719680786133,"y":276.5635356903076,"wires":[["45df761f.a3ab28"]]},{"id":"45df761f.a3ab28","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":454.38879013061523,"y":273.49606800079346,"wires":[["2abae1a2.ccae8e"],[]]},{"id":"2abae1a2.ccae8e","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":658.3691520690918,"y":269.36109733581543,"wires":[["86074dbf.ca6a8"]]},{"id":"86074dbf.ca6a8","type":"function","z":"c072b5b.d762648","name":"5706+1_Counterr_1v","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5706 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":244.1429443359375,"y":321.3135166168213,"wires":[["afbc42ab.edbba"]]},{"id":"afbc42ab.edbba","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":461.8888359069824,"y":321.7103691101074,"wires":[["9029ce79.3e64f"],[]]},{"id":"9029ce79.3e64f","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":662.1907997131348,"y":314.83735179901123,"wires":[["b3818a6d.7c32d8"]]},{"id":"b3818a6d.7c32d8","type":"function","z":"c072b5b.d762648","name":"5708+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5708 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":249.79770278930664,"y":367.39678382873535,"wires":[["9563dccc.6f534"]]},{"id":"9563dccc.6f534","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":458.5475730895996,"y":368.1110734939575,"wires":[["ff0c17a9.fa1898"],[]]},{"id":"ff0c17a9.fa1898","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":665.9924049377441,"y":362.6666069030762,"wires":[["19cb349c.393dfb"]]},{"id":"19cb349c.393dfb","type":"function","z":"c072b5b.d762648","name":"5710+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5710 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":256.4047431945801,"y":409.53964042663574,"wires":[["bd7ddf56.3b811"]]},{"id":"bd7ddf56.3b811","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":459.8527641296387,"y":411.5912809371948,"wires":[["63f84383.d0c4ec"],[]]},{"id":"63f84383.d0c4ec","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":654.4403762817383,"y":407.5753631591797,"wires":[["91c8958c.173408"]]},{"id":"91c8958c.173408","type":"function","z":"c072b5b.d762648","name":"5712+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5712 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":255.15472030639648,"y":453.6467704772949,"wires":[["9124112f.eb683"]]},{"id":"9124112f.eb683","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":457.70989990234375,"y":462.84127616882324,"wires":[["89ae18f9.3fa2d8"],[]]},{"id":"89ae18f9.3fa2d8","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":663.7261085510254,"y":447.3967704772949,"wires":[["4b98236b.a42cac"]]},{"id":"4b98236b.a42cac","type":"function","z":"c072b5b.d762648","name":"5714+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5714 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":242.65473556518555,"y":497.9325270652771,"wires":[["b1d7dd2a.d4e6b"]]},{"id":"b1d7dd2a.d4e6b","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":457.1742286682129,"y":509.8055534362793,"wires":[["fd5cdc23.bcae7"],[]]},{"id":"fd5cdc23.bcae7","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":661.7618217468262,"y":498.6468086242676,"wires":[["db4a32d8.e1c56"]]},{"id":"db4a32d8.e1c56","type":"function","z":"c072b5b.d762648","name":"5716+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5716 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":234.97612380981445,"y":549.7183437347412,"wires":[["77530128.e6b07"]]},{"id":"77530128.e6b07","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":465.0313606262207,"y":554.0912628173828,"wires":[["b60e59ae.4bbe98"],[]]},{"id":"b60e59ae.4bbe98","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":665.333251953125,"y":547.2182159423828,"wires":[["274df413.7aa24c"]]},{"id":"274df413.7aa24c","type":"function","z":"c072b5b.d762648","name":"5718+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5718 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":235.53573989868164,"y":598.9206600189209,"wires":[["9e09ac5e.cfd6"]]},{"id":"9e09ac5e.cfd6","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":460.2817268371582,"y":606.1746692657471,"wires":[["b3dd7c84.64245"],[]]},{"id":"b3dd7c84.64245","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":664.4403762817383,"y":601.9801254272461,"wires":[["7e96a357.d8cf7c"]]},{"id":"7e96a357.d8cf7c","type":"function","z":"c072b5b.d762648","name":"5720+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5720 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":232.45247268676758,"y":646.5276565551758,"wires":[["f1af01a9.2a5cd"]]},{"id":"f1af01a9.2a5cd","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":459.77377700805664,"y":657.2419247627258,"wires":[["799addee.f91a04"],[]]},{"id":"799addee.f91a04","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":664.3614654541016,"y":651.7974863052368,"wires":[["be52db7a.7e7098"]]},{"id":"be52db7a.7e7098","type":"function","z":"c072b5b.d762648","name":"5722+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5722 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":226.2023048400879,"y":698.6704959869385,"wires":[["b6ce572b.8db3d8"]]},{"id":"b6ce572b.8db3d8","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":473.9360580444336,"y":707.8649759292603,"wires":[["3b6f1c84.30a9e4"],[]]},{"id":"3b6f1c84.30a9e4","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":651.3808708190918,"y":706.7062015533447,"wires":[["4ba61950.d489e8"]]},{"id":"4ba61950.d489e8","type":"function","z":"c072b5b.d762648","name":"5724+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5724 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":220.66658401489258,"y":738.491925239563,"wires":[["1652d417.f4e2ac"]]},{"id":"1652d417.f4e2ac","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":474.65031814575195,"y":754.8292617797852,"wires":[["8afe927f.db875"],[]]},{"id":"8afe927f.db875","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":662.0951652526855,"y":755.0990943908691,"wires":[["57944038.597f"]]},{"id":"57944038.597f","type":"function","z":"c072b5b.d762648","name":"5726+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5726 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":216.73804092407227,"y":791.3491744995117,"wires":[["14336494.302fcb"]]},{"id":"14336494.302fcb","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":471.2574577331543,"y":804.6507892608643,"wires":[["b66c2a0a.a01128"],[]]},{"id":"b66c2a0a.a01128","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":667.273754119873,"y":804.9206047058105,"wires":[["24629509.988c1a"]]},{"id":"24629509.988c1a","type":"function","z":"c072b5b.d762648","name":"5728+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5728 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":209.05946731567383,"y":857.4206800460815,"wires":[["b9ee409b.700b7"]]},{"id":"b9ee409b.700b7","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":470.54319763183594,"y":858.9365119934082,"wires":[["631cd75f.3ce058"],[]]},{"id":"631cd75f.3ce058","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":686.5594844818115,"y":854.9205780029297,"wires":[["b7cc0461.2a66b8"]]},{"id":"b7cc0461.2a66b8","type":"function","z":"c072b5b.d762648","name":"5730+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5730 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":199.61903762817383,"y":906.6229782104492,"wires":[["d891f50a.146d08"]]},{"id":"d891f50a.146d08","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":462.9364433288574,"y":905.305585861206,"wires":[["d21a0d0.3478ef"],[]]},{"id":"d21a0d0.3478ef","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(4));\n\nreturn msg;","outputs":1,"noerr":0,"x":678.5237617492676,"y":908.253927230835,"wires":[["c2c05edb.06865"]]},{"id":"c2c05edb.06865","type":"function","z":"c072b5b.d762648","name":"R_5732_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5732 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":185.36122512817383,"y":947.580997467041,"wires":[["db0b3ec2.6629b"]]},{"id":"db0b3ec2.6629b","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":464.78588485717773,"y":953.811182975769,"wires":[["f96c44c5.bde278"],[]]},{"id":"f96c44c5.bde278","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":673.0200080871582,"y":951.0508899688721,"wires":[["ac6384e8.d0e688"]]},{"id":"ac6384e8.d0e688","type":"function","z":"c072b5b.d762648","name":"R_5733_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5733 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":185.36124801635742,"y":997.5809688568115,"wires":[["26db4966.fa6446"]]},{"id":"26db4966.fa6446","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":464.7859001159668,"y":1012.3825988769531,"wires":[["3b86b4e.08ae74c"],[]]},{"id":"3b86b4e.08ae74c","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":670.1628837585449,"y":1002.4793891906738,"wires":[["30bf4b46.f40944"]]},{"id":"30bf4b46.f40944","type":"function","z":"c072b5b.d762648","name":"R_5734_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5734 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":176.78981399536133,"y":1053.2952346801758,"wires":[["b687b0ea.850a7"]]},{"id":"b687b0ea.850a7","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":464.7859001159668,"y":1070.9539833068848,"wires":[["ed3e9441.c45cb8"],[]]},{"id":"ed3e9441.c45cb8","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":678.7343254089355,"y":1063.9079055786133,"wires":[["9f11c2d2.63612"]]},{"id":"9f11c2d2.63612","type":"function","z":"c072b5b.d762648","name":"R_5735_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5735 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":175.36125564575195,"y":1109.0096254348755,"wires":[["6697d263.25398c"]]},{"id":"6697d263.25398c","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":470.5002555847168,"y":1109.5255165100098,"wires":[["c3d56095.3b3ca"],[]]},{"id":"c3d56095.3b3ca","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":668.7342414855957,"y":1106.7651538848877,"wires":[["7f304cbf.e83f84"]]},{"id":"7f304cbf.e83f84","type":"function","z":"c072b5b.d762648","name":"R_5736_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5736 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":173.93268203735352,"y":1171.8666324615479,"wires":[["82e51a72.0235f8"]]},{"id":"82e51a72.0235f8","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":477.64307022094727,"y":1180.9539699554443,"wires":[["adae813.641728"],[]]},{"id":"adae813.641728","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":675.8771018981934,"y":1165.3365173339844,"wires":[["b8201e57.cff8a"]]},{"id":"b8201e57.cff8a","type":"function","z":"c072b5b.d762648","name":"R_5737_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5737 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":179.6469612121582,"y":1240.4382305145264,"wires":[["38e06d9d.dd4ec2"]]},{"id":"38e06d9d.dd4ec2","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":456.21447372436523,"y":1252.3825721740723,"wires":[["a7943cd0.61a06"],[]]},{"id":"a7943cd0.61a06","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":664.4485816955566,"y":1236.7652225494385,"wires":[["df905922.153e08"]]},{"id":"df905922.153e08","type":"function","z":"c072b5b.d762648","name":"R_5738_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5738 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":168.21840286254883,"y":1291.8666276931763,"wires":[["52076b50.5ab914"]]},{"id":"52076b50.5ab914","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":456.21446228027344,"y":1302.3826532363892,"wires":[["b8b4216d.c127b"],[]]},{"id":"b8b4216d.c127b","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":658.7343139648438,"y":1293.907904624939,"wires":[["1ce2b16e.64cddf"]]},{"id":"1ce2b16e.64cddf","type":"function","z":"c072b5b.d762648","name":"R_5739_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5739 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":169.64695358276367,"y":1340.4381694793701,"wires":[["185ec899.81dc27"]]},{"id":"185ec899.81dc27","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":460.500186920166,"y":1350.9539737701416,"wires":[["59a43bc4.82f9b4"],[]]},{"id":"59a43bc4.82f9b4","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":663.0200157165527,"y":1343.9078302383423,"wires":[["155e75bb.5bdcba"]]},{"id":"155e75bb.5bdcba","type":"function","z":"c072b5b.d762648","name":"R_5740_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5740 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":152.50410842895508,"y":1406.1525592803955,"wires":[["d5628fad.34a09"]]},{"id":"d5628fad.34a09","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":474.78594970703125,"y":1399.5255756378174,"wires":[["327aeab.5891a16"],[]]},{"id":"327aeab.5891a16","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":677.3056945800781,"y":1391.0507564544678,"wires":[["946776d6.cbe3d8"]]},{"id":"946776d6.cbe3d8","type":"function","z":"c072b5b.d762648","name":"R_5741_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5741 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":165.36124801635742,"y":1460.4380207061768,"wires":[["19a10ed7.66cff1"]]},{"id":"19a10ed7.66cff1","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":469.07166290283203,"y":1452.3826704025269,"wires":[["184b5734.343169"],[]]},{"id":"184b5734.343169","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":703.0199546813965,"y":1448.1935844421387,"wires":[["4a7dccde.d77034"]]},{"id":"4a7dccde.d77034","type":"function","z":"c072b5b.d762648","name":"5742_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5742 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":152.86120986938477,"y":1521.8666505813599,"wires":[["b90d7f09.2f9d"]]},{"id":"b90d7f09.2f9d","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":476.19467544555664,"y":1508.533543586731,"wires":[["b5f39d11.925ac"],[]]},{"id":"b5f39d11.925ac","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":708.5755043029785,"y":1509.0095949172974,"wires":[["4e1b651f.1cdd5c"]]},{"id":"4e1b651f.1cdd5c","type":"function","z":"c072b5b.d762648","name":"5744_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5744 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":153.41694259643555,"y":1571.3111944198608,"wires":[["adf6961e.71ae88"]]},{"id":"adf6961e.71ae88","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":495.63897705078125,"y":1582.4222965240479,"wires":[["7b06b0ae.dadc9"],[]]},{"id":"7b06b0ae.dadc9","type":"function","z":"c072b5b.d762648","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":705.7183570861816,"y":1579.0096292495728,"wires":[["da6fbbcd.4d0b78"]]},{"id":"da6fbbcd.4d0b78","type":"function","z":"c072b5b.d762648","name":"5748_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5748 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":138.4169921875,"y":1626.3111562728882,"wires":[["6d5e9c46.4e82a4"]]},{"id":"6d5e9c46.4e82a4","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":492.30580139160156,"y":1624.0889263153076,"wires":[["9a928f2.3f9057"],[]]},{"id":"9a928f2.3f9057","type":"function","z":"c072b5b.d762648","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":710.004093170166,"y":1629.0095949172974,"wires":[["4f162d8.84ec3d4"]]},{"id":"4f162d8.84ec3d4","type":"function","z":"c072b5b.d762648","name":"5750_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5750 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":170.08353424072266,"y":1674.6444311141968,"wires":[["26db8b5b.146664"]]},{"id":"26db8b5b.146664","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":482.3057174682617,"y":1667.4222421646118,"wires":[["dca2df8f.8f408"],[]]},{"id":"dca2df8f.8f408","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":712.8612098693848,"y":1684.7239503860474,"wires":[["342a7b0c.9f0844"]]},{"id":"342a7b0c.9f0844","type":"function","z":"c072b5b.d762648","name":"5751_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":175.08349227905273,"y":1729.644513130188,"wires":[["fcd20151.7f336"]]},{"id":"fcd20151.7f336","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":483.9723815917969,"y":1722.4222650527954,"wires":[["95de0a5c.98f128"],[]]},{"id":"95de0a5c.98f128","type":"function","z":"c072b5b.d762648","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":718.5755043029785,"y":1729.0097389221191,"wires":[["c8c22b1c.83df68"]]},{"id":"c8c22b1c.83df68","type":"function","z":"c072b5b.d762648","name":"5751","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":133.71638870239258,"y":1778.5377006530762,"wires":[["d6c6db4d.71eb58"]]},{"id":"d6c6db4d.71eb58","type":"modbus-flex-getter","z":"c072b5b.d762648","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":477.0497589111328,"y":1780.204348564148,"wires":[["4adf0f7b.b4b49"],[]]},{"id":"4adf0f7b.b4b49","type":"function","z":"c072b5b.d762648","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":650.0041160583496,"y":1777.5809364318848,"wires":[["89a89f49.6f41b"]]},{"id":"89a89f49.6f41b","type":"function","z":"c072b5b.d762648","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":786.3495407104492,"y":1779.1165599822998,"wires":[["af551ed7.1f6ea","d5418f55.deb97"]]},{"id":"af551ed7.1f6ea","type":"http response","z":"c072b5b.d762648","name":"","x":957.7067031860352,"y":1741.3905839920044,"wires":[]},{"id":"d5418f55.deb97","type":"debug","z":"c072b5b.d762648","name":"","active":true,"console":"false","complete":"payload","x":976.694953918457,"y":1778.0213298797607,"wires":[]},{"id":"ff55b0ea.0f0fe","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4134.66650390625,"y":2217.333251953125,"wires":[["af00626a.7de4a"]]},{"id":"af00626a.7de4a","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4408.666767120361,"y":2320.6666412353516,"wires":[[],[],[],[],[],[],[],[],[],[],["f1bad2a9.ee5a"],[],[],[],[],[]]},{"id":"f1bad2a9.ee5a","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_6","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_5 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3676.666721343994,"y":2313.0004682540894,"wires":[["7ca467a6.f1f978"]]},{"id":"7ca467a6.f1f978","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3906.809638977051,"y":2372.2859497070312,"wires":[["1d67acc3.85f893"],[]]},{"id":"1d67acc3.85f893","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4116.857177734375,"y":2373.095519065857,"wires":[["d743e41e.819c38"]]},{"id":"c547022b.1bcd2","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_7","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_6 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3641.9168014526367,"y":2491.000280380249,"wires":[["8fced456.0ddf48"]]},{"id":"8fced456.0ddf48","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3877.3093872070312,"y":2505.035924911499,"wires":[["a864f3d4.5f285"],[]]},{"id":"d743e41e.819c38","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4555.667098999023,"y":2401.000312805176,"wires":[[],[],[],[],[],[],[],[],[],["c547022b.1bcd2"],[],[],[],[],[],[]]},{"id":"3391fd17.deb2e2","type":"function","z":"9c18996a.b18888","name":"R_36+1_t_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":431.5342712402344,"y":629.7533569335938,"wires":[["5fb43d69.416ba4"]]},{"id":"b6d4940b.efb7d8","type":"function","z":"64ffbfa5.9f63d","name":"R_5002","func":"var cmd_and_5002 = flow.get('cmd_and_5002');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd_and_5002.cmd_and_5002, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":509.85717010498047,"y":1094.7143859863281,"wires":[["41e1a87c.d9c2d8"]]},{"id":"41e1a87c.d9c2d8","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":678.7460594177246,"y":1095.825517654419,"wires":[[],["126136f6.5ad759","75cd25e0.b2cc3c"]]},{"id":"126136f6.5ad759","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":864.0516090393066,"y":1101.2978019714355,"wires":[]},{"id":"fd56f62a.4396f8","type":"function","z":"64ffbfa5.9f63d","name":"with_1C","func":"//var cmd_and_5002 = msg.payload;\nvar cmd_and_5002 = \n{\n  \"cmd_and_5002\": 0\n};\n\nflow.set('cmd_and_5002',cmd_and_5002);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":379.60718154907227,"y":1091.2977905273438,"wires":[["b6d4940b.efb7d8"]]},{"id":"6f85da8d.ee0bc4","type":"delay","z":"64ffbfa5.9f63d","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":207.23821640014648,"y":1086.6193599700928,"wires":[["fd56f62a.4396f8"]]},{"id":"fec8a8ee.6b39f8","type":"function","z":"64ffbfa5.9f63d","name":"bit_4_analis","func":"var if_bit_4_0 = 32768\nvar if_bit_4_1 = 32784;\nvar bit_4 = msg.payload;\nvar send_25 = 0;\n\n\nif(bit_4 == 1){\n    send_25 = if_bit_4_1;\n}else{\n    send_25 = if_bit_4_0;\n}\n\nflow.set('send_25',send_25);\nmsg.payload = \"\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":604.1667022705078,"y":1006.6666870117188,"wires":[["1c4f2381.dd96dc"]]},{"id":"72f99034.61cd2","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":535.4447784423828,"y":908.8890075683594,"wires":[["9f1ecc58.c4388"],[]]},{"id":"9f1ecc58.c4388","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":728.0084228515625,"y":903.9542751312256,"wires":[["b4f3e2e3.23fee"]]},{"id":"bf4b64da.c300d8","type":"function","z":"64ffbfa5.9f63d","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":353.66683197021484,"y":937.3335075378418,"wires":[["72f99034.61cd2"]]},{"id":"b4f3e2e3.23fee","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":897.3333892822266,"y":847.0001831054688,"wires":[[],[],[],[],[],[],[],[],[],[],[],["fec8a8ee.6b39f8"],[],[],[],[]]},{"id":"e2eaa1e8.ff193","type":"function","z":"64ffbfa5.9f63d","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n /*var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('res_resetError',msg.res);\nmsg.req = '';\nmsg.res = '';\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":379.03194427490234,"y":1015.4406089782715,"wires":[["bf4b64da.c300d8"]]},{"id":"a5df5f19.8910a","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":778.0003051757812,"y":1168.666748046875,"wires":[]},{"id":"75cd25e0.b2cc3c","type":"function","z":"64ffbfa5.9f63d","name":"","func":"msg.payload = \"ok\";\nmsg.res = flow.get('res_resetError');\nreturn msg;\n\n","outputs":1,"noerr":0,"x":531.0000343322754,"y":1159.666696548462,"wires":[["3b7cd30f.7cfb9c","a5df5f19.8910a"]]},{"id":"3b7cd30f.7cfb9c","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":726,"y":1235.6666259765625,"wires":[]},{"id":"4b926ad4.09cc54","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":361.0000190734863,"y":1141.6666955947876,"wires":[["75cd25e0.b2cc3c"]]},{"id":"501669dc.ab2ec8","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":997.0196266174316,"y":3689.5041904449463,"wires":[["80117b81.13f5a8","9e405e45.865bf"]]},{"id":"550ab9c6.082898","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1195.0195388793945,"y":4100.504140853882,"wires":[]},{"id":"b0e4251c.ad9358","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1199.0195922851562,"y":4046.8653469085693,"wires":[]},{"id":"bf50323b.e0834","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":975.427978515625,"y":4095.6469020843506,"wires":[["550ab9c6.082898","b0e4251c.ad9358"]]},{"id":"236711cb.3d401e","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1004.5195388793945,"y":3225.504120826721,"wires":[["2c68cfd4.7ede2","3c3069c7.824e46"]]},{"id":"3c3069c7.824e46","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1215.1111526489258,"y":3210.7225637435913,"wires":[]},{"id":"2c68cfd4.7ede2","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1211.1111679077148,"y":3263.361358642578,"wires":[]},{"id":"472f1a32.135744","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":951.76953125,"y":2938.50390625,"wires":[["70b937f4.b21798","cc65bb6d.af7f68"]]},{"id":"cc65bb6d.af7f68","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1162.3611450195312,"y":2923.72234916687,"wires":[]},{"id":"70b937f4.b21798","type":"debug","z":"64ffbfa5.9f63d","name":"","active":true,"console":"false","complete":"payload","x":1158.3611602783203,"y":2976.361144065857,"wires":[]},{"id":"ac0561ab.85c2c","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":753.7744140625,"y":2945.004638671875,"wires":[["472f1a32.135744"],[]]},{"id":"3a341459.e5244c","type":"inject","z":"9c18996a.b18888","name":"","topic":"","payload":"support","payloadType":"str","repeat":"2.3","crontab":"","once":false,"x":176.10417938232422,"y":147.4765567779541,"wires":[["c29374fe.f0a908"]]},{"id":"e5a12fa7.6bf1b","type":"function","z":"9c18996a.b18888","name":"response","func":"msg.payload = {\n\"bit_0_status_pump\":flow.get(\"bit_0_status_pump\"),\n\"bit_18_status_pump\":flow.get(\"bit_18_status_pump\"),\n\"bit_0_status_klapan\":flow.get(\"bit_0_status_klapan\"),\n\"bit_1_status_klapan\":flow.get(\"bit_1_status_klapan\"),\n\"status_hend_vent_bit_0\":flow.get(\"status_hend_vent_bit_0\"),\n\"status_hend_vent_bit_1\":flow.get(\"status_hend_vent_bit_1\"),\n\"status_hend_vent_bit_2\":flow.get(\"status_hend_vent_bit_2\"),\n\"register_error_status_bit_0\":flow.get(\"register_error_status_bit_0\"),\n\"register_error_status_bit_1\":flow.get(\"register_error_status_bit_1\"),\n\"register_error_status_bit_2\":flow.get(\"register_error_status_bit_2\"),\n\"register_error_status_bit_3\":flow.get(\"register_error_status_bit_3\"),\n\"register_error_status_bit_4\":flow.get(\"register_error_status_bit_4\"),\n\"register_error_status_bit_5\":flow.get(\"register_error_status_bit_5\"),\n\"register_error_status_bit_6\":flow.get(\"register_error_status_bit_6\"),\n\"register_error_status_bit_7\":flow.get(\"register_error_status_bit_7\"),\n\"register_error_status_bit_8\":flow.get(\"register_error_status_bit_8\"),\n\"t_flow\":flow.get(\"t_flow\"),\n\"plotnost_flow\":flow.get(\"plotnost_flow\"),\n\"second_for_scada\":flow.get(\"second_for_scada\"),\n\"mode_system\":flow.get(\"mode_system\"),\n\"zayavka\":flow.get(\"zayavka\"),\n\"marshrut_setpoint_number\":flow.get(\"marshrut_setpoint_number\"),\n\"marshrut_setpoint_bit_0\":flow.get(\"marshrut_setpoint_bit_0\"),\n\"marshrut_setpoint_bit_1\":flow.get(\"marshrut_setpoint_bit_1\"),\n\"marshrut_setpoint_bit_2\":flow.get(\"marshrut_setpoint_bit_2\"),\n\"setpoint\":flow.get(\"setpoint\"),\n\"set_lflow_start\":flow.get(\"set_lflow_start\"),\n\"set_lflow_stop\":flow.get(\"set_lflow_stop\"),\n\"protok_min\":flow.get(\"protok_min\"),\n\"protok_dead_time\":flow.get(\"protok_dead_time\"),\n\"counter_1\":flow.get(\"counter_1\"),\n\"counter_2\":flow.get(\"counter_2\"),\n\"counter_3\":flow.get(\"counter_3\"),\n};\nreturn msg;","outputs":1,"noerr":0,"x":397.01305389404297,"y":56.762311935424805,"wires":[["eb8a5778.384dc8"]]},{"id":"eb8a5778.384dc8","type":"http response","z":"9c18996a.b18888","name":"","x":541.8848419189453,"y":58.000003814697266,"wires":[]},{"id":"563590b1.dfe93","type":"inject","z":"9c18996a.b18888","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"x":126.10415649414062,"y":246.4817657470703,"wires":[["c961d062.b1431"]]},{"id":"e9d2f0fd.cb8de","type":"debug","z":"9c18996a.b18888","name":"","active":false,"console":"false","complete":"false","x":2111.0000619888306,"y":672.0000381469727,"wires":[]},{"id":"a864f3d4.5f285","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4106.25,"y":2493.75,"wires":[["697f8550.33933c"]]},{"id":"697f8550.33933c","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4418.7500648498535,"y":2562.500045776367,"wires":[[],[],[],[],[],[],[],[],["8d95e7a4.c42cc8"],[],[],[],[],[],[],[]]},{"id":"8d95e7a4.c42cc8","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_7 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3628.75,"y":2622.5,"wires":[["3ed163d0.851e4c"]]},{"id":"3ed163d0.851e4c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3864.1425857543945,"y":2636.53564453125,"wires":[["8e0a633b.5a54c"],[]]},{"id":"8e0a633b.5a54c","type":"function","z":"64ffbfa5.9f63d","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4093.0831985473633,"y":2625.249719619751,"wires":[["5aef6061.43337"]]},{"id":"9cb81596.f7df08","type":"function","z":"64ffbfa5.9f63d","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_8 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3626.25,"y":2741.25,"wires":[["cedf2e81.70395"]]},{"id":"cedf2e81.70395","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3861.6425857543945,"y":2755.28564453125,"wires":[["9d5b0521.c12b28"],[]]},{"id":"5aef6061.43337","type":"function","z":"64ffbfa5.9f63d","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4562.5000648498535,"y":2677.500045776367,"wires":[[],[],[],[],[],[],[],["9cb81596.f7df08"],[],[],[],[],[],[],[],[]]},{"id":"6c42d445.4eb9dc","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3386.25,"y":3195,"wires":[["89ad5986.457b98"]]},{"id":"89ad5986.457b98","type":"function","z":"64ffbfa5.9f63d","name":"with_1c","func":"var CorrectionSetpoint = msg.payload;\n/* var CorrectionSetpoint = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('CorrectionSetpoint',CorrectionSetpoint);\nmsg.payload = \"\";\nflow.set('res1',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3661.6945266723633,"y":3267.13894367218,"wires":[["fc894e14.37391"]]},{"id":"8d0f8565.62d458","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/CorrectionSetpoint","method":"post","swaggerDoc":"","x":3407.25,"y":3268.666893005371,"wires":[["89ad5986.457b98"]]},{"id":"fc894e14.37391","type":"function","z":"64ffbfa5.9f63d","name":"To float","func":"var x = flow.get('CorrectionSetpoint').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":3798.6944274902344,"y":3260.750334739685,"wires":[["c0d9455c.8b8fe8"]]},{"id":"c0d9455c.8b8fe8","type":"function","z":"64ffbfa5.9f63d","name":"6000+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6000, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3932.388889312744,"y":3259.638702392578,"wires":[["6c3f3ce6.fdd554"]]},{"id":"802acd77.f5846","type":"comment","z":"64ffbfa5.9f63d","name":"write_/CorrectionSetpoint","info":"","x":3805.80558013916,"y":3194.8608860969543,"wires":[]},{"id":"3c6a8903.576fc6","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res1');\nreturn msg;","outputs":1,"noerr":0,"x":4325,"y":3260,"wires":[["c4e30ffb.b84bb","5dfd306.c25ffd"]]},{"id":"c4e30ffb.b84bb","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":4531.59162902832,"y":3297.857237815857,"wires":[]},{"id":"5dfd306.c25ffd","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":4535.591613769531,"y":3245.21844291687,"wires":[]},{"id":"85ec7188.94539","type":"function","z":"64ffbfa5.9f63d","name":"6000+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6000 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3665,"y":3430,"wires":[["e789225e.64abe"]]},{"id":"2a2126d2.5d5dca","type":"comment","z":"64ffbfa5.9f63d","name":"read_CorrectionSetpoint","info":"","x":3813.3333129882812,"y":3371.110878944397,"wires":[]},{"id":"eaf6379f.b4a238","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4146.777606964111,"y":3433.110939979553,"wires":[["6ef27f33.ca984","107c71c7.9f2a3e"]]},{"id":"6ef27f33.ca984","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4348.444362640381,"y":3503.110945701599,"wires":[["9b30ddc5.60be8"]]},{"id":"9b30ddc5.60be8","type":"http response","z":"64ffbfa5.9f63d","name":"","x":4499.555332183838,"y":3500.888695716858,"wires":[]},{"id":"107c71c7.9f2a3e","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":4421.111068725586,"y":3430.4443159103394,"wires":[]},{"id":"e789225e.64abe","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3888.75,"y":3435,"wires":[["eaf6379f.b4a238"],[]]},{"id":"8f23735b.1f5a1","type":"inject","z":"64ffbfa5.9f63d","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3378.75,"y":3563.75,"wires":[["81ca5010.cbdd5"]]},{"id":"81ca5010.cbdd5","type":"function","z":"64ffbfa5.9f63d","name":"with_1c","func":"var rezerv6002 = msg.payload;\n/* var rezerv6002 = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('rezerv6002',rezerv6002);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3654.1945266723633,"y":3635.88894367218,"wires":[["3f34d5e6.c3548a"]]},{"id":"d577584a.2c11f8","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/rezerv6002","method":"post","swaggerDoc":"","x":3369.75,"y":3637.416893005371,"wires":[["81ca5010.cbdd5"]]},{"id":"3f34d5e6.c3548a","type":"function","z":"64ffbfa5.9f63d","name":"To float","func":"var x = flow.get('rezerv6002').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":3791.1944274902344,"y":3629.500334739685,"wires":[["8d8193bd.e0de8"]]},{"id":"8d8193bd.e0de8","type":"function","z":"64ffbfa5.9f63d","name":"6002+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6002, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3924.888889312744,"y":3628.388702392578,"wires":[["c801233f.912fb"]]},{"id":"ec01dec9.44d25","type":"comment","z":"64ffbfa5.9f63d","name":"write_rezerv6002","info":"","x":3768.30558013916,"y":3563.6108860969543,"wires":[]},{"id":"e04e4711.5710d8","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4317.5,"y":3628.75,"wires":[["b531677d.f701d8","adb6b721.10bee8"]]},{"id":"b531677d.f701d8","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":4524.09162902832,"y":3666.607237815857,"wires":[]},{"id":"adb6b721.10bee8","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":4528.091613769531,"y":3613.96844291687,"wires":[]},{"id":"c438691b.77e908","type":"function","z":"64ffbfa5.9f63d","name":"6002+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6002 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3657.5,"y":3798.75,"wires":[["76b8e39.b36901c"]]},{"id":"2787ea26.506e16","type":"comment","z":"64ffbfa5.9f63d","name":"read_rezerv6002","info":"","x":3775.8333129882812,"y":3739.860878944397,"wires":[]},{"id":"def642fd.e313e","type":"function","z":"64ffbfa5.9f63d","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4139.277606964111,"y":3801.860939979553,"wires":[["1afd3f2a.b4a4e1","bda38e74.01f9b"]]},{"id":"1afd3f2a.b4a4e1","type":"function","z":"64ffbfa5.9f63d","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4340.944362640381,"y":3871.860945701599,"wires":[["e3588fac.f1d6f"]]},{"id":"e3588fac.f1d6f","type":"http response","z":"64ffbfa5.9f63d","name":"","x":4492.055332183838,"y":3869.638695716858,"wires":[]},{"id":"bda38e74.01f9b","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":4413.611068725586,"y":3799.1943159103394,"wires":[]},{"id":"aa336e66.1a12f","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/rezerv6002","method":"get","swaggerDoc":"","x":3379.5,"y":3790.749861717224,"wires":[["c438691b.77e908"]]},{"id":"76b8e39.b36901c","type":"modbus-flex-getter","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":3881.25,"y":3803.75,"wires":[["def642fd.e313e"],[]]},{"id":"6c3f3ce6.fdd554","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":4113,"y":3263,"wires":[["3c6a8903.576fc6"],[]]},{"id":"c801233f.912fb","type":"modbus-flex-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"server":"71b80a08.0a9494","x":4116,"y":3585,"wires":[["e04e4711.5710d8"],[]]},{"id":"f99ba9a9.8672d8","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_pump',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":875.6982269287109,"y":141.71428203582764,"wires":[["536f2a95.1adfe4"]]},{"id":"895cff47.dd491","type":"http in","z":"1457c252.91a1de","name":"","url":"/k1/status/all_system","method":"get","swaggerDoc":"","x":155,"y":56,"wires":[["25f1744c.22162c"]]},{"id":"4d44f884.1efd48","type":"function","z":"1457c252.91a1de","name":"init status_all","func":"//var status_all = msg.payload;\nflow.set(\"bit_0_status_pump\",0);\nflow.set(\"bit_18_status_pump\", 0);\nflow.set(\"bit_0_status_klapan\", 0);\nflow.set(\"bit_1_status_klapan\", 0);\nflow.set(\"status_hend_vent_bit_0\",0);\nflow.set(\"status_hend_vent_bit_1\",0);\nflow.set(\"status_hend_vent_bit_2\",0);\n  flow.set(\"register_error_status_bit_0\", 0);\n  flow.set(\"register_error_status_bit_1\", 0);\n  flow.set(\"register_error_status_bit_2\", 0);\n  flow.set(\"register_error_status_bit_3\", 0);\n  flow.set(\"register_error_status_bit_4\", 0);\n  flow.set(\"register_error_status_bit_5\", 0);\n  flow.set(\"register_error_status_bit_6\", 0);\n  flow.set(\"register_error_status_bit_7\", 0);\n  flow.set(\"register_error_status_bit_8\", 0);\n  flow.set(\"t_flow\", 0);\n  flow.set(\"plotnost_flow\", 0);\n  flow.set(\"second_for_scada\", 0);\n  flow.set(\"mode_system\", 0);\n  flow.set(\"zayavka\", 0);\n  flow.set(\"marshrut_setpoint_number\", 0);\n  flow.set(\"marshrut_setpoint_bit_0\", 0);\n  flow.set(\"marshrut_setpoint_bit_1\", 0);\n  flow.set(\"marshrut_setpoint_bit_2\", 0);\n  flow.set(\"setpoint\", 0);\n  flow.set(\"set_lflow_start\", 0);\n  flow.set(\"set_lflow_stop\", 0);\n  flow.set(\"protok_min\", 0);\n  flow.set(\"protok_dead_time\", 0);\n  flow.set(\"counter_1\", 0);\n  flow.set(\"counter_2\", 0);\n  flow.set(\"counter_3\", 0);\n  return msg;","outputs":"1","noerr":0,"x":293.74684143066406,"y":247.95240116119385,"wires":[[]]},{"id":"60983519.85843c","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":730.1907348632812,"y":283.9167261123657,"wires":[["4cd1e9d.58f9a18"],[]]},{"id":"576ba971.6d5d98","type":"function","z":"1457c252.91a1de","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":530.5715637207031,"y":285.53584575653076,"wires":[["60983519.85843c"]]},{"id":"4cd1e9d.58f9a18","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":934.8813781738281,"y":282.36930561065674,"wires":[["3073f502.3398ca"]]},{"id":"3073f502.3398ca","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_klapan',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1086.5152854919434,"y":281.690523147583,"wires":[["8612fe4a.4bcc1"]]},{"id":"8612fe4a.4bcc1","type":"function","z":"1457c252.91a1de","name":"R_12_b1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":525.7498893737793,"y":336.8573169708252,"wires":[["a5c896ac.10c988"]]},{"id":"a5c896ac.10c988","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":726.202392578125,"y":344.96434688568115,"wires":[["d79d1570.260a08"],[]]},{"id":"d79d1570.260a08","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":927.2143173217773,"y":342.21443462371826,"wires":[["b586e745.805998"]]},{"id":"b586e745.805998","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_1_status_klapan',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1086.0867309570312,"y":347.261944770813,"wires":[["ceae2751.08e358"]]},{"id":"95c50764.de6568","type":"function","z":"1457c252.91a1de","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":329.75393295288086,"y":146.5119972229004,"wires":[["5144f4ca.ab233c"]]},{"id":"536f2a95.1adfe4","type":"function","z":"1457c252.91a1de","name":"R_1_bit_3(18)","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":531.8492736816406,"y":221.5834836959839,"wires":[["602eb243.1e367c"]]},{"id":"5144f4ca.ab233c","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":517.8731155395508,"y":142.8928575515747,"wires":[["66c4465a.56cd48"],[]]},{"id":"602eb243.1e367c","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":730.6348571777344,"y":220.94051456451416,"wires":[["c2309f8d.6d8e5"],[]]},{"id":"66c4465a.56cd48","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":706.0637359619141,"y":142.0954294204712,"wires":[["f99ba9a9.8672d8"]]},{"id":"c2309f8d.6d8e5","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":925.9800491333008,"y":215.94050121307373,"wires":[["e9b8995f.54c018"]]},{"id":"f0ab82e7.0304d","type":"function","z":"1457c252.91a1de","name":"R_25_register_error_status_bit_0_6","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":496.69053649902344,"y":577.0832948684692,"wires":[["f7e6a8a0.ca8568"]]},{"id":"f7e6a8a0.ca8568","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":744.1429290771484,"y":578.4402284622192,"wires":[["5d47616a.a8815"],[]]},{"id":"5d47616a.a8815","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":943.1548919677734,"y":586.1903505325317,"wires":[["3115c3e9.834efc"]]},{"id":"59776821.d312e8","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":727.7859954833984,"y":635.9886293411255,"wires":[["fe92ee14.d9ff8"],[]]},{"id":"fe92ee14.d9ff8","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"t_flow\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":942.7861785888672,"y":638.488751411438,"wires":[["2717bb72.1e63b4"]]},{"id":"5908028b.f4efec","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":713.2859344482422,"y":691.4885683059692,"wires":[["59ac3ee4.8f744"],[]]},{"id":"2717bb72.1e63b4","type":"function","z":"1457c252.91a1de","name":"R_38+1_plotnost_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":431.7859344482422,"y":685.4885683059692,"wires":[["5908028b.f4efec"]]},{"id":"59ac3ee4.8f744","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"plotnost_flow\",parseFloat(fltView[0].toFixed(4)));\n\nreturn msg;","outputs":1,"noerr":0,"x":921.2860565185547,"y":694.9886293411255,"wires":[["8d3c923d.a42ad"]]},{"id":"10f8eb3c.2c0cc5","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"second_for_scada\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":927.2859344482422,"y":743.7385683059692,"wires":[["3730a6d3.7f534a"]]},{"id":"bd8cf9fc.e0ad18","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":707.2739715576172,"y":741.9883852005005,"wires":[["10f8eb3c.2c0cc5"],[]]},{"id":"8d3c923d.a42ad","type":"function","z":"1457c252.91a1de","name":"R_83_second_for_scada","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":427.5716094970703,"y":738.3816347122192,"wires":[["bd8cf9fc.e0ad18"]]},{"id":"1216547b.f506cc","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"mode_system\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":904.7859344482422,"y":804.3218202590942,"wires":[["eb87f729.845e68"]]},{"id":"2e5a1d70.bf1c92","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":703.7739410400391,"y":800.5716581344604,"wires":[["1216547b.f506cc"],[]]},{"id":"3730a6d3.7f534a","type":"function","z":"1457c252.91a1de","name":"R_5002_mode_system","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":431.03600311279297,"y":794.3218536376953,"wires":[["2e5a1d70.bf1c92"]]},{"id":"202b34f6.5ac4bc","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"zayavka\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":908.2859344482422,"y":847.4051942825317,"wires":[["6a2f0749.0f4b58"]]},{"id":"b4fe4de2.2f0d1","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":705.2739105224609,"y":851.655011177063,"wires":[["202b34f6.5ac4bc"],[]]},{"id":"eb87f729.845e68","type":"function","z":"1457c252.91a1de","name":"R_5004_zayavka","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":408.53599548339844,"y":841.4051942825317,"wires":[["b4fe4de2.2f0d1"]]},{"id":"d8e142bc.fb4be","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":903.7858734130859,"y":951.9053163528442,"wires":[["4c0d9e24.fd285"]]},{"id":"d8f1921b.1b576","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":695.7739105224609,"y":950.9048280715942,"wires":[["d8e142bc.fb4be"],[]]},{"id":"be05d87a.00bb18","type":"function","z":"1457c252.91a1de","name":"R_5005_marshrut_setpoint_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":385.7859344482422,"y":945.6549501419067,"wires":[["d8f1921b.1b576"]]},{"id":"7608f4dc.936aec","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"setpoint\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1961.11958694458,"y":106.48886203765869,"wires":[["15918137.42a37f"]]},{"id":"dabcb249.05929","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1747.3695106506348,"y":105.23881340026855,"wires":[["7608f4dc.936aec"],[]]},{"id":"6b1a59e7.0d6a68","type":"function","z":"1457c252.91a1de","name":"R_5006+1_setpoint","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1458.381576538086,"y":110.23930072784424,"wires":[["dabcb249.05929"]]},{"id":"60b13292.e3aeec","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_start\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1954.8695106506348,"y":167.73881340026855,"wires":[["5721c667.073438"]]},{"id":"fcaea46f.18bf98","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1741.1194343566895,"y":166.48876476287842,"wires":[["60b13292.e3aeec"],[]]},{"id":"15918137.42a37f","type":"function","z":"1457c252.91a1de","name":"R_5008+1_set_lflow_start","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1478.3814659118652,"y":165.23897552490234,"wires":[["fcaea46f.18bf98"]]},{"id":"5f9509b5.f816e8","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_stop\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1934.8695106506348,"y":243.57206535339355,"wires":[["b65c12fa.dd7e9"]]},{"id":"68e6ea40.cd9184","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1721.1194343566895,"y":242.32201671600342,"wires":[["5f9509b5.f816e8"],[]]},{"id":"5721c667.073438","type":"function","z":"1457c252.91a1de","name":"R_5010+1_set_lflow_stop","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1458.3814659118652,"y":241.07222747802734,"wires":[["68e6ea40.cd9184"]]},{"id":"e9bc926f.079d1","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_min\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1927.3695106506348,"y":314.40543937683105,"wires":[["19a571f3.839d0e"]]},{"id":"810f60f.59132a","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1713.6194343566895,"y":313.1553907394409,"wires":[["e9bc926f.079d1"],[]]},{"id":"b65c12fa.dd7e9","type":"function","z":"1457c252.91a1de","name":"R_5012+1_protok_min","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1440.8814659118652,"y":311.90560150146484,"wires":[["810f60f.59132a"]]},{"id":"9c9047dd.b912b8","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1702.3694343566895,"y":378.9886426925659,"wires":[["7db10ff9.0e491"],[]]},{"id":"19a571f3.839d0e","type":"function","z":"1457c252.91a1de","name":"R_5014+1_protok_dead_time","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1429.869556427002,"y":377.73863792419434,"wires":[["9c9047dd.b912b8"]]},{"id":"7db10ff9.0e491","type":"function","z":"1457c252.91a1de","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_dead_time\",parseInt(dwView[0]));\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":1931.1195793151855,"y":375.23864555358887,"wires":[["ecfa01a0.753c5"]]},{"id":"3d9cec4f.baaa54","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1729.8695106506348,"y":462.73869132995605,"wires":[["71a8f71c.00d988"],[]]},{"id":"ecfa01a0.753c5","type":"function","z":"1457c252.91a1de","name":"R_5016+1_counter_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1427.3696327209473,"y":461.4886865615845,"wires":[["3d9cec4f.baaa54"]]},{"id":"cc11f642.3941e8","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_2\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1921.1195106506348,"y":537.738691329956,"wires":[["3091935f.19b3ec"]]},{"id":"71a8f71c.00d988","type":"function","z":"1457c252.91a1de","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_1\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1941.1195106506348,"y":461.90543937683105,"wires":[["e6120a05.d09148"]]},{"id":"5e05267c.a45de8","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1709.8695106506348,"y":533.988691329956,"wires":[["cc11f642.3941e8"],[]]},{"id":"e6120a05.d09148","type":"function","z":"1457c252.91a1de","name":"R_5018+1_counter_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1407.3696327209473,"y":532.7386865615845,"wires":[["5e05267c.a45de8"]]},{"id":"e3a1c745.70e718","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1663.6195106506348,"y":611.905439376831,"wires":[["5a8a3194.129e5"],[]]},{"id":"3091935f.19b3ec","type":"function","z":"1457c252.91a1de","name":"R_5020+3_counter_3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1361.1196327209473,"y":610.6554346084595,"wires":[["e3a1c745.70e718"]]},{"id":"5a8a3194.129e5","type":"function","z":"1457c252.91a1de","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nflow.set(\"counter_3\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1901.1196594238281,"y":610.2386569976807,"wires":[["7566625a.a50e5c"]]},{"id":"ceae2751.08e358","type":"function","z":"1457c252.91a1de","name":"R_22_status_hend_vent_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":491.69049072265625,"y":399.9165678024292,"wires":[["75237400.29919c"]]},{"id":"75237400.29919c","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":733.142951965332,"y":400.77355098724365,"wires":[["d180c1c2.e143b"],[]]},{"id":"d180c1c2.e143b","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":928.6549301147461,"y":405.27374935150146,"wires":[["a8e25405.61be98"]]},{"id":"770443b2.0a87ec","type":"function","z":"1457c252.91a1de","name":"R_22_status_hend_vent_bit_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":485.7400360107422,"y":459.92971897125244,"wires":[["6381557e.8b5d0c"]]},{"id":"6381557e.8b5d0c","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":734.1923828125,"y":458.78669452667236,"wires":[["3222fe88.96f1b2"],[]]},{"id":"3222fe88.96f1b2","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":924.7043685913086,"y":457.2868127822876,"wires":[["752d2eb6.b3561"]]},{"id":"752d2eb6.b3561","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_1',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1071.9898529052734,"y":460.56864643096924,"wires":[["7b1d7d52.217c34"]]},{"id":"7b1d7d52.217c34","type":"function","z":"1457c252.91a1de","name":"R_22_status_hend_vent_bit_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":498.9066619873047,"y":519.9019594192505,"wires":[["e3332c28.bcd57"]]},{"id":"e3332c28.bcd57","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":738.8591156005859,"y":518.7588930130005,"wires":[["f8fad753.555888"],[]]},{"id":"f8fad753.555888","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":923.3710784912109,"y":518.759015083313,"wires":[["3df872f5.20667e"]]},{"id":"3115c3e9.834efc","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('register_error_status_bit_0',m[15]);\nflow.set('register_error_status_bit_1',m[14]);\nflow.set('register_error_status_bit_2',m[13]);\nflow.set('register_error_status_bit_3',m[12]);\nflow.set('register_error_status_bit_4',m[11]);\nflow.set('register_error_status_bit_5',m[10]);\nflow.set('register_error_status_bit_6',m[9]);\nflow.set('register_error_status_bit_7',m[8]);\nflow.set('register_error_status_bit_8',m[7]);\nreturn msg;","outputs":"1","noerr":0,"x":1095.7398529052734,"y":589.3741273880005,"wires":[["d9cac6e7.5a2bc8"]]},{"id":"4c0d9e24.fd285","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('marshrut_setpoint_bit_0',m[15]);\nflow.set('marshrut_setpoint_bit_1',m[14]);\nflow.set('marshrut_setpoint_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1109.1685638427734,"y":951.390606880188,"wires":[["6b1a59e7.0d6a68"]]},{"id":"e9b8995f.54c018","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_18_status_pump',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1078.6860580444336,"y":217.4047327041626,"wires":[["576ba971.6d5d98"]]},{"id":"a8e25405.61be98","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_0',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1075.1566009521484,"y":406.3741569519043,"wires":[["770443b2.0a87ec"]]},{"id":"3df872f5.20667e","type":"function","z":"1457c252.91a1de","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1080.6566009521484,"y":524.1520204544067,"wires":[["f0ab82e7.0304d"]]},{"id":"6a2f0749.0f4b58","type":"function","z":"1457c252.91a1de","name":"R_5005_marshrut_setpoint_number","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":371.9285583496094,"y":899.0356874465942,"wires":[["6cef8979.f138c8"]]},{"id":"6cef8979.f138c8","type":"modbus-flex-getter","z":"1457c252.91a1de","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":699.9164886474609,"y":898.5354433059692,"wires":[["bc951a7e.572b28"],[]]},{"id":"bc951a7e.572b28","type":"function","z":"1457c252.91a1de","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"marshrut_setpoint_number\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":909.6783905029297,"y":901.2858095169067,"wires":[["be05d87a.00bb18"]]},{"id":"d9cac6e7.5a2bc8","type":"function","z":"1457c252.91a1de","name":"R_36+1_t_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":422.5342559814453,"y":629.4676332473755,"wires":[["59776821.d312e8"]]},{"id":"cb58c5a2.a18e68","type":"inject","z":"1457c252.91a1de","name":"","topic":"","payload":"support","payloadType":"str","repeat":"2.1","crontab":"","once":false,"x":167.10416412353516,"y":147.19083309173584,"wires":[["95c50764.de6568","ea454bb6.d31db8"]]},{"id":"25f1744c.22162c","type":"function","z":"1457c252.91a1de","name":"response","func":"msg.payload = {\n\"bit_0_status_pump\":flow.get(\"bit_0_status_pump\"),\n\"bit_18_status_pump\":flow.get(\"bit_18_status_pump\"),\n\"bit_0_status_klapan\":flow.get(\"bit_0_status_klapan\"),\n\"bit_1_status_klapan\":flow.get(\"bit_1_status_klapan\"),\n\"status_hend_vent_bit_0\":flow.get(\"status_hend_vent_bit_0\"),\n\"status_hend_vent_bit_1\":flow.get(\"status_hend_vent_bit_1\"),\n\"status_hend_vent_bit_2\":flow.get(\"status_hend_vent_bit_2\"),\n\"register_error_status_bit_0\":flow.get(\"register_error_status_bit_0\"),\n\"register_error_status_bit_1\":flow.get(\"register_error_status_bit_1\"),\n\"register_error_status_bit_2\":flow.get(\"register_error_status_bit_2\"),\n\"register_error_status_bit_3\":flow.get(\"register_error_status_bit_3\"),\n\"register_error_status_bit_4\":flow.get(\"register_error_status_bit_4\"),\n\"register_error_status_bit_5\":flow.get(\"register_error_status_bit_5\"),\n\"register_error_status_bit_6\":flow.get(\"register_error_status_bit_6\"),\n\"register_error_status_bit_7\":flow.get(\"register_error_status_bit_7\"),\n\"register_error_status_bit_8\":flow.get(\"register_error_status_bit_8\"),\n\"t_flow\":flow.get(\"t_flow\"),\n\"plotnost_flow\":flow.get(\"plotnost_flow\"),\n\"second_for_scada\":flow.get(\"second_for_scada\"),\n\"mode_system\":flow.get(\"mode_system\"),\n\"zayavka\":flow.get(\"zayavka\"),\n\"marshrut_setpoint_number\":flow.get(\"marshrut_setpoint_number\"),\n\"marshrut_setpoint_bit_0\":flow.get(\"marshrut_setpoint_bit_0\"),\n\"marshrut_setpoint_bit_1\":flow.get(\"marshrut_setpoint_bit_1\"),\n\"marshrut_setpoint_bit_2\":flow.get(\"marshrut_setpoint_bit_2\"),\n\"setpoint\":flow.get(\"setpoint\"),\n\"set_lflow_start\":flow.get(\"set_lflow_start\"),\n\"set_lflow_stop\":flow.get(\"set_lflow_stop\"),\n\"protok_min\":flow.get(\"protok_min\"),\n\"protok_dead_time\":flow.get(\"protok_dead_time\"),\n\"counter_1\":flow.get(\"counter_1\"),\n\"counter_2\":flow.get(\"counter_2\"),\n\"counter_3\":flow.get(\"counter_3\"),\n};\nreturn msg;","outputs":1,"noerr":0,"x":388.0130386352539,"y":56.47658824920654,"wires":[["d0075cf5.180cf"]]},{"id":"d0075cf5.180cf","type":"http response","z":"1457c252.91a1de","name":"","x":532.8848266601562,"y":57.714280128479004,"wires":[]},{"id":"754b4325.1b766c","type":"inject","z":"1457c252.91a1de","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"x":117.10414123535156,"y":246.19604206085205,"wires":[["4d44f884.1efd48"]]},{"id":"7566625a.a50e5c","type":"debug","z":"1457c252.91a1de","name":"","active":false,"console":"false","complete":"false","x":2102.0000467300415,"y":671.7143144607544,"wires":[]},{"id":"4000fe9a.61a27","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":789.9999465942383,"y":1843.7619621753693,"wires":[["5ac6c0cd.82c2","9633fbcd.a9f238"]]},{"id":"c43cac42.bdfc","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":657.5555572509766,"y":118.42886447906494,"wires":[[],["24aa6174.b2dbae","624787f5.bac778"]]},{"id":"22c1acbe.e39104","type":"function","z":"71d2f7af.b37db8","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":483.7777862548828,"y":117.09553623199463,"wires":[["c43cac42.bdfc"]]},{"id":"624787f5.bac778","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":813.8888092041016,"y":172.31776523590088,"wires":[]},{"id":"27d945ad.1a2d2a","type":"function","z":"71d2f7af.b37db8","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":347.7777633666992,"y":115.98441791534424,"wires":[["22c1acbe.e39104"]]},{"id":"fcb8e375.7425b","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/setOrders","method":"post","swaggerDoc":"","x":135.55555725097656,"y":50.42886447906494,"wires":[["27d945ad.1a2d2a","b1ef06a8.82ef58"]]},{"id":"575a0f01.95342","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":130.00000762939453,"y":112.65108680725098,"wires":[["27d945ad.1a2d2a"]]},{"id":"2d4ba8e1.353668","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":580.1110992431641,"y":173.65108585357666,"wires":[["624787f5.bac778"],["5ced130c.00956c"]]},{"id":"5ced130c.00956c","type":"function","z":"71d2f7af.b37db8","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":274.22227478027344,"y":220.87329196929932,"wires":[["29ebd9e7.62e9d6"]]},{"id":"29ebd9e7.62e9d6","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":456.5556182861328,"y":222.76220798492432,"wires":[[],["319020a7.8cb57"]]},{"id":"8194d70.6b9af28","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/status","method":"get","swaggerDoc":"","x":1555.5555992126465,"y":942.7307033538818,"wires":[["90643b01.bc21a8"]]},{"id":"b1ef06a8.82ef58","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":378.55558013916016,"y":50.428866386413574,"wires":[]},{"id":"7408b7b5.9a0e88","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/status","method":"post","swaggerDoc":"","x":1559.7222137451172,"y":1156.3853254318237,"wires":[["180596d8.fc2d39","96f53c36.7fca4"]]},{"id":"180596d8.fc2d39","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1781.9721755981445,"y":1149.635266304016,"wires":[["786f7d65.31ec44"]]},{"id":"786f7d65.31ec44","type":"function","z":"71d2f7af.b37db8","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1912.2221641540527,"y":1153.0518617630005,"wires":[["a4e93c3b.463c1"]]},{"id":"3744362a.dd794a","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2295.635097503662,"y":943.3656406402588,"wires":[]},{"id":"f8cd1475.632988","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1548.3333702087402,"y":896.0640144348145,"wires":[["90643b01.bc21a8"]]},{"id":"a4e93c3b.463c1","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2081.111053466797,"y":1154.1629934310913,"wires":[[],["eeb93cd4.40769"]]},{"id":"eeb93cd4.40769","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2266.416603088379,"y":1159.635277748108,"wires":[]},{"id":"f6aa28d9.b16d98","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1914.1389427185059,"y":945.0362491607666,"wires":[["b29e407.d2edfc"],[]]},{"id":"90643b01.bc21a8","type":"function","z":"71d2f7af.b37db8","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1740.3611602783203,"y":942.8140258789062,"wires":[["f6aa28d9.b16d98"]]},{"id":"a76eb39b.d2319","type":"comment","z":"71d2f7af.b37db8","name":"Read_R5002","info":"","x":1856.2222785949707,"y":897.9528932571411,"wires":[]},{"id":"db6bdb7a.cb9258","type":"comment","z":"71d2f7af.b37db8","name":"Write_R5002","info":"","x":1874.194580078125,"y":1040.5878381729126,"wires":[]},{"id":"3f331410.e2920c","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1551.9721755981445,"y":1109.635266304016,"wires":[["180596d8.fc2d39"]]},{"id":"3486a025.504bb","type":"http response","z":"71d2f7af.b37db8","name":"","x":2347.619094848633,"y":1002.5719766616821,"wires":[]},{"id":"1184308e.0e7edf","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2127.777774810791,"y":999.3973922729492,"wires":[["3486a025.504bb"]]},{"id":"319020a7.8cb57","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"false","x":809.4334259033203,"y":219.6510934829712,"wires":[]},{"id":"d5cf7e6.306518","type":"function","z":"71d2f7af.b37db8","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":407.1111297607422,"y":175.31774234771729,"wires":[["2d4ba8e1.353668"]]},{"id":"24aa6174.b2dbae","type":"function","z":"71d2f7af.b37db8","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":269.4444351196289,"y":174.09554958343506,"wires":[["d5cf7e6.306518"]]},{"id":"1d672a56.258686","type":"comment","z":"71d2f7af.b37db8","name":"read_PLC input status","info":"","x":1808.5556182861328,"y":701.6352663040161,"wires":[]},{"id":"36ecc17f.ec4e4e","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PLCInputStatus","method":"get","swaggerDoc":"","x":1527.111171722412,"y":740.8575553894043,"wires":[["4cbf379b.bd7ad8"]]},{"id":"4cbf379b.bd7ad8","type":"function","z":"71d2f7af.b37db8","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1728.111171722412,"y":738.8575553894043,"wires":[["a44ffed.c739e"]]},{"id":"a44ffed.c739e","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1924.111171722412,"y":745.8575553894043,"wires":[["17737b39.3f0185","58b88c29.497264"],[]]},{"id":"17737b39.3f0185","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2123.111171722412,"y":739.8575553894043,"wires":[]},{"id":"de79bf6e.b5902","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1466.111171722412,"y":689.8575553894043,"wires":[["4cbf379b.bd7ad8"]]},{"id":"f8d6c32a.483f2","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/RegisterError","method":"get","swaggerDoc":"","x":3444.448440551758,"y":1877.655276298523,"wires":[["f90eba9f.e54d18"]]},{"id":"f04f0bbb.4fff88","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3466.3057250976562,"y":1816.6552209854126,"wires":[["f90eba9f.e54d18"]]},{"id":"58189ac5.78b434","type":"comment","z":"71d2f7af.b37db8","name":"read_Speed_flow","info":"","x":443.55555725097656,"y":1313.3176727294922,"wires":[]},{"id":"aab743c.437a6c","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/SpeedFlow","method":"get","swaggerDoc":"","x":140.55555725097656,"y":1369.3176727294922,"wires":[["50965538.8d72dc"]]},{"id":"50965538.8d72dc","type":"function","z":"71d2f7af.b37db8","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":341.55555725097656,"y":1367.3176727294922,"wires":[["d74aa21d.2241f"]]},{"id":"d74aa21d.2241f","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":537.5555572509766,"y":1374.3176727294922,"wires":[["bffac65b.689018"],[]]},{"id":"410faa6c.1db4c4","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":79.55555725097656,"y":1318.3176727294922,"wires":[["50965538.8d72dc"]]},{"id":"322db76c.990cc8","type":"comment","z":"71d2f7af.b37db8","name":"read_V_flow","info":"","x":412,"y":1427.7620887756348,"wires":[]},{"id":"eea4f9ff.ec2568","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/VFlow","method":"get","swaggerDoc":"","x":125,"y":1504.7620887756348,"wires":[["a1a0bdb8.034b3"]]},{"id":"a1a0bdb8.034b3","type":"function","z":"71d2f7af.b37db8","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":346,"y":1502.7620887756348,"wires":[["16bfefbd.39663"]]},{"id":"16bfefbd.39663","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":542,"y":1509.7620887756348,"wires":[["468d5d8f.200d94"],[]]},{"id":"41a29e9f.c10ac","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":84,"y":1453.7620887756348,"wires":[["a1a0bdb8.034b3"]]},{"id":"4194addd.9b4c24","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/resetError","method":"post","swaggerDoc":"","x":140.55555725097656,"y":1051.9527254104614,"wires":[["a3f49ea5.eb79c"]]},{"id":"1d2405cc.042d6a","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1103.948528289795,"y":977.9526433944702,"wires":[]},{"id":"1cf034c.b1158cb","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":974.3655090332031,"y":1045.313811302185,"wires":[["1d2405cc.042d6a"],["ce92d4d4.f75608"]]},{"id":"322f1cd.ccb06e4","type":"function","z":"71d2f7af.b37db8","name":"25","func":"var send_25 = flow.get('send_25');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': send_25, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":771.8376655578613,"y":1034.9804773330688,"wires":[["1cf034c.b1158cb"]]},{"id":"e557aa3c.2d7f08","type":"comment","z":"71d2f7af.b37db8","name":"read_M_flow","info":"","x":417,"y":1601.7620887756348,"wires":[]},{"id":"928beda1.19117","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/MFlow","method":"get","swaggerDoc":"","x":140,"y":1678.7620887756348,"wires":[["f06f977b.361438"]]},{"id":"f06f977b.361438","type":"function","z":"71d2f7af.b37db8","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":351,"y":1676.7620887756348,"wires":[["96af0350.894cc"]]},{"id":"96af0350.894cc","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":547,"y":1683.7620887756348,"wires":[["d8c4ccee.f3d8"],[]]},{"id":"e54efe8a.7fd1a","type":"debug","z":"71d2f7af.b37db8","name":"","active":true,"console":"false","complete":"payload","x":1061.0000114440918,"y":1679.4287452697754,"wires":[]},{"id":"eb49a60f.45b198","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":89,"y":1627.7620887756348,"wires":[["f06f977b.361438"]]},{"id":"92d65ddb.f7b5","type":"comment","z":"71d2f7af.b37db8","name":"read_T_flow","info":"","x":412,"y":1763.7620887756348,"wires":[]},{"id":"24434502.dbaa8a","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlow","method":"get","swaggerDoc":"","x":115,"y":1840.7620887756348,"wires":[["854f0f4.48e10f"]]},{"id":"854f0f4.48e10f","type":"function","z":"71d2f7af.b37db8","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":346,"y":1838.7620887756348,"wires":[["eed635f8.caa798"]]},{"id":"eed635f8.caa798","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":542,"y":1845.7620887756348,"wires":[["4000fe9a.61a27"],[]]},{"id":"5ac6c0cd.82c2","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1044.3333358764648,"y":1844.7621250152588,"wires":[]},{"id":"f512b11c.ae0cd","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":84,"y":1789.7620887756348,"wires":[["854f0f4.48e10f"]]},{"id":"7ef9923a.cde95c","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_flow","info":"","x":432,"y":1915.7620887756348,"wires":[]},{"id":"ef504729.1482b8","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostFlow","method":"get","swaggerDoc":"","x":155,"y":1992.7620887756348,"wires":[["2c5d8681.119afa"]]},{"id":"2c5d8681.119afa","type":"function","z":"71d2f7af.b37db8","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":371.99998474121094,"y":1994.7622156143188,"wires":[["28f141f9.091a0e"]]},{"id":"28f141f9.091a0e","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":542,"y":1997.7620887756348,"wires":[["8032f4c.d0acc08"],[]]},{"id":"67ca06ec.357998","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":84,"y":1941.7620887756348,"wires":[["2c5d8681.119afa"]]},{"id":"3afffa0a.353596","type":"comment","z":"71d2f7af.b37db8","name":"read_T_flow_middle","info":"","x":417.55555725097656,"y":2103.3177309036255,"wires":[]},{"id":"2ef35351.cdf5dc","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlowMiddle","method":"get","swaggerDoc":"","x":155,"y":2154.7620887756348,"wires":[["c02d7f96.012e5"]]},{"id":"c02d7f96.012e5","type":"function","z":"71d2f7af.b37db8","name":"5770+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5770 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":377,"y":2179.7624883651733,"wires":[["2082fad9.473876"]]},{"id":"2082fad9.473876","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":542,"y":2159.7620887756348,"wires":[["e4d1d187.8f92"],[]]},{"id":"ab892ac.a2becd8","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":84,"y":2103.7620887756348,"wires":[["c02d7f96.012e5"]]},{"id":"200db467.6ac57c","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_middle","info":"","x":442.22225189208984,"y":2277.428946495056,"wires":[]},{"id":"2e4d684b.5a8338","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostMiddle","method":"get","swaggerDoc":"","x":161.88893127441406,"y":2337.7621850967407,"wires":[["77ee3cf7.61cad4"]]},{"id":"77ee3cf7.61cad4","type":"function","z":"71d2f7af.b37db8","name":"5782+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5782 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":362.88893127441406,"y":2335.7621850967407,"wires":[["6ab45bc6.2149a4"]]},{"id":"6ab45bc6.2149a4","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":548.8889312744141,"y":2342.7621850967407,"wires":[["af86b47f.af5d48"],[]]},{"id":"dcb1ee49.371aa","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":90.88893127441406,"y":2286.7621850967407,"wires":[["77ee3cf7.61cad4"]]},{"id":"24ddf19d.3f1d1e","type":"comment","z":"71d2f7af.b37db8","name":"write_error_reset","info":"","x":551.4763641357422,"y":795.9527235031128,"wires":[]},{"id":"aa0f67c4.162398","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/ResetCounter12","method":"post","swaggerDoc":"","x":183.47225952148438,"y":2553.7621574401855,"wires":[["bf11b997.8940c8","9202091.f015cf8"]]},{"id":"8a2ca207.b8ac2","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":995.2500076293945,"y":2561.4725790023804,"wires":[]},{"id":"d4cdcc27.9bb46","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":740.1666793823242,"y":2560.2621574401855,"wires":[[],["8a2ca207.b8ac2"]]},{"id":"4d6c4c08.f8af84","type":"function","z":"71d2f7af.b37db8","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":581.6945095062256,"y":2555.7621488571167,"wires":[["d4cdcc27.9bb46"]]},{"id":"bf11b997.8940c8","type":"function","z":"71d2f7af.b37db8","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":432.16670989990234,"y":2554.2067375183105,"wires":[["4d6c4c08.f8af84"]]},{"id":"635da824.4f1938","type":"comment","z":"71d2f7af.b37db8","name":"write_Reset_counter1/2","info":"","x":477.47225189208984,"y":2509.7621564865112,"wires":[]},{"id":"19464720.5c2049","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/ResetCounter3","method":"post","swaggerDoc":"","x":164.7222671508789,"y":2661.2621994018555,"wires":[["1337d51c.63cd7b","f4936779.3cd418"]]},{"id":"c8273e24.d3634","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":926.1666412353516,"y":2669.03994846344,"wires":[]},{"id":"8b59663.08c5698","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":714.6111526489258,"y":2665.151086807251,"wires":[[],["c8273e24.d3634"]]},{"id":"90aee351.b4b1f","type":"function","z":"71d2f7af.b37db8","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":542.9444923400879,"y":2663.373255252838,"wires":[["8b59663.08c5698"]]},{"id":"1337d51c.63cd7b","type":"function","z":"71d2f7af.b37db8","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":399.7222671508789,"y":2662.9289474487305,"wires":[["90aee351.b4b1f"]]},{"id":"c3d37d88.3539d","type":"comment","z":"71d2f7af.b37db8","name":"write_Reset_counter_3","info":"","x":487.1944885253906,"y":2606.817618370056,"wires":[]},{"id":"456a34bc.e2629c","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/SetLflowStart","method":"post","swaggerDoc":"","x":150.55555725097656,"y":2911.4010763168335,"wires":[["3ee022f4.9ab49e"]]},{"id":"ff76c905.99e2f8","type":"function","z":"71d2f7af.b37db8","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":563.9166374206543,"y":2990.1787118911743,"wires":[["497ef66d.ac50f8"]]},{"id":"3ee022f4.9ab49e","type":"function","z":"71d2f7af.b37db8","name":"with_1c","func":"var setflowstar = msg.payload;\n/* var setflowstar = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstar',setflowstar);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":281.5834045410156,"y":2982.984528541565,"wires":[["6054bd6e.499444"]]},{"id":"475217a.33c61e8","type":"comment","z":"71d2f7af.b37db8","name":"write_Set_Lflow_start","info":"","x":485.11114501953125,"y":2879.595410346985,"wires":[]},{"id":"5474a89e.a4e618","type":"comment","z":"71d2f7af.b37db8","name":"read_Set_Lflow_start","info":"","x":458.0000228881836,"y":3053.345414161682,"wires":[]},{"id":"6831ee2e.e89cd","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/SetLflowStart","method":"get","swaggerDoc":"","x":157.25003051757812,"y":3141.178873062134,"wires":[["af9acec7.a2e25"]]},{"id":"af9acec7.a2e25","type":"function","z":"71d2f7af.b37db8","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":398.25003814697266,"y":3147.928750038147,"wires":[["b47c3ae3.5967d8"]]},{"id":"b47c3ae3.5967d8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":606.7500305175781,"y":3136.1788721084595,"wires":[["af86e715.e9c258"],[]]},{"id":"91c97090.2de38","type":"debug","z":"71d2f7af.b37db8","name":"","active":true,"console":"false","complete":"payload","x":1160.7500610351562,"y":3138.9294214248657,"wires":[]},{"id":"5a769705.015c28","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":138.7500228881836,"y":3066.428910255432,"wires":[["af9acec7.a2e25"]]},{"id":"6054bd6e.499444","type":"function","z":"71d2f7af.b37db8","name":"To float","func":"var x = flow.get('setflowstar').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":422.83330154418945,"y":2990.4572076797485,"wires":[["ff76c905.99e2f8"]]},{"id":"c832f17a.fb6e","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/SetLflowStop","method":"post","swaggerDoc":"","x":150.55555725097656,"y":3276.095705986023,"wires":[["ed7fa001.8694b"]]},{"id":"388e135b.113d7c","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":811.2778472900391,"y":3258.623230934143,"wires":[["d4ee1f4.ed816e"],[]]},{"id":"25b6476b.934478","type":"function","z":"71d2f7af.b37db8","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":641.6944465637207,"y":3260.067566871643,"wires":[["388e135b.113d7c"]]},{"id":"ed7fa001.8694b","type":"function","z":"71d2f7af.b37db8","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":371.00008392333984,"y":3267.567808151245,"wires":[["fdb51fe5.bacec"]]},{"id":"ce98a5ed.9f4ff8","type":"comment","z":"71d2f7af.b37db8","name":"write_Set_Lflow_stop","info":"","x":505.1111373901367,"y":3195.2897505760193,"wires":[]},{"id":"d7fc85c9.eb2a48","type":"comment","z":"71d2f7af.b37db8","name":"read_Set_Lflow_stopt","info":"","x":516.4444580078125,"y":3381.7620878219604,"wires":[]},{"id":"d0d69d92.e0577","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/SetLflowStop","method":"get","swaggerDoc":"","x":202.11114501953125,"y":3443.651062965393,"wires":[["f9b6fc0e.51e82"]]},{"id":"f9b6fc0e.51e82","type":"function","z":"71d2f7af.b37db8","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":435.1111297607422,"y":3441.65109539032,"wires":[["bfe698fc.458be8"]]},{"id":"bfe698fc.458be8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":621.1111297607422,"y":3448.65109539032,"wires":[["f3693716.f942c8"],[]]},{"id":"cc7687f7.1c0a68","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":163.1111297607422,"y":3392.65109539032,"wires":[["f9b6fc0e.51e82"]]},{"id":"fdb51fe5.bacec","type":"function","z":"71d2f7af.b37db8","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":507.99998474121094,"y":3261.17919921875,"wires":[["25b6476b.934478"]]},{"id":"9c82d924.2f5088","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/ProtokMin","method":"post","swaggerDoc":"","x":140.55555725097656,"y":3739.123246192932,"wires":[["321876ca.8f854a"]]},{"id":"9ba56bf9.464c48","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":782.1111526489258,"y":3725.1510553359985,"wires":[["26d3aae7.3ce0f6"],[]]},{"id":"7088d89b.736368","type":"function","z":"71d2f7af.b37db8","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":617.5277824401855,"y":3743.0953912734985,"wires":[["9ba56bf9.464c48"]]},{"id":"321876ca.8f854a","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":350.0834541320801,"y":3742.845902442932,"wires":[["886e38ba.883768"]]},{"id":"601e874e.ec8bf8","type":"comment","z":"71d2f7af.b37db8","name":"write_Protok_min","info":"","x":562.1945037841797,"y":3654.567536354065,"wires":[]},{"id":"f085375e.e049a8","type":"comment","z":"71d2f7af.b37db8","name":"read_Protok_Min","info":"","x":481.19446563720703,"y":3825.8453912734985,"wires":[]},{"id":"37efe443.2a645c","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/ProtokMin","method":"get","swaggerDoc":"","x":187.11113739013672,"y":3894.790214538574,"wires":[["61cb04f3.d1b48c"]]},{"id":"61cb04f3.d1b48c","type":"function","z":"71d2f7af.b37db8","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":401.44446563720703,"y":3891.678889274597,"wires":[["873cc7bb.038bc8"]]},{"id":"873cc7bb.038bc8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":587.444465637207,"y":3898.678889274597,"wires":[["9504b981.4bbb68"],[]]},{"id":"b2755cc6.8e55f","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":129.44446563720703,"y":3842.678889274597,"wires":[["61cb04f3.d1b48c"]]},{"id":"886e38ba.883768","type":"function","z":"71d2f7af.b37db8","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":482.5833206176758,"y":3745.9569635391235,"wires":[["7088d89b.736368"]]},{"id":"f14f4436.42e938","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1170.1667518615723,"y":3680.7901706695557,"wires":[]},{"id":"38dc36a8.cefaba","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/ProtokDeadTime","method":"post","swaggerDoc":"","x":163.888916015625,"y":4054.178647994995,"wires":[["652e7672.e2c748"]]},{"id":"b8dcfae6.ffb898","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":778.3612060546875,"y":4129.206654548645,"wires":[["c979f206.ab68a"],[]]},{"id":"c3389281.1dd5b","type":"comment","z":"71d2f7af.b37db8","name":"write_Protok_Dead_time","info":"","x":502.1944885253906,"y":4002.372982978821,"wires":[]},{"id":"d17ecf73.4b5b3","type":"comment","z":"71d2f7af.b37db8","name":"read_Protok_Dead_time","info":"","x":483.69446563720703,"y":4195.150817871094,"wires":[]},{"id":"bedab36b.c35ed","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/ProtokDeadTime","method":"get","swaggerDoc":"","x":163.888916015625,"y":4280.345643043518,"wires":[["76804cec.b8a8b4"]]},{"id":"76804cec.b8a8b4","type":"function","z":"71d2f7af.b37db8","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":381.44446563720703,"y":4278.484314918518,"wires":[["ff82d18a.c7882"]]},{"id":"ff82d18a.c7882","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":552.444465637207,"y":4276.734314918518,"wires":[["b0d048f8.3fd688"],[]]},{"id":"3f38d697.91ff4a","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":123.19446182250977,"y":4239.484313964844,"wires":[["76804cec.b8a8b4"]]},{"id":"f70fe19c.47163","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":119.30558776855469,"y":2961.53994846344,"wires":[["3ee022f4.9ab49e"]]},{"id":"36ffa30e.30949c","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":110.00005340576172,"y":4015.1508169174194,"wires":[["652e7672.e2c748"]]},{"id":"96f53c36.7fca4","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":1801.9721603393555,"y":1091.8574628829956,"wires":[]},{"id":"bffba4c0.3341c8","type":"comment","z":"71d2f7af.b37db8","name":"read_Upakovka_marshrut","info":"","x":1946.611068725586,"y":187.4131679534912,"wires":[]},{"id":"a57d3efa.36025","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1401.944595336914,"y":273.96863746643066,"wires":[["fe133833.5d0528"]]},{"id":"d33f25a2.a42e18","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1446.777931213379,"y":225.19089317321777,"wires":[["fe133833.5d0528"]]},{"id":"3f9eccaf.259664","type":"http response","z":"71d2f7af.b37db8","name":"","x":2266.666706085205,"y":780.1909141540527,"wires":[]},{"id":"58b88c29.497264","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2111.111152648926,"y":784.6353368759155,"wires":[["3f9eccaf.259664"]]},{"id":"b3efa4f4.c9a6e8","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":142.41283416748047,"y":984.1432332992554,"wires":[["a3f49ea5.eb79c"]]},{"id":"56113c10.066b34","type":"http response","z":"71d2f7af.b37db8","name":"","x":1139.4442749023438,"y":1749.873125076294,"wires":[]},{"id":"204c0703.72c288","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":988.3333053588867,"y":1752.0953750610352,"wires":[["56113c10.066b34"]]},{"id":"dd02fbe9.70dbc8","type":"http response","z":"71d2f7af.b37db8","name":"","x":1149.444450378418,"y":1929.8732376098633,"wires":[]},{"id":"9633fbcd.a9f238","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":998.3333587646484,"y":1928.762128829956,"wires":[["dd02fbe9.70dbc8"]]},{"id":"f4936779.3cd418","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":257.63890838623047,"y":2603.762159347534,"wires":[]},{"id":"9202091.f015cf8","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":282.63890075683594,"y":2485.012119293213,"wires":[]},{"id":"52b0fb7a.0edc94","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/SecondForScada","method":"get","swaggerDoc":"","x":160.55555725097656,"y":2821.678864479065,"wires":[["f739d862.a98cb8"]]},{"id":"d73ec71f.c19be8","type":"comment","z":"71d2f7af.b37db8","name":"read_Second_for_scada","info":"","x":493.0277786254883,"y":2767.2342834472656,"wires":[]},{"id":"f739d862.a98cb8","type":"function","z":"71d2f7af.b37db8","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":370.55556297302246,"y":2824.178906440735,"wires":[["725f1c9d.0c6974"]]},{"id":"725f1c9d.0c6974","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":541.8055572509766,"y":2824.178864479065,"wires":[["1617925d.38529e"],[]]},{"id":"6d3a45e8.96582c","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":965.0913505554199,"y":2812.4645252227783,"wires":[]},{"id":"203a785f.1d3478","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":718.8889770507812,"y":2885.1789445877075,"wires":[["b84e540e.7cb088"]]},{"id":"b84e540e.7cb088","type":"http response","z":"71d2f7af.b37db8","name":"","x":862.2221984863281,"y":2885.178864479065,"wires":[]},{"id":"9ba803ff.a98ff","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":99.30555725097656,"y":2781.678864479065,"wires":[["f739d862.a98cb8"]]},{"id":"108c43c.b2e56bc","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1161.3888854980469,"y":3179.178828239441,"wires":[["dd558b0f.c05158"]]},{"id":"dd558b0f.c05158","type":"http response","z":"71d2f7af.b37db8","name":"","x":1306.3888778686523,"y":3177.5121870040894,"wires":[]},{"id":"3c3732b9.aec48e","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":95.55555725097656,"y":3195.428864479065,"wires":[["ed7fa001.8694b"]]},{"id":"801521bb.741d8","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":1046.166763305664,"y":3614.1514987945557,"wires":[]},{"id":"bee47af7.756fc8","type":"comment","z":"71d2f7af.b37db8","name":"read_Counter_1","info":"","x":450.3611068725586,"y":4536.143401145935,"wires":[]},{"id":"8334c265.a1019","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/Counter1","method":"get","swaggerDoc":"","x":130.55555725097656,"y":4621.338226318359,"wires":[["9aa46c25.26bbe"]]},{"id":"9aa46c25.26bbe","type":"function","z":"71d2f7af.b37db8","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":378.1111068725586,"y":4619.476898193359,"wires":[["8ed7c04.c84ed4"]]},{"id":"8ed7c04.c84ed4","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":549.1111068725586,"y":4617.726898193359,"wires":[["53c29673.48a418"],[]]},{"id":"c8c285b8.9b01c8","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":119.86110305786133,"y":4580.476897239685,"wires":[["9aa46c25.26bbe"]]},{"id":"de6f0837.e3df08","type":"comment","z":"71d2f7af.b37db8","name":"read_Counter_2","info":"","x":450.3611068725586,"y":4678.52433681488,"wires":[]},{"id":"97875765.b07898","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/Counter2","method":"get","swaggerDoc":"","x":130.55555725097656,"y":4763.719161987305,"wires":[["727e947e.fb9a5c"]]},{"id":"727e947e.fb9a5c","type":"function","z":"71d2f7af.b37db8","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":378.1111068725586,"y":4761.857833862305,"wires":[["dcf6ac00.aa474"]]},{"id":"dcf6ac00.aa474","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":549.1111068725586,"y":4760.107833862305,"wires":[["5a442e7e.8e8f2"],[]]},{"id":"5be81e0a.14316","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":119.86110305786133,"y":4722.85783290863,"wires":[["727e947e.fb9a5c"]]},{"id":"af86e715.e9c258","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":876.8055038452148,"y":3133.345009803772,"wires":[["91c97090.2de38","108c43c.b2e56bc"]]},{"id":"d8c4ccee.f3d8","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":786.6665496826172,"y":1682.0953693389893,"wires":[["204c0703.72c288","e54efe8a.7fd1a"]]},{"id":"909ebd53.ab7a6","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1051.6666412353516,"y":1512.0953407287598,"wires":[]},{"id":"17254b95.63fce4","type":"http response","z":"71d2f7af.b37db8","name":"","x":1130.1109046936035,"y":1582.5397205352783,"wires":[]},{"id":"21916ec5.437a32","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":978.9999351501465,"y":1584.7619705200195,"wires":[["17254b95.63fce4"]]},{"id":"468d5d8f.200d94","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":777.333179473877,"y":1514.7619647979736,"wires":[["21916ec5.437a32","909ebd53.ab7a6"]]},{"id":"40089e2c.a6328","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1058.333267211914,"y":1368.7620887756348,"wires":[]},{"id":"41d6566d.944548","type":"http response","z":"71d2f7af.b37db8","name":"","x":1136.777530670166,"y":1439.2064685821533,"wires":[]},{"id":"d23af163.a3c38","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":985.666561126709,"y":1441.4287185668945,"wires":[["41d6566d.944548"]]},{"id":"bffac65b.689018","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":779.714111328125,"y":1351.904896736145,"wires":[["d23af163.a3c38","40089e2c.a6328"]]},{"id":"d7a27ffc.789f9","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1058.333267211914,"y":1993.7620887756348,"wires":[]},{"id":"565b6ffa.e154c","type":"http response","z":"71d2f7af.b37db8","name":"","x":1136.777530670166,"y":2064.2064685821533,"wires":[]},{"id":"94f27d39.5c55","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":985.666561126709,"y":2066.4287185668945,"wires":[["565b6ffa.e154c"]]},{"id":"8032f4c.d0acc08","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":783.9998054504395,"y":1996.4287128448486,"wires":[["94f27d39.5c55","d7a27ffc.789f9"]]},{"id":"5a7ad5cf.61727c","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1096.6666412353516,"y":2152.0953407287598,"wires":[]},{"id":"a761c4bd.3cb108","type":"http response","z":"71d2f7af.b37db8","name":"","x":1175.1109046936035,"y":2222.5397205352783,"wires":[]},{"id":"4e0ed40a.d06eec","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1023.9999351501465,"y":2224.7619705200195,"wires":[["a761c4bd.3cb108"]]},{"id":"e4d1d187.8f92","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":822.333179473877,"y":2154.7619647979736,"wires":[["4e0ed40a.d06eec","5a7ad5cf.61727c"]]},{"id":"9ff76554.7ab178","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1070.5555725097656,"y":2340.4286890029907,"wires":[]},{"id":"83fc4f73.ef08f","type":"http response","z":"71d2f7af.b37db8","name":"","x":1190.66650390625,"y":2404.206703186035,"wires":[]},{"id":"f134cfdc.a5e24","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1039.555534362793,"y":2406.4289531707764,"wires":[["83fc4f73.ef08f"]]},{"id":"af86b47f.af5d48","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":796.222110748291,"y":2343.0953130722046,"wires":[["f134cfdc.a5e24","9ff76554.7ab178"]]},{"id":"d6eb681a.6e6128","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1134.2222137451172,"y":3441.095524787903,"wires":[]},{"id":"8435ac49.4410c","type":"http response","z":"71d2f7af.b37db8","name":"","x":1212.6664772033691,"y":3511.5399045944214,"wires":[]},{"id":"7afe572.61b33a8","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1061.555507659912,"y":3513.7621545791626,"wires":[["8435ac49.4410c"]]},{"id":"f3693716.f942c8","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":859.8887519836426,"y":3443.7621488571167,"wires":[["7afe572.61b33a8","d6eb681a.6e6128"]]},{"id":"43a6c583.2f9cfc","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1096.8889617919922,"y":3892.0955991744995,"wires":[]},{"id":"cb0d2704.91cce8","type":"http response","z":"71d2f7af.b37db8","name":"","x":1172.333179473877,"y":3962.5397176742554,"wires":[]},{"id":"9d487cac.c3071","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1021.2222099304199,"y":3964.7619676589966,"wires":[["cb0d2704.91cce8"]]},{"id":"9504b981.4bbb68","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":819.555549621582,"y":3914.7619800567627,"wires":[["9d487cac.c3071","43a6c583.2f9cfc"]]},{"id":"c1640192.1f27","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1078.888916015625,"y":4267.095337867737,"wires":[]},{"id":"c71089c2.bb9668","type":"http response","z":"71d2f7af.b37db8","name":"","x":1157.333179473877,"y":4337.539717674255,"wires":[]},{"id":"283966c1.98276a","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1006.2222099304199,"y":4339.761967658997,"wires":[["c71089c2.bb9668"]]},{"id":"79fed46e.8168bc","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1093.8888092041016,"y":4612.095549583435,"wires":[]},{"id":"aa18fba7.c4d748","type":"http response","z":"71d2f7af.b37db8","name":"","x":1172.3330726623535,"y":4682.539929389954,"wires":[]},{"id":"33fdc1fb.e5461e","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1021.2221031188965,"y":4684.762179374695,"wires":[["aa18fba7.c4d748"]]},{"id":"53c29673.48a418","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":819.555347442627,"y":4614.762173652649,"wires":[["33fdc1fb.e5461e","79fed46e.8168bc"]]},{"id":"57871dd6.a49f74","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1050.5555572509766,"y":4753.76212978363,"wires":[]},{"id":"7702e868.6d0818","type":"http response","z":"71d2f7af.b37db8","name":"","x":1128.9998207092285,"y":4824.206509590149,"wires":[]},{"id":"5d601c7a.9998b4","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":977.8888511657715,"y":4826.42875957489,"wires":[["7702e868.6d0818"]]},{"id":"5a442e7e.8e8f2","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":776.222095489502,"y":4756.428753852844,"wires":[["5d601c7a.9998b4","57871dd6.a49f74"]]},{"id":"c9068595.f12fc8","type":"comment","z":"71d2f7af.b37db8","name":"read_Counter_3","info":"","x":464.38890838623047,"y":4832.09557723999,"wires":[]},{"id":"a8233eab.c806a","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/Counter3","method":"get","swaggerDoc":"","x":144.58335876464844,"y":4917.290402412415,"wires":[["80373138.1198"]]},{"id":"80373138.1198","type":"function","z":"71d2f7af.b37db8","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":377.13892364501953,"y":4915.429249763489,"wires":[["2fd24d46.fd76f2"]]},{"id":"2fd24d46.fd76f2","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":563.1389083862305,"y":4913.679074287415,"wires":[["9e6222b7.99529"],[]]},{"id":"9369e826.6f6128","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":133.8889045715332,"y":4876.42907333374,"wires":[["80373138.1198"]]},{"id":"9fa1646d.4c5f78","type":"debug","z":"71d2f7af.b37db8","name":"","active":true,"console":"false","complete":"payload","x":1064.5833587646484,"y":4907.33337020874,"wires":[]},{"id":"67252ebe.1f90a","type":"http response","z":"71d2f7af.b37db8","name":"","x":1143.0276222229004,"y":4977.777750015259,"wires":[]},{"id":"a27ce9b6.bb6028","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":991.9166526794434,"y":4980,"wires":[["67252ebe.1f90a"]]},{"id":"9e6222b7.99529","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":803.3332710266113,"y":4903.206524848938,"wires":[["a27ce9b6.bb6028","9fa1646d.4c5f78"]]},{"id":"5c3efec4.bb126","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/send_start_write_date","method":"post","swaggerDoc":"","x":2075.7937927246094,"y":2253.571979045868,"wires":[["4af69b50.2885a4","9dc680a5.5750f"]]},{"id":"97c7b9cc.9f8ba8","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2992.333671569824,"y":2246.8575925827026,"wires":[]},{"id":"dc03d741.8ee6a8","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2659.5716552734375,"y":2257.968363761902,"wires":[["97c7b9cc.9f8ba8"],[]]},{"id":"c5bf4af7.565898","type":"comment","z":"71d2f7af.b37db8","name":"Write_comand_time","info":"","x":2471.5715560913086,"y":2157.4132285118103,"wires":[]},{"id":"4af69b50.2885a4","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":2383.0955810546875,"y":2216.187026500702,"wires":[]},{"id":"39cfc79d.473d28","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2127.5397911071777,"y":2203.2702956199646,"wires":[["9dc680a5.5750f"]]},{"id":"9dc680a5.5750f","type":"function","z":"71d2f7af.b37db8","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2363.650848388672,"y":2256.1433568000793,"wires":[["d0a20298.a9c25"]]},{"id":"d0a20298.a9c25","type":"function","z":"71d2f7af.b37db8","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2493.936683654785,"y":2257.2544236183167,"wires":[["dc03d741.8ee6a8"]]},{"id":"d42b0964.018e08","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2759.762233734131,"y":2361.428973674774,"wires":[]},{"id":"7716159d.874dec","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2556.4292182922363,"y":2363.159381389618,"wires":[["d42b0964.018e08"],[]]},{"id":"c428c5ca.e67778","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2785.5779724121094,"y":2558.7675199508667,"wires":[]},{"id":"2dacd44b.af662c","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2603.1336059570312,"y":2557.4976358413696,"wires":[["c428c5ca.e67778"],[]]},{"id":"263e236f.18f2cc","type":"comment","z":"71d2f7af.b37db8","name":"write_18b_status_pump","info":"","x":2385.0066299438477,"y":2434.21226978302,"wires":[]},{"id":"4c6ea0de.c1e5c","type":"function","z":"71d2f7af.b37db8","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2306.974807739258,"y":2555.7677829265594,"wires":[["efb83a9b.556678"]]},{"id":"efb83a9b.556678","type":"function","z":"71d2f7af.b37db8","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2442.800434112549,"y":2558.3074567317963,"wires":[["2dacd44b.af662c"]]},{"id":"34ebd6ad.a61c8a","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/send18bI_status_pump","method":"post","swaggerDoc":"","x":2039.5778732299805,"y":2561.545035123825,"wires":[["a6ee0949.d192a8","4c6ea0de.c1e5c"]]},{"id":"a6ee0949.d192a8","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":2292.3239212036133,"y":2478.9100952148438,"wires":[]},{"id":"f3cfd4a.2e95f28","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2084.5461387634277,"y":2490.021152496338,"wires":[["4c6ea0de.c1e5c"]]},{"id":"afedd771.d953b8","type":"function","z":"71d2f7af.b37db8","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2198.6057891845703,"y":2359.2377219200134,"wires":[["8d080ab.aeaf1f8"]]},{"id":"8d080ab.aeaf1f8","type":"function","z":"71d2f7af.b37db8","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2351.4921684265137,"y":2360.433000087738,"wires":[["7716159d.874dec"]]},{"id":"5a9df1fd.86842","type":"comment","z":"71d2f7af.b37db8","name":"Write_comand_time","info":"","x":2517.2419662475586,"y":2317.4331250190735,"wires":[]},{"id":"9de0f98f.714038","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/write_date_PLC","method":"post","swaggerDoc":"","x":1967.2419357299805,"y":2357.432972431183,"wires":[["6de68183.66878","afedd771.d953b8"]]},{"id":"6de68183.66878","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":2189.2418899536133,"y":2312.4329104423523,"wires":[]},{"id":"fff04beb.440a78","type":"comment","z":"71d2f7af.b37db8","name":"read_Upakovka_5","info":"","x":2231.8251724243164,"y":2782.932644844055,"wires":[]},{"id":"55659a7e.20dc04","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/Upakovka5","method":"get","swaggerDoc":"","x":1948.1585540771484,"y":2845.4880990982056,"wires":[["5bb4d801.69ace8"]]},{"id":"5bb4d801.69ace8","type":"function","z":"71d2f7af.b37db8","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2178.0474433898926,"y":2829.0436429977417,"wires":[["c99ac559.93c008"]]},{"id":"c99ac559.93c008","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2337.380771636963,"y":2829.377022743225,"wires":[["3817b953.6f4c76"],[]]},{"id":"8db94bce.a1e5a8","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2673.682403564453,"y":2820.520125389099,"wires":[]},{"id":"a7b03646.6c3128","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1890.4918670654297,"y":2806.7103662490845,"wires":[["5bb4d801.69ace8"]]},{"id":"212045d6.14f9ba","type":"http response","z":"71d2f7af.b37db8","name":"","x":2802.317150115967,"y":2889.7578477859497,"wires":[]},{"id":"bf24877a.e406e8","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2536.602981567383,"y":2881.82142162323,"wires":[["212045d6.14f9ba"]]},{"id":"e5e81c70.8e986","type":"comment","z":"71d2f7af.b37db8","name":"read_Upakovka_6","info":"","x":2232.8251724243164,"y":2903.932644844055,"wires":[]},{"id":"9a7f9399.d34b9","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/Upakovka6","method":"get","swaggerDoc":"","x":1949.1585540771484,"y":2966.4880990982056,"wires":[["30c6fef8.6d10c2"]]},{"id":"30c6fef8.6d10c2","type":"function","z":"71d2f7af.b37db8","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2164.047504425049,"y":2959.0436611175537,"wires":[["835035df.89abb8"]]},{"id":"835035df.89abb8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2334.380847930908,"y":2958.377064704895,"wires":[["4f8bdfda.30a81"],[]]},{"id":"491a6465.bbe60c","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1891.4918670654297,"y":2927.7103662490845,"wires":[["30c6fef8.6d10c2"]]},{"id":"6739f4c1.e7d84c","type":"comment","z":"71d2f7af.b37db8","name":"REZERVU","info":"","x":2241.8252487182617,"y":2687.9326906204224,"wires":[]},{"id":"441db638.723ec8","type":"comment","z":"71d2f7af.b37db8","name":"T_flow_1","info":"","x":2205.32527923584,"y":3081.9327630996704,"wires":[]},{"id":"750002d6.415f0c","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlow1","method":"get","swaggerDoc":"","x":1932.7696151733398,"y":3139.3770027160645,"wires":[["f8de8089.33ed8"]]},{"id":"f8de8089.33ed8","type":"function","z":"71d2f7af.b37db8","name":"5760+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5760 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2153.76961517334,"y":3137.3770027160645,"wires":[["61066e38.d1d24"]]},{"id":"61066e38.d1d24","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2339.76961517334,"y":3144.3770027160645,"wires":[["b005defb.ac136"],[]]},{"id":"990df173.8f632","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1881.7696151733398,"y":3088.3770027160645,"wires":[["f8de8089.33ed8"]]},{"id":"960020c3.6d03","type":"debug","z":"71d2f7af.b37db8","name":"","active":true,"console":"false","complete":"payload","x":2784.436309814453,"y":3140.0437898635864,"wires":[]},{"id":"ccb29de1.b56cc","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2785.102996826172,"y":3206.0436067581177,"wires":[["260bc477.bd8d8c"]]},{"id":"b005defb.ac136","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2564.5472564697266,"y":3140.4882068634033,"wires":[["ccb29de1.b56cc","960020c3.6d03"]]},{"id":"260bc477.bd8d8c","type":"http response","z":"71d2f7af.b37db8","name":"","x":2926.213933944702,"y":3204.932551383972,"wires":[]},{"id":"88c7066.3fa6bf8","type":"comment","z":"71d2f7af.b37db8","name":"T_flow_2","info":"","x":2203.8888931274414,"y":3227.28054523468,"wires":[]},{"id":"5aa5c335.56c02c","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlow2","method":"get","swaggerDoc":"","x":1931.3332290649414,"y":3284.724784851074,"wires":[["97bd898d.a35dd8"]]},{"id":"97bd898d.a35dd8","type":"function","z":"71d2f7af.b37db8","name":"5762+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5762 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2152.3332290649414,"y":3282.724784851074,"wires":[["defee93c.973d08"]]},{"id":"defee93c.973d08","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2338.3332290649414,"y":3289.724784851074,"wires":[["2950277f.9e1808"],[]]},{"id":"9ebe52da.6c5f6","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1880.3332290649414,"y":3233.724784851074,"wires":[["97bd898d.a35dd8"]]},{"id":"f484fcaa.25f1c","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2782.9999237060547,"y":3285.391571998596,"wires":[]},{"id":"576c8e01.af54c","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2783.6666107177734,"y":3351.3913888931274,"wires":[["845098a2.3fc708"]]},{"id":"2950277f.9e1808","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2563.110870361328,"y":3285.835988998413,"wires":[["576c8e01.af54c","f484fcaa.25f1c"]]},{"id":"845098a2.3fc708","type":"http response","z":"71d2f7af.b37db8","name":"","x":2924.7775478363037,"y":3350.280333518982,"wires":[]},{"id":"f71f94cb.667788","type":"comment","z":"71d2f7af.b37db8","name":"T_flow_3","info":"","x":2211.666603088379,"y":3357.28054523468,"wires":[]},{"id":"8b3fcea.f3b553","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlow3","method":"get","swaggerDoc":"","x":1939.110939025879,"y":3414.724784851074,"wires":[["c2aa8669.860bc8"]]},{"id":"c2aa8669.860bc8","type":"function","z":"71d2f7af.b37db8","name":"5764+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5764 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2160.110939025879,"y":3412.724784851074,"wires":[["bb073ffd.d8ed6"]]},{"id":"bb073ffd.d8ed6","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2346.110939025879,"y":3419.724784851074,"wires":[["9dd80fa0.76e55"],[]]},{"id":"16a792ae.da142d","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1888.110939025879,"y":3363.724784851074,"wires":[["c2aa8669.860bc8"]]},{"id":"92ac2c4d.4de33","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2790.777633666992,"y":3415.391571998596,"wires":[]},{"id":"5a8c3b84.6042e4","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.444320678711,"y":3481.3913888931274,"wires":[["b86b7afb.243f48"]]},{"id":"9dd80fa0.76e55","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2570.8885803222656,"y":3415.835988998413,"wires":[["5a8c3b84.6042e4","92ac2c4d.4de33"]]},{"id":"b86b7afb.243f48","type":"http response","z":"71d2f7af.b37db8","name":"","x":2932.555257797241,"y":3480.280333518982,"wires":[]},{"id":"7a19a53f.6e924c","type":"comment","z":"71d2f7af.b37db8","name":"T_flow_4","info":"","x":2208.333351135254,"y":3491.72488117218,"wires":[]},{"id":"c13f7ff3.fccfe","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlow4","method":"get","swaggerDoc":"","x":1935.777687072754,"y":3549.169120788574,"wires":[["6e9c89d3.679d58"]]},{"id":"6e9c89d3.679d58","type":"function","z":"71d2f7af.b37db8","name":"5766+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5766 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2156.777687072754,"y":3547.169120788574,"wires":[["e61c2899.299d38"]]},{"id":"e61c2899.299d38","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2342.777687072754,"y":3554.169120788574,"wires":[["f9c8f619.0c5778"],[]]},{"id":"bd34f871.e91568","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1884.777687072754,"y":3498.169120788574,"wires":[["6e9c89d3.679d58"]]},{"id":"8ac99c99.b99d5","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2787.444381713867,"y":3549.835907936096,"wires":[]},{"id":"5d599e8c.46472","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2788.111068725586,"y":3615.8357248306274,"wires":[["8d47702b.65967"]]},{"id":"f9c8f619.0c5778","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2567.5553283691406,"y":3550.280324935913,"wires":[["5d599e8c.46472","8ac99c99.b99d5"]]},{"id":"8d47702b.65967","type":"http response","z":"71d2f7af.b37db8","name":"","x":2929.222005844116,"y":3614.724669456482,"wires":[]},{"id":"40b27879.01fe88","type":"comment","z":"71d2f7af.b37db8","name":"T_flow_5","info":"","x":2202.777687072754,"y":3628.02126789093,"wires":[]},{"id":"efeab48a.1220a8","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/TFlow5","method":"get","swaggerDoc":"","x":1930.222023010254,"y":3685.465507507324,"wires":[["f0a04380.44cdc"]]},{"id":"f0a04380.44cdc","type":"function","z":"71d2f7af.b37db8","name":"5768+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5768 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2151.222023010254,"y":3683.465507507324,"wires":[["f59783df.897de"]]},{"id":"f59783df.897de","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2337.222023010254,"y":3690.465507507324,"wires":[["ab019c11.6159a"],[]]},{"id":"93e12c9e.bc297","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1879.222023010254,"y":3634.465507507324,"wires":[["f0a04380.44cdc"]]},{"id":"cb863767.f89438","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2781.888717651367,"y":3686.132294654846,"wires":[]},{"id":"2b6eb3e3.a1290c","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2782.555404663086,"y":3752.1321115493774,"wires":[["87bc889.7b04678"]]},{"id":"ab019c11.6159a","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2561.9996643066406,"y":3686.576711654663,"wires":[["2b6eb3e3.a1290c","cb863767.f89438"]]},{"id":"87bc889.7b04678","type":"http response","z":"71d2f7af.b37db8","name":"","x":2923.666341781616,"y":3751.021056175232,"wires":[]},{"id":"9675a968.3343f8","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_flow_1","info":"","x":2278.3332290649414,"y":3857.65066242218,"wires":[]},{"id":"77e90014.d9552","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostFlow1","method":"get","swaggerDoc":"","x":1969.9999389648438,"y":3917.9841089248657,"wires":[["56df1381.1cf35c"]]},{"id":"56df1381.1cf35c","type":"function","z":"71d2f7af.b37db8","name":"5772+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5772 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2207.999942779541,"y":3923.9841089248657,"wires":[["f45bf788.9062e8"]]},{"id":"f45bf788.9062e8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2384.9999084472656,"y":3922.9839010238647,"wires":[["76516872.0ed8f8"],[]]},{"id":"2e76121a.9091be","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1926.9999084472656,"y":3866.9839010238647,"wires":[["56df1381.1cf35c"]]},{"id":"76516872.0ed8f8","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2632.3330879211426,"y":3923.3170289993286,"wires":[["58a3536e.84f54c","84abf5d6.e97108"]]},{"id":"84abf5d6.e97108","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2906.666549682617,"y":3920.6504049301147,"wires":[]},{"id":"58a3536e.84f54c","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2833.999843597412,"y":3993.3170347213745,"wires":[["1e6ebc15.41f214"]]},{"id":"1e6ebc15.41f214","type":"http response","z":"71d2f7af.b37db8","name":"","x":2985.110813140869,"y":3991.0947847366333,"wires":[]},{"id":"6cf87633.571988","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_flow_2","info":"","x":2276.1110610961914,"y":3998.39138507843,"wires":[]},{"id":"890fc5c9.337438","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostFlow2","method":"get","swaggerDoc":"","x":1995.7777404785156,"y":4058.7246236801147,"wires":[["c7581296.8ae77"]]},{"id":"c7581296.8ae77","type":"function","z":"71d2f7af.b37db8","name":"5774+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5774 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2210.777774810791,"y":4056.7246770858765,"wires":[["38684000.8911"]]},{"id":"38684000.8911","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2382.7777404785156,"y":4063.7246236801147,"wires":[["4a8cb14.7637a5"],[]]},{"id":"2cc04a9e.21c296","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1924.7777404785156,"y":4007.7246236801147,"wires":[["c7581296.8ae77"]]},{"id":"4a8cb14.7637a5","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2630.1109199523926,"y":4064.0577516555786,"wires":[["6e6b00b8.7618f","10a1cf74.c1b401"]]},{"id":"10a1cf74.c1b401","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2904.444381713867,"y":4061.3911275863647,"wires":[]},{"id":"6e6b00b8.7618f","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2831.777675628662,"y":4134.0577573776245,"wires":[["172fa682.25dfc9"]]},{"id":"172fa682.25dfc9","type":"http response","z":"71d2f7af.b37db8","name":"","x":2982.888645172119,"y":4131.835507392883,"wires":[]},{"id":"cdb40156.870fb","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_flow_3","info":"","x":2262.777687072754,"y":4156.16921710968,"wires":[]},{"id":"38cd0b08.4711a4","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostFlow3","method":"get","swaggerDoc":"","x":1957.4444274902344,"y":4215.502356529236,"wires":[["a8b8f285.f27f6"]]},{"id":"a8b8f285.f27f6","type":"function","z":"71d2f7af.b37db8","name":"5776+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5776 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2183.444366455078,"y":4214.502455711365,"wires":[["75c4720e.bd7ccc"]]},{"id":"75c4720e.bd7ccc","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2369.444366455078,"y":4221.502455711365,"wires":[["899f4494.b1dc08"],[]]},{"id":"b8b1284a.dbb138","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1911.4443664550781,"y":4165.502455711365,"wires":[["a8b8f285.f27f6"]]},{"id":"899f4494.b1dc08","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":2616.777545928955,"y":4221.835583686829,"wires":[["129f2b04.aa2225","1a2abd9b.458c42"]]},{"id":"1a2abd9b.458c42","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2891.1110076904297,"y":4219.168959617615,"wires":[]},{"id":"129f2b04.aa2225","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2818.4443016052246,"y":4291.8355894088745,"wires":[["2e4881ca.50aa4e"]]},{"id":"2e4881ca.50aa4e","type":"http response","z":"71d2f7af.b37db8","name":"","x":2969.5552711486816,"y":4289.613339424133,"wires":[]},{"id":"47422f24.e13ed","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_flow_4","info":"","x":2264.9999771118164,"y":4300.613797187805,"wires":[]},{"id":"d67d9571.d8a0d8","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostFlow4","method":"get","swaggerDoc":"","x":1984.6666564941406,"y":4360.94703578949,"wires":[["41a9ab60.7bab84"]]},{"id":"41a9ab60.7bab84","type":"function","z":"71d2f7af.b37db8","name":"5778+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5778 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2200.6666107177734,"y":4379.947352409363,"wires":[["c1887751.d941a8"]]},{"id":"c1887751.d941a8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2371.6666564941406,"y":4365.94703578949,"wires":[["a737e18.407152"],[]]},{"id":"ce41315e.41665","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1913.6666564941406,"y":4309.94703578949,"wires":[["41a9ab60.7bab84"]]},{"id":"a737e18.407152","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2618.9998359680176,"y":4366.280163764954,"wires":[["a248bc18.112d7","b26c06f7.326318"]]},{"id":"b26c06f7.326318","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2893.333297729492,"y":4363.61353969574,"wires":[]},{"id":"a248bc18.112d7","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2820.666591644287,"y":4436.2801694869995,"wires":[["6ef10f0d.32b59"]]},{"id":"6ef10f0d.32b59","type":"http response","z":"71d2f7af.b37db8","name":"","x":2971.777561187744,"y":4434.057919502258,"wires":[]},{"id":"c2a13fd3.5d154","type":"comment","z":"71d2f7af.b37db8","name":"read_Plotnost_flow_5","info":"","x":2264.9999771118164,"y":4458.021023750305,"wires":[]},{"id":"5d058bc6.46c9f4","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/PlotnostFlow5","method":"get","swaggerDoc":"","x":1984.6666564941406,"y":4518.35426235199,"wires":[["bc354e23.cf4b6"]]},{"id":"bc354e23.cf4b6","type":"function","z":"71d2f7af.b37db8","name":"5780+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5780 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2204.666606903076,"y":4520.35426235199,"wires":[["5430ca03.5e6294"]]},{"id":"5430ca03.5e6294","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":2371.6666564941406,"y":4523.35426235199,"wires":[["1d226dec.d5ccc2"],[]]},{"id":"20e02312.49670c","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1913.6666564941406,"y":4467.35426235199,"wires":[["bc354e23.cf4b6"]]},{"id":"1d226dec.d5ccc2","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":2618.9998359680176,"y":4523.687390327454,"wires":[["ec5a38e5.68a038","14589c77.0b6d64"]]},{"id":"14589c77.0b6d64","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2893.333297729492,"y":4521.02076625824,"wires":[]},{"id":"ec5a38e5.68a038","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2820.666591644287,"y":4593.6873960494995,"wires":[["9bedeb7f.bc1c68"]]},{"id":"9bedeb7f.bc1c68","type":"http response","z":"71d2f7af.b37db8","name":"","x":2971.777561187744,"y":4591.465146064758,"wires":[]},{"id":"652e7672.e2c748","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":288.3335952758789,"y":4135.652293205261,"wires":[["bd9f2a9f.d0ff68"]]},{"id":"bd9f2a9f.d0ff68","type":"function","z":"71d2f7af.b37db8","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":442.8334426879883,"y":4134.763295173645,"wires":[["f2cd9ac8.7e6558"]]},{"id":"f2cd9ac8.7e6558","type":"function","z":"71d2f7af.b37db8","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":611.2777862548828,"y":4129.651316642761,"wires":[["b8dcfae6.ffb898"]]},{"id":"b0d048f8.3fd688","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":789.8889617919922,"y":4277.76233291626,"wires":[["c1640192.1f27","283966c1.98276a"]]},{"id":"abecdcdb.2d4b7","type":"comment","z":"71d2f7af.b37db8","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":3828.2979888916016,"y":80.86333560943604,"wires":[]},{"id":"ab87415f.b9037","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/setOrders","method":"get","swaggerDoc":"","x":140.55555725097656,"y":417.10199069976807,"wires":[["66c4a89f.45e0e8"]]},{"id":"a0e1b543.ab0428","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":113.33332824707031,"y":370.4353017807007,"wires":[["66c4a89f.45e0e8"]]},{"id":"b837186e.c231a8","type":"comment","z":"71d2f7af.b37db8","name":"Read_R5004 5005 5006","info":"","x":419.5555725097656,"y":323.99078369140625,"wires":[]},{"id":"66c4a89f.45e0e8","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":337.25475311279297,"y":418.76868438720703,"wires":[["9f28e7bd.966668"]]},{"id":"2e006b05.43dc74","type":"function","z":"71d2f7af.b37db8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":678.9212417602539,"y":708.7686910629272,"wires":[["82254b7b.7671c8"]]},{"id":"82254b7b.7671c8","type":"function","z":"71d2f7af.b37db8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":815.2666664123535,"y":710.3043146133423,"wires":[["43a8c856.d098b8","c9173007.542b"]]},{"id":"43a8c856.d098b8","type":"http response","z":"71d2f7af.b37db8","name":"","x":986.6238288879395,"y":672.5783386230469,"wires":[]},{"id":"c9173007.542b","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1005.6120796203613,"y":709.2090845108032,"wires":[]},{"id":"9f28e7bd.966668","type":"function","z":"71d2f7af.b37db8","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":530.5878829956055,"y":412.1020460128784,"wires":[["2b3c6572.224a7a"]]},{"id":"7c8cea2c.224374","type":"function","z":"71d2f7af.b37db8","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":497.2544479370117,"y":482.10202503204346,"wires":[["898f91c7.c5d6f"]]},{"id":"2b3c6572.224a7a","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":758.9212188720703,"y":413.76866817474365,"wires":[["abd3f067.a69f7"],[]]},{"id":"898f91c7.c5d6f","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":717.2544708251953,"y":492.102011680603,"wires":[["be4fb702.724378"],[]]},{"id":"34903033.2190c","type":"function","z":"71d2f7af.b37db8","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":497.2546157836914,"y":547.1020450592041,"wires":[["622c41a6.f30d2"]]},{"id":"622c41a6.f30d2","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":704.8695602416992,"y":555.7012310028076,"wires":[["8cdeaa96.1b3208"],[]]},{"id":"8cdeaa96.1b3208","type":"function","z":"71d2f7af.b37db8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":908.8499221801758,"y":551.5662603378296,"wires":[["7268f6a1.a0a3c8"]]},{"id":"7268f6a1.a0a3c8","type":"function","z":"71d2f7af.b37db8","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":502.2546157836914,"y":605.4353580474854,"wires":[["6e39b8f6.c10178"]]},{"id":"6e39b8f6.c10178","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":709.8695602416992,"y":614.0345439910889,"wires":[["2e006b05.43dc74"],[]]},{"id":"abd3f067.a69f7","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":937.2548713684082,"y":410.4353551864624,"wires":[["7c8cea2c.224374"]]},{"id":"be4fb702.724378","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":928.9209747314453,"y":487.1020498275757,"wires":[["34903033.2190c"]]},{"id":"b29e407.d2edfc","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2105.70259475708,"y":942.1013345718384,"wires":[["1184308e.0e7edf","3744362a.dd794a"]]},{"id":"1617925d.38529e","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":734.154899597168,"y":2768.827723503113,"wires":[["203a785f.1d3478","6d3a45e8.96582c"]]},{"id":"3817b953.6f4c76","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2517.0121002197266,"y":2751.862946510315,"wires":[["bf24877a.e406e8","8db94bce.a1e5a8"]]},{"id":"31f2e7a2.43b4c8","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2791.2977561950684,"y":2954.7200055122375,"wires":[]},{"id":"617c602c.cb679","type":"http response","z":"71d2f7af.b37db8","name":"","x":2792.789743423462,"y":3023.9577808380127,"wires":[]},{"id":"e9402d8d.be903","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2604.2183380126953,"y":3024.59291267395,"wires":[["617c602c.cb679"]]},{"id":"4f8bdfda.30a81","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2574.62744140625,"y":2950.3485898971558,"wires":[["e9402d8d.be903","31f2e7a2.43b4c8"]]},{"id":"4513479e.dcd3c8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3462.2220611572266,"y":950.4288034439087,"wires":[["c25fe8d4.766498"],[]]},{"id":"b05cd387.6e4c2","type":"function","z":"71d2f7af.b37db8","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3289.6029663085938,"y":953.0479164123535,"wires":[["4513479e.dcd3c8"]]},{"id":"c25fe8d4.766498","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3683.412799835205,"y":936.3813934326172,"wires":[["bdaec586.21c868"]]},{"id":"996c6afd.a0c778","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3097.6984939575195,"y":954.0002775192261,"wires":[["b05cd387.6e4c2"]]},{"id":"bdaec586.21c868","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3870.0468215942383,"y":924.9526329040527,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["26e75497.c21c4c"]]},{"id":"3fa15fb7.66417","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2880.919921875,"y":902.8098621368408,"wires":[["996c6afd.a0c778"]]},{"id":"95591fd5.2d157","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/StatusKlapan","method":"get","swaggerDoc":"","x":2845.2849502563477,"y":955.190803527832,"wires":[["996c6afd.a0c778"]]},{"id":"26e75497.c21c4c","type":"function","z":"71d2f7af.b37db8","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3107.698211669922,"y":1074.9527111053467,"wires":[["c5d6b9b1.28d6d8"]]},{"id":"c5d6b9b1.28d6d8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3318.6505737304688,"y":1087.8096866607666,"wires":[["939b862e.c84258"],[]]},{"id":"939b862e.c84258","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3588.4124794006348,"y":1067.8097858428955,"wires":[["e8c57036.f7953"]]},{"id":"e8c57036.f7953","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4011.9516639709473,"y":1055.1906471252441,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1cfff271.771b0e"],[]]},{"id":"1cfff271.771b0e","type":"function","z":"71d2f7af.b37db8","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3020.523178100586,"y":1177.8098001480103,"wires":[["9ea54120.83fb7"]]},{"id":"9ea54120.83fb7","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3224.80867767334,"y":1174.9526920318604,"wires":[["21bedeb0.759c42"],[]]},{"id":"21bedeb0.759c42","type":"function","z":"71d2f7af.b37db8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3406.2373580932617,"y":1169.2384977340698,"wires":[["7a7f908.537e67"]]},{"id":"7a7f908.537e67","type":"function","z":"71d2f7af.b37db8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":3586.868553161621,"y":1173.6313376426697,"wires":[["49a25ecf.c8306","f1473c51.dff58"]]},{"id":"49a25ecf.c8306","type":"http response","z":"71d2f7af.b37db8","name":"","x":3845.368434906006,"y":1208.7623615264893,"wires":[]},{"id":"f1473c51.dff58","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":3864.3566856384277,"y":1245.3931074142456,"wires":[]},{"id":"fe4ca51b.ef4f88","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2887.7453002929688,"y":447.09555292129517,"wires":[["8cb67700.55f278"]]},{"id":"8cb67700.55f278","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3104.5238723754883,"y":498.2859683036804,"wires":[["1cc9724.2d4ec8e"]]},{"id":"1cc9724.2d4ec8e","type":"function","z":"71d2f7af.b37db8","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3286.4283447265625,"y":497.33360719680786,"wires":[["36242138.76f08e"]]},{"id":"94741bc6.eef478","type":"function","z":"71d2f7af.b37db8","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3204.523593902588,"y":595.9050297737122,"wires":[["d8b23a65.615b58"]]},{"id":"36242138.76f08e","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3469.0474395751953,"y":494.71449422836304,"wires":[["c20aca45.1b30e8"],[]]},{"id":"d8b23a65.615b58","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3458.8092079162598,"y":598.7621150016785,"wires":[["2fe96c7d.f4eed4"],[]]},{"id":"c20aca45.1b30e8","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3670.238136291504,"y":495.66707849502563,"wires":[["bc50a8a0.92a9f8"]]},{"id":"2fe96c7d.f4eed4","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3661.904432296753,"y":593.7620978355408,"wires":[["7dd1041c.c0081c"]]},{"id":"bc50a8a0.92a9f8","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3843.538917541504,"y":390.9049859046936,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["94741bc6.eef478"]]},{"id":"7dd1041c.c0081c","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4005.4436798095703,"y":549.4763603210449,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["bbb43bff.78eba8"],[],[]]},{"id":"bbb43bff.78eba8","type":"function","z":"71d2f7af.b37db8","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3120.6818466186523,"y":680.4287605285645,"wires":[["da5179b8.aaae48"]]},{"id":"da5179b8.aaae48","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3316.634017944336,"y":689.2382879257202,"wires":[["1df82600.8a5c5a"],[]]},{"id":"1df82600.8a5c5a","type":"function","z":"71d2f7af.b37db8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3518.062759399414,"y":690.190839767456,"wires":[["1a796351.a9e2fd"]]},{"id":"1a796351.a9e2fd","type":"function","z":"71d2f7af.b37db8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":3652.027297973633,"y":692.9169445037842,"wires":[["2be6a15b.5b459e","79fdfcd1.80f204"]]},{"id":"2be6a15b.5b459e","type":"http response","z":"71d2f7af.b37db8","name":"","x":3808.8604698181152,"y":693.0479040145874,"wires":[]},{"id":"79fdfcd1.80f204","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":3842.8487548828125,"y":741.345386505127,"wires":[]},{"id":"7af071d4.e9f06","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/StatusPump","method":"get","swaggerDoc":"","x":2842.1103286743164,"y":499.4764943122864,"wires":[["8cb67700.55f278"]]},{"id":"54b6d521.782b5c","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2445.5555572509766,"y":225.42884922027588,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["2dfbeed3.63e182"]]},{"id":"fe133833.5d0528","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1654.3054809570312,"y":261.6788454055786,"wires":[["478adadb.ce6a54"]]},{"id":"478adadb.ce6a54","type":"function","z":"71d2f7af.b37db8","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1800.1389427185059,"y":262.9288454055786,"wires":[["3c46ba25.06a8c6"]]},{"id":"3c46ba25.06a8c6","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1978.8888092041016,"y":267.9288492202759,"wires":[["f2e223fd.1f6a3"],[]]},{"id":"f2e223fd.1f6a3","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2178.8888092041016,"y":261.6788492202759,"wires":[["54b6d521.782b5c"]]},{"id":"2dfbeed3.63e182","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1661.3889465332031,"y":331.9288845062256,"wires":[["17419c16.df1654"]]},{"id":"17419c16.df1654","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1883.388957977295,"y":337.9288454055786,"wires":[["7ef09930.687ee8"],[]]},{"id":"7ef09930.687ee8","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2085.1388511657715,"y":335.92882347106934,"wires":[["5d45d00c.fcfe2"]]},{"id":"5d45d00c.fcfe2","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2567.0557136535645,"y":367.17886447906494,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a1bd8f78.d08c2"],[]]},{"id":"a1bd8f78.d08c2","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1651.3889465332031,"y":400.6788492202759,"wires":[["cc55ece5.6800d"]]},{"id":"cc55ece5.6800d","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1886.3889617919922,"y":396.6788091659546,"wires":[["fd6cab1d.c9fde8"],[]]},{"id":"fd6cab1d.c9fde8","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2091.1388511657715,"y":392.6788091659546,"wires":[["bcb332cc.99c17"]]},{"id":"bcb332cc.99c17","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2322.222068786621,"y":452.9288339614868,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["84437379.f52ab"],[],[]]},{"id":"84437379.f52ab","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1648.222282409668,"y":469.4288969039917,"wires":[["1d05a159.c3f9cf"]]},{"id":"1d05a159.c3f9cf","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":1889.222297668457,"y":473.4288167953491,"wires":[["b1747130.d9d94"],[]]},{"id":"b1747130.d9d94","type":"function","z":"71d2f7af.b37db8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2081.729669570923,"y":469.4409828186035,"wires":[["49c61c2.f09e0e4"]]},{"id":"49c61c2.f09e0e4","type":"function","z":"71d2f7af.b37db8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":1909.694320678711,"y":546.1670980453491,"wires":[["800ba08.c6ac06","a3a2cab8.c111d8"]]},{"id":"800ba08.c6ac06","type":"http response","z":"71d2f7af.b37db8","name":"","x":2088.5275382995605,"y":538.2980394363403,"wires":[]},{"id":"a3a2cab8.c111d8","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":2146.515823364258,"y":594.5955266952515,"wires":[]},{"id":"fffa50bc.2fba3","type":"comment","z":"71d2f7af.b37db8","name":"read_Upakovka_marshrut","info":"","x":4039.5555572509766,"y":1795.0954904556274,"wires":[]},{"id":"c8042917.4cc0e8","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4478.500896453857,"y":1800.2541818618774,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ef4247c2.9a5438"]]},{"id":"f90eba9f.e54d18","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0,\n  \"bit_5\": 0,\n  \"bit_6\": 0,\n  \"bit_7\": 0,\n  \"bit_8\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3747.249969482422,"y":1869.3611679077148,"wires":[["ecc9d071.49fb8"]]},{"id":"ecc9d071.49fb8","type":"function","z":"71d2f7af.b37db8","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3903.0834312438965,"y":1870.6111679077148,"wires":[["c20a4461.420718"]]},{"id":"c20a4461.420718","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":4071.833297729492,"y":1875.611171722412,"wires":[["8d30a994.c19448"],[]]},{"id":"8d30a994.c19448","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4271.833297729492,"y":1869.361171722412,"wires":[["c8042917.4cc0e8"]]},{"id":"ef4247c2.9a5438","type":"function","z":"71d2f7af.b37db8","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3754.3334350585938,"y":1939.6112070083618,"wires":[["486070fb.34b89"]]},{"id":"486070fb.34b89","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3976.3334465026855,"y":1945.6111679077148,"wires":[["43210066.59e22"],[]]},{"id":"43210066.59e22","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4178.083339691162,"y":1943.6111459732056,"wires":[["c1b1118a.3e4b2"]]},{"id":"c1b1118a.3e4b2","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4661.429012298584,"y":1914.8612222671509,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d5607633.ee0278"],[]]},{"id":"d5607633.ee0278","type":"function","z":"71d2f7af.b37db8","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3744.3334350585938,"y":2008.361171722412,"wires":[["9d939ae6.890a08"]]},{"id":"9d939ae6.890a08","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3979.333450317383,"y":2004.3611316680908,"wires":[["8bdec472.a6e3d8"],[]]},{"id":"8bdec472.a6e3d8","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4184.083339691162,"y":2000.3611316680908,"wires":[["6f6f2104.a1c36"]]},{"id":"6f6f2104.a1c36","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4362.30920791626,"y":2094.8969202041626,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["bc0b6893.98bab8"],[],[]]},{"id":"bc0b6893.98bab8","type":"function","z":"71d2f7af.b37db8","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3741.1667709350586,"y":2077.111219406128,"wires":[["f152d955.c6aa98"]]},{"id":"f152d955.c6aa98","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3982.1667861938477,"y":2081.1111392974854,"wires":[["ab3f8e6a.27fd5"],[]]},{"id":"58783747.cd9838","type":"function","z":"71d2f7af.b37db8","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4049.960891723633,"y":2802.1593770980835,"wires":[["28464084.9fa91"]]},{"id":"28464084.9fa91","type":"function","z":"71d2f7af.b37db8","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4195.89058303833,"y":2789.528516769409,"wires":[["9d26ff9b.0d2dd","81f0dd6a.8f4e9"]]},{"id":"9d26ff9b.0d2dd","type":"http response","z":"71d2f7af.b37db8","name":"","x":4378.43794631958,"y":2795.552442550659,"wires":[]},{"id":"81f0dd6a.8f4e9","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":4347.49751663208,"y":2864.5644063949585,"wires":[]},{"id":"ab3f8e6a.27fd5","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4186.031631469727,"y":2077.0954904556274,"wires":[["b03b4bdd.4673e8"]]},{"id":"9e73c867.c9d588","type":"function","z":"71d2f7af.b37db8","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3698.888870239258,"y":2184.2386226654053,"wires":[["4bf4d0d1.45c99"]]},{"id":"4bf4d0d1.45c99","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3947.031768798828,"y":2172.524163246155,"wires":[["ccb451bf.6eedb"],[]]},{"id":"ccb451bf.6eedb","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4148.039337158203,"y":2177.0800008773804,"wires":[["5b6e7d0f.012094"]]},{"id":"b03b4bdd.4673e8","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4550.031581878662,"y":2149.167016029358,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["9e73c867.c9d588"],[],[],[]]},{"id":"5b6e7d0f.012094","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4697.603179931641,"y":2278.0955896377563,"wires":[[],[],[],[],[],[],[],[],[],[],[],["e305462e.372808"],[],[],[],[]]},{"id":"e305462e.372808","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_5","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3682.031520843506,"y":2265.6668739318848,"wires":[["5cfd95d1.36748c"]]},{"id":"5cfd95d1.36748c","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3945.1744384765625,"y":2256.952681541443,"wires":[["b3d7391a.688ef8"],[]]},{"id":"8083c86a.026868","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1996.078872680664,"y":2307.46768283844,"wires":[["afedd771.d953b8"]]},{"id":"b3d7391a.688ef8","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4140.222061157227,"y":2247.76211643219,"wires":[["746a4854.f41a08"]]},{"id":"746a4854.f41a08","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4414.222324371338,"y":2351.0955057144165,"wires":[[],[],[],[],[],[],[],[],[],[],["c449f3cd.e6b71"],[],[],[],[],[]]},{"id":"c449f3cd.e6b71","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_6","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_5 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3682.2222785949707,"y":2343.4293327331543,"wires":[["be0224d4.13b6b8"]]},{"id":"be0224d4.13b6b8","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3912.3651962280273,"y":2402.714814186096,"wires":[["6f2e0707.cffc08"],[]]},{"id":"6f2e0707.cffc08","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4122.412734985352,"y":2403.524383544922,"wires":[["7c85e110.c636e"]]},{"id":"76ac1cab.b17a44","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_7","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_6 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3647.4723587036133,"y":2521.429144859314,"wires":[["6926bd3b.147284"]]},{"id":"6926bd3b.147284","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3882.864944458008,"y":2535.464789390564,"wires":[["4cf4c5e1.45574c"],[]]},{"id":"7c85e110.c636e","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4561.22265625,"y":2431.4291772842407,"wires":[[],[],[],[],[],[],[],[],[],["76ac1cab.b17a44"],[],[],[],[],[],[]]},{"id":"cf21e287.ce237","type":"function","z":"71d2f7af.b37db8","name":"R_5002","func":"var cmd_and_5002 = flow.get('cmd_and_5002');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd_and_5002.cmd_and_5002, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":515.412727355957,"y":1125.143250465393,"wires":[["fa83ab72.9502c8"]]},{"id":"fa83ab72.9502c8","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":684.3016166687012,"y":1126.254382133484,"wires":[[],["8016435a.70e6d","18037abd.9de7e5"]]},{"id":"8016435a.70e6d","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":869.6071662902832,"y":1131.7266664505005,"wires":[]},{"id":"c731c767.f0dde8","type":"function","z":"71d2f7af.b37db8","name":"with_1C","func":"//var cmd_and_5002 = msg.payload;\nvar cmd_and_5002 = \n{\n  \"cmd_and_5002\": 0\n};\n\nflow.set('cmd_and_5002',cmd_and_5002);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":385.1627388000488,"y":1121.7266550064087,"wires":[["cf21e287.ce237"]]},{"id":"ce92d4d4.f75608","type":"delay","z":"71d2f7af.b37db8","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":212.79377365112305,"y":1117.0482244491577,"wires":[["c731c767.f0dde8"]]},{"id":"10c00ff7.8653c","type":"function","z":"71d2f7af.b37db8","name":"bit_4_analis","func":"var if_bit_4_0 = 32768\nvar if_bit_4_1 = 32784;\nvar bit_4 = msg.payload;\nvar send_25 = 0;\n\n\nif(bit_4 == 1){\n    send_25 = if_bit_4_1;\n}else{\n    send_25 = if_bit_4_0;\n}\n\nflow.set('send_25',send_25);\nmsg.payload = \"\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":609.7222595214844,"y":1037.0955514907837,"wires":[["322f1cd.ccb06e4"]]},{"id":"357c8fca.b637d","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":541.0003356933594,"y":939.3178720474243,"wires":[["c1ca00b0.5b801"],[]]},{"id":"c1ca00b0.5b801","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":733.5639801025391,"y":934.3831396102905,"wires":[["dd581de2.62bad"]]},{"id":"ad2c3bc1.b7f418","type":"function","z":"71d2f7af.b37db8","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":359.2223892211914,"y":967.7623720169067,"wires":[["357c8fca.b637d"]]},{"id":"dd581de2.62bad","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":902.8889465332031,"y":877.4290475845337,"wires":[[],[],[],[],[],[],[],[],[],[],[],["10c00ff7.8653c"],[],[],[],[]]},{"id":"a3f49ea5.eb79c","type":"function","z":"71d2f7af.b37db8","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n /*var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('res_resetError',msg.res);\nmsg.req = '';\nmsg.res = '';\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":384.5875015258789,"y":1045.8694734573364,"wires":[["ad2c3bc1.b7f418"]]},{"id":"17cff360.5d967d","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":783.5558624267578,"y":1199.09561252594,"wires":[]},{"id":"18037abd.9de7e5","type":"function","z":"71d2f7af.b37db8","name":"","func":"msg.payload = \"ok\";\nmsg.res = flow.get('res_resetError');\nreturn msg;\n\n","outputs":1,"noerr":0,"x":536.555591583252,"y":1190.0955610275269,"wires":[["15e7ca2a.780736","17cff360.5d967d"]]},{"id":"15e7ca2a.780736","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":731.5555572509766,"y":1266.0954904556274,"wires":[]},{"id":"a19fc2c6.9f906","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":366.5555763244629,"y":1172.0955600738525,"wires":[["18037abd.9de7e5"]]},{"id":"26d3aae7.3ce0f6","type":"function","z":"71d2f7af.b37db8","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1002.5751838684082,"y":3719.9330549240112,"wires":[["f14f4436.42e938","801521bb.741d8"]]},{"id":"eff8d89d.81dbb8","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1200.575096130371,"y":4130.933005332947,"wires":[]},{"id":"b67d0be6.50f6b8","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":1204.5751495361328,"y":4077.2942113876343,"wires":[]},{"id":"c979f206.ab68a","type":"function","z":"71d2f7af.b37db8","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":980.9835357666016,"y":4126.0757665634155,"wires":[["eff8d89d.81dbb8","b67d0be6.50f6b8"]]},{"id":"d4ee1f4.ed816e","type":"function","z":"71d2f7af.b37db8","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1010.0750961303711,"y":3255.932985305786,"wires":[["c876df3d.501d6","73161d68.bc37b4"]]},{"id":"73161d68.bc37b4","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":1220.6667098999023,"y":3241.1514282226562,"wires":[]},{"id":"c876df3d.501d6","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":1216.6667251586914,"y":3293.790223121643,"wires":[]},{"id":"f7b1ce2d.b8535","type":"function","z":"71d2f7af.b37db8","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":957.3250885009766,"y":2968.932770729065,"wires":[["655f527.1b747ac","72c4fe3c.62fcf"]]},{"id":"72c4fe3c.62fcf","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":1167.9167022705078,"y":2954.151213645935,"wires":[]},{"id":"655f527.1b747ac","type":"debug","z":"71d2f7af.b37db8","name":"","active":true,"console":"false","complete":"payload","x":1163.9167175292969,"y":3006.790008544922,"wires":[]},{"id":"497ef66d.ac50f8","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":759.3299713134766,"y":2975.43350315094,"wires":[["f7b1ce2d.b8535"],[]]},{"id":"4cf4c5e1.45574c","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4111.805557250977,"y":2524.178864479065,"wires":[["7c1a00c5.ac864"]]},{"id":"7c1a00c5.ac864","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4424.30562210083,"y":2592.928910255432,"wires":[[],[],[],[],[],[],[],[],["77dcff24.837f5"],[],[],[],[],[],[],[]]},{"id":"77dcff24.837f5","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_7 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3634.3055572509766,"y":2652.928864479065,"wires":[["d7c88a3a.de9168"]]},{"id":"d7c88a3a.de9168","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3869.698143005371,"y":2666.964509010315,"wires":[["590f9df1.a49954"],[]]},{"id":"590f9df1.a49954","type":"function","z":"71d2f7af.b37db8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4098.63875579834,"y":2655.678584098816,"wires":[["1d17800f.5a073"]]},{"id":"babd3f80.f5564","type":"function","z":"71d2f7af.b37db8","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_8 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3631.8055572509766,"y":2771.678864479065,"wires":[["d22ca11e.e905b"]]},{"id":"d22ca11e.e905b","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3867.198143005371,"y":2785.714509010315,"wires":[["58783747.cd9838"],[]]},{"id":"1d17800f.5a073","type":"function","z":"71d2f7af.b37db8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4568.05562210083,"y":2707.928910255432,"wires":[[],[],[],[],[],[],[],["babd3f80.f5564"],[],[],[],[],[],[],[],[]]},{"id":"593563e5.0cb1cc","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3391.8055572509766,"y":3225.428864479065,"wires":[["28473de1.b430d2"]]},{"id":"28473de1.b430d2","type":"function","z":"71d2f7af.b37db8","name":"with_1c","func":"var CorrectionSetpoint = msg.payload;\n/* var CorrectionSetpoint = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('CorrectionSetpoint',CorrectionSetpoint);\nmsg.payload = \"\";\nflow.set('res1',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3667.25008392334,"y":3297.567808151245,"wires":[["6ca679c1.c3a1b8"]]},{"id":"70b69546.1b32fc","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/CorrectionSetpoint","method":"post","swaggerDoc":"","x":3412.8055572509766,"y":3299.095757484436,"wires":[["28473de1.b430d2"]]},{"id":"6ca679c1.c3a1b8","type":"function","z":"71d2f7af.b37db8","name":"To float","func":"var x = flow.get('CorrectionSetpoint').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":3804.249984741211,"y":3291.17919921875,"wires":[["52069f2d.8b646"]]},{"id":"52069f2d.8b646","type":"function","z":"71d2f7af.b37db8","name":"6000+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6000, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3937.9444465637207,"y":3290.067566871643,"wires":[["a7cbe3f.3abe92"]]},{"id":"eaee371.f06abc8","type":"comment","z":"71d2f7af.b37db8","name":"write_/CorrectionSetpoint","info":"","x":3811.3611373901367,"y":3225.2897505760193,"wires":[]},{"id":"678c8768.63be48","type":"function","z":"71d2f7af.b37db8","name":"Set response","func":"msg.res = flow.get('res1');\nreturn msg;","outputs":1,"noerr":0,"x":4330.555557250977,"y":3290.428864479065,"wires":[["ad51b925.a13768","e39203b8.6f547"]]},{"id":"ad51b925.a13768","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":4537.147186279297,"y":3328.286102294922,"wires":[]},{"id":"e39203b8.6f547","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":4541.147171020508,"y":3275.647307395935,"wires":[]},{"id":"54bfa234.fb61cc","type":"function","z":"71d2f7af.b37db8","name":"6000+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6000 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3670.5555572509766,"y":3460.428864479065,"wires":[["f5d3e184.7e91c"]]},{"id":"61d4f3d6.ee740c","type":"comment","z":"71d2f7af.b37db8","name":"read_CorrectionSetpoint","info":"","x":3818.888870239258,"y":3401.539743423462,"wires":[]},{"id":"166ddbed.cf1bc4","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4152.333164215088,"y":3463.539804458618,"wires":[["1c285dab.56d952","21cff1d6.5d029e"]]},{"id":"1c285dab.56d952","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4353.999919891357,"y":3533.539810180664,"wires":[["68290bb6.321244"]]},{"id":"68290bb6.321244","type":"http response","z":"71d2f7af.b37db8","name":"","x":4505.110889434814,"y":3531.317560195923,"wires":[]},{"id":"21cff1d6.5d029e","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":4426.6666259765625,"y":3460.8731803894043,"wires":[]},{"id":"f5d3e184.7e91c","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3894.3055572509766,"y":3465.428864479065,"wires":[["166ddbed.cf1bc4"],[]]},{"id":"dcb967eb.8f0b78","type":"inject","z":"71d2f7af.b37db8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3384.3055572509766,"y":3594.178864479065,"wires":[["5bd3f8e9.1bd0e8"]]},{"id":"5bd3f8e9.1bd0e8","type":"function","z":"71d2f7af.b37db8","name":"with_1c","func":"var rezerv6002 = msg.payload;\n/* var rezerv6002 = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('rezerv6002',rezerv6002);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3659.75008392334,"y":3666.317808151245,"wires":[["30d2b043.3ac5c"]]},{"id":"e6bd40ce.b9ec3","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k3/rezerv6002","method":"post","swaggerDoc":"","x":3375.3055572509766,"y":3667.845757484436,"wires":[["5bd3f8e9.1bd0e8"]]},{"id":"30d2b043.3ac5c","type":"function","z":"71d2f7af.b37db8","name":"To float","func":"var x = flow.get('rezerv6002').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":3796.749984741211,"y":3659.92919921875,"wires":[["58f0461f.5cc1c8"]]},{"id":"58f0461f.5cc1c8","type":"function","z":"71d2f7af.b37db8","name":"6002+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6002, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3930.4444465637207,"y":3658.817566871643,"wires":[["a70d8719.973378"]]},{"id":"3ec00dd6.2df182","type":"comment","z":"71d2f7af.b37db8","name":"write_rezerv6002","info":"","x":3773.8611373901367,"y":3594.0397505760193,"wires":[]},{"id":"e4114ffa.2be2a","type":"function","z":"71d2f7af.b37db8","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4323.055557250977,"y":3659.178864479065,"wires":[["760be5c4.0eb2fc","671e3853.85a038"]]},{"id":"760be5c4.0eb2fc","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":4529.647186279297,"y":3697.036102294922,"wires":[]},{"id":"671e3853.85a038","type":"http response","z":"71d2f7af.b37db8","name":"send to 1C","x":4533.647171020508,"y":3644.397307395935,"wires":[]},{"id":"3a8dd188.009a7e","type":"function","z":"71d2f7af.b37db8","name":"6002+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6002 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3663.0555572509766,"y":3829.178864479065,"wires":[["d4d770ad.de091"]]},{"id":"6b1163b5.b2d33c","type":"comment","z":"71d2f7af.b37db8","name":"read_rezerv6002","info":"","x":3781.388870239258,"y":3770.289743423462,"wires":[]},{"id":"c07be928.9bad68","type":"function","z":"71d2f7af.b37db8","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4144.833164215088,"y":3832.289804458618,"wires":[["b264ce43.0652c","3e9602d5.32b45e"]]},{"id":"b264ce43.0652c","type":"function","z":"71d2f7af.b37db8","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4346.499919891357,"y":3902.289810180664,"wires":[["636172dc.4e8a1c"]]},{"id":"636172dc.4e8a1c","type":"http response","z":"71d2f7af.b37db8","name":"","x":4497.610889434814,"y":3900.067560195923,"wires":[]},{"id":"3e9602d5.32b45e","type":"debug","z":"71d2f7af.b37db8","name":"","active":false,"console":"false","complete":"payload","x":4419.1666259765625,"y":3829.6231803894043,"wires":[]},{"id":"adb66b44.2c1a98","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k3/rezerv6002","method":"get","swaggerDoc":"","x":3385.0555572509766,"y":3821.178726196289,"wires":[["3a8dd188.009a7e"]]},{"id":"d4d770ad.de091","type":"modbus-flex-getter","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":3886.8055572509766,"y":3834.178864479065,"wires":[["c07be928.9bad68"],[]]},{"id":"a7cbe3f.3abe92","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":4118.555557250977,"y":3293.428864479065,"wires":[["678c8768.63be48"],[]]},{"id":"a70d8719.973378","type":"modbus-flex-write","z":"71d2f7af.b37db8","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":4121.555557250977,"y":3615.428864479065,"wires":[["e4114ffa.2be2a"],[]]},{"id":"ce9fbe08.0d5f4","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":569,"y":160.19844913482666,"wires":[["b3c28e87.60de1"],[]]},{"id":"53c9539.b328cac","type":"inject","z":"16dfcda7.f79852","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":232.73000717163086,"y":20,"wires":[["5de7a3b3.dd472c"]]},{"id":"5de7a3b3.dd472c","type":"function","z":"16dfcda7.f79852","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.16276931762695,"y":72.29520416259766,"wires":[["868237cf.34dbd8"]]},{"id":"178b1680.8f37ea","type":"http in","z":"16dfcda7.f79852","name":"","url":"/k1/status/data","method":"get","swaggerDoc":"","x":219.73000717163086,"y":97.75396156311035,"wires":[["5de7a3b3.dd472c"]]},{"id":"868237cf.34dbd8","type":"function","z":"16dfcda7.f79852","name":"R_5702_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5702 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":348.14673614501953,"y":161.11112022399902,"wires":[["ce9fbe08.0d5f4"]]},{"id":"b3c28e87.60de1","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":750.0912322998047,"y":158.86668395996094,"wires":[["3d47faad.d18976"]]},{"id":"3d47faad.d18976","type":"function","z":"16dfcda7.f79852","name":"5703_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5703 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":329.01575469970703,"y":204.24208450317383,"wires":[["53af3e13.2336c"]]},{"id":"53af3e13.2336c","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":527.0752639770508,"y":205.33733558654785,"wires":[["2493d9eb.aa43d6"],[]]},{"id":"2493d9eb.aa43d6","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":717.2340850830078,"y":204.58097314834595,"wires":[["3d4b64b6.97109c"]]},{"id":"3d4b64b6.97109c","type":"function","z":"16dfcda7.f79852","name":"5704+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5704 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":334.8372039794922,"y":253.56353569030762,"wires":[["7bdcb4c3.ee3eec"]]},{"id":"7bdcb4c3.ee3eec","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":539.1187973022461,"y":250.49606800079346,"wires":[["2a5c51cd.a5830e"],[]]},{"id":"2a5c51cd.a5830e","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":743.0991592407227,"y":246.36109733581543,"wires":[["bb49e414.d282e8"]]},{"id":"bb49e414.d282e8","type":"function","z":"16dfcda7.f79852","name":"5706+1_Counterr_1v","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5706 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":328.87295150756836,"y":298.3135166168213,"wires":[["354cffc4.7556a"]]},{"id":"354cffc4.7556a","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":546.6188430786133,"y":298.7103691101074,"wires":[["e97eb2d9.dd3c7"],[]]},{"id":"e97eb2d9.dd3c7","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":746.9208068847656,"y":291.83735179901123,"wires":[["31f2f2f2.1352ae"]]},{"id":"31f2f2f2.1352ae","type":"function","z":"16dfcda7.f79852","name":"5708+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5708 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":334.5277099609375,"y":344.39678382873535,"wires":[["5e8eb6a8.cb8478"]]},{"id":"5e8eb6a8.cb8478","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":543.2775802612305,"y":345.1110734939575,"wires":[["13979dd1.7bc3a2"],[]]},{"id":"13979dd1.7bc3a2","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":750.722412109375,"y":339.6666069030762,"wires":[["d935363e.585578"]]},{"id":"d935363e.585578","type":"function","z":"16dfcda7.f79852","name":"5710+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5710 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":341.13475036621094,"y":386.53964042663574,"wires":[["f070174e.46ba28"]]},{"id":"f070174e.46ba28","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":544.5827713012695,"y":388.5912809371948,"wires":[["504cf392.5f53dc"],[]]},{"id":"504cf392.5f53dc","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":739.1703834533691,"y":384.5753631591797,"wires":[["c5a31374.d7183"]]},{"id":"c5a31374.d7183","type":"function","z":"16dfcda7.f79852","name":"5712+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5712 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":339.88472747802734,"y":430.6467704772949,"wires":[["796bc20b.d6720c"]]},{"id":"796bc20b.d6720c","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":542.4399070739746,"y":439.84127616882324,"wires":[["f97cdb6a.80cc58"],[]]},{"id":"f97cdb6a.80cc58","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":748.4561157226562,"y":424.3967704772949,"wires":[["a38575b3.a78508"]]},{"id":"a38575b3.a78508","type":"function","z":"16dfcda7.f79852","name":"5714+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5714 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":327.3847427368164,"y":474.9325270652771,"wires":[["96b2edde.effb1"]]},{"id":"96b2edde.effb1","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":541.9042358398438,"y":486.8055534362793,"wires":[["be50815a.a2a29"],[]]},{"id":"be50815a.a2a29","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":746.491828918457,"y":475.6468086242676,"wires":[["453812ba.4f05fc"]]},{"id":"453812ba.4f05fc","type":"function","z":"16dfcda7.f79852","name":"5716+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5716 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":319.7061309814453,"y":526.7183437347412,"wires":[["7897da22.876694"]]},{"id":"7897da22.876694","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":549.7613677978516,"y":531.0912628173828,"wires":[["c2b03f1d.ccdbd"],[]]},{"id":"c2b03f1d.ccdbd","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":750.0632591247559,"y":524.2182159423828,"wires":[["4353fa0f.658e14"]]},{"id":"4353fa0f.658e14","type":"function","z":"16dfcda7.f79852","name":"5718+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5718 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":320.2657470703125,"y":575.9206600189209,"wires":[["a3f615bf.caa538"]]},{"id":"a3f615bf.caa538","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":545.0117340087891,"y":583.1746692657471,"wires":[["193cc290.ba741d"],[]]},{"id":"193cc290.ba741d","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":749.1703834533691,"y":578.9801254272461,"wires":[["cee6d9f3.643f38"]]},{"id":"cee6d9f3.643f38","type":"function","z":"16dfcda7.f79852","name":"5720+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5720 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":317.18247985839844,"y":623.5276565551758,"wires":[["c67f0017.f4c74"]]},{"id":"c67f0017.f4c74","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":544.5037841796875,"y":634.2419247627258,"wires":[["dc42920b.088b3"],[]]},{"id":"dc42920b.088b3","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":749.0914726257324,"y":628.7974863052368,"wires":[["a1c27761.af4228"]]},{"id":"a1c27761.af4228","type":"function","z":"16dfcda7.f79852","name":"5722+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5722 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":310.93231201171875,"y":675.6704959869385,"wires":[["a0bdabaf.ac9928"]]},{"id":"a0bdabaf.ac9928","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":558.6660652160645,"y":684.8649759292603,"wires":[["d40be9d5.703a08"],[]]},{"id":"d40be9d5.703a08","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":736.1108779907227,"y":683.7062015533447,"wires":[["e3fcd162.363f1"]]},{"id":"e3fcd162.363f1","type":"function","z":"16dfcda7.f79852","name":"5724+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5724 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":305.39659118652344,"y":715.491925239563,"wires":[["e26e8256.1f5c3"]]},{"id":"e26e8256.1f5c3","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":559.3803253173828,"y":731.8292617797852,"wires":[["96e32a54.27a8a8"],[]]},{"id":"96e32a54.27a8a8","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":746.8251724243164,"y":732.0990943908691,"wires":[["cab2e26c.255eb"]]},{"id":"cab2e26c.255eb","type":"function","z":"16dfcda7.f79852","name":"5726+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5726 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":301.4680480957031,"y":768.3491744995117,"wires":[["2eb34e09.784352"]]},{"id":"2eb34e09.784352","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":555.9874649047852,"y":781.6507892608643,"wires":[["2e3b143b.5e32bc"],[]]},{"id":"2e3b143b.5e32bc","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":752.0037612915039,"y":781.9206047058105,"wires":[["3f447a84.d94556"]]},{"id":"3f447a84.d94556","type":"function","z":"16dfcda7.f79852","name":"5728+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5728 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":293.7894744873047,"y":834.4206800460815,"wires":[["4403068d.6ac7d8"]]},{"id":"4403068d.6ac7d8","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":555.2732048034668,"y":835.9365119934082,"wires":[["f2106409.822c48"],[]]},{"id":"f2106409.822c48","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":771.2894916534424,"y":831.9205780029297,"wires":[["be629617.87bd78"]]},{"id":"be629617.87bd78","type":"function","z":"16dfcda7.f79852","name":"5730+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5730 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":284.3490447998047,"y":883.6229782104492,"wires":[["74b0a78.1185858"]]},{"id":"74b0a78.1185858","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":547.6664505004883,"y":882.305585861206,"wires":[["5f11759a.f0c23c"],[]]},{"id":"5f11759a.f0c23c","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(4));\n\nreturn msg;","outputs":1,"noerr":0,"x":763.2537689208984,"y":885.253927230835,"wires":[["31a433d1.7017ac"]]},{"id":"31a433d1.7017ac","type":"function","z":"16dfcda7.f79852","name":"R_5732_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5732 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":270.0912322998047,"y":924.580997467041,"wires":[["7ae4e4dc.f01d4c"]]},{"id":"7ae4e4dc.f01d4c","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":549.5158920288086,"y":930.811182975769,"wires":[["c8c4c79.9bae438"],[]]},{"id":"c8c4c79.9bae438","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":757.7500152587891,"y":928.0508899688721,"wires":[["4c8cfa83.9fc094"]]},{"id":"4c8cfa83.9fc094","type":"function","z":"16dfcda7.f79852","name":"R_5733_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5733 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":270.0912551879883,"y":974.5809688568115,"wires":[["32e81554.27125a"]]},{"id":"32e81554.27125a","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":549.5159072875977,"y":989.3825988769531,"wires":[["39b6199c.1a5106"],[]]},{"id":"39b6199c.1a5106","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":754.8928909301758,"y":979.4793891906738,"wires":[["e3ecb6b6.1488d8"]]},{"id":"e3ecb6b6.1488d8","type":"function","z":"16dfcda7.f79852","name":"R_5734_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5734 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":261.5198211669922,"y":1030.2952346801758,"wires":[["9aee7b9e.f47378"]]},{"id":"9aee7b9e.f47378","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":549.5159072875977,"y":1047.9539833068848,"wires":[["c181a010.705fd"],[]]},{"id":"c181a010.705fd","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":763.4643325805664,"y":1040.9079055786133,"wires":[["d2abb242.2cf09"]]},{"id":"d2abb242.2cf09","type":"function","z":"16dfcda7.f79852","name":"R_5735_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5735 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":260.0912628173828,"y":1086.0096254348755,"wires":[["14651709.eef1b9"]]},{"id":"14651709.eef1b9","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":555.2302627563477,"y":1086.5255165100098,"wires":[["c683152f.1f86d8"],[]]},{"id":"c683152f.1f86d8","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":753.4642486572266,"y":1083.7651538848877,"wires":[["6a340ff1.b9aa"]]},{"id":"6a340ff1.b9aa","type":"function","z":"16dfcda7.f79852","name":"R_5736_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5736 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":258.6626892089844,"y":1148.8666324615479,"wires":[["b140a623.3b6418"]]},{"id":"b140a623.3b6418","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":562.3730773925781,"y":1157.9539699554443,"wires":[["c1c15f00.fc101"],[]]},{"id":"c1c15f00.fc101","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":760.6071090698242,"y":1142.3365173339844,"wires":[["444bc4b0.53637c"]]},{"id":"444bc4b0.53637c","type":"function","z":"16dfcda7.f79852","name":"R_5737_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5737 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":264.37696838378906,"y":1217.4382305145264,"wires":[["c00fae7a.f3d73"]]},{"id":"c00fae7a.f3d73","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":540.9444808959961,"y":1229.3825721740723,"wires":[["868741de.75656"],[]]},{"id":"868741de.75656","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":749.1785888671875,"y":1213.7652225494385,"wires":[["84d9187d.af5098"]]},{"id":"84d9187d.af5098","type":"function","z":"16dfcda7.f79852","name":"R_5738_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5738 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":252.9484100341797,"y":1268.8666276931763,"wires":[["ff085603.24d018"]]},{"id":"ff085603.24d018","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":540.9444694519043,"y":1279.3826532363892,"wires":[["17c036c8.3daf79"],[]]},{"id":"17c036c8.3daf79","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":743.4643211364746,"y":1270.907904624939,"wires":[["ce966a72.055548"]]},{"id":"ce966a72.055548","type":"function","z":"16dfcda7.f79852","name":"R_5739_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5739 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":254.37696075439453,"y":1317.4381694793701,"wires":[["74fe8a5.04ff574"]]},{"id":"74fe8a5.04ff574","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":545.2301940917969,"y":1327.9539737701416,"wires":[["3ac90a0b.8e2c86"],[]]},{"id":"3ac90a0b.8e2c86","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":747.7500228881836,"y":1320.9078302383423,"wires":[["6a781a7b.bc33e4"]]},{"id":"6a781a7b.bc33e4","type":"function","z":"16dfcda7.f79852","name":"R_5740_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5740 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":237.23411560058594,"y":1383.1525592803955,"wires":[["cc8166c8.e4af68"]]},{"id":"cc8166c8.e4af68","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":559.5159568786621,"y":1376.5255756378174,"wires":[["17a89b61.b9d2d5"],[]]},{"id":"17a89b61.b9d2d5","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":762.035701751709,"y":1368.0507564544678,"wires":[["d6d8eb12.7ec0c8"]]},{"id":"d6d8eb12.7ec0c8","type":"function","z":"16dfcda7.f79852","name":"R_5741_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5741 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":250.09125518798828,"y":1437.4380207061768,"wires":[["cc0f6e2c.66b0c"]]},{"id":"cc0f6e2c.66b0c","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":553.8016700744629,"y":1429.3826704025269,"wires":[["bf681b9e.31adf8"],[]]},{"id":"bf681b9e.31adf8","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":787.7499618530273,"y":1425.1935844421387,"wires":[["2edc0c9a.474414"]]},{"id":"2edc0c9a.474414","type":"function","z":"16dfcda7.f79852","name":"5742_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5742 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":237.59121704101562,"y":1498.8666505813599,"wires":[["43c7819d.da1a2"]]},{"id":"43c7819d.da1a2","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":560.9246826171875,"y":1485.533543586731,"wires":[["55f0ce75.3964e"],[]]},{"id":"55f0ce75.3964e","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":793.3055114746094,"y":1486.0095949172974,"wires":[["74a40ab7.979344"]]},{"id":"74a40ab7.979344","type":"function","z":"16dfcda7.f79852","name":"5744_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5744 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":238.1469497680664,"y":1548.3111944198608,"wires":[["bee3d4b8.e22688"]]},{"id":"bee3d4b8.e22688","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":580.3689842224121,"y":1559.4222965240479,"wires":[["d28fd78.4116828"],[]]},{"id":"d28fd78.4116828","type":"function","z":"16dfcda7.f79852","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":790.4483642578125,"y":1556.0096292495728,"wires":[["1e3ef420.6ba66c"]]},{"id":"1e3ef420.6ba66c","type":"function","z":"16dfcda7.f79852","name":"5748_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5748 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":223.14699935913086,"y":1603.3111562728882,"wires":[["7f0daaac.8a9f84"]]},{"id":"7f0daaac.8a9f84","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":577.0358085632324,"y":1601.0889263153076,"wires":[["e048aa8.e620658"],[]]},{"id":"e048aa8.e620658","type":"function","z":"16dfcda7.f79852","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":794.7341003417969,"y":1606.0095949172974,"wires":[["cd922f7b.2bc5b"]]},{"id":"cd922f7b.2bc5b","type":"function","z":"16dfcda7.f79852","name":"5750_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5750 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":254.81354141235352,"y":1651.6444311141968,"wires":[["8fec939c.9c569"]]},{"id":"8fec939c.9c569","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":567.0357246398926,"y":1644.4222421646118,"wires":[["a8153e73.17412"],[]]},{"id":"a8153e73.17412","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":797.5912170410156,"y":1661.7239503860474,"wires":[["5a3bd683.5285a8"]]},{"id":"5a3bd683.5285a8","type":"function","z":"16dfcda7.f79852","name":"5751_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":259.8134994506836,"y":1706.644513130188,"wires":[["7ede6665.b54e08"]]},{"id":"7ede6665.b54e08","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":568.7023887634277,"y":1699.4222650527954,"wires":[["8335b33e.78b08"],[]]},{"id":"8335b33e.78b08","type":"function","z":"16dfcda7.f79852","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":803.3055114746094,"y":1706.0097389221191,"wires":[["37492ba1.9a4f54"]]},{"id":"37492ba1.9a4f54","type":"function","z":"16dfcda7.f79852","name":"5751","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":218.44639587402344,"y":1755.5377006530762,"wires":[["4720033c.3639ac"]]},{"id":"4720033c.3639ac","type":"modbus-flex-getter","z":"16dfcda7.f79852","name":"","showStatusActivities":false,"showErrors":false,"server":"1ea9b448.b760ec","x":561.7797660827637,"y":1757.204348564148,"wires":[["21de82f.6e9627e"],[]]},{"id":"21de82f.6e9627e","type":"function","z":"16dfcda7.f79852","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":734.7341232299805,"y":1754.5809364318848,"wires":[["35f5172b.1a2b78"]]},{"id":"35f5172b.1a2b78","type":"function","z":"16dfcda7.f79852","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":871.0795478820801,"y":1756.1165599822998,"wires":[["d77f7dcc.e35b2","9274c1d4.df6b8"]]},{"id":"d77f7dcc.e35b2","type":"http response","z":"16dfcda7.f79852","name":"","x":1042.436710357666,"y":1718.3905839920044,"wires":[]},{"id":"9274c1d4.df6b8","type":"debug","z":"16dfcda7.f79852","name":"","active":true,"console":"false","complete":"payload","x":1061.424961090088,"y":1755.0213298797607,"wires":[]},{"id":"f2dfd97f.e8a518","type":"http in","z":"71d2f7af.b37db8","name":"","url":"/k1/CorrectionSetpoint","method":"get","swaggerDoc":"","x":3442.333251953125,"y":3400,"wires":[["54bfa234.fb61cc"]]},{"id":"618e50e3.4f4eb","type":"http response","z":"af248669.b85bd8","name":"","x":556.0146408081055,"y":72.23769187927246,"wires":[]},{"id":"946a9ea.9ef566","type":"http in","z":"af248669.b85bd8","name":"","url":"/k2/status/all_system","method":"get","swaggerDoc":"","x":155,"y":71.14285278320312,"wires":[["f49dc3ee.8d6a2"]]},{"id":"e5402b77.8fb938","type":"function","z":"af248669.b85bd8","name":"R_83_second_for_scada","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":571.1428527832031,"y":791,"wires":[["601c55e.d4d0dac"]]},{"id":"60ab6108.28dbb","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"plotnost_flow\",parseFloat(fltView[0].toFixed(4)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1064.8572998046875,"y":747.6069946289062,"wires":[["e5402b77.8fb938"]]},{"id":"601c55e.d4d0dac","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":850.84521484375,"y":794.6067504882812,"wires":[["7458269e.cea3e8"],[]]},{"id":"4738c8c1.28dcd8","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":856.857177734375,"y":744.10693359375,"wires":[["60ab6108.28dbb"],[]]},{"id":"7458269e.cea3e8","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"second_for_scada\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1070.857177734375,"y":796.35693359375,"wires":[["dc01a986.6a2988"]]},{"id":"deae0c2.97650f","type":"function","z":"af248669.b85bd8","name":"R_38+1_plotnost_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":575.357177734375,"y":738.10693359375,"wires":[["4738c8c1.28dcd8"]]},{"id":"dc01a986.6a2988","type":"function","z":"af248669.b85bd8","name":"R_5002_mode_system","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":574.6072463989258,"y":846.9402189254761,"wires":[["8c3547f9.049ff8"]]},{"id":"624220e7.55f6f","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"t_flow\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1086.357421875,"y":691.1071166992188,"wires":[["deae0c2.97650f"]]},{"id":"8c3547f9.049ff8","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":847.3451843261719,"y":853.1900234222412,"wires":[["e237d72.a85d528"],[]]},{"id":"4f3fff8a.a811b","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":871.3572387695312,"y":688.6069946289062,"wires":[["624220e7.55f6f"],[]]},{"id":"e237d72.a85d528","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"mode_system\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1048.357177734375,"y":856.940185546875,"wires":[["7cc6d5a7.a9456c"]]},{"id":"78c6434e.1b770c","type":"function","z":"af248669.b85bd8","name":"R_36+1_t_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":566.1054992675781,"y":682.0859985351562,"wires":[["4f3fff8a.a811b"]]},{"id":"7cc6d5a7.a9456c","type":"function","z":"af248669.b85bd8","name":"R_5004_zayavka","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":552.1072387695312,"y":894.0235595703125,"wires":[["d9227d18.5834c"]]},{"id":"91d55f8.0e59fa","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('register_error_status_bit_0',m[15]);\nflow.set('register_error_status_bit_1',m[14]);\nflow.set('register_error_status_bit_2',m[13]);\nflow.set('register_error_status_bit_3',m[12]);\nflow.set('register_error_status_bit_4',m[11]);\nflow.set('register_error_status_bit_5',m[10]);\nflow.set('register_error_status_bit_6',m[9]);\nflow.set('register_error_status_bit_7',m[8]);\nflow.set('register_error_status_bit_8',m[7]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1239.3110961914062,"y":641.9924926757812,"wires":[["78c6434e.1b770c"]]},{"id":"d9227d18.5834c","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":848.8451538085938,"y":904.2733764648438,"wires":[["490bfdef.cd6f84"],[]]},{"id":"ef923443.d79d08","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1086.7261352539062,"y":638.8087158203125,"wires":[["91d55f8.0e59fa"]]},{"id":"490bfdef.cd6f84","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"zayavka\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1051.857177734375,"y":900.0235595703125,"wires":[["a86ccdea.ee7be"]]},{"id":"f81304c7.444728","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":887.7141723632812,"y":631.05859375,"wires":[["ef923443.d79d08"],[]]},{"id":"a86ccdea.ee7be","type":"function","z":"af248669.b85bd8","name":"R_5005_marshrut_setpoint_number","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":515.4998016357422,"y":951.654052734375,"wires":[["7320f741.97a628"]]},{"id":"38620d07.1edc82","type":"function","z":"af248669.b85bd8","name":"R_25_register_error_status_bit_0_6","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":640.2617797851562,"y":629.70166015625,"wires":[["f81304c7.444728"]]},{"id":"7320f741.97a628","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":843.4877319335938,"y":951.15380859375,"wires":[["9dbe521e.49545"],[]]},{"id":"65b0e2c.c879d1c","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1224.2278442382812,"y":576.7703857421875,"wires":[["38620d07.1edc82"]]},{"id":"9dbe521e.49545","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"marshrut_setpoint_number\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1053.2496337890625,"y":953.9041748046875,"wires":[["c0ca6ec6.82d75"]]},{"id":"c3fda1bb.7716c","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1066.9423217773438,"y":571.3773803710938,"wires":[["65b0e2c.c879d1c"]]},{"id":"c0ca6ec6.82d75","type":"function","z":"af248669.b85bd8","name":"R_5005_marshrut_setpoint_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":529.357177734375,"y":998.2733154296875,"wires":[["d4cdd8c2.56f848"]]},{"id":"32f96393.f80edc","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":882.4303588867188,"y":571.3772583007812,"wires":[["c3fda1bb.7716c"],[]]},{"id":"d4cdd8c2.56f848","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":839.3451538085938,"y":1003.523193359375,"wires":[["3963197d.f43dd6"],[]]},{"id":"557cdaf2.7c33b4","type":"function","z":"af248669.b85bd8","name":"R_22_status_hend_vent_bit_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":624.1445617675781,"y":572.520263671875,"wires":[["32f96393.f80edc"]]},{"id":"3963197d.f43dd6","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1047.3571166992188,"y":1004.523681640625,"wires":[["3c92e658.b774ca"]]},{"id":"49a22927.c79718","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_1',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1215.5610961914062,"y":513.18701171875,"wires":[["557cdaf2.7c33b4"]]},{"id":"3c92e658.b774ca","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('marshrut_setpoint_bit_0',m[15]);\nflow.set('marshrut_setpoint_bit_1',m[14]);\nflow.set('marshrut_setpoint_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1252.7398071289062,"y":1004.0089721679688,"wires":[["7dcb1072.075fa"]]},{"id":"74be6fee.bd48a","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1068.2756118774414,"y":509.90517807006836,"wires":[["49a22927.c79718"]]},{"id":"7dcb1072.075fa","type":"function","z":"af248669.b85bd8","name":"R_5006+1_setpoint","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1601.9528198242188,"y":162.857666015625,"wires":[["1f1c6025.6bdb8"]]},{"id":"cd216e82.3ca89","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":877.7636260986328,"y":511.4050598144531,"wires":[["74be6fee.bd48a"],[]]},{"id":"1f1c6025.6bdb8","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1890.9407539367676,"y":157.85717868804932,"wires":[["2d77d63c.72fdea"],[]]},{"id":"69e5c650.b8e898","type":"function","z":"af248669.b85bd8","name":"R_22_status_hend_vent_bit_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":629.311279296875,"y":512.5480842590332,"wires":[["cd216e82.3ca89"]]},{"id":"2d77d63c.72fdea","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"setpoint\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2104.690830230713,"y":159.10722732543945,"wires":[["9011228.ebf26e"]]},{"id":"2442b929.7e2e66","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_0',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1218.7278442382812,"y":458.99252223968506,"wires":[["69e5c650.b8e898"]]},{"id":"9011228.ebf26e","type":"function","z":"af248669.b85bd8","name":"R_5008+1_set_lflow_start","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1621.952709197998,"y":217.8573408126831,"wires":[["ce67857a.37c3f8"]]},{"id":"9d0b4a42.d90278","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.226173400879,"y":457.8921146392822,"wires":[["2442b929.7e2e66"]]},{"id":"ce67857a.37c3f8","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1884.6906776428223,"y":219.10713005065918,"wires":[["2f75a14a.d33d1e"],[]]},{"id":"6229ce60.bcd4e","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":876.7141952514648,"y":453.3919162750244,"wires":[["9d0b4a42.d90278"],[]]},{"id":"2f75a14a.d33d1e","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_start\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2098.4407539367676,"y":220.35717868804932,"wires":[["c52cbb73.311f48"]]},{"id":"a64f04ab.a5c0f8","type":"function","z":"af248669.b85bd8","name":"R_22_status_hend_vent_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":635.2617340087891,"y":452.53493309020996,"wires":[["6229ce60.bcd4e"]]},{"id":"c52cbb73.311f48","type":"function","z":"af248669.b85bd8","name":"R_5010+1_set_lflow_stop","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1601.952709197998,"y":293.6905927658081,"wires":[["340d4802.7ea868"]]},{"id":"f90c714b.f39fa","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_1_status_klapan',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1229.657974243164,"y":399.88031005859375,"wires":[["a64f04ab.a5c0f8"]]},{"id":"340d4802.7ea868","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1864.6906776428223,"y":294.9403820037842,"wires":[["f594394f.ded288"],[]]},{"id":"ef05e76a.e07b58","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1070.7855606079102,"y":394.832799911499,"wires":[["f90c714b.f39fa"]]},{"id":"f594394f.ded288","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_stop\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2078.4407539367676,"y":296.1904306411743,"wires":[["dd5018e6.042058"]]},{"id":"408bb17e.28e9b","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":869.7736358642578,"y":397.5827121734619,"wires":[["ef05e76a.e07b58"],[]]},{"id":"dd5018e6.042058","type":"function","z":"af248669.b85bd8","name":"R_5012+1_protok_min","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1584.452709197998,"y":364.5239667892456,"wires":[["5331c351.3672ec"]]},{"id":"6bc13973.665b48","type":"function","z":"af248669.b85bd8","name":"R_12_b1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":669.3211326599121,"y":389.47568225860596,"wires":[["408bb17e.28e9b"]]},{"id":"5331c351.3672ec","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1857.1906776428223,"y":365.7737560272217,"wires":[["d150d27.116873"],[]]},{"id":"cdd67131.6514e","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_klapan',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1230.0865287780762,"y":334.30888843536377,"wires":[["6bc13973.665b48"]]},{"id":"d150d27.116873","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_min\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2070.9407539367676,"y":367.0238046646118,"wires":[["4595c1a7.66595"]]},{"id":"e1b800cc.814","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1078.452621459961,"y":334.9876708984375,"wires":[["cdd67131.6514e"]]},{"id":"4595c1a7.66595","type":"function","z":"af248669.b85bd8","name":"R_5014+1_protok_dead_time","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1573.4407997131348,"y":430.3570032119751,"wires":[["112b3be5.c560f4"]]},{"id":"c48dfd42.f7692","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":873.7619781494141,"y":336.5350914001465,"wires":[["e1b800cc.814"],[]]},{"id":"112b3be5.c560f4","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1845.9406776428223,"y":431.6070079803467,"wires":[["427a2f4d.1ad65"],[]]},{"id":"f1f3d749.6a5d58","type":"function","z":"af248669.b85bd8","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":674.1428070068359,"y":338.1542110443115,"wires":[["c48dfd42.f7692"]]},{"id":"427a2f4d.1ad65","type":"function","z":"af248669.b85bd8","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_dead_time\",parseInt(dwView[0]));\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":2074.6908226013184,"y":427.85701084136963,"wires":[["ae8df1c4.54833"]]},{"id":"d0fbef05.1a0ff","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_18_status_pump',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1222.2573013305664,"y":270.02309799194336,"wires":[["f1f3d749.6a5d58"]]},{"id":"ae8df1c4.54833","type":"function","z":"af248669.b85bd8","name":"R_5016+1_counter_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1570.94087600708,"y":514.1070518493652,"wires":[["44995489.2d147c"]]},{"id":"3dffdebe.cfd6f2","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1069.5512924194336,"y":268.5588665008545,"wires":[["d0fbef05.1a0ff"]]},{"id":"44995489.2d147c","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1873.4407539367676,"y":515.3570566177368,"wires":[["2c4777cf.2e5548"],[]]},{"id":"c801d586.6740e8","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":874.2061004638672,"y":273.5588798522949,"wires":[["3dffdebe.cfd6f2"],[]]},{"id":"2c4777cf.2e5548","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_1\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2084.6907539367676,"y":514.5238046646118,"wires":[["d93cfe71.ff478"]]},{"id":"67bbe606.3b12b8","type":"function","z":"af248669.b85bd8","name":"R_1_bit_3(18)","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":675.4205169677734,"y":274.20184898376465,"wires":[["c801d586.6740e8"]]},{"id":"d93cfe71.ff478","type":"function","z":"af248669.b85bd8","name":"R_5018+1_counter_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1550.94087600708,"y":585.3570518493652,"wires":[["72ba952.f3a3e6c"]]},{"id":"7cac2a10.833ba4","type":"function","z":"af248669.b85bd8","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_pump',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1019.2694702148438,"y":194.3326473236084,"wires":[["67bbe606.3b12b8"]]},{"id":"72ba952.f3a3e6c","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1853.4407539367676,"y":586.6070566177368,"wires":[["71325039.28af1"],[]]},{"id":"8d7cc607.d86038","type":"function","z":"af248669.b85bd8","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":849.6349792480469,"y":194.71379470825195,"wires":[["7cac2a10.833ba4"]]},{"id":"71325039.28af1","type":"function","z":"af248669.b85bd8","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_2\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2064.6907539367676,"y":590.3570566177368,"wires":[["8bfb085c.47a618"]]},{"id":"eff9261.80db4d8","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":661.4443588256836,"y":195.51122283935547,"wires":[["8d7cc607.d86038"],[]]},{"id":"8bfb085c.47a618","type":"function","z":"af248669.b85bd8","name":"R_5020+3_counter_3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1504.69087600708,"y":663.2737998962402,"wires":[["b28beda9.edc82"]]},{"id":"5ae9c244.62bc0c","type":"function","z":"af248669.b85bd8","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":473.3251762390137,"y":199.13036251068115,"wires":[["eff9261.80db4d8"]]},{"id":"b28beda9.edc82","type":"modbus-flex-getter","z":"af248669.b85bd8","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1807.1907539367676,"y":664.5238046646118,"wires":[["c856298.2cd9cd8"],[]]},{"id":"91f8f277.d2dc7","type":"inject","z":"af248669.b85bd8","name":"","topic":"","payload":"support","payloadType":"str","repeat":"2","crontab":"","once":false,"x":310.67540740966797,"y":199.8091983795166,"wires":[["5ae9c244.62bc0c"]]},{"id":"c856298.2cd9cd8","type":"function","z":"af248669.b85bd8","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nflow.set(\"counter_3\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2044.690902709961,"y":662.8570222854614,"wires":[["b6fb3a7a.6368e8"]]},{"id":"b6fb3a7a.6368e8","type":"debug","z":"af248669.b85bd8","name":"","active":false,"console":"false","complete":"false","x":2284.571201324463,"y":658.3326635360718,"wires":[]},{"id":"92b0dbd8.cbd7c8","type":"function","z":"af248669.b85bd8","name":"init status_all","func":"//var status_all = msg.payload;\nflow.set(\"bit_0_status_pump\",0);\nflow.set(\"bit_18_status_pump\", 0);\nflow.set(\"bit_0_status_klapan\", 0);\nflow.set(\"bit_1_status_klapan\", 0);\nflow.set(\"status_hend_vent_bit_0\",0);\nflow.set(\"status_hend_vent_bit_1\",0);\nflow.set(\"status_hend_vent_bit_2\",0);\n  flow.set(\"register_error_status_bit_0\", 0);\n  flow.set(\"register_error_status_bit_1\", 0);\n  flow.set(\"register_error_status_bit_2\", 0);\n  flow.set(\"register_error_status_bit_3\", 0);\n  flow.set(\"register_error_status_bit_4\", 0);\n  flow.set(\"register_error_status_bit_5\", 0);\n  flow.set(\"register_error_status_bit_6\", 0);\n  flow.set(\"register_error_status_bit_7\", 0);\n  flow.set(\"register_error_status_bit_8\", 0);\n  flow.set(\"t_flow\", 0);\n  flow.set(\"plotnost_flow\", 0);\n  flow.set(\"second_for_scada\", 0);\n  flow.set(\"mode_system\", 0);\n  flow.set(\"zayavka\", 0);\n  flow.set(\"marshrut_setpoint_number\", 0);\n  flow.set(\"marshrut_setpoint_bit_0\", 0);\n  flow.set(\"marshrut_setpoint_bit_1\", 0);\n  flow.set(\"marshrut_setpoint_bit_2\", 0);\n  flow.set(\"setpoint\", 0);\n  flow.set(\"set_lflow_start\", 0);\n  flow.set(\"set_lflow_stop\", 0);\n  flow.set(\"protok_min\", 0);\n  flow.set(\"protok_dead_time\", 0);\n  flow.set(\"counter_1\", 0);\n  flow.set(\"counter_2\", 0);\n  flow.set(\"counter_3\", 0);\nreturn msg;","outputs":"1","noerr":0,"x":315.1428527832031,"y":262.4758129119873,"wires":[[]]},{"id":"8187fc32.acc38","type":"inject","z":"af248669.b85bd8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"x":138.50015258789062,"y":260.7194538116455,"wires":[["92b0dbd8.cbd7c8"]]},{"id":"f49dc3ee.8d6a2","type":"function","z":"af248669.b85bd8","name":"response","func":"msg.payload = {\n\"bit_0_status_pump\":flow.get(\"bit_0_status_pump\"),\n\"bit_18_status_pump\":flow.get(\"bit_18_status_pump\"),\n\"bit_0_status_klapan\":flow.get(\"bit_0_status_klapan\"),\n\"bit_1_status_klapan\":flow.get(\"bit_1_status_klapan\"),\n\"status_hend_vent_bit_0\":flow.get(\"status_hend_vent_bit_0\"),\n\"status_hend_vent_bit_1\":flow.get(\"status_hend_vent_bit_1\"),\n\"status_hend_vent_bit_2\":flow.get(\"status_hend_vent_bit_2\"),\n\"register_error_status_bit_0\":flow.get(\"register_error_status_bit_0\"),\n\"register_error_status_bit_1\":flow.get(\"register_error_status_bit_1\"),\n\"register_error_status_bit_2\":flow.get(\"register_error_status_bit_2\"),\n\"register_error_status_bit_3\":flow.get(\"register_error_status_bit_3\"),\n\"register_error_status_bit_4\":flow.get(\"register_error_status_bit_4\"),\n\"register_error_status_bit_5\":flow.get(\"register_error_status_bit_5\"),\n\"register_error_status_bit_6\":flow.get(\"register_error_status_bit_6\"),\n\"register_error_status_bit_7\":flow.get(\"register_error_status_bit_7\"),\n\"register_error_status_bit_8\":flow.get(\"register_error_status_bit_8\"),\n\"t_flow\":flow.get(\"t_flow\"),\n\"plotnost_flow\":flow.get(\"plotnost_flow\"),\n\"second_for_scada\":flow.get(\"second_for_scada\"),\n\"mode_system\":flow.get(\"mode_system\"),\n\"zayavka\":flow.get(\"zayavka\"),\n\"marshrut_setpoint_number\":flow.get(\"marshrut_setpoint_number\"),\n\"marshrut_setpoint_bit_0\":flow.get(\"marshrut_setpoint_bit_0\"),\n\"marshrut_setpoint_bit_1\":flow.get(\"marshrut_setpoint_bit_1\"),\n\"marshrut_setpoint_bit_2\":flow.get(\"marshrut_setpoint_bit_2\"),\n\"setpoint\":flow.get(\"setpoint\"),\n\"set_lflow_start\":flow.get(\"set_lflow_start\"),\n\"set_lflow_stop\":flow.get(\"set_lflow_stop\"),\n\"protok_min\":flow.get(\"protok_min\"),\n\"protok_dead_time\":flow.get(\"protok_dead_time\"),\n\"counter_1\":flow.get(\"counter_1\"),\n\"counter_2\":flow.get(\"counter_2\"),\n\"counter_3\":flow.get(\"counter_3\")\n};\nreturn msg;","outputs":1,"noerr":0,"x":409.40904998779297,"y":71,"wires":[["618e50e3.4f4eb"]]},{"id":"ce8e9156.07c93","type":"function","z":"96cf880.06b4b78","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":468.2221450805664,"y":115.98441791534424,"wires":[["8409ae73.6dbd2"]]},{"id":"77301672.9a6ba8","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":777.9999389648438,"y":118.42886447906494,"wires":[[],["5d20bd7e.48b444","4104a39c.17cbec"]]},{"id":"8409ae73.6dbd2","type":"function","z":"96cf880.06b4b78","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":604.22216796875,"y":117.09553623199463,"wires":[["77301672.9a6ba8"]]},{"id":"4104a39c.17cbec","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":934.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"7c848ab7.65fa44","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/setOrders","method":"post","swaggerDoc":"","x":255.99993896484375,"y":50.42886447906494,"wires":[["ce8e9156.07c93","d7325c26.3cde9"]]},{"id":"c3d55f17.aa042","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":250.44438934326172,"y":112.65108680725098,"wires":[["ce8e9156.07c93"]]},{"id":"990c0a61.171188","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":700.5554809570312,"y":173.65108585357666,"wires":[["4104a39c.17cbec"],["e3e5ff9f.97cc1"]]},{"id":"e3e5ff9f.97cc1","type":"function","z":"96cf880.06b4b78","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":394.6666564941406,"y":220.87329196929932,"wires":[["38dc8ba5.7be9e4"]]},{"id":"38dc8ba5.7be9e4","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":577,"y":222.76220798492432,"wires":[[],["ffe44cd1.e6d07"]]},{"id":"c271bc23.d0a8e","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/status","method":"get","swaggerDoc":"","x":1608.3810424804688,"y":1039.6353549957275,"wires":[["58ad711.665b09"]]},{"id":"d7325c26.3cde9","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":475.99993896484375,"y":50.42886447906494,"wires":[]},{"id":"1483de09.158d92","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/status","method":"post","swaggerDoc":"","x":1582.5477600097656,"y":1209.7186479568481,"wires":[["281386e1.7b2e4a","ea9498c0.9ae9b8"]]},{"id":"281386e1.7b2e4a","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1814.797706604004,"y":1207.9686632156372,"wires":[["f20e04b6.81e888"]]},{"id":"f20e04b6.81e888","type":"function","z":"96cf880.06b4b78","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1945.047695159912,"y":1211.3852586746216,"wires":[["ee250106.86fd8"]]},{"id":"ff99481.3a843b8","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2348.4605407714844,"y":1040.2702922821045,"wires":[]},{"id":"7ce8fd4a.c359e4","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1601.1588134765625,"y":992.9686660766602,"wires":[["58ad711.665b09"]]},{"id":"ee250106.86fd8","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2113.9365844726562,"y":1212.4963903427124,"wires":[[],["d29c9939.f8b648"]]},{"id":"d29c9939.f8b648","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2299.2421340942383,"y":1217.968674659729,"wires":[]},{"id":"6014410b.f5111","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1966.9643859863281,"y":1041.9409008026123,"wires":[["944de6e0.4de798"],[]]},{"id":"58ad711.665b09","type":"function","z":"96cf880.06b4b78","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1793.1866035461426,"y":1039.718677520752,"wires":[["6014410b.f5111"]]},{"id":"f519611e.f0ee6","type":"comment","z":"96cf880.06b4b78","name":"Read_R5002","info":"","x":1909.047721862793,"y":994.8575448989868,"wires":[]},{"id":"4d859144.b516e","type":"comment","z":"96cf880.06b4b78","name":"Write_R5002","info":"","x":1907.0198974609375,"y":1094.6353397369385,"wires":[]},{"id":"c4e7a9b.167cd58","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1584.797706604004,"y":1167.9686632156372,"wires":[["281386e1.7b2e4a"]]},{"id":"ced4b625.800b28","type":"http response","z":"96cf880.06b4b78","name":"","x":2400.444538116455,"y":1099.4766283035278,"wires":[]},{"id":"c4d977e8.b35278","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2180.6032180786133,"y":1096.302043914795,"wires":[["ced4b625.800b28"]]},{"id":"ffe44cd1.e6d07","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"false","x":929.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"9ef49330.51f77","type":"function","z":"96cf880.06b4b78","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":527.5555114746094,"y":175.31774234771729,"wires":[["990c0a61.171188"]]},{"id":"5d20bd7e.48b444","type":"function","z":"96cf880.06b4b78","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":389.8888168334961,"y":174.09554958343506,"wires":[["9ef49330.51f77"]]},{"id":"badd601a.d123a","type":"comment","z":"96cf880.06b4b78","name":"read_PLC input status","info":"","x":1902.8096008300781,"y":878.5400171279907,"wires":[]},{"id":"9f18709b.b1ff8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PLCInputStatus","method":"get","swaggerDoc":"","x":1621.3651542663574,"y":917.7623062133789,"wires":[["719c4464.394e4c"]]},{"id":"719c4464.394e4c","type":"function","z":"96cf880.06b4b78","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1822.3651542663574,"y":915.7623062133789,"wires":[["be73a04b.aaf07"]]},{"id":"be73a04b.aaf07","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2018.3651542663574,"y":922.7623062133789,"wires":[["44ada608.586f38","54dc0a39.2c4ff4"],[]]},{"id":"44ada608.586f38","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2217.3651542663574,"y":916.7623062133789,"wires":[]},{"id":"b5bff698.a30958","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1560.3651542663574,"y":866.7623062133789,"wires":[["719c4464.394e4c"]]},{"id":"e0c40a5a.d4c6b8","type":"comment","z":"96cf880.06b4b78","name":"read_register_error","info":"","x":4081.857376098633,"y":1752.3020639419556,"wires":[]},{"id":"bb0f1b63.e08058","type":"comment","z":"96cf880.06b4b78","name":"read_Speed_flow","info":"","x":563.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"4965d923.1df3c8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/SpeedFlow","method":"get","swaggerDoc":"","x":260.99993896484375,"y":1369.3176727294922,"wires":[["3618cd2f.0f8b52"]]},{"id":"3618cd2f.0f8b52","type":"function","z":"96cf880.06b4b78","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":461.99993896484375,"y":1367.3176727294922,"wires":[["7df2a5b2.07b09c"]]},{"id":"7df2a5b2.07b09c","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":657.9999389648438,"y":1374.3176727294922,"wires":[["c33e9853.c4cfc8"],[]]},{"id":"c821eaeb.f52b48","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":199.99993896484375,"y":1318.3176727294922,"wires":[["3618cd2f.0f8b52"]]},{"id":"e0e20092.edde5","type":"comment","z":"96cf880.06b4b78","name":"read_V_flow","info":"","x":532.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"1b60cbd7.7d3c14","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/VFlow","method":"get","swaggerDoc":"","x":245.4443817138672,"y":1504.7620887756348,"wires":[["945f79c2.8298a8"]]},{"id":"945f79c2.8298a8","type":"function","z":"96cf880.06b4b78","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":466.4443817138672,"y":1502.7620887756348,"wires":[["750e8007.7951"]]},{"id":"750e8007.7951","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":662.4443817138672,"y":1509.7620887756348,"wires":[["983e5c8c.4169d"],[]]},{"id":"f22631eb.a0713","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":204.4443817138672,"y":1453.7620887756348,"wires":[["945f79c2.8298a8"]]},{"id":"4cdb86a8.8b3868","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/resetError","method":"post","swaggerDoc":"","x":135,"y":1048.0956058502197,"wires":[["66b6b45e.0b623c"]]},{"id":"ec7aa4e3.3dfeb8","type":"comment","z":"96cf880.06b4b78","name":"read_M_flow","info":"","x":537.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"59cf9f34.2aa21","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/MFlow","method":"get","swaggerDoc":"","x":260.4443817138672,"y":1678.7620887756348,"wires":[["8bf241bf.f5e48"]]},{"id":"8bf241bf.f5e48","type":"function","z":"96cf880.06b4b78","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":471.4443817138672,"y":1676.7620887756348,"wires":[["5490ebc2.541cd4"]]},{"id":"5490ebc2.541cd4","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":667.4443817138672,"y":1683.7620887756348,"wires":[["1a33e4c2.70855b"],[]]},{"id":"f6ae8a22.8e7018","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1181.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"aec213db.4416c","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":209.4443817138672,"y":1627.7620887756348,"wires":[["8bf241bf.f5e48"]]},{"id":"250342e0.c542de","type":"comment","z":"96cf880.06b4b78","name":"read_T_flow","info":"","x":532.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"5c74b995.6f5338","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlow","method":"get","swaggerDoc":"","x":235.4443817138672,"y":1840.7620887756348,"wires":[["16ebc5c4.e1cf1a"]]},{"id":"16ebc5c4.e1cf1a","type":"function","z":"96cf880.06b4b78","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":466.4443817138672,"y":1838.7620887756348,"wires":[["47769f5b.b1fde"]]},{"id":"47769f5b.b1fde","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":662.4443817138672,"y":1845.7620887756348,"wires":[["e06cad59.2325f"],[]]},{"id":"12440bb1.e24944","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1164.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"bec07e0d.2c576","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":204.4443817138672,"y":1789.7620887756348,"wires":[["16ebc5c4.e1cf1a"]]},{"id":"e9736e87.5a42c","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_flow","info":"","x":552.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"eff11c7.4d128e","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostFlow","method":"get","swaggerDoc":"","x":275.4443817138672,"y":1992.7620887756348,"wires":[["f0bca6a1.bfb738"]]},{"id":"f0bca6a1.bfb738","type":"function","z":"96cf880.06b4b78","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":466.4443817138672,"y":1990.7620887756348,"wires":[["f08e5a1d.0d4e88"]]},{"id":"f08e5a1d.0d4e88","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":662.4443817138672,"y":1997.7620887756348,"wires":[["6080120a.c6df1c"],[]]},{"id":"38cbf58d.a576ba","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":204.4443817138672,"y":1941.7620887756348,"wires":[["f0bca6a1.bfb738"]]},{"id":"3072e254.3fe54e","type":"comment","z":"96cf880.06b4b78","name":"read_T_flow_middle","info":"","x":537.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"3fbc52b7.9361ae","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlowMiddle","method":"get","swaggerDoc":"","x":240.44439697265625,"y":2154.7621726989746,"wires":[["dfd26b68.e7cb48"]]},{"id":"dfd26b68.e7cb48","type":"function","z":"96cf880.06b4b78","name":"5770+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5770 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":482.4443664550781,"y":2176.7621726989746,"wires":[["9bf6c517.70f9a8"]]},{"id":"9bf6c517.70f9a8","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":662.4443817138672,"y":2159.7620887756348,"wires":[["8524db36.859b28"],[]]},{"id":"12ebff1f.2c7171","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":204.4443817138672,"y":2103.7620887756348,"wires":[["dfd26b68.e7cb48"]]},{"id":"7b6b6403.49200c","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_middle","info":"","x":562.666633605957,"y":2277.428946495056,"wires":[]},{"id":"56d6162c.b4a908","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostMiddle","method":"get","swaggerDoc":"","x":235.33332061767578,"y":2339.762183189392,"wires":[["e9b4a860.d2dee8"]]},{"id":"e9b4a860.d2dee8","type":"function","z":"96cf880.06b4b78","name":"5782+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5782 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":483.33331298828125,"y":2335.7621850967407,"wires":[["7687503d.46fd9"]]},{"id":"7687503d.46fd9","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":669.3333129882812,"y":2342.7621850967407,"wires":[["c0d0da1f.4c1098"],[]]},{"id":"c258d04.35ef73","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":211.33331298828125,"y":2286.7621850967407,"wires":[["e9b4a860.d2dee8"]]},{"id":"a25c87e8.763de8","type":"comment","z":"96cf880.06b4b78","name":"write_error_reset","info":"","x":655.7777786254883,"y":792.0954828262329,"wires":[]},{"id":"59e2408e.c75cf","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/ResetCounter12","method":"post","swaggerDoc":"","x":303.91664123535156,"y":2553.7621574401855,"wires":[["6ee31858.d32668","4065e3a0.be78ac"]]},{"id":"f94dfc85.8afb2","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1115.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"f712272c.3654a8","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":860.6110610961914,"y":2560.2621574401855,"wires":[[],["f94dfc85.8afb2"]]},{"id":"92b3e0e0.49565","type":"function","z":"96cf880.06b4b78","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":702.1388912200928,"y":2555.7621488571167,"wires":[["f712272c.3654a8"]]},{"id":"6ee31858.d32668","type":"function","z":"96cf880.06b4b78","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":552.6110916137695,"y":2554.2067375183105,"wires":[["92b3e0e0.49565"]]},{"id":"e22872.ae2c579","type":"comment","z":"96cf880.06b4b78","name":"write_Reset_counter1/2","info":"","x":597.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"4c6d8ee6.93c49","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/ResetCounter3","method":"post","swaggerDoc":"","x":285.1666488647461,"y":2661.2621994018555,"wires":[["ff4644b7.548f68","f18427dc.eb8328"]]},{"id":"c9eb2af5.e24498","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1040.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"db70343a.e66988","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":835.055534362793,"y":2665.151086807251,"wires":[[],["c9eb2af5.e24498"]]},{"id":"3bbb864d.a7e81a","type":"function","z":"96cf880.06b4b78","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":663.3888740539551,"y":2663.373255252838,"wires":[["db70343a.e66988"]]},{"id":"ff4644b7.548f68","type":"function","z":"96cf880.06b4b78","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":520.1666488647461,"y":2662.9289474487305,"wires":[["3bbb864d.a7e81a"]]},{"id":"5717f8d4.9dfff8","type":"comment","z":"96cf880.06b4b78","name":"write_Reset_counter_3","info":"","x":607.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"f1476971.6ce3f8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/SetLflowStart","method":"post","swaggerDoc":"","x":270.99993896484375,"y":2911.4010763168335,"wires":[["68a4f3e3.9b1fec"]]},{"id":"cfa04f9a.ce6ee","type":"comment","z":"96cf880.06b4b78","name":"write_Set_Lflow_start","info":"","x":605.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"9efc771.e4b7d88","type":"comment","z":"96cf880.06b4b78","name":"read_Set_Lflow_start","info":"","x":578.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"8c5a8a9d.4cfcf8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/SetLflowStart","method":"get","swaggerDoc":"","x":308.9444046020508,"y":3116.178910255432,"wires":[["13b07523.8722cb"]]},{"id":"13b07523.8722cb","type":"function","z":"96cf880.06b4b78","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":521.1944046020508,"y":3115.428910255432,"wires":[["3b75d0f.16e6a3"]]},{"id":"3b75d0f.16e6a3","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":727.1944046020508,"y":3101.178910255432,"wires":[["2190e6a5.fb984a"],[]]},{"id":"119a5e0.02e4ea2","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1267.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"e3349030.1aba7","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":259.1944046020508,"y":3066.428910255432,"wires":[["13b07523.8722cb"]]},{"id":"7268dadc.355214","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/SetLflowStop","method":"post","swaggerDoc":"","x":271.8332977294922,"y":3247.0954160690308,"wires":[["66d15440.3435cc"]]},{"id":"776ff5d8.11a57c","type":"comment","z":"96cf880.06b4b78","name":"write_Set_Lflow_stop","info":"","x":625.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"b12eb261.4c436","type":"comment","z":"96cf880.06b4b78","name":"read_Set_Lflow_stopt","info":"","x":627.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"4634c418.3a7c0c","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/SetLflowStop","method":"get","swaggerDoc":"","x":347.55548095703125,"y":3389.650938987732,"wires":[["689ef599.6abdec"]]},{"id":"689ef599.6abdec","type":"function","z":"96cf880.06b4b78","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":548.5554809570312,"y":3387.650938987732,"wires":[["271c8408.f42a1c"]]},{"id":"271c8408.f42a1c","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":734.5554809570312,"y":3394.650938987732,"wires":[["94e2e00b.0e9c7"],[]]},{"id":"93dc94b4.7d7518","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.55548095703125,"y":3338.650938987732,"wires":[["689ef599.6abdec"]]},{"id":"c848a1b6.06e5d","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/ProtokMin","method":"post","swaggerDoc":"","x":266.4166564941406,"y":3746.1232233047485,"wires":[["af9d6b45.503238"]]},{"id":"204483e0.39fb9c","type":"comment","z":"96cf880.06b4b78","name":"write_Protok_min","info":"","x":682.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"b47da9c4.2936c8","type":"comment","z":"96cf880.06b4b78","name":"read_Protok_Min","info":"","x":601.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"f9162bbc.849698","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/ProtokMin","method":"get","swaggerDoc":"","x":307.5555191040039,"y":3894.790214538574,"wires":[["78961670.242c98"]]},{"id":"78961670.242c98","type":"function","z":"96cf880.06b4b78","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":521.8888473510742,"y":3891.678889274597,"wires":[["e02428be.ccc638"]]},{"id":"e02428be.ccc638","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":707.8888473510742,"y":3898.678889274597,"wires":[["b692e0ef.c7754"],[]]},{"id":"bb119c50.e81c3","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":249.88884735107422,"y":3842.678889274597,"wires":[["78961670.242c98"]]},{"id":"e1c19c02.6f5b5","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/ProtokDeadTime","method":"post","swaggerDoc":"","x":284.3332977294922,"y":4054.178647994995,"wires":[["8a98275b.d14958"]]},{"id":"49fb5e35.daf59","type":"comment","z":"96cf880.06b4b78","name":"write_Protok_Dead_time","info":"","x":622.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"541fc40a.a4de0c","type":"comment","z":"96cf880.06b4b78","name":"read_Protok_Dead_time","info":"","x":604.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"75bb592e.616708","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/ProtokDeadTime","method":"get","swaggerDoc":"","x":284.3332977294922,"y":4280.345643043518,"wires":[["751a8199.32891"]]},{"id":"751a8199.32891","type":"function","z":"96cf880.06b4b78","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":501.8888473510742,"y":4278.484314918518,"wires":[["bb0d5c83.f2dd6"]]},{"id":"bb0d5c83.f2dd6","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":672.8888473510742,"y":4276.734314918518,"wires":[["6d2054af.1af29c"],[]]},{"id":"ffa767a2.ab2fd8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":243.63884353637695,"y":4239.484313964844,"wires":[["751a8199.32891"]]},{"id":"4db295ea.c29c5c","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":230.4444351196289,"y":4015.1508169174194,"wires":[[]]},{"id":"ea9498c0.9ae9b8","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":1834.7976913452148,"y":1150.1908597946167,"wires":[]},{"id":"30b96510.2b129a","type":"comment","z":"96cf880.06b4b78","name":"read_Upakovka_marshrut","info":"","x":1884.5555419921875,"y":97.41316318511963,"wires":[]},{"id":"5d530035.3cd76","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1600.8889236450195,"y":159.96861743927002,"wires":[["a9d4e16d.b2816"]]},{"id":"55ac9c1e.a91414","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1523.2222366333008,"y":121.19088459014893,"wires":[["a9d4e16d.b2816"]]},{"id":"4ae80667.e4a768","type":"http response","z":"96cf880.06b4b78","name":"","x":2360.9206886291504,"y":957.0956649780273,"wires":[]},{"id":"54dc0a39.2c4ff4","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2205.365135192871,"y":961.5400876998901,"wires":[["4ae80667.e4a768"]]},{"id":"c3671576.943f98","type":"http response","z":"96cf880.06b4b78","name":"","x":1259.888656616211,"y":1749.873125076294,"wires":[]},{"id":"ab349476.8e3d38","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1108.777687072754,"y":1752.0953750610352,"wires":[["c3671576.943f98"]]},{"id":"21b087c4.a8b7f8","type":"http response","z":"96cf880.06b4b78","name":"","x":1269.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"6ed765b.abc799c","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1118.7777404785156,"y":1928.762128829956,"wires":[["21b087c4.a8b7f8"]]},{"id":"f18427dc.eb8328","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":378.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"4065e3a0.be78ac","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":403.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"337da22d.849c9e","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/SecondForScada","method":"get","swaggerDoc":"","x":280.99993896484375,"y":2821.678864479065,"wires":[["774e7f60.00ca5"]]},{"id":"dd866fe8.b2186","type":"comment","z":"96cf880.06b4b78","name":"read_Second_for_scada","info":"","x":613.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"774e7f60.00ca5","type":"function","z":"96cf880.06b4b78","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":490.99994468688965,"y":2824.178906440735,"wires":[["875b380b.ba9208"]]},{"id":"875b380b.ba9208","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":662.2499389648438,"y":2824.178864479065,"wires":[["8b502b5e.125fc8"],[]]},{"id":"c9dddc64.90983","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1085.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"4655a809.479418","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":839.3333587646484,"y":2885.1789445877075,"wires":[["ba0d7071.71a1a"]]},{"id":"ba0d7071.71a1a","type":"http response","z":"96cf880.06b4b78","name":"","x":982.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"d35ee13e.9feb3","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":219.74993896484375,"y":2781.678864479065,"wires":[["774e7f60.00ca5"]]},{"id":"d4d9d67b.ebc858","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1281.833267211914,"y":3179.178828239441,"wires":[["92f16620.234cb8"]]},{"id":"92f16620.234cb8","type":"http response","z":"96cf880.06b4b78","name":"","x":1426.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"ba4a3bfe.a56718","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":215.99993896484375,"y":3195.428864479065,"wires":[[]]},{"id":"48e440b1.93226","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":226.8332977294922,"y":3671.262085914612,"wires":[[]]},{"id":"277f8cf.cb5c174","type":"comment","z":"96cf880.06b4b78","name":"read_Counter_1","info":"","x":570.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"409fb8cb.b178d8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/Counter1","method":"get","swaggerDoc":"","x":250.99993896484375,"y":4621.338226318359,"wires":[["cb56fcde.05ef1"]]},{"id":"cb56fcde.05ef1","type":"function","z":"96cf880.06b4b78","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":498.5554885864258,"y":4619.476898193359,"wires":[["5e12c52c.c6872c"]]},{"id":"5e12c52c.c6872c","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":669.5554885864258,"y":4617.726898193359,"wires":[["c4b8268.4fabdd8"],[]]},{"id":"47dfe9d.bafab18","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":240.30548477172852,"y":4580.476897239685,"wires":[["cb56fcde.05ef1"]]},{"id":"17dfa71e.ee1419","type":"comment","z":"96cf880.06b4b78","name":"read_Counter_2","info":"","x":570.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"337707ba.62f908","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/Counter2","method":"get","swaggerDoc":"","x":250.99993896484375,"y":4763.719161987305,"wires":[["d58e0c46.02c12"]]},{"id":"d58e0c46.02c12","type":"function","z":"96cf880.06b4b78","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":498.5554885864258,"y":4761.857833862305,"wires":[["dd7dc24.8ab224"]]},{"id":"dd7dc24.8ab224","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":669.5554885864258,"y":4760.107833862305,"wires":[["8763d00a.0345f"],[]]},{"id":"d9c1babb.92e238","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":240.30548477172852,"y":4722.85783290863,"wires":[["d58e0c46.02c12"]]},{"id":"2190e6a5.fb984a","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1005.9998931884766,"y":3102.09516620636,"wires":[["119a5e0.02e4ea2","d4d9d67b.ebc858"]]},{"id":"e06cad59.2325f","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":910.4443283081055,"y":1843.7619621753693,"wires":[["12440bb1.e24944","6ed765b.abc799c"]]},{"id":"1a33e4c2.70855b","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":907.1109313964844,"y":1682.0953693389893,"wires":[["ab349476.8e3d38","f6ae8a22.8e7018"]]},{"id":"c370e6f4.0f9878","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1172.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"d98f906c.eb9eb","type":"http response","z":"96cf880.06b4b78","name":"","x":1250.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"2aaa1836.fe71d8","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1099.4443168640137,"y":1584.7619705200195,"wires":[["d98f906c.eb9eb"]]},{"id":"983e5c8c.4169d","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":897.7775611877441,"y":1514.7619647979736,"wires":[["2aaa1836.fe71d8","c370e6f4.0f9878"]]},{"id":"8f1f2f42.00812","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1178.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"38ddef8e.ccde9","type":"http response","z":"96cf880.06b4b78","name":"","x":1257.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"a3fe11fe.42b58","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1106.1109428405762,"y":1441.4287185668945,"wires":[["38ddef8e.ccde9"]]},{"id":"c33e9853.c4cfc8","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":900.1584930419922,"y":1351.904896736145,"wires":[["a3fe11fe.42b58","8f1f2f42.00812"]]},{"id":"d2b16f9c.5b3c4","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1178.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"8cd2cb12.e4f5f8","type":"http response","z":"96cf880.06b4b78","name":"","x":1257.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"f400cff1.c7b16","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1106.1109428405762,"y":2066.4287185668945,"wires":[["8cd2cb12.e4f5f8"]]},{"id":"6080120a.c6df1c","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":904.4441871643066,"y":1996.4287128448486,"wires":[["f400cff1.c7b16","d2b16f9c.5b3c4"]]},{"id":"33050da.98599f2","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1217.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"9e0cac0d.4603a","type":"http response","z":"96cf880.06b4b78","name":"","x":1295.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"76483830.80d328","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1144.4443168640137,"y":2224.7619705200195,"wires":[["9e0cac0d.4603a"]]},{"id":"8524db36.859b28","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":942.7775611877441,"y":2154.7619647979736,"wires":[["76483830.80d328","33050da.98599f2"]]},{"id":"cff9aa80.602338","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1190.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"7221a243.a697bc","type":"http response","z":"96cf880.06b4b78","name":"","x":1311.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"45dbf6c6.b0f4a8","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1159.9999160766602,"y":2406.4289531707764,"wires":[["7221a243.a697bc"]]},{"id":"c0d0da1f.4c1098","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":916.6664924621582,"y":2343.0953130722046,"wires":[["45dbf6c6.b0f4a8","cff9aa80.602338"]]},{"id":"fe0c06ff.30d658","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":1247.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"e870d0af.5c372","type":"http response","z":"96cf880.06b4b78","name":"","x":1326.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"d79529e0.3ca1a8","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1174.9998588562012,"y":3459.7619981765747,"wires":[["e870d0af.5c372"]]},{"id":"94e2e00b.0e9c7","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":973.3331031799316,"y":3389.761992454529,"wires":[["d79529e0.3ca1a8","fe0c06ff.30d658"]]},{"id":"ed85a822.a61c08","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":1217.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"34c7660.59bcb9a","type":"http response","z":"96cf880.06b4b78","name":"","x":1292.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"23e05fdf.81da3","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1141.666591644287,"y":3964.7619676589966,"wires":[["34c7660.59bcb9a"]]},{"id":"b692e0ef.c7754","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":939.9999313354492,"y":3914.7619800567627,"wires":[["23e05fdf.81da3","ed85a822.a61c08"]]},{"id":"fcff96e0.950658","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1199.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"af18075.812d8f8","type":"http response","z":"96cf880.06b4b78","name":"","x":1277.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"6d8ee2bc.cc1bbc","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1126.666591644287,"y":4339.761967658997,"wires":[["af18075.812d8f8"]]},{"id":"9a8b5b8c.5c96e8","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1214.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"44f9936f.da617c","type":"http response","z":"96cf880.06b4b78","name":"","x":1292.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"83686959.24bf08","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1141.6664848327637,"y":4684.762179374695,"wires":[["44f9936f.da617c"]]},{"id":"c4b8268.4fabdd8","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":939.9997291564941,"y":4614.762173652649,"wires":[["83686959.24bf08","9a8b5b8c.5c96e8"]]},{"id":"43034d0.42578b4","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1170.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"19dc8bc4.619514","type":"http response","z":"96cf880.06b4b78","name":"","x":1249.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"bb86f154.54e55","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1098.3332328796387,"y":4826.42875957489,"wires":[["19dc8bc4.619514"]]},{"id":"8763d00a.0345f","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":896.6664772033691,"y":4756.428753852844,"wires":[["bb86f154.54e55","43034d0.42578b4"]]},{"id":"66b5d6e9.593f68","type":"comment","z":"96cf880.06b4b78","name":"read_Counter_3","info":"","x":584.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"3dd02bb5.60ac74","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/Counter3","method":"get","swaggerDoc":"","x":265.0277404785156,"y":4917.290402412415,"wires":[["56c4deff.91b9"]]},{"id":"56c4deff.91b9","type":"function","z":"96cf880.06b4b78","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":497.5833053588867,"y":4915.429249763489,"wires":[["4d8cacad.173aa4"]]},{"id":"4d8cacad.173aa4","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":683.5832901000977,"y":4913.679074287415,"wires":[["71c7f230.74734c"],[]]},{"id":"ae334389.3e932","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":254.3332862854004,"y":4876.42907333374,"wires":[["56c4deff.91b9"]]},{"id":"9730d28a.0f271","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":1185.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"f00c240b.18b128","type":"http response","z":"96cf880.06b4b78","name":"","x":1263.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"8d025160.7bccd","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1112.3610343933105,"y":4980,"wires":[["f00c240b.18b128"]]},{"id":"71c7f230.74734c","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":923.7776527404785,"y":4903.206524848938,"wires":[["8d025160.7bccd","9730d28a.0f271"]]},{"id":"e51c1aa.bfab8e8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/send_start_write_date","method":"post","swaggerDoc":"","x":2196.2381744384766,"y":2253.571979045868,"wires":[["ebbdae44.948b3","e73ea0fc.059bd"]]},{"id":"8a709fae.b9704","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3112.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"a73d499f.f87028","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2780.0160369873047,"y":2257.968363761902,"wires":[["8a709fae.b9704"],[]]},{"id":"321a8370.5d5d5c","type":"comment","z":"96cf880.06b4b78","name":"Write_comand_time","info":"","x":2592.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"ebbdae44.948b3","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":2503.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"4df0e697.4694c8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2247.984172821045,"y":2203.2702956199646,"wires":[["e73ea0fc.059bd"]]},{"id":"e73ea0fc.059bd","type":"function","z":"96cf880.06b4b78","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2484.095230102539,"y":2256.1433568000793,"wires":[["1850b13.3106a4f"]]},{"id":"1850b13.3106a4f","type":"function","z":"96cf880.06b4b78","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2614.3810653686523,"y":2257.2544236183167,"wires":[["a73d499f.f87028"]]},{"id":"51a09b86.5217d4","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2880.206615447998,"y":2361.428973674774,"wires":[]},{"id":"f83e2b2f.61cc48","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2676.8736000061035,"y":2363.159381389618,"wires":[["51a09b86.5217d4"],[]]},{"id":"7f6a1436.6ab82c","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":2906.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"5e70784e.855638","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2723.5779876708984,"y":2557.4976358413696,"wires":[["7f6a1436.6ab82c"],[]]},{"id":"252d3d6e.90f062","type":"comment","z":"96cf880.06b4b78","name":"write_18b_status_pump","info":"","x":2505.451011657715,"y":2434.21226978302,"wires":[]},{"id":"bd03bdf7.1a69c","type":"function","z":"96cf880.06b4b78","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2427.419189453125,"y":2555.7677829265594,"wires":[["22dc62fd.a8953e"]]},{"id":"22dc62fd.a8953e","type":"function","z":"96cf880.06b4b78","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2563.244815826416,"y":2558.3074567317963,"wires":[["5e70784e.855638"]]},{"id":"e8eb4ef6.d269c","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/send18bI_status_pump","method":"post","swaggerDoc":"","x":2160.0222549438477,"y":2561.545035123825,"wires":[["717c2f91.db828","bd03bdf7.1a69c"]]},{"id":"717c2f91.db828","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":2412.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"ccca4383.dae19","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2204.990520477295,"y":2490.021152496338,"wires":[["bd03bdf7.1a69c"]]},{"id":"b2d44bb2.59b238","type":"function","z":"96cf880.06b4b78","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2319.0501708984375,"y":2359.2377219200134,"wires":[["ee1cc0a9.1096e"]]},{"id":"ee1cc0a9.1096e","type":"function","z":"96cf880.06b4b78","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2471.936550140381,"y":2360.433000087738,"wires":[["f83e2b2f.61cc48"]]},{"id":"70337985.14bf18","type":"comment","z":"96cf880.06b4b78","name":"Write_comand_time","info":"","x":2637.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"9408fdda.bf943","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/write_date_PLC","method":"post","swaggerDoc":"","x":2087.6863174438477,"y":2357.432972431183,"wires":[["a5f0be4c.8afe6","b2d44bb2.59b238"]]},{"id":"a5f0be4c.8afe6","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":2309.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"8791aee5.5b44e","type":"comment","z":"96cf880.06b4b78","name":"read_Upakovka_5","info":"","x":2352.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"98952d62.deb2","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/Upakovka5","method":"get","swaggerDoc":"","x":2068.6029357910156,"y":2845.4880990982056,"wires":[["4bd47275.c661bc"]]},{"id":"4bd47275.c661bc","type":"function","z":"96cf880.06b4b78","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2298.4918251037598,"y":2829.0436429977417,"wires":[["5c3fc974.361ac8"]]},{"id":"5c3fc974.361ac8","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2457.82515335083,"y":2829.377022743225,"wires":[["ce454c27.f1949"],[]]},{"id":"f7e39bb6.8f0de8","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":2794.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"1cb30d0c.da07e3","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2010.9362487792969,"y":2806.7103662490845,"wires":[["4bd47275.c661bc"]]},{"id":"3446745b.f3464c","type":"http response","z":"96cf880.06b4b78","name":"","x":2922.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"415820cc.b7bcc","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2657.04736328125,"y":2881.82142162323,"wires":[["3446745b.f3464c"]]},{"id":"86be38fa.3af938","type":"comment","z":"96cf880.06b4b78","name":"read_Upakovka_6","info":"","x":2353.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"f2faf454.e1ad58","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/Upakovka6","method":"get","swaggerDoc":"","x":2069.6029357910156,"y":2966.4880990982056,"wires":[["686427ea.9286e8"]]},{"id":"686427ea.9286e8","type":"function","z":"96cf880.06b4b78","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2284.491886138916,"y":2959.0436611175537,"wires":[["ac856b8.55faf98"]]},{"id":"ac856b8.55faf98","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2454.8252296447754,"y":2958.377064704895,"wires":[["cf2ca920.e5b1f8"],[]]},{"id":"2eb84c25.6bf1b4","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2011.9362487792969,"y":2927.7103662490845,"wires":[["686427ea.9286e8"]]},{"id":"95f2e4e0.1c6148","type":"comment","z":"96cf880.06b4b78","name":"REZERVU","info":"","x":2362.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"a4a5da7f.71b3f8","type":"comment","z":"96cf880.06b4b78","name":"T_flow_1","info":"","x":2325.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"50af8c80.540144","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlow1","method":"get","swaggerDoc":"","x":2053.213996887207,"y":3139.3770027160645,"wires":[["995253e3.0ca3e"]]},{"id":"995253e3.0ca3e","type":"function","z":"96cf880.06b4b78","name":"5760+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5760 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2274.213996887207,"y":3137.3770027160645,"wires":[["37a82f9d.e8128"]]},{"id":"37a82f9d.e8128","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2460.213996887207,"y":3144.3770027160645,"wires":[["bc97a32.57a206"],[]]},{"id":"3d8826b4.0adb7a","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2002.213996887207,"y":3088.3770027160645,"wires":[["995253e3.0ca3e"]]},{"id":"382a2274.54a9ee","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2904.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"5a964b44.a0fa44","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2905.547378540039,"y":3206.0436067581177,"wires":[["1bcb4adb.03e515"]]},{"id":"bc97a32.57a206","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2684.9916381835938,"y":3140.4882068634033,"wires":[["5a964b44.a0fa44","382a2274.54a9ee"]]},{"id":"1bcb4adb.03e515","type":"http response","z":"96cf880.06b4b78","name":"","x":3046.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"4286ca8a.2fe8a4","type":"comment","z":"96cf880.06b4b78","name":"T_flow_2","info":"","x":2324.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"5437149d.4bd22c","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlow2","method":"get","swaggerDoc":"","x":2051.7776107788086,"y":3284.724784851074,"wires":[["de70cba9.9908d8"]]},{"id":"de70cba9.9908d8","type":"function","z":"96cf880.06b4b78","name":"5762+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5762 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2272.7776107788086,"y":3282.724784851074,"wires":[["73ecde2c.8b274"]]},{"id":"73ecde2c.8b274","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2458.7776107788086,"y":3289.724784851074,"wires":[["e819048.f900ef8"],[]]},{"id":"3db266d8.db0e4a","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2000.7776107788086,"y":3233.724784851074,"wires":[["de70cba9.9908d8"]]},{"id":"d58c2806.01cdd8","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2903.444305419922,"y":3285.391571998596,"wires":[]},{"id":"48b767d.5437498","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2904.1109924316406,"y":3351.3913888931274,"wires":[["cd39b284.18cc3"]]},{"id":"e819048.f900ef8","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2683.5552520751953,"y":3285.835988998413,"wires":[["48b767d.5437498","d58c2806.01cdd8"]]},{"id":"cd39b284.18cc3","type":"http response","z":"96cf880.06b4b78","name":"","x":3045.221929550171,"y":3350.280333518982,"wires":[]},{"id":"49056b34.640c64","type":"comment","z":"96cf880.06b4b78","name":"T_flow_3","info":"","x":2332.110984802246,"y":3357.28054523468,"wires":[]},{"id":"9828a640.1fe138","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlow3","method":"get","swaggerDoc":"","x":2059.555320739746,"y":3414.724784851074,"wires":[["ef3d5736.22c838"]]},{"id":"ef3d5736.22c838","type":"function","z":"96cf880.06b4b78","name":"5764+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5764 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2280.555320739746,"y":3412.724784851074,"wires":[["89074e61.ee33b"]]},{"id":"89074e61.ee33b","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2466.555320739746,"y":3419.724784851074,"wires":[["9e437451.606a88"],[]]},{"id":"5ad8729.3ab728c","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2008.555320739746,"y":3363.724784851074,"wires":[["ef3d5736.22c838"]]},{"id":"14ec42ef.4bc1ed","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2911.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"dccdf625.1bc828","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2911.888702392578,"y":3481.3913888931274,"wires":[["30a52e9d.243662"]]},{"id":"9e437451.606a88","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2691.332962036133,"y":3415.835988998413,"wires":[["dccdf625.1bc828","14ec42ef.4bc1ed"]]},{"id":"30a52e9d.243662","type":"http response","z":"96cf880.06b4b78","name":"","x":3052.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"533f41b8.f4a0c","type":"comment","z":"96cf880.06b4b78","name":"T_flow_4","info":"","x":2328.777732849121,"y":3491.72488117218,"wires":[]},{"id":"8bd572d9.1ba76","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlow4","method":"get","swaggerDoc":"","x":2056.222068786621,"y":3549.169120788574,"wires":[["d4e3a343.565ae"]]},{"id":"d4e3a343.565ae","type":"function","z":"96cf880.06b4b78","name":"5766+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5766 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2277.222068786621,"y":3547.169120788574,"wires":[["951d16a8.40d478"]]},{"id":"951d16a8.40d478","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2463.222068786621,"y":3554.169120788574,"wires":[["2d31f931.925b46"],[]]},{"id":"57b22f34.21457","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2005.222068786621,"y":3498.169120788574,"wires":[["d4e3a343.565ae"]]},{"id":"60b26435.57267c","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2907.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"63d990c4.2a75e","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2908.555450439453,"y":3615.8357248306274,"wires":[["6264eb36.2056a4"]]},{"id":"2d31f931.925b46","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2687.999710083008,"y":3550.280324935913,"wires":[["63d990c4.2a75e","60b26435.57267c"]]},{"id":"6264eb36.2056a4","type":"http response","z":"96cf880.06b4b78","name":"","x":3049.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"c0a8f4ef.a14708","type":"comment","z":"96cf880.06b4b78","name":"T_flow_5","info":"","x":2323.222068786621,"y":3628.02126789093,"wires":[]},{"id":"8c06e0ab.9740d","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/TFlow5","method":"get","swaggerDoc":"","x":2050.666404724121,"y":3685.465507507324,"wires":[["73979690.40da28"]]},{"id":"73979690.40da28","type":"function","z":"96cf880.06b4b78","name":"5768+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5768 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2271.666404724121,"y":3683.465507507324,"wires":[["da1a746b.2e7c78"]]},{"id":"da1a746b.2e7c78","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2457.666404724121,"y":3690.465507507324,"wires":[["e2d30aa.f54bff8"],[]]},{"id":"92d10a58.4f0828","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1999.666404724121,"y":3634.465507507324,"wires":[["73979690.40da28"]]},{"id":"587be4c7.2ae30c","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":2902.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"3e4c7af0.ed7406","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2902.999786376953,"y":3752.1321115493774,"wires":[["4d5cc905.3f5318"]]},{"id":"e2d30aa.f54bff8","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2682.444046020508,"y":3686.576711654663,"wires":[["3e4c7af0.ed7406","587be4c7.2ae30c"]]},{"id":"4d5cc905.3f5318","type":"http response","z":"96cf880.06b4b78","name":"","x":3044.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"5989c343.9e8a5c","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_flow_1","info":"","x":2398.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"21fc414f.82913e","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostFlow1","method":"get","swaggerDoc":"","x":2071.444305419922,"y":3918.9839572906494,"wires":[["61266731.5b6dc8"]]},{"id":"61266731.5b6dc8","type":"function","z":"96cf880.06b4b78","name":"5772+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5772 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2319.444290161133,"y":3915.9839010238647,"wires":[["428951ea.032a7"]]},{"id":"428951ea.032a7","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2505.444290161133,"y":3922.9839010238647,"wires":[["71b2bc6b.a2e9f4"],[]]},{"id":"f8e9b4ca.03c9f8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2047.4442901611328,"y":3866.9839010238647,"wires":[["61266731.5b6dc8"]]},{"id":"71b2bc6b.a2e9f4","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2752.7774696350098,"y":3923.3170289993286,"wires":[["8d447738.0bcd18","5216900b.67f37"]]},{"id":"5216900b.67f37","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3027.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"8d447738.0bcd18","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2954.4442253112793,"y":3993.3170347213745,"wires":[["49cefde8.95aa94"]]},{"id":"49cefde8.95aa94","type":"http response","z":"96cf880.06b4b78","name":"","x":3105.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"2bc9ed1d.afe7f2","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_flow_2","info":"","x":2396.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"b450139c.29867","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostFlow2","method":"get","swaggerDoc":"","x":2077.222137451172,"y":4058.7248516082764,"wires":[["428303ae.f785dc"]]},{"id":"428303ae.f785dc","type":"function","z":"96cf880.06b4b78","name":"5774+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5774 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2317.222122192383,"y":4056.7246236801147,"wires":[["3b50719c.099e5e"]]},{"id":"3b50719c.099e5e","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2503.222122192383,"y":4063.7246236801147,"wires":[["7c477048.9e185"],[]]},{"id":"cbc7279b.c152d8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2045.2221221923828,"y":4007.7246236801147,"wires":[["428303ae.f785dc"]]},{"id":"7c477048.9e185","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5553016662598,"y":4064.0577516555786,"wires":[["422008b.48bb8f8","3d2e371e.3ead98"]]},{"id":"3d2e371e.3ead98","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3024.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"422008b.48bb8f8","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2952.2220573425293,"y":4134.0577573776245,"wires":[["fe72ff75.1c973"]]},{"id":"fe72ff75.1c973","type":"http response","z":"96cf880.06b4b78","name":"","x":3103.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"6e757113.a1b96","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_flow_3","info":"","x":2383.222068786621,"y":4156.16921710968,"wires":[]},{"id":"e6109510.3ba278","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostFlow3","method":"get","swaggerDoc":"","x":2065.8888092041016,"y":4218.502855300903,"wires":[["7afbd210.70d5bc"]]},{"id":"7afbd210.70d5bc","type":"function","z":"96cf880.06b4b78","name":"5776+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5776 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2303.8887481689453,"y":4214.502455711365,"wires":[["8801a41e.1515b8"]]},{"id":"8801a41e.1515b8","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2489.8887481689453,"y":4221.502455711365,"wires":[["cbf3db7e.dca4e8"],[]]},{"id":"13f70bcc.1c06c4","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2031.8887481689453,"y":4165.502455711365,"wires":[["7afbd210.70d5bc"]]},{"id":"cbf3db7e.dca4e8","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2737.2219276428223,"y":4221.835583686829,"wires":[["91e32a2f.4bc3b8","88282798.03a388"]]},{"id":"88282798.03a388","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3011.555389404297,"y":4219.168959617615,"wires":[]},{"id":"91e32a2f.4bc3b8","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2938.888683319092,"y":4291.8355894088745,"wires":[["e906cfaf.c01a3"]]},{"id":"e906cfaf.c01a3","type":"http response","z":"96cf880.06b4b78","name":"","x":3089.999652862549,"y":4289.613339424133,"wires":[]},{"id":"ea3b54b0.4845f8","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_flow_4","info":"","x":2385.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"a6f69256.b8eca","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostFlow4","method":"get","swaggerDoc":"","x":2061.1109771728516,"y":4360.947525978088,"wires":[["2cd4a6da.8f255a"]]},{"id":"2cd4a6da.8f255a","type":"function","z":"96cf880.06b4b78","name":"5778+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5778 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2306.111038208008,"y":4358.94703578949,"wires":[["37fa0f55.2e86f"]]},{"id":"37fa0f55.2e86f","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2492.111038208008,"y":4365.94703578949,"wires":[["b2c78322.abac"],[]]},{"id":"5a0083e2.cadeac","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2034.1110382080078,"y":4309.94703578949,"wires":[["2cd4a6da.8f255a"]]},{"id":"b2c78322.abac","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2739.4442176818848,"y":4366.280163764954,"wires":[["a3b50a82.463118","1817df7f.31af81"]]},{"id":"1817df7f.31af81","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3013.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"a3b50a82.463118","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2941.1109733581543,"y":4436.2801694869995,"wires":[["872355f0.8fa658"]]},{"id":"872355f0.8fa658","type":"http response","z":"96cf880.06b4b78","name":"","x":3092.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"18e2c76b.e253e9","type":"comment","z":"96cf880.06b4b78","name":"read_Plotnost_flow_5","info":"","x":2385.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"8b5cfdee.b413a","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/PlotnostFlow5","method":"get","swaggerDoc":"","x":2056.5396881103516,"y":4524.068830490112,"wires":[["27cf5c6e.35ec84"]]},{"id":"27cf5c6e.35ec84","type":"function","z":"96cf880.06b4b78","name":"5780+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5780 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2306.111038208008,"y":4516.35426235199,"wires":[["3e87c93b.46bd26"]]},{"id":"3e87c93b.46bd26","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2492.111038208008,"y":4523.35426235199,"wires":[["37ec1ec7.584ab2"],[]]},{"id":"1720f201.f4b3fe","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2034.1110382080078,"y":4467.35426235199,"wires":[["27cf5c6e.35ec84"]]},{"id":"37ec1ec7.584ab2","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2739.4442176818848,"y":4523.687390327454,"wires":[["a5de5738.455db8","7ccada37.ebb6d4"]]},{"id":"7ccada37.ebb6d4","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3013.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"a5de5738.455db8","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2941.1109733581543,"y":4593.6873960494995,"wires":[["d85f5a92.c43428"]]},{"id":"d85f5a92.c43428","type":"http response","z":"96cf880.06b4b78","name":"","x":3092.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"6d2054af.1af29c","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":910.3333435058594,"y":4277.76233291626,"wires":[["fcff96e0.950658","6d8ee2bc.cc1bbc"]]},{"id":"34eb8ec9.e80932","type":"comment","z":"96cf880.06b4b78","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":3948.7423706054688,"y":80.86333560943604,"wires":[]},{"id":"b48319e9.b90a08","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/setOrders","method":"get","swaggerDoc":"","x":260.99993896484375,"y":417.10199069976807,"wires":[["24a31c54.6d2b54"]]},{"id":"b7883aa.87332c8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":233.7777099609375,"y":370.4353017807007,"wires":[["24a31c54.6d2b54"]]},{"id":"4dcfb69.d812748","type":"comment","z":"96cf880.06b4b78","name":"Read_R5004 5005 5006","info":"","x":539.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"24a31c54.6d2b54","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":457.69913482666016,"y":418.76868438720703,"wires":[["cabbd499.598fb8"]]},{"id":"82fe952d.e46c58","type":"function","z":"96cf880.06b4b78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":799.3656234741211,"y":708.7686910629272,"wires":[["7a993fd3.3719"]]},{"id":"7a993fd3.3719","type":"function","z":"96cf880.06b4b78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":935.7110481262207,"y":710.3043146133423,"wires":[["4d680d6c.52d424","df7363a9.4d574"]]},{"id":"4d680d6c.52d424","type":"http response","z":"96cf880.06b4b78","name":"","x":1107.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"df7363a9.4d574","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":1126.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"cabbd499.598fb8","type":"function","z":"96cf880.06b4b78","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":651.0322647094727,"y":412.1020460128784,"wires":[["f87f6359.4eb2"]]},{"id":"725ef732.82b498","type":"function","z":"96cf880.06b4b78","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":617.6988296508789,"y":482.10202503204346,"wires":[["228c2cc5.a19cf4"]]},{"id":"f87f6359.4eb2","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":879.3656005859375,"y":413.76866817474365,"wires":[["367a6282.f6d99e"],[]]},{"id":"228c2cc5.a19cf4","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":837.6988525390625,"y":492.102011680603,"wires":[["b80e5a8e.1ac018"],[]]},{"id":"c4a75643.2bbcb8","type":"function","z":"96cf880.06b4b78","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":617.6989974975586,"y":547.1020450592041,"wires":[["f6c8425b.80afa"]]},{"id":"f6c8425b.80afa","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":825.3139419555664,"y":555.7012310028076,"wires":[["b7709116.c5ffb"],[]]},{"id":"b7709116.c5ffb","type":"function","z":"96cf880.06b4b78","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1029.294303894043,"y":551.5662603378296,"wires":[["ae2669eb.c09d98"]]},{"id":"ae2669eb.c09d98","type":"function","z":"96cf880.06b4b78","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":622.6989974975586,"y":605.4353580474854,"wires":[["a807d565.725b98"]]},{"id":"a807d565.725b98","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":830.3139419555664,"y":614.0345439910889,"wires":[["82fe952d.e46c58"],[]]},{"id":"367a6282.f6d99e","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1057.6992530822754,"y":410.4353551864624,"wires":[["725ef732.82b498"]]},{"id":"b80e5a8e.1ac018","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1049.3653564453125,"y":487.1020498275757,"wires":[["c4a75643.2bbcb8"]]},{"id":"944de6e0.4de798","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2158.5280380249023,"y":1039.005986213684,"wires":[["c4d977e8.b35278","ff99481.3a843b8"]]},{"id":"8b502b5e.125fc8","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":854.5992813110352,"y":2768.827723503113,"wires":[["4655a809.479418","c9dddc64.90983"]]},{"id":"ce454c27.f1949","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2637.4564819335938,"y":2751.862946510315,"wires":[["415820cc.b7bcc","f7e39bb6.8f0de8"]]},{"id":"1ad65c0b.69b024","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":2911.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"15567b73.daa985","type":"http response","z":"96cf880.06b4b78","name":"","x":2913.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"d902b9bf.701588","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.6627197265625,"y":3024.59291267395,"wires":[["15567b73.daa985"]]},{"id":"cf2ca920.e5b1f8","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2695.071823120117,"y":2950.3485898971558,"wires":[["d902b9bf.701588","1ad65c0b.69b024"]]},{"id":"d476d7c7.fd5c58","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3582.6664428710938,"y":950.4288034439087,"wires":[["39195751.6cdf58"],[]]},{"id":"e7b7ddbc.ecc4a","type":"function","z":"96cf880.06b4b78","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3410.047348022461,"y":953.0479164123535,"wires":[["d476d7c7.fd5c58"]]},{"id":"39195751.6cdf58","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3803.8571815490723,"y":936.3813934326172,"wires":[["31429086.fcc08"]]},{"id":"2f8c5640.7f803a","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3218.1428756713867,"y":954.0002775192261,"wires":[["e7b7ddbc.ecc4a"]]},{"id":"31429086.fcc08","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3990.4912033081055,"y":924.9526329040527,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f1d8897d.afc518"]]},{"id":"a26a42b9.51a62","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":3001.364303588867,"y":902.8098621368408,"wires":[["2f8c5640.7f803a"]]},{"id":"dcd8f2b4.17e87","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/StatusKlapan","method":"get","swaggerDoc":"","x":2965.729331970215,"y":955.190803527832,"wires":[["2f8c5640.7f803a"]]},{"id":"f1d8897d.afc518","type":"function","z":"96cf880.06b4b78","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3228.142593383789,"y":1074.9527111053467,"wires":[["c36a1f67.51db4"]]},{"id":"c36a1f67.51db4","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3439.094955444336,"y":1087.8096866607666,"wires":[["724193c6.0fa6fc"],[]]},{"id":"724193c6.0fa6fc","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3708.856861114502,"y":1067.8097858428955,"wires":[["ff808766.0fa7e8"]]},{"id":"ff808766.0fa7e8","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4132.396045684814,"y":1055.1906471252441,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3136a8ad.f2ce48"],[]]},{"id":"3136a8ad.f2ce48","type":"function","z":"96cf880.06b4b78","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3140.967559814453,"y":1177.8098001480103,"wires":[["41d96117.7aafe"]]},{"id":"41d96117.7aafe","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3345.253059387207,"y":1174.9526920318604,"wires":[["1ea2c1e2.5e4d6e"],[]]},{"id":"1ea2c1e2.5e4d6e","type":"function","z":"96cf880.06b4b78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3526.681739807129,"y":1169.2384977340698,"wires":[["4c800edb.30017"]]},{"id":"4c800edb.30017","type":"function","z":"96cf880.06b4b78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":3707.3129348754883,"y":1173.6313376426697,"wires":[["8627ed78.a8ef8","f711aaae.1ffaa8"]]},{"id":"8627ed78.a8ef8","type":"http response","z":"96cf880.06b4b78","name":"","x":3965.812816619873,"y":1208.7623615264893,"wires":[]},{"id":"f711aaae.1ffaa8","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3984.801067352295,"y":1245.3931074142456,"wires":[]},{"id":"6cc96c6f.9cd104","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":3008.189682006836,"y":447.09555292129517,"wires":[["5c31e9d1.d39708"]]},{"id":"5c31e9d1.d39708","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3224.9682540893555,"y":498.2859683036804,"wires":[["13d8a7b8.efa668"]]},{"id":"13d8a7b8.efa668","type":"function","z":"96cf880.06b4b78","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3406.8727264404297,"y":497.33360719680786,"wires":[["30003de8.d25412"]]},{"id":"ebce7c75.be687","type":"function","z":"96cf880.06b4b78","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3324.967975616455,"y":595.9050297737122,"wires":[["a83c26b4.0adea8"]]},{"id":"30003de8.d25412","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3589.4918212890625,"y":494.71449422836304,"wires":[["2d996f70.86d74"],[]]},{"id":"a83c26b4.0adea8","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3579.253589630127,"y":598.7621150016785,"wires":[["5f6e2396.abbc4c"],[]]},{"id":"2d996f70.86d74","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3790.682518005371,"y":495.66707849502563,"wires":[["7c70eceb.725eb4"]]},{"id":"5f6e2396.abbc4c","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":3782.34881401062,"y":593.7620978355408,"wires":[["4a01f1bc.410ce"]]},{"id":"7c70eceb.725eb4","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3963.983299255371,"y":390.9049859046936,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["ebce7c75.be687"]]},{"id":"4a01f1bc.410ce","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4125.8880615234375,"y":549.4763603210449,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["454de1f8.0d0fa"],[],[]]},{"id":"454de1f8.0d0fa","type":"function","z":"96cf880.06b4b78","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3241.1262283325195,"y":680.4287605285645,"wires":[["b664df81.bcbac"]]},{"id":"b664df81.bcbac","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3437.078399658203,"y":689.2382879257202,"wires":[["8e0f412e.a97cc"],[]]},{"id":"8e0f412e.a97cc","type":"function","z":"96cf880.06b4b78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":3638.5071411132812,"y":690.190839767456,"wires":[["273b019c.4b864e"]]},{"id":"273b019c.4b864e","type":"function","z":"96cf880.06b4b78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":3772.4716796875,"y":692.9169445037842,"wires":[["be70c452.3a16c8","964cea06.681968"]]},{"id":"be70c452.3a16c8","type":"http response","z":"96cf880.06b4b78","name":"","x":3929.3048515319824,"y":693.0479040145874,"wires":[]},{"id":"964cea06.681968","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":3963.2931365966797,"y":741.345386505127,"wires":[]},{"id":"ab8277ae.ec5db8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/StatusPump","method":"get","swaggerDoc":"","x":2962.5547103881836,"y":499.4764943122864,"wires":[["5c31e9d1.d39708"]]},{"id":"a9a50aa3.c63938","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2510.0397033691406,"y":256.58710765838623,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a0b30f11.c5aaf"]]},{"id":"a9d4e16d.b2816","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1718.7896270751953,"y":292.83710384368896,"wires":[["99f9dfc6.c427b"]]},{"id":"99f9dfc6.c427b","type":"function","z":"96cf880.06b4b78","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1864.62308883667,"y":294.08710384368896,"wires":[["687a5915.95aaa8"]]},{"id":"687a5915.95aaa8","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":2043.3729553222656,"y":299.08710765838623,"wires":[["85907a99.54cdb8"],[]]},{"id":"85907a99.54cdb8","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2243.3729553222656,"y":292.83710765838623,"wires":[["a9a50aa3.c63938"]]},{"id":"a0b30f11.c5aaf","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1725.8730926513672,"y":363.08714294433594,"wires":[["6a149b5e.e5ce24"]]},{"id":"6a149b5e.e5ce24","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1947.873104095459,"y":369.08710384368896,"wires":[["d1c595d6.be1c98"],[]]},{"id":"d1c595d6.be1c98","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2149.6229972839355,"y":367.0870819091797,"wires":[["a126f24f.5d806"]]},{"id":"a126f24f.5d806","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2631.5398597717285,"y":398.3371229171753,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3c451aaa.e78516"],[]]},{"id":"3c451aaa.e78516","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1715.8730926513672,"y":431.83710765838623,"wires":[["d1b7fe69.f3907"]]},{"id":"d1b7fe69.f3907","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1950.8731079101562,"y":427.83706760406494,"wires":[["2836d51a.602aea"],[]]},{"id":"2836d51a.602aea","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2155.6229972839355,"y":423.83706760406494,"wires":[["ebd682a0.fd7d3"]]},{"id":"ebd682a0.fd7d3","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2386.706214904785,"y":484.08709239959717,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["948b1a24.d1abb8"],[],[]]},{"id":"948b1a24.d1abb8","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1712.706428527832,"y":500.58715534210205,"wires":[["cc97ad47.67628"]]},{"id":"cc97ad47.67628","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1953.706443786621,"y":504.5870752334595,"wires":[["48b3bde0.803c64"],[]]},{"id":"48b3bde0.803c64","type":"function","z":"96cf880.06b4b78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2146.213815689087,"y":500.59924125671387,"wires":[["28c84ac5.a3b2e6"]]},{"id":"28c84ac5.a3b2e6","type":"function","z":"96cf880.06b4b78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":1974.178466796875,"y":577.3253564834595,"wires":[["9cc3aa2d.fcf568","3c2d869b.e0653a"]]},{"id":"9cc3aa2d.fcf568","type":"http response","z":"96cf880.06b4b78","name":"","x":2153.0116844177246,"y":569.4562978744507,"wires":[]},{"id":"3c2d869b.e0653a","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":2210.999969482422,"y":625.7537851333618,"wires":[]},{"id":"56945b5f.e33cf4","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3565.380859375,"y":1828.09521484375,"wires":[["7efe6f32.6f3e7"]]},{"id":"7efe6f32.6f3e7","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0,\n  \"bit_5\": 0,\n  \"bit_6\": 0,\n  \"bit_7\": 0,\n  \"bit_8\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3846.3251037597656,"y":1880.8011617660522,"wires":[["23a3332b.61194c"]]},{"id":"15166646.7e9baa","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/RegisterError","method":"get","swaggerDoc":"","x":3543.5235748291016,"y":1889.0952701568604,"wires":[["7efe6f32.6f3e7"]]},{"id":"23a3332b.61194c","type":"function","z":"96cf880.06b4b78","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4002.1585655212402,"y":1882.0511617660522,"wires":[["ea325dca.0a07f"]]},{"id":"ea325dca.0a07f","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4170.908432006836,"y":1887.0511655807495,"wires":[["406154ea.bdd58c"],[]]},{"id":"406154ea.bdd58c","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4370.908432006836,"y":1880.8011655807495,"wires":[["5a20e9fc.11bdb8"]]},{"id":"5a20e9fc.11bdb8","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4577.576030731201,"y":1811.6941757202148,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["3215902d.1ab0b"]]},{"id":"3215902d.1ab0b","type":"function","z":"96cf880.06b4b78","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3853.4085693359375,"y":1951.0512008666992,"wires":[["4ee776d1.f6c578"]]},{"id":"4ee776d1.f6c578","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4075.4085807800293,"y":1957.0511617660522,"wires":[["c186ff3d.06b6b"],[]]},{"id":"c186ff3d.06b6b","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4277.158473968506,"y":1955.051139831543,"wires":[["caa9fcf.7328f"]]},{"id":"caa9fcf.7328f","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4760.504146575928,"y":1926.3012161254883,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["2ad9fa4b.8676f6"],[]]},{"id":"2ad9fa4b.8676f6","type":"function","z":"96cf880.06b4b78","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3843.4085693359375,"y":2019.8011655807495,"wires":[["45b5fcd.a7a9204"]]},{"id":"45b5fcd.a7a9204","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4078.4085845947266,"y":2015.8011255264282,"wires":[["99744c87.b7f25"],[]]},{"id":"99744c87.b7f25","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4283.158473968506,"y":2011.8011255264282,"wires":[["41d8405d.eedaf"]]},{"id":"41d8405d.eedaf","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4461.3843421936035,"y":2106.3369140625,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["640751a7.ab94b"],[],[]]},{"id":"640751a7.ab94b","type":"function","z":"96cf880.06b4b78","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3840.2419052124023,"y":2088.5512132644653,"wires":[["b35a1560.3c76c8"]]},{"id":"b35a1560.3c76c8","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4081.2419204711914,"y":2092.5511331558228,"wires":[["25c11b93.82e044"],[]]},{"id":"25c11b93.82e044","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4285.10676574707,"y":2088.535484313965,"wires":[["976d532f.b695c"]]},{"id":"976d532f.b695c","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4649.106716156006,"y":2160.6070098876953,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["85ad2aa.9e98ed8"],[],[],[]]},{"id":"85ad2aa.9e98ed8","type":"function","z":"96cf880.06b4b78","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3797.9640045166016,"y":2195.6786165237427,"wires":[["f306330d.14c9a"]]},{"id":"f306330d.14c9a","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4046.106903076172,"y":2183.964157104492,"wires":[["7ebb4d17.29c344"],[]]},{"id":"7ebb4d17.29c344","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4247.114471435547,"y":2188.519994735718,"wires":[["b59097b7.383148"]]},{"id":"b59097b7.383148","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4796.678314208984,"y":2289.5355834960938,"wires":[[],[],[],[],[],[],[],[],[],[],[],["b17c52f4.645c2"],[],[],[],[]]},{"id":"b17c52f4.645c2","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_5","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3781.1066551208496,"y":2277.106867790222,"wires":[["33861848.2c8748"]]},{"id":"33861848.2c8748","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4044.2495727539062,"y":2268.3926753997803,"wires":[["2a98372a.c7df88"],[]]},{"id":"2a98372a.c7df88","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4239.29719543457,"y":2259.2021102905273,"wires":[["befe0855.a35768"]]},{"id":"befe0855.a35768","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4513.297458648682,"y":2362.535499572754,"wires":[[],[],[],[],[],[],[],[],[],[],["caafeb9c.0ffb38"],[],[],[],[],[]]},{"id":"caafeb9c.0ffb38","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_6","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_5 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3781.2974128723145,"y":2354.8693265914917,"wires":[["385f53b2.6ac1bc"]]},{"id":"385f53b2.6ac1bc","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4011.440330505371,"y":2414.1548080444336,"wires":[["a1bef0a3.5a195"],[]]},{"id":"93e4359a.422fc8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":205.01953125,"y":980.00390625,"wires":[["66b6b45e.0b623c"]]},{"id":"66b6b45e.0b623c","type":"function","z":"96cf880.06b4b78","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n /*var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('res_resetError',msg.res);\nmsg.req = '';\nmsg.res = '';\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":447.19419860839844,"y":1041.730146408081,"wires":[["15ecf78d.bbf798"]]},{"id":"15ecf78d.bbf798","type":"function","z":"96cf880.06b4b78","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":421.82908630371094,"y":963.6230449676514,"wires":[["b7490015.75e15"]]},{"id":"b7490015.75e15","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":603.6070327758789,"y":935.178544998169,"wires":[["301659af.bc5b96"],[]]},{"id":"301659af.bc5b96","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":796.1706771850586,"y":930.2438125610352,"wires":[["8f1f9491.94c108"]]},{"id":"8f1f9491.94c108","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":988.4956665039062,"y":898.2897491455078,"wires":[[],[],[],[],[],[],[],[],[],[],[],["860fa427.59efc8"],[],[],[],[]]},{"id":"860fa427.59efc8","type":"function","z":"96cf880.06b4b78","name":"bit_4_analis","func":"var if_bit_4_0 = 32768\nvar if_bit_4_1 = 32784;\nvar bit_4 = msg.payload;\nvar send_25 = 0;\n\n\nif(bit_4 == 1){\n    send_25 = if_bit_4_1;\n}else{\n    send_25 = if_bit_4_0;\n}\n\nflow.set('send_25',send_25);\nmsg.payload = \"\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":672.3289566040039,"y":1032.9562244415283,"wires":[["ae6ff070.95a39"]]},{"id":"ae6ff070.95a39","type":"function","z":"96cf880.06b4b78","name":"25","func":"var send_25 = flow.get('send_25');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': send_25, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":834.4443626403809,"y":1030.8411502838135,"wires":[["56fb8f68.5d975"]]},{"id":"56fb8f68.5d975","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":1036.9722061157227,"y":1041.1744842529297,"wires":[["2488e106.52306e"],["3e81ea67.d64bc6"]]},{"id":"2488e106.52306e","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":1166.5552253723145,"y":973.8133163452148,"wires":[]},{"id":"3e81ea67.d64bc6","type":"delay","z":"96cf880.06b4b78","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":275.4004707336426,"y":1112.9088973999023,"wires":[["afbacad8.8e9268"]]},{"id":"afbacad8.8e9268","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"//var cmd_and_5002 = msg.payload;\nvar cmd_and_5002 = \n{\n  \"cmd_and_5002\": 0\n};\n\nflow.set('cmd_and_5002',cmd_and_5002);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":447.76943588256836,"y":1117.5873279571533,"wires":[["7d94ed1a.e92864"]]},{"id":"7d94ed1a.e92864","type":"function","z":"96cf880.06b4b78","name":"R_5002","func":"var cmd_and_5002 = flow.get('cmd_and_5002');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd_and_5002.cmd_and_5002, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":578.0194244384766,"y":1121.0039234161377,"wires":[["1b48c357.5bd04d"]]},{"id":"1b48c357.5bd04d","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":746.9083137512207,"y":1122.1150550842285,"wires":[[],["5eb2a17b.5c72c","e10e303a.e69b2"]]},{"id":"5eb2a17b.5c72c","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":932.2138633728027,"y":1127.5873394012451,"wires":[]},{"id":"e10e303a.e69b2","type":"function","z":"96cf880.06b4b78","name":"","func":"msg.payload = \"ok\";\nmsg.res = flow.get('res_resetError');\nreturn msg;\n\n","outputs":1,"noerr":0,"x":599.1622886657715,"y":1185.9562339782715,"wires":[["a1187d36.84129","569b7b4d.de5914"]]},{"id":"a1187d36.84129","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":794.1622543334961,"y":1261.956163406372,"wires":[]},{"id":"569b7b4d.de5914","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":846.1625595092773,"y":1194.9562854766846,"wires":[]},{"id":"e0ae0f5d.7b3eb","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":429.1622734069824,"y":1167.9562330245972,"wires":[["e10e303a.e69b2"]]},{"id":"68a4f3e3.9b1fec","type":"function","z":"96cf880.06b4b78","name":"with_1c","func":"var setflowstar = msg.payload;\n/* var setflowstar = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstar',setflowstar);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":433.0244140625,"y":2986.254638671875,"wires":[["de71deec.ba356"]]},{"id":"de71deec.ba356","type":"function","z":"96cf880.06b4b78","name":"To float","func":"var x = flow.get('setflowstar').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":581.2743186950684,"y":2985.727306365967,"wires":[["917fc2d7.e1cda"]]},{"id":"1f2f385b.c60c38","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":277.7466049194336,"y":2956.810047149658,"wires":[["68a4f3e3.9b1fec"]]},{"id":"917fc2d7.e1cda","type":"function","z":"96cf880.06b4b78","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":722.3576545715332,"y":2985.4488105773926,"wires":[["e785e720.b482e8"]]},{"id":"e785e720.b482e8","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":917.7709884643555,"y":2970.703601837158,"wires":[["54c16601.c4d538"],[]]},{"id":"54c16601.c4d538","type":"function","z":"96cf880.06b4b78","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1115.7661056518555,"y":2964.202869415283,"wires":[["950f9067.a8194","d737454f.2e5788"]]},{"id":"950f9067.a8194","type":"debug","z":"96cf880.06b4b78","name":"","active":true,"console":"false","complete":"payload","x":1322.3577346801758,"y":3002.06010723114,"wires":[]},{"id":"d737454f.2e5788","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":1326.3577194213867,"y":2949.4213123321533,"wires":[]},{"id":"66d15440.3435cc","type":"function","z":"96cf880.06b4b78","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":511.138916015625,"y":3259.9163208007812,"wires":[["c224b254.9e7c"]]},{"id":"c224b254.9e7c","type":"function","z":"96cf880.06b4b78","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":648.1388168334961,"y":3253.527711868286,"wires":[["6fb3f3ca.298efc"]]},{"id":"6fb3f3ca.298efc","type":"function","z":"96cf880.06b4b78","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":781.8332786560059,"y":3252.416079521179,"wires":[["52eb50be.f9792"]]},{"id":"52eb50be.f9792","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":951.4166793823242,"y":3250.971743583679,"wires":[["71441325.127efc"],[]]},{"id":"71441325.127efc","type":"function","z":"96cf880.06b4b78","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1150.2139282226562,"y":3248.2814979553223,"wires":[["f3e6f24c.c2bc4","449c2e7e.70188"]]},{"id":"f3e6f24c.c2bc4","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1356.8055572509766,"y":3286.138735771179,"wires":[]},{"id":"449c2e7e.70188","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":1360.8055419921875,"y":3233.4999408721924,"wires":[]},{"id":"af9d6b45.503238","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":526.138916015625,"y":3741.471923828125,"wires":[["3aea9fa1.879"]]},{"id":"3aea9fa1.879","type":"function","z":"96cf880.06b4b78","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":658.6387825012207,"y":3744.5829849243164,"wires":[["bd3cfe66.859"]]},{"id":"bd3cfe66.859","type":"function","z":"96cf880.06b4b78","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":793.5832443237305,"y":3741.7214126586914,"wires":[["9fd5fc3f.e1f09"]]},{"id":"9fd5fc3f.e1f09","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":958.1666145324707,"y":3723.7770767211914,"wires":[["3732a657.7bc40a"],[]]},{"id":"3732a657.7bc40a","type":"function","z":"96cf880.06b4b78","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1178.6306457519531,"y":3718.559076309204,"wires":[["81ac1853.517088","576129e8.f3cef8"]]},{"id":"81ac1853.517088","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1346.2222137451172,"y":3679.4161920547485,"wires":[]},{"id":"576129e8.f3cef8","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":1222.222225189209,"y":3612.7775201797485,"wires":[]},{"id":"8a98275b.d14958","type":"function","z":"96cf880.06b4b78","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":464.3890571594238,"y":4134.278314590454,"wires":[["fb3c948a.429bb8"]]},{"id":"fb3c948a.429bb8","type":"function","z":"96cf880.06b4b78","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":618.8889045715332,"y":4133.389316558838,"wires":[["7dd07a25.8d8f34"]]},{"id":"7dd07a25.8d8f34","type":"function","z":"96cf880.06b4b78","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":787.3332481384277,"y":4128.277338027954,"wires":[["59783259.cc3d8c"]]},{"id":"59783259.cc3d8c","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":954.4166679382324,"y":4127.832675933838,"wires":[["7a0ffd45.abbf84"],[]]},{"id":"7a0ffd45.abbf84","type":"function","z":"96cf880.06b4b78","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1157.0389976501465,"y":4124.701787948608,"wires":[["9b2750bb.7dc1d","7867674f.e2b6f8"]]},{"id":"7867674f.e2b6f8","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":1380.6306114196777,"y":4075.920232772827,"wires":[]},{"id":"9b2750bb.7dc1d","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":1376.630558013916,"y":4129.55902671814,"wires":[]},{"id":"31d82056.51995","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_7","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_6 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3733.0000610351562,"y":2565.00004196167,"wires":[["699f319f.538b5"]]},{"id":"699f319f.538b5","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3968.392646789551,"y":2579.03568649292,"wires":[["9cd63113.180e2"],[]]},{"id":"9cd63113.180e2","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4197.3332595825195,"y":2567.749761581421,"wires":[["b34f65c8.54d618"]]},{"id":"1fcff4ac.65293b","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4184.166458129883,"y":2699.249481201172,"wires":[["e853fd08.cdb28"]]},{"id":"b4fdac1e.126ec","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3955.225845336914,"y":2710.535406112671,"wires":[["1fcff4ac.65293b"],[]]},{"id":"c2b0615e.a2132","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_7 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3719.8332595825195,"y":2696.499761581421,"wires":[["b4fdac1e.126ec"]]},{"id":"7034a440.a030ec","type":"function","z":"96cf880.06b4b78","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_8 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3717.3332595825195,"y":2815.249761581421,"wires":[["e0ec8bda.98e808"]]},{"id":"e0ec8bda.98e808","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":3952.725845336914,"y":2829.285406112671,"wires":[["81701657.50cb58"],[]]},{"id":"81701657.50cb58","type":"function","z":"96cf880.06b4b78","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4135.488594055176,"y":2845.7302742004395,"wires":[["f082f95f.379848"]]},{"id":"f082f95f.379848","type":"function","z":"96cf880.06b4b78","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4281.418285369873,"y":2833.099413871765,"wires":[["ae85677c.9e9178","123a894d.fb66d7"]]},{"id":"ae85677c.9e9178","type":"http response","z":"96cf880.06b4b78","name":"","x":4463.965648651123,"y":2839.123339653015,"wires":[]},{"id":"123a894d.fb66d7","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":4433.025218963623,"y":2908.1353034973145,"wires":[]},{"id":"e853fd08.cdb28","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4653.583324432373,"y":2751.499807357788,"wires":[[],[],[],[],[],[],[],["7034a440.a030ec"],[],[],[],[],[],[],[],[]]},{"id":"b34f65c8.54d618","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4509.833324432373,"y":2636.499807357788,"wires":[[],[],[],[],[],[],[],[],["c2b0615e.a2132"],[],[],[],[],[],[],[]]},{"id":"e18df5ce.1a4a58","type":"function","z":"96cf880.06b4b78","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4655.500560760498,"y":2457.5000381469727,"wires":[[],[],[],[],[],[],[],[],[],["31d82056.51995"],[],[],[],[],[],[]]},{"id":"a1bef0a3.5a195","type":"function","z":"96cf880.06b4b78","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4241.6904945373535,"y":2434.595253944397,"wires":[["e18df5ce.1a4a58"]]},{"id":"b4da6417.1fd1c8","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3590.5,"y":3080,"wires":[["ccee03b3.0db96"]]},{"id":"ccee03b3.0db96","type":"function","z":"96cf880.06b4b78","name":"with_1c","func":"var CorrectionSetpoint = msg.payload;\n/* var CorrectionSetpoint = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('CorrectionSetpoint',CorrectionSetpoint);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3865.9445266723633,"y":3152.13894367218,"wires":[["8b3948bc.1e0958"]]},{"id":"93f64512.42d2f8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/CorrectionSetpoint","method":"post","swaggerDoc":"","x":3611.5,"y":3153.666893005371,"wires":[["ccee03b3.0db96"]]},{"id":"8b3948bc.1e0958","type":"function","z":"96cf880.06b4b78","name":"To float","func":"var x = flow.get('CorrectionSetpoint').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4002.9444274902344,"y":3145.750334739685,"wires":[["d3e2c6b7.2932c8"]]},{"id":"d3e2c6b7.2932c8","type":"function","z":"96cf880.06b4b78","name":"6000+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6000, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4136.638889312744,"y":3144.638702392578,"wires":[["6da1c160.31321"]]},{"id":"41eb2217.2b5c6c","type":"comment","z":"96cf880.06b4b78","name":"write_/CorrectionSetpoint","info":"","x":4010.05558013916,"y":3079.8608860969543,"wires":[]},{"id":"6279ec1b.3e5ba4","type":"function","z":"96cf880.06b4b78","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4529.25,"y":3145,"wires":[["20162df2.3c7c02","256646ac.d53f3a"]]},{"id":"20162df2.3c7c02","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":4735.84162902832,"y":3182.857237815857,"wires":[]},{"id":"256646ac.d53f3a","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":4739.841613769531,"y":3130.21844291687,"wires":[]},{"id":"1684a254.9ad31e","type":"function","z":"96cf880.06b4b78","name":"6000+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6000 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3869.25,"y":3315,"wires":[["d9db73b8.90e58"]]},{"id":"4543dce7.127e44","type":"comment","z":"96cf880.06b4b78","name":"read_CorrectionSetpoint","info":"","x":4017.5833129882812,"y":3256.110878944397,"wires":[]},{"id":"a96d64fa.e5ec48","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4351.027606964111,"y":3318.110939979553,"wires":[["7480d58.36c482c","4a96ecd3.fc5f84"]]},{"id":"7480d58.36c482c","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4552.694362640381,"y":3388.110945701599,"wires":[["bac68abb.550d48"]]},{"id":"bac68abb.550d48","type":"http response","z":"96cf880.06b4b78","name":"","x":4703.805332183838,"y":3385.888695716858,"wires":[]},{"id":"4a96ecd3.fc5f84","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":4625.361068725586,"y":3315.4443159103394,"wires":[]},{"id":"985af11.8bffc1","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/CorrectionSetpoint","method":"get","swaggerDoc":"","x":3611.25,"y":3306.999861717224,"wires":[["1684a254.9ad31e"]]},{"id":"d9db73b8.90e58","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4093,"y":3320,"wires":[["a96d64fa.e5ec48"],[]]},{"id":"3f47f999.9e0766","type":"inject","z":"96cf880.06b4b78","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3583,"y":3448.75,"wires":[["6c1049f5.c54ef8"]]},{"id":"6c1049f5.c54ef8","type":"function","z":"96cf880.06b4b78","name":"with_1c","func":"var rezerv6002 = msg.payload;\n/* var rezerv6002 = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('rezerv6002',rezerv6002);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3858.4445266723633,"y":3520.88894367218,"wires":[["1eeb8e5.c886b72"]]},{"id":"bf2ef961.8af638","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/rezerv6002","method":"post","swaggerDoc":"","x":3574,"y":3522.416893005371,"wires":[["6c1049f5.c54ef8"]]},{"id":"1eeb8e5.c886b72","type":"function","z":"96cf880.06b4b78","name":"To float","func":"var x = flow.get('rezerv6002').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":3995.4444274902344,"y":3514.500334739685,"wires":[["7f9f0788.b11f28"]]},{"id":"7f9f0788.b11f28","type":"function","z":"96cf880.06b4b78","name":"6002+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6002, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4129.138889312744,"y":3513.388702392578,"wires":[["e7eef7ed.03cbb8"]]},{"id":"bf07b171.baf2f","type":"comment","z":"96cf880.06b4b78","name":"write_rezerv6002","info":"","x":3972.55558013916,"y":3448.6108860969543,"wires":[]},{"id":"74f36a89.336854","type":"function","z":"96cf880.06b4b78","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4521.75,"y":3513.75,"wires":[["3b4e9efd.42bd22","ea0d5d87.f91e2"]]},{"id":"3b4e9efd.42bd22","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":4728.34162902832,"y":3551.607237815857,"wires":[]},{"id":"ea0d5d87.f91e2","type":"http response","z":"96cf880.06b4b78","name":"send to 1C","x":4732.341613769531,"y":3498.96844291687,"wires":[]},{"id":"6de6cd7f.daa174","type":"function","z":"96cf880.06b4b78","name":"6002+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6002 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3861.75,"y":3683.75,"wires":[["7b39b544.25c91c"]]},{"id":"d300c2b2.1388b","type":"comment","z":"96cf880.06b4b78","name":"read_rezerv6002","info":"","x":3980.0833129882812,"y":3624.860878944397,"wires":[]},{"id":"a2d2c084.3baef","type":"function","z":"96cf880.06b4b78","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4343.527606964111,"y":3686.860939979553,"wires":[["3ac3d0b8.d72a5","877dcc14.7c91e"]]},{"id":"3ac3d0b8.d72a5","type":"function","z":"96cf880.06b4b78","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4545.194362640381,"y":3756.860945701599,"wires":[["be5ccec0.50d59"]]},{"id":"be5ccec0.50d59","type":"http response","z":"96cf880.06b4b78","name":"","x":4696.305332183838,"y":3754.638695716858,"wires":[]},{"id":"877dcc14.7c91e","type":"debug","z":"96cf880.06b4b78","name":"","active":false,"console":"false","complete":"payload","x":4617.861068725586,"y":3684.1943159103394,"wires":[]},{"id":"5d7048e3.03ccd8","type":"http in","z":"96cf880.06b4b78","name":"","url":"/k2/rezerv6002","method":"get","swaggerDoc":"","x":3583.75,"y":3675.749861717224,"wires":[["6de6cd7f.daa174"]]},{"id":"7b39b544.25c91c","type":"modbus-flex-getter","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4085.5,"y":3688.75,"wires":[["a2d2c084.3baef"],[]]},{"id":"6da1c160.31321","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4334,"y":3134,"wires":[["6279ec1b.3e5ba4"],[]]},{"id":"e7eef7ed.03cbb8","type":"modbus-flex-write","z":"96cf880.06b4b78","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":4311,"y":3500,"wires":[["74f36a89.336854"],[]]},{"id":"19e7846.3d10e7c","type":"function","z":"3809082e.4a5f28","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["e31ddfa5.7aecc"]]},{"id":"3add4864.7d9d28","type":"inject","z":"3809082e.4a5f28","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["19e7846.3d10e7c"]]},{"id":"df33f4d1.646758","type":"http in","z":"3809082e.4a5f28","name":"","url":"/k2/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["19e7846.3d10e7c"]]},{"id":"8b55a82c.e734c8","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":627.1229553222656,"y":234.18895053863525,"wires":[["84c9f6d6.5345a8"],[]]},{"id":"84c9f6d6.5345a8","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":808.2141876220703,"y":232.85718536376953,"wires":[["8c285fe2.8c2f"]]},{"id":"8132aaea.f9bc08","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":585.1982192993164,"y":279.32783699035645,"wires":[["3363f796.c86f48"],[]]},{"id":"3363f796.c86f48","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":775.3570404052734,"y":278.57147455215454,"wires":[["bf072902.76b548"]]},{"id":"b50c29f4.af2b28","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":597.2417526245117,"y":324.48656940460205,"wires":[["be134773.2b6f88"],[]]},{"id":"be134773.2b6f88","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":801.2221145629883,"y":320.351598739624,"wires":[["4440d7ae.6a7d48"]]},{"id":"1b7bd9dd.976da6","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":604.7417984008789,"y":372.700870513916,"wires":[["f9a6e150.d9388"],[]]},{"id":"f9a6e150.d9388","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":805.0437622070312,"y":365.8278532028198,"wires":[["4c19c53.ce18b3c"]]},{"id":"9308eaaf.6e2008","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":601.4005355834961,"y":419.1015748977661,"wires":[["6d7a6dc9.4ab0b4"],[]]},{"id":"6d7a6dc9.4ab0b4","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.8453674316406,"y":413.65710830688477,"wires":[["ec551301.23c25"]]},{"id":"7302e8d0.cf4f78","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":602.7057266235352,"y":462.5817823410034,"wires":[["8378002.dd308"],[]]},{"id":"8378002.dd308","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":797.2933387756348,"y":458.5658645629883,"wires":[["d2a363e1.4c56a"]]},{"id":"9e6c6198.94d81","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":600.5628623962402,"y":513.8317775726318,"wires":[["57686378.f0169c"],[]]},{"id":"57686378.f0169c","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":806.5790710449219,"y":498.3872718811035,"wires":[["683e8736.60e7f8"]]},{"id":"8bc3509f.3ab2e","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":600.0271911621094,"y":560.7960548400879,"wires":[["4e8033c3.5be62c"],[]]},{"id":"4e8033c3.5be62c","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.6147842407227,"y":549.6373100280762,"wires":[["6555e4a9.45022c"]]},{"id":"c8107bfb.e64698","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":607.8843231201172,"y":605.0817642211914,"wires":[["a960f3e1.ac31c"],[]]},{"id":"a960f3e1.ac31c","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":808.1862144470215,"y":598.2087173461914,"wires":[["776e2160.e6d7d"]]},{"id":"f779d736.715128","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":603.1346893310547,"y":657.1651706695557,"wires":[["44e57ff4.e2055"],[]]},{"id":"44e57ff4.e2055","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.2933387756348,"y":652.9706268310547,"wires":[["e89a4593.56f0f8"]]},{"id":"5503a60f.38c648","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":602.6267395019531,"y":708.2324261665344,"wires":[["c7f28266.e7d5f"],[]]},{"id":"c7f28266.e7d5f","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":807.214427947998,"y":702.7879877090454,"wires":[["fd5ef454.482648"]]},{"id":"7d070e95.3f81a","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":616.7890205383301,"y":758.8554773330688,"wires":[["c4cfe5db.c9e388"],[]]},{"id":"c4cfe5db.c9e388","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":794.2338333129883,"y":757.6967029571533,"wires":[["49afe593.ac18cc"]]},{"id":"e91ff4c6.1829c8","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":617.5032806396484,"y":805.8197631835938,"wires":[["c8c90b5a.12e4c8"],[]]},{"id":"c8c90b5a.12e4c8","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":804.948127746582,"y":806.0895957946777,"wires":[["81fb260a.e7bd68"]]},{"id":"84e530dc.70a51","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":614.1104202270508,"y":855.6412906646729,"wires":[["757eeab8.02e514"],[]]},{"id":"757eeab8.02e514","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":810.1267166137695,"y":855.9111061096191,"wires":[["61af93ae.56826c"]]},{"id":"5f6eb960.b05db8","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":613.3961601257324,"y":909.9270133972168,"wires":[["9730e3b.71b032"],[]]},{"id":"9730e3b.71b032","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":829.412446975708,"y":905.9110794067383,"wires":[["d21a0572.694d58"]]},{"id":"3d331498.9d14dc","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":605.7894058227539,"y":956.2960872650146,"wires":[["ff666b64.4449a8"],[]]},{"id":"ff666b64.4449a8","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(4));\n\nreturn msg;","outputs":1,"noerr":0,"x":821.3767242431641,"y":959.2444286346436,"wires":[["58ed4cea.ceb134"]]},{"id":"963c606b.1c264","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":607.6388473510742,"y":1004.8016843795776,"wires":[["cee7f972.5baf48"],[]]},{"id":"cee7f972.5baf48","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":815.8729705810547,"y":1002.0413913726807,"wires":[["461aaef8.8be6e"]]},{"id":"3798e404.36de0c","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":607.6388626098633,"y":1063.3731002807617,"wires":[["acf2ba84.b960a8"],[]]},{"id":"acf2ba84.b960a8","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":813.0158462524414,"y":1053.4698905944824,"wires":[["7c2c7a6d.195884"]]},{"id":"ce355843.68b698","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":607.6388626098633,"y":1121.9444847106934,"wires":[["a893df30.44712"],[]]},{"id":"a893df30.44712","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":821.587287902832,"y":1114.8984069824219,"wires":[["d072f164.51806"]]},{"id":"f4dd7dd3.0099c","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":613.3532180786133,"y":1160.5160179138184,"wires":[["eea0b2dc.c2ce"],[]]},{"id":"eea0b2dc.c2ce","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":811.5872039794922,"y":1157.7556552886963,"wires":[["82c52b58.173b88"]]},{"id":"d58143c1.7bfc9","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":620.4960327148438,"y":1231.944471359253,"wires":[["8fc7a8cf.1364f8"],[]]},{"id":"8fc7a8cf.1364f8","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.7300643920898,"y":1216.327018737793,"wires":[["544d6fc.12a2a9"]]},{"id":"ceff4213.5589f","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":599.0674362182617,"y":1303.3730735778809,"wires":[["6f6ee0e0.cfff5"],[]]},{"id":"6f6ee0e0.cfff5","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":807.3015441894531,"y":1287.755723953247,"wires":[["db59dfd4.39e25"]]},{"id":"8d0950dd.cbf49","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":599.0674247741699,"y":1353.3731546401978,"wires":[["c600aea7.d89a2"],[]]},{"id":"c600aea7.d89a2","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":801.5872764587402,"y":1344.8984060287476,"wires":[["55b39990.ee8298"]]},{"id":"ee5b62f.c6d08a","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":603.3531494140625,"y":1401.9444751739502,"wires":[["7ce49855.325198"],[]]},{"id":"7ce49855.325198","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":805.8729782104492,"y":1394.8983316421509,"wires":[["6dd97368.fb2c1c"]]},{"id":"d3028941.c6ee48","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":617.6389122009277,"y":1450.516077041626,"wires":[["9d54392c.386f68"],[]]},{"id":"9d54392c.386f68","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":820.1586570739746,"y":1442.0412578582764,"wires":[["2f988a34.3422b6"]]},{"id":"58bf80d7.5d84c","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":611.9246253967285,"y":1503.3731718063354,"wires":[["81f9de81.e2d65"],[]]},{"id":"81f9de81.e2d65","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.872917175293,"y":1499.1840858459473,"wires":[["6e421ac4.9de574"]]},{"id":"a3ba4714.39ec18","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":619.0476379394531,"y":1559.5240449905396,"wires":[["256e3fef.acf2"],[]]},{"id":"256e3fef.acf2","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.428466796875,"y":1560.000096321106,"wires":[["81194fe.9cca5b"]]},{"id":"a70f4838.686748","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":638.4919395446777,"y":1633.4127979278564,"wires":[["d225b395.77642"],[]]},{"id":"d225b395.77642","type":"function","z":"3809082e.4a5f28","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.5713195800781,"y":1630.0001306533813,"wires":[["f97c45d3.9b9e28"]]},{"id":"c7beccbd.7070b","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":635.158763885498,"y":1675.0794277191162,"wires":[["ab4b2a9d.609418"],[]]},{"id":"ab4b2a9d.609418","type":"function","z":"3809082e.4a5f28","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8570556640625,"y":1680.000096321106,"wires":[["7392e08c.a41ca"]]},{"id":"7743a2e0.bb857c","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":625.1586799621582,"y":1718.4127435684204,"wires":[["e41cdc14.5ac66"],[]]},{"id":"e41cdc14.5ac66","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.7141723632812,"y":1735.714451789856,"wires":[["4f8f2417.47c52c"]]},{"id":"c82ac849.509c18","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":626.8253440856934,"y":1773.412766456604,"wires":[["b006e943.69f168"],[]]},{"id":"b006e943.69f168","type":"function","z":"3809082e.4a5f28","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.428466796875,"y":1780.0002403259277,"wires":[["1ed19552.99040b"]]},{"id":"39644d40.4a57a2","type":"modbus-flex-getter","z":"3809082e.4a5f28","name":"","showStatusActivities":false,"showErrors":false,"server":"834a531c.c0124","x":619.9027214050293,"y":1831.1948499679565,"wires":[["2d601b73.c27f04"],[]]},{"id":"2d601b73.c27f04","type":"function","z":"3809082e.4a5f28","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":792.8570785522461,"y":1828.5714378356934,"wires":[["cf5299c6.3f8d18"]]},{"id":"cf5299c6.3f8d18","type":"function","z":"3809082e.4a5f28","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":929.2025032043457,"y":1830.1070613861084,"wires":[["2a8abafd.8df3a6","7fc1c37.ab2bd3c"]]},{"id":"2a8abafd.8df3a6","type":"http response","z":"3809082e.4a5f28","name":"","x":1100.5596656799316,"y":1792.381085395813,"wires":[]},{"id":"7fc1c37.ab2bd3c","type":"debug","z":"3809082e.4a5f28","name":"","active":true,"console":"false","complete":"payload","x":1119.5479164123535,"y":1829.0118312835693,"wires":[]},{"id":"1ed19552.99040b","type":"function","z":"3809082e.4a5f28","name":"5751","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":357.21228408813477,"y":1826.0932893753052,"wires":[["39644d40.4a57a2"]]},{"id":"4f8f2417.47c52c","type":"function","z":"3809082e.4a5f28","name":"5751_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":362.5793991088867,"y":1776.2000570297241,"wires":[["c82ac849.509c18"]]},{"id":"7392e08c.a41ca","type":"function","z":"3809082e.4a5f28","name":"5750_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5750 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":359.5794372558594,"y":1722.199891090393,"wires":[["7743a2e0.bb857c"]]},{"id":"f97c45d3.9b9e28","type":"function","z":"3809082e.4a5f28","name":"5748_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5748 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":346.9128875732422,"y":1676.8667182922363,"wires":[["c7beccbd.7070b"]]},{"id":"81194fe.9cca5b","type":"function","z":"3809082e.4a5f28","name":"5744_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5744 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":368.912841796875,"y":1627.8668775558472,"wires":[["a70f4838.686748"]]},{"id":"6e421ac4.9de574","type":"function","z":"3809082e.4a5f28","name":"5742_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5742 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":349.3571472167969,"y":1567.422212600708,"wires":[["a3ba4714.39ec18"]]},{"id":"2f988a34.3422b6","type":"function","z":"3809082e.4a5f28","name":"R_5741_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5741 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":363.8571472167969,"y":1517.9934978485107,"wires":[["58bf80d7.5d84c"]]},{"id":"6dd97368.fb2c1c","type":"function","z":"3809082e.4a5f28","name":"R_5740_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5740 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":365.00001525878906,"y":1461.7082567214966,"wires":[["d3028941.c6ee48"]]},{"id":"55b39990.ee8298","type":"function","z":"3809082e.4a5f28","name":"R_5739_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5739 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":365.1428527832031,"y":1414.9938983917236,"wires":[["ee5b62f.c6d08a"]]},{"id":"db59dfd4.39e25","type":"function","z":"3809082e.4a5f28","name":"R_5738_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5738 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":356.7143096923828,"y":1357.4222803115845,"wires":[["8d0950dd.cbf49"]]},{"id":"544d6fc.12a2a9","type":"function","z":"3809082e.4a5f28","name":"R_5737_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5737 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":362.1428680419922,"y":1299.9938507080078,"wires":[["ceff4213.5589f"]]},{"id":"82c52b58.173b88","type":"function","z":"3809082e.4a5f28","name":"R_5736_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5736 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":362.42858123779297,"y":1233.422233581543,"wires":[["d58143c1.7bfc9"]]},{"id":"d072f164.51806","type":"function","z":"3809082e.4a5f28","name":"R_5735_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5735 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":366.85716247558594,"y":1159.5651741027832,"wires":[["f4dd7dd3.0099c"]]},{"id":"7c2c7a6d.195884","type":"function","z":"3809082e.4a5f28","name":"R_5734_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5734 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":373.2857208251953,"y":1111.850814819336,"wires":[["ce355843.68b698"]]},{"id":"461aaef8.8be6e","type":"function","z":"3809082e.4a5f28","name":"R_5733_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5733 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":359.8571472167969,"y":1056.1364555358887,"wires":[["3798e404.36de0c"]]},{"id":"58ed4cea.ceb134","type":"function","z":"3809082e.4a5f28","name":"R_5732_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5732 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":366.8571319580078,"y":1006.1365756988525,"wires":[["963c606b.1c264"]]},{"id":"d21a0572.694d58","type":"function","z":"3809082e.4a5f28","name":"5730+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5730 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":358.1149444580078,"y":954.1785640716553,"wires":[["3d331498.9d14dc"]]},{"id":"61af93ae.56826c","type":"function","z":"3809082e.4a5f28","name":"5728+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5728 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":365.5553741455078,"y":904.9762506484985,"wires":[["5f6eb960.b05db8"]]},{"id":"81fb260a.e7bd68","type":"function","z":"3809082e.4a5f28","name":"5726+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5726 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":361.23394775390625,"y":846.9047336578369,"wires":[["84e530dc.70a51"]]},{"id":"49afe593.ac18cc","type":"function","z":"3809082e.4a5f28","name":"5724+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5724 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":358.16249084472656,"y":794.0475521087646,"wires":[["e91ff4c6.1829c8"]]},{"id":"fd5ef454.482648","type":"function","z":"3809082e.4a5f28","name":"5722+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5722 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":362.6982116699219,"y":753.2260980606079,"wires":[["7d070e95.3f81a"]]},{"id":"e89a4593.56f0f8","type":"function","z":"3809082e.4a5f28","name":"5720+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5720 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":371.94837188720703,"y":709.08327293396,"wires":[["5503a60f.38c648"]]},{"id":"776e2160.e6d7d","type":"function","z":"3809082e.4a5f28","name":"5718+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5718 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":369.0316467285156,"y":654.4762363433838,"wires":[["f779d736.715128"]]},{"id":"6555e4a9.45022c","type":"function","z":"3809082e.4a5f28","name":"5716+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5716 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":363.47203063964844,"y":606.2739210128784,"wires":[["c8107bfb.e64698"]]},{"id":"683e8736.60e7f8","type":"function","z":"3809082e.4a5f28","name":"5714+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5714 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":371.150634765625,"y":559.4881114959717,"wires":[["8bc3509f.3ab2e"]]},{"id":"d2a363e1.4c56a","type":"function","z":"3809082e.4a5f28","name":"5712+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5712 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":373.6506652832031,"y":513.2023220062256,"wires":[["9e6c6198.94d81"]]},{"id":"ec551301.23c25","type":"function","z":"3809082e.4a5f28","name":"5710+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5710 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.90065002441406,"y":463.0952215194702,"wires":[["7302e8d0.cf4f78"]]},{"id":"4c19c53.ce18b3c","type":"function","z":"3809082e.4a5f28","name":"5708+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5708 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":371.2936096191406,"y":417.952356338501,"wires":[["9308eaaf.6e2008"]]},{"id":"4440d7ae.6a7d48","type":"function","z":"3809082e.4a5f28","name":"5706+1_Counterr_1v","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5706 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":377.6388473510742,"y":370.8690605163574,"wires":[["1b7bd9dd.976da6"]]},{"id":"bf072902.76b548","type":"function","z":"3809082e.4a5f28","name":"5704+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5704 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":373.6031036376953,"y":326.11911964416504,"wires":[["b50c29f4.af2b28"]]},{"id":"8c285fe2.8c2f","type":"function","z":"3809082e.4a5f28","name":"5703_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5703 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":388.7816467285156,"y":285.797664642334,"wires":[["8132aaea.f9bc08"]]},{"id":"e31ddfa5.7aecc","type":"function","z":"3809082e.4a5f28","name":"R_5702_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5702 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":395.9126281738281,"y":235.6667013168335,"wires":[["8b55a82c.e734c8"]]},{"id":"6629af0d.8ede1","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["a2719af0.906f98","1a0af26e.b1eece"]]},{"id":"52bc95b5.3aceec","type":"function","z":"d87addf3.3252","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["6629af0d.8ede1"]]},{"id":"1a0af26e.b1eece","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"bfa53c31.5298d","type":"function","z":"d87addf3.3252","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["52bc95b5.3aceec"]]},{"id":"d2e8a8a3.fe97c8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["bfa53c31.5298d","e99650de.a74bb"]]},{"id":"820e7bd5.9676d8","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["bfa53c31.5298d"]]},{"id":"a0816a15.8f51c8","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":767.5554809570312,"y":173.65108585357666,"wires":[["1a0af26e.b1eece"],["f1b5c9cd.0db718"]]},{"id":"f1b5c9cd.0db718","type":"function","z":"d87addf3.3252","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["eea072aa.b6752"]]},{"id":"eea072aa.b6752","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":644,"y":222.76220798492432,"wires":[[],["ca927353.14e1e"]]},{"id":"696318d8.556fc8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/status","method":"get","swaggerDoc":"","x":1936.095573425293,"y":813.9210004806519,"wires":[["f2fe6b4e.b960c8"]]},{"id":"e99650de.a74bb","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"3e19808e.0d4cb","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/status","method":"post","swaggerDoc":"","x":1910.2622909545898,"y":984.0042934417725,"wires":[["4780c021.cb044","d8dc27f0.b55268"]]},{"id":"4780c021.cb044","type":"function","z":"d87addf3.3252","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2142.512237548828,"y":982.2543087005615,"wires":[["bd431d9e.9a354"]]},{"id":"bd431d9e.9a354","type":"function","z":"d87addf3.3252","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2272.7622261047363,"y":985.6709041595459,"wires":[["a72a8979.ca8eb8"]]},{"id":"2b8d21f7.9033fe","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2676.1750717163086,"y":814.5559377670288,"wires":[]},{"id":"8e229442.dceea8","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1928.8733444213867,"y":767.2543115615845,"wires":[["f2fe6b4e.b960c8"]]},{"id":"a72a8979.ca8eb8","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2441.6511154174805,"y":986.7820358276367,"wires":[[],["19c835f2.9495fa"]]},{"id":"19c835f2.9495fa","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2626.9566650390625,"y":992.2543201446533,"wires":[]},{"id":"3109727a.ad7d2e","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2294.6789169311523,"y":816.2265462875366,"wires":[["3e3a2d6f.7fbe72"],[]]},{"id":"f2fe6b4e.b960c8","type":"function","z":"d87addf3.3252","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2120.901134490967,"y":814.0043230056763,"wires":[["3109727a.ad7d2e"]]},{"id":"7a3f168f.23f4d8","type":"comment","z":"d87addf3.3252","name":"Read_R5002","info":"","x":2236.762252807617,"y":769.1431903839111,"wires":[]},{"id":"78aed02.a517e3","type":"comment","z":"d87addf3.3252","name":"Write_R5002","info":"","x":2234.7344284057617,"y":868.9209852218628,"wires":[]},{"id":"dcac471f.81ea28","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1912.5122375488281,"y":942.2543087005615,"wires":[["4780c021.cb044"]]},{"id":"3a7832ae.4f354e","type":"http response","z":"d87addf3.3252","name":"","x":2728.1590690612793,"y":873.7622737884521,"wires":[]},{"id":"33e29d49.9122f2","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2508.3177490234375,"y":870.5876893997192,"wires":[["3a7832ae.4f354e"]]},{"id":"ca927353.14e1e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"f72e38c5.53edd8","type":"function","z":"d87addf3.3252","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["a0816a15.8f51c8"]]},{"id":"a2719af0.906f98","type":"function","z":"d87addf3.3252","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["f72e38c5.53edd8"]]},{"id":"c95ac22d.68cfe","type":"comment","z":"d87addf3.3252","name":"read_PLC input status","info":"","x":2169.0956802368164,"y":534.2543087005615,"wires":[]},{"id":"c859f1cd.248fe","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PLCInputStatus","method":"get","swaggerDoc":"","x":1887.6512336730957,"y":573.4765977859497,"wires":[["9d7be7c2.4b0968"]]},{"id":"9d7be7c2.4b0968","type":"function","z":"d87addf3.3252","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2088.6512336730957,"y":571.4765977859497,"wires":[["80795d31.e5aa"]]},{"id":"80795d31.e5aa","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2284.6512336730957,"y":578.4765977859497,"wires":[["3baeb758.e5ae18","cf9f26e9.ac9498"],[]]},{"id":"3baeb758.e5ae18","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2483.6512336730957,"y":572.4765977859497,"wires":[]},{"id":"b6f48431.cc9678","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1826.6512336730957,"y":522.4765977859497,"wires":[["9d7be7c2.4b0968"]]},{"id":"a4b571e8.e57da","type":"comment","z":"d87addf3.3252","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"4e2b92bc.aa708c","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["31cdaeea.64a582"]]},{"id":"31cdaeea.64a582","type":"function","z":"d87addf3.3252","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["b2e6df9e.1b6a8"]]},{"id":"b2e6df9e.1b6a8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":724.9999389648438,"y":1374.3176727294922,"wires":[["349f9a0a.fa7a46"],[]]},{"id":"31b0915d.743b7e","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["31cdaeea.64a582"]]},{"id":"b63b0a46.631988","type":"comment","z":"d87addf3.3252","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"89b745ea.aa8ad8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["30b2cdc3.243862"]]},{"id":"30b2cdc3.243862","type":"function","z":"d87addf3.3252","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["61764ac1.e75d44"]]},{"id":"61764ac1.e75d44","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":729.4443817138672,"y":1509.7620887756348,"wires":[["123f082.55ba9f8"],[]]},{"id":"aee2b90c.294788","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["30b2cdc3.243862"]]},{"id":"a398d9a9.8557b8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/resetError","method":"post","swaggerDoc":"","x":221,"y":1076.0954837799072,"wires":[["b4d8073b.dc1a08"]]},{"id":"4ac25b56.fab7c4","type":"comment","z":"d87addf3.3252","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"76f26316.cf5d4c","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["5c0ad795.b8cb58"]]},{"id":"5c0ad795.b8cb58","type":"function","z":"d87addf3.3252","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["bd2a41c6.12fc6"]]},{"id":"bd2a41c6.12fc6","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":734.4443817138672,"y":1683.7620887756348,"wires":[["e2eb320d.89d9e"],[]]},{"id":"739b03cd.a1f28c","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"2755fb26.bafd54","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["5c0ad795.b8cb58"]]},{"id":"322df8fe.008218","type":"comment","z":"d87addf3.3252","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"b2225f72.3b5dc","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["ce9c1dab.fb3ae"]]},{"id":"ce9c1dab.fb3ae","type":"function","z":"d87addf3.3252","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["f136e9a3.601218"]]},{"id":"f136e9a3.601218","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":729.4443817138672,"y":1845.7620887756348,"wires":[["13cdc2df.5849ad"],[]]},{"id":"49f8e66a.eb40b8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"17e98f7e.ba2cf1","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["ce9c1dab.fb3ae"]]},{"id":"b2b187c9.bac4c8","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"10e9ff10.f7fe61","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostFlow","method":"get","swaggerDoc":"","x":290.7777404785156,"y":2006.0954418182373,"wires":[["2276d37a.8cc2fc"]]},{"id":"2276d37a.8cc2fc","type":"function","z":"d87addf3.3252","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["776792b1.3fd55c"]]},{"id":"776792b1.3fd55c","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":729.4443817138672,"y":1997.7620887756348,"wires":[["887c12a4.80981"],[]]},{"id":"ad9994b2.b2f268","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["2276d37a.8cc2fc"]]},{"id":"4de58812.12a488","type":"comment","z":"d87addf3.3252","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"548aebd5.363fa4","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlowMiddle","method":"get","swaggerDoc":"","x":342.4443817138672,"y":2154.7620887756348,"wires":[["c0b37f6f.61e1c"]]},{"id":"c0b37f6f.61e1c","type":"function","z":"d87addf3.3252","name":"5770+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5770 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":543.4443817138672,"y":2152.7620887756348,"wires":[["d955c820.5131b8"]]},{"id":"d955c820.5131b8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":729.4443817138672,"y":2159.7620887756348,"wires":[["6114a108.9e5b6"],[]]},{"id":"8049aadd.527668","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["c0b37f6f.61e1c"]]},{"id":"ce7d03be.4ce19","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"f27f7d7e.8cdb6","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostMiddle","method":"get","swaggerDoc":"","x":272.3333282470703,"y":2337.7623596191406,"wires":[["ea3e0894.ec1ab8"]]},{"id":"ea3e0894.ec1ab8","type":"function","z":"d87addf3.3252","name":"5782+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5782 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":546.3333358764648,"y":2339.762237548828,"wires":[["5d80d6ef.d83c38"]]},{"id":"5d80d6ef.d83c38","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":736.3333129882812,"y":2342.7621850967407,"wires":[["2642ce77.ae88c2"],[]]},{"id":"78542ff1.a0e47","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["ea3e0894.ec1ab8"]]},{"id":"66057d5a.3e4ab4","type":"comment","z":"d87addf3.3252","name":"write_error_reset","info":"","x":668.7777709960938,"y":870.0954818725586,"wires":[]},{"id":"68792ce2.6e5e54","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["aae66638.8816d8","54d1e0dd.5bf7f"]]},{"id":"9d18cc23.6d24e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"3afbe7c7.b129c8","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["9d18cc23.6d24e"]]},{"id":"9f69d14.a348f3","type":"function","z":"d87addf3.3252","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["3afbe7c7.b129c8"]]},{"id":"aae66638.8816d8","type":"function","z":"d87addf3.3252","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["9f69d14.a348f3"]]},{"id":"6923d58a.07c03c","type":"comment","z":"d87addf3.3252","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"48f4170d.75ef58","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["76647f77.ec947","25a805cd.7242fa"]]},{"id":"f44d7a25.e76938","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"4b152944.fd5738","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":902.055534362793,"y":2665.151086807251,"wires":[[],["f44d7a25.e76938"]]},{"id":"81eb578c.2dab98","type":"function","z":"d87addf3.3252","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["4b152944.fd5738"]]},{"id":"76647f77.ec947","type":"function","z":"d87addf3.3252","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["81eb578c.2dab98"]]},{"id":"de5f2a4c.9c4ab8","type":"comment","z":"d87addf3.3252","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"6cd5de02.494c","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/SetLflowStart","method":"post","swaggerDoc":"","x":145,"y":2912.650941848755,"wires":[["821a2581.139fe8"]]},{"id":"1b5a9467.37d19c","type":"comment","z":"d87addf3.3252","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"ee3eb886.5e48e8","type":"comment","z":"d87addf3.3252","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"3caaff3b.efdc8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/SetLflowStart","method":"get","swaggerDoc":"","x":305.94439697265625,"y":3130.178955078125,"wires":[["a11cc56a.8d0508"]]},{"id":"a11cc56a.8d0508","type":"function","z":"d87addf3.3252","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["b68802dd.808f4"]]},{"id":"b68802dd.808f4","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":794.1944046020508,"y":3101.178910255432,"wires":[["32eb305d.d4a4b"],[]]},{"id":"a2851519.9d06e8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"f2ccee01.2df6e","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["a11cc56a.8d0508"]]},{"id":"8ef9124d.99061","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["8ef8fba0.41a228"]]},{"id":"cf4b256d.c1b7d8","type":"comment","z":"d87addf3.3252","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"b06211df.e703c","type":"comment","z":"d87addf3.3252","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"38c9e365.5b5a5c","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["ae1970a6.1cd87"]]},{"id":"ae1970a6.1cd87","type":"function","z":"d87addf3.3252","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["82afb416.5a3ef8"]]},{"id":"82afb416.5a3ef8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":801.5554809570312,"y":3394.650938987732,"wires":[["8a59c622.2de378"],[]]},{"id":"b0b47a3f.5bfa58","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["ae1970a6.1cd87"]]},{"id":"7c4756a2.235c28","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["486b01f6.fc688"]]},{"id":"3dd69f1c.baaac","type":"comment","z":"d87addf3.3252","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"846aa181.1fc44","type":"comment","z":"d87addf3.3252","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"f2106cdf.9e419","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["d31d7bc9.54f938"]]},{"id":"d31d7bc9.54f938","type":"function","z":"d87addf3.3252","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["2691d86f.dc4788"]]},{"id":"2691d86f.dc4788","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":774.8888473510742,"y":3898.678889274597,"wires":[["87c3a9be.a49688"],[]]},{"id":"53f341fb.8a54c","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["d31d7bc9.54f938"]]},{"id":"1c5dbfd8.67638","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["88dfd4b3.714ef8"]]},{"id":"a65ffeba.fc9c2","type":"comment","z":"d87addf3.3252","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"5da80ab1.7dbb94","type":"comment","z":"d87addf3.3252","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"9dd7d5ad.053488","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["b641210e.18943"]]},{"id":"b641210e.18943","type":"function","z":"d87addf3.3252","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["bca7b2d3.05514"]]},{"id":"bca7b2d3.05514","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":739.8888473510742,"y":4276.734314918518,"wires":[["dfc062e6.e64c5"],[]]},{"id":"13705be4.cccc64","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["b641210e.18943"]]},{"id":"76188dc4.fee054","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[[]]},{"id":"d8dc27f0.b55268","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":2162.512222290039,"y":924.476505279541,"wires":[]},{"id":"c545d558.c80fc8","type":"comment","z":"d87addf3.3252","name":"read_Upakovka_marshrut","info":"","x":2195.127056121826,"y":55.98460006713867,"wires":[]},{"id":"fc4789e5.03ef18","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1869.460506439209,"y":134.5400514602661,"wires":[["e11f05d9.7667b8"]]},{"id":"649d5d9a.edffd4","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1833.7937507629395,"y":79.76232147216797,"wires":[["e11f05d9.7667b8"]]},{"id":"81e45e3f.4137a","type":"http response","z":"d87addf3.3252","name":"","x":2627.2067680358887,"y":612.8099565505981,"wires":[]},{"id":"cf9f26e9.ac9498","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2471.6512145996094,"y":617.2543792724609,"wires":[["81e45e3f.4137a"]]},{"id":"85766c91.2003c","type":"http response","z":"d87addf3.3252","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"e614ef8e.2df6d","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["85766c91.2003c"]]},{"id":"2fc5188d.0a48d8","type":"http response","z":"d87addf3.3252","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"42fa6a03.5c4d74","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["2fc5188d.0a48d8"]]},{"id":"25a805cd.7242fa","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"54d1e0dd.5bf7f","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"415e95db.c4879c","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["7008d0c5.152c3"]]},{"id":"e9c3c5fa.8dafb8","type":"comment","z":"d87addf3.3252","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"7008d0c5.152c3","type":"function","z":"d87addf3.3252","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["6b70a23f.798d0c"]]},{"id":"6b70a23f.798d0c","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":729.2499389648438,"y":2824.178864479065,"wires":[["deaf707b.dbef3"],[]]},{"id":"e8ec7b4.3799288","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"cfc1b274.83a53","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["1402eaa4.0a2c75"]]},{"id":"1402eaa4.0a2c75","type":"http response","z":"d87addf3.3252","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"fc2f654f.b09fb8","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["7008d0c5.152c3"]]},{"id":"25b0bb5.8434f44","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["ec23be2e.847b5"]]},{"id":"ec23be2e.847b5","type":"http response","z":"d87addf3.3252","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"67cdc4c5.f56b8c","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[[]]},{"id":"5d906fba.65879","type":"comment","z":"d87addf3.3252","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"3f922ba1.266704","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["5bdc5f0d.057c4"]]},{"id":"5bdc5f0d.057c4","type":"function","z":"d87addf3.3252","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["580fc08c.3e81e"]]},{"id":"580fc08c.3e81e","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":736.5554885864258,"y":4617.726898193359,"wires":[["b05e13ba.5e248"],[]]},{"id":"34d660e.ecc33a","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["5bdc5f0d.057c4"]]},{"id":"4b64a8bc.3ea528","type":"comment","z":"d87addf3.3252","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"559b2f9e.3c194","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["67e2b0b8.5bc8a"]]},{"id":"67e2b0b8.5bc8a","type":"function","z":"d87addf3.3252","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["8bce26fa.a796f8"]]},{"id":"8bce26fa.a796f8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":736.5554885864258,"y":4760.107833862305,"wires":[["7ca8dcc.7ecc824"],[]]},{"id":"8cd7a6df.b45dc8","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["67e2b0b8.5bc8a"]]},{"id":"32eb305d.d4a4b","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["a2851519.9d06e8","25b0bb5.8434f44"]]},{"id":"13cdc2df.5849ad","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["49f8e66a.eb40b8","42fa6a03.5c4d74"]]},{"id":"e2eb320d.89d9e","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["e614ef8e.2df6d","739b03cd.a1f28c"]]},{"id":"2d2a96bf.7d456a","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"7cd6854b.d44d6c","type":"http response","z":"d87addf3.3252","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"3b48ea21.880d46","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["7cd6854b.d44d6c"]]},{"id":"123f082.55ba9f8","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["3b48ea21.880d46","2d2a96bf.7d456a"]]},{"id":"7eac3493.c7934c","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"57e9f44f.40f46c","type":"http response","z":"d87addf3.3252","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"86e31d5b.5dca2","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["57e9f44f.40f46c"]]},{"id":"349f9a0a.fa7a46","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["86e31d5b.5dca2","7eac3493.c7934c"]]},{"id":"67672b89.69bb34","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"9c3928cb.fbb858","type":"http response","z":"d87addf3.3252","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"551c7e37.c2c3f","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["9c3928cb.fbb858"]]},{"id":"887c12a4.80981","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["551c7e37.c2c3f","67672b89.69bb34"]]},{"id":"63923fad.41bd6","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"73657352.e5069c","type":"http response","z":"d87addf3.3252","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"9f440040.c5ed3","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["73657352.e5069c"]]},{"id":"6114a108.9e5b6","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["9f440040.c5ed3","63923fad.41bd6"]]},{"id":"f6d75391.933fc","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"6c75347c.b0a4ac","type":"http response","z":"d87addf3.3252","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"edfe311b.bdd4a","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["6c75347c.b0a4ac"]]},{"id":"2642ce77.ae88c2","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["edfe311b.bdd4a","f6d75391.933fc"]]},{"id":"164dba3b.49cf16","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"80fff757.92e768","type":"http response","z":"d87addf3.3252","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"faf4f8dd.1e8358","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["80fff757.92e768"]]},{"id":"8a59c622.2de378","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["faf4f8dd.1e8358","164dba3b.49cf16"]]},{"id":"249bc2ee.080c6e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"19537532.6ff17b","type":"http response","z":"d87addf3.3252","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"81b15322.9d284","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["19537532.6ff17b"]]},{"id":"87c3a9be.a49688","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["81b15322.9d284","249bc2ee.080c6e"]]},{"id":"5d69c32b.b3db6c","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"c10669a9.86d2a8","type":"http response","z":"d87addf3.3252","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"a6436c87.5f214","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["c10669a9.86d2a8"]]},{"id":"5440c11c.f7cec","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"d7b94768.6f1628","type":"http response","z":"d87addf3.3252","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"a8912f3f.fe76a","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["d7b94768.6f1628"]]},{"id":"b05e13ba.5e248","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["a8912f3f.fe76a","5440c11c.f7cec"]]},{"id":"b6dd1f59.dbf13","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"26f62842.bd7a98","type":"http response","z":"d87addf3.3252","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"86b78f8.a29cf7","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["26f62842.bd7a98"]]},{"id":"7ca8dcc.7ecc824","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["86b78f8.a29cf7","b6dd1f59.dbf13"]]},{"id":"d400865e.2d2dc8","type":"comment","z":"d87addf3.3252","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"11fa7987.fb4396","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["c8de572e.c40428"]]},{"id":"c8de572e.c40428","type":"function","z":"d87addf3.3252","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["487b9019.bb69d"]]},{"id":"487b9019.bb69d","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":750.5832901000977,"y":4913.679074287415,"wires":[["68269ff1.ff88"],[]]},{"id":"fc3e14e7.b91998","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["c8de572e.c40428"]]},{"id":"ae136be9.959da8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"e31d935b.6d29d","type":"http response","z":"d87addf3.3252","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"41735dea.558384","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["e31d935b.6d29d"]]},{"id":"68269ff1.ff88","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["41735dea.558384","ae136be9.959da8"]]},{"id":"c509df3f.d17f7","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["4984e597.306fbc","84e04a35.fa8648"]]},{"id":"103ba9de.7ea056","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"1ad864a2.935c6b","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2847.0160369873047,"y":2257.968363761902,"wires":[["103ba9de.7ea056"],[]]},{"id":"13bcb806.6e9fb8","type":"comment","z":"d87addf3.3252","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"4984e597.306fbc","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"f4d32b84.cd5668","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["84e04a35.fa8648"]]},{"id":"84e04a35.fa8648","type":"function","z":"d87addf3.3252","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["ad3f9c46.94acd"]]},{"id":"ad3f9c46.94acd","type":"function","z":"d87addf3.3252","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["1ad864a2.935c6b"]]},{"id":"565f606f.c93d6","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"b73fb02e.2acfb","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2743.8736000061035,"y":2363.159381389618,"wires":[["565f606f.c93d6"],[]]},{"id":"5c4c0600.38448c","type":"debug","z":"d87addf3.3252","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"505c7f27.81aef","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["5c4c0600.38448c"],[]]},{"id":"23d8b05f.bcb0b","type":"comment","z":"d87addf3.3252","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"f6fc3731.c63178","type":"function","z":"d87addf3.3252","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["3b14394a.e266b6"]]},{"id":"3b14394a.e266b6","type":"function","z":"d87addf3.3252","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["505c7f27.81aef"]]},{"id":"9b381644.595e18","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["31686258.92ff6e","f6fc3731.c63178"]]},{"id":"31686258.92ff6e","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"13e1b8fc.fca0a7","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["f6fc3731.c63178"]]},{"id":"a48c1283.3c43f","type":"function","z":"d87addf3.3252","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["fd48aab9.b9bb98"]]},{"id":"fd48aab9.b9bb98","type":"function","z":"d87addf3.3252","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["b73fb02e.2acfb"]]},{"id":"7326adb7.aa6af4","type":"comment","z":"d87addf3.3252","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"841d99f4.e84738","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["b07f38c2.e42a88","a48c1283.3c43f"]]},{"id":"b07f38c2.e42a88","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"9854c6f0.354f18","type":"comment","z":"d87addf3.3252","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"1acae822.a8eb98","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["cc8c335f.8552d"]]},{"id":"cc8c335f.8552d","type":"function","z":"d87addf3.3252","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["5452c8bb.c9cae8"]]},{"id":"5452c8bb.c9cae8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2524.82515335083,"y":2829.377022743225,"wires":[["28c70cee.a24844"],[]]},{"id":"974f9822.9533d8","type":"debug","z":"d87addf3.3252","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"abcf05d8.67ea38","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["cc8c335f.8552d"]]},{"id":"a9275079.1e40d","type":"http response","z":"d87addf3.3252","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"a1419939.e32228","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["a9275079.1e40d"]]},{"id":"d43ec453.6572c8","type":"comment","z":"d87addf3.3252","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"e7be7755.0e7738","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["2e5b3c2d.3a2e74"]]},{"id":"2e5b3c2d.3a2e74","type":"function","z":"d87addf3.3252","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["ddd56706.918818"]]},{"id":"ddd56706.918818","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2521.8252296447754,"y":2958.377064704895,"wires":[["8bb2468e.49f968"],[]]},{"id":"fd61eede.10a1a","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["2e5b3c2d.3a2e74"]]},{"id":"e91fae76.d61c1","type":"comment","z":"d87addf3.3252","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"b58104a6.696ee8","type":"comment","z":"d87addf3.3252","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"11ccd952.9ab147","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["73ec994.2ad5568"]]},{"id":"73ec994.2ad5568","type":"function","z":"d87addf3.3252","name":"5760+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5760 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2341.213996887207,"y":3137.3770027160645,"wires":[["e50691e0.842cf"]]},{"id":"e50691e0.842cf","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2527.213996887207,"y":3144.3770027160645,"wires":[["ffe2b4e.1d65f48"],[]]},{"id":"5cfe2b03.70a8f4","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["73ec994.2ad5568"]]},{"id":"b4295075.7db19","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"1848127b.c58b9e","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["d4497ad2.8696e8"]]},{"id":"ffe2b4e.1d65f48","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["1848127b.c58b9e","b4295075.7db19"]]},{"id":"d4497ad2.8696e8","type":"http response","z":"d87addf3.3252","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"dada0c59.6d068","type":"comment","z":"d87addf3.3252","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"8242293e.02f0d8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["c2a6b3d4.ed9b9"]]},{"id":"c2a6b3d4.ed9b9","type":"function","z":"d87addf3.3252","name":"5762+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5762 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2339.7776107788086,"y":3282.724784851074,"wires":[["a5fa602f.0a6a8"]]},{"id":"a5fa602f.0a6a8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2525.7776107788086,"y":3289.724784851074,"wires":[["24a71f62.c6166"],[]]},{"id":"97010e5b.fad14","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["c2a6b3d4.ed9b9"]]},{"id":"1a0f3205.69bffe","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"c0622cb.950edd","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["92f0e116.66d66"]]},{"id":"24a71f62.c6166","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["c0622cb.950edd","1a0f3205.69bffe"]]},{"id":"92f0e116.66d66","type":"http response","z":"d87addf3.3252","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"2df9a780.631a08","type":"comment","z":"d87addf3.3252","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"19e272fd.e737fd","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["27b5b38b.f8bf1c"]]},{"id":"27b5b38b.f8bf1c","type":"function","z":"d87addf3.3252","name":"5764+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5764 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2347.555320739746,"y":3412.724784851074,"wires":[["10c08204.13a80e"]]},{"id":"10c08204.13a80e","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2533.555320739746,"y":3419.724784851074,"wires":[["33c8d65f.4e1fea"],[]]},{"id":"2a2e3d82.e2c362","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["27b5b38b.f8bf1c"]]},{"id":"ae58e8e0.ecd7b8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"b051ec1f.6bd64","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["e3bb30.6e9394d"]]},{"id":"33c8d65f.4e1fea","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["b051ec1f.6bd64","ae58e8e0.ecd7b8"]]},{"id":"e3bb30.6e9394d","type":"http response","z":"d87addf3.3252","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"4c85f90a.5b9a08","type":"comment","z":"d87addf3.3252","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"de7462b6.0cba1","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["cb684a14.639f98"]]},{"id":"cb684a14.639f98","type":"function","z":"d87addf3.3252","name":"5766+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5766 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2344.222068786621,"y":3547.169120788574,"wires":[["ddbd15da.fd9978"]]},{"id":"ddbd15da.fd9978","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2530.222068786621,"y":3554.169120788574,"wires":[["c586b2c8.f8e64"],[]]},{"id":"6f78fdb6.67f324","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["cb684a14.639f98"]]},{"id":"45477ad0.ae58c4","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"a3f76461.884a18","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["e220157b.030588"]]},{"id":"c586b2c8.f8e64","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["a3f76461.884a18","45477ad0.ae58c4"]]},{"id":"e220157b.030588","type":"http response","z":"d87addf3.3252","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"25dbe3e8.e8eb5c","type":"comment","z":"d87addf3.3252","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"2f57789e.3e7ce8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["87c1b917.3fa2e8"]]},{"id":"87c1b917.3fa2e8","type":"function","z":"d87addf3.3252","name":"5768+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5768 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2338.666404724121,"y":3683.465507507324,"wires":[["7f6bc3d2.7b607c"]]},{"id":"7f6bc3d2.7b607c","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2524.666404724121,"y":3690.465507507324,"wires":[["517ce1de.b9a87"],[]]},{"id":"c494f061.4a40c","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["87c1b917.3fa2e8"]]},{"id":"88b78288.05b39","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"c7891e12.47062","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["bbbd6668.7595c8"]]},{"id":"517ce1de.b9a87","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["c7891e12.47062","88b78288.05b39"]]},{"id":"bbbd6668.7595c8","type":"http response","z":"d87addf3.3252","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"62a70c33.2c9784","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"2cecf2fd.ab63ae","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostFlow1","method":"get","swaggerDoc":"","x":2138.777618408203,"y":3932.983733177185,"wires":[["3624590b.759396"]]},{"id":"3624590b.759396","type":"function","z":"d87addf3.3252","name":"5772+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5772 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2386.444290161133,"y":3915.9839010238647,"wires":[["cdedc77c.839658"]]},{"id":"cdedc77c.839658","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2572.444290161133,"y":3922.9839010238647,"wires":[["48cf0f6a.929a9"],[]]},{"id":"5cd9f17d.223f","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["3624590b.759396"]]},{"id":"48cf0f6a.929a9","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["b7080ddc.6e43f","f923e996.b6a0c8"]]},{"id":"f923e996.b6a0c8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"b7080ddc.6e43f","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["9093c1f6.fe31a"]]},{"id":"9093c1f6.fe31a","type":"http response","z":"d87addf3.3252","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"6bf6dfdf.2e13","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"cdb2c3e5.6129a","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostFlow2","method":"get","swaggerDoc":"","x":2138.2222595214844,"y":4056.7247838974,"wires":[["56587010.e86a7"]]},{"id":"56587010.e86a7","type":"function","z":"d87addf3.3252","name":"5774+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5774 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2384.222122192383,"y":4056.7246236801147,"wires":[["3106f851.645bc8"]]},{"id":"3106f851.645bc8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2570.222122192383,"y":4063.7246236801147,"wires":[["40042f2b.160d6"],[]]},{"id":"57a787a.a321a78","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["56587010.e86a7"]]},{"id":"40042f2b.160d6","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["e2f0e3c.f1b732","29a35824.44aca8"]]},{"id":"29a35824.44aca8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"e2f0e3c.f1b732","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["e0f7ba02.64ebf8"]]},{"id":"e0f7ba02.64ebf8","type":"http response","z":"d87addf3.3252","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"26b6f8dd.9c2338","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"3368616b.9d448e","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostFlow3","method":"get","swaggerDoc":"","x":2131.8888244628906,"y":4216.502500534058,"wires":[["a23570ba.45061"]]},{"id":"a23570ba.45061","type":"function","z":"d87addf3.3252","name":"5776+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5776 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2394.888729095459,"y":4219.502683639526,"wires":[["d29cf4dc.ee7508"]]},{"id":"d29cf4dc.ee7508","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2556.8887481689453,"y":4221.502455711365,"wires":[["fc8f881d.fe1e38"],[]]},{"id":"c1834739.e1cf28","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["a23570ba.45061"]]},{"id":"fc8f881d.fe1e38","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["3c6bb6e2.2e0c9a","ce78b0cc.fadd8"]]},{"id":"ce78b0cc.fadd8","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"3c6bb6e2.2e0c9a","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["50dfb246.0e077c"]]},{"id":"50dfb246.0e077c","type":"http response","z":"d87addf3.3252","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"f936acef.997b4","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"c9a295b5.f7a738","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostFlow4","method":"get","swaggerDoc":"","x":2172.111038208008,"y":4360.94703578949,"wires":[["79c1f749.6ee298"]]},{"id":"79c1f749.6ee298","type":"function","z":"d87addf3.3252","name":"5778+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5778 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2388.111171722412,"y":4362.9478187561035,"wires":[["a5877fe9.00403"]]},{"id":"a5877fe9.00403","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2559.111038208008,"y":4365.94703578949,"wires":[["d5e5fc9c.cd3bb"],[]]},{"id":"d898a1d1.ebbca","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["79c1f749.6ee298"]]},{"id":"d5e5fc9c.cd3bb","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["b928690e.674d98","354c357.59f79ca"]]},{"id":"354c357.59f79ca","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"b928690e.674d98","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["2a8e86f2.96324a"]]},{"id":"2a8e86f2.96324a","type":"http response","z":"d87addf3.3252","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"4af21bbb.db14b4","type":"comment","z":"d87addf3.3252","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"74a6eaa0.90fda4","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["1ef0fa06.19f736"]]},{"id":"1ef0fa06.19f736","type":"function","z":"d87addf3.3252","name":"5780+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5780 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2373.111038208008,"y":4516.35426235199,"wires":[["9e2085a3.ab77d8"]]},{"id":"9e2085a3.ab77d8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2559.111038208008,"y":4523.35426235199,"wires":[["6f620a5b.ab3414"],[]]},{"id":"44a50f84.20446","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["1ef0fa06.19f736"]]},{"id":"6f620a5b.ab3414","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["20bebfba.df174","748b2b74.096b14"]]},{"id":"748b2b74.096b14","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"20bebfba.df174","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["8ce319b5.d99b28"]]},{"id":"8ce319b5.d99b28","type":"http response","z":"d87addf3.3252","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"dfc062e6.e64c5","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["5d69c32b.b3db6c","a6436c87.5f214"]]},{"id":"a76047cf.f7f078","type":"comment","z":"d87addf3.3252","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":4015.7423706054688,"y":80.86333560943604,"wires":[]},{"id":"711df3d9.3600fc","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["287566de.5ea9aa"]]},{"id":"b5e51c0d.20d2f","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["287566de.5ea9aa"]]},{"id":"5bbf0fb4.05414","type":"comment","z":"d87addf3.3252","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"287566de.5ea9aa","type":"function","z":"d87addf3.3252","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["5831676d.c9c008"]]},{"id":"b85369da.61ff08","type":"function","z":"d87addf3.3252","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["b302ddbd.37631"]]},{"id":"b302ddbd.37631","type":"function","z":"d87addf3.3252","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["8ac2ad1d.2b8d5","870e88a6.e22b58"]]},{"id":"8ac2ad1d.2b8d5","type":"http response","z":"d87addf3.3252","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"870e88a6.e22b58","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"5831676d.c9c008","type":"function","z":"d87addf3.3252","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["d80e4013.10a0d"]]},{"id":"2c130ead.3d1f82","type":"function","z":"d87addf3.3252","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["5c0f995b.96b6e8"]]},{"id":"d80e4013.10a0d","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":946.3656005859375,"y":413.76866817474365,"wires":[["a2f8c658.539ba8"],[]]},{"id":"5c0f995b.96b6e8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":904.6988525390625,"y":492.102011680603,"wires":[["9d91d71a.225948"],[]]},{"id":"bb0c6a13.5f9af8","type":"function","z":"d87addf3.3252","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["3a9ee241.00a7ee"]]},{"id":"3a9ee241.00a7ee","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":892.3139419555664,"y":555.7012310028076,"wires":[["4edb9860.4067f8"],[]]},{"id":"4edb9860.4067f8","type":"function","z":"d87addf3.3252","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["bf7ae165.7d785"]]},{"id":"bf7ae165.7d785","type":"function","z":"d87addf3.3252","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["aa8a927f.e1cde"]]},{"id":"aa8a927f.e1cde","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":897.3139419555664,"y":614.0345439910889,"wires":[["b85369da.61ff08"],[]]},{"id":"a2f8c658.539ba8","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["2c130ead.3d1f82"]]},{"id":"9d91d71a.225948","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["bb0c6a13.5f9af8"]]},{"id":"3e3a2d6f.7fbe72","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2486.2425689697266,"y":813.2916316986084,"wires":[["33e29d49.9122f2","2b8d21f7.9033fe"]]},{"id":"deaf707b.dbef3","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["cfc1b274.83a53","e8ec7b4.3799288"]]},{"id":"28c70cee.a24844","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["a1419939.e32228","974f9822.9533d8"]]},{"id":"c28680e8.c797c","type":"debug","z":"d87addf3.3252","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"791a46ae.e8c188","type":"http response","z":"d87addf3.3252","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"cef1d89a.255918","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["791a46ae.e8c188"]]},{"id":"8bb2468e.49f968","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["cef1d89a.255918","c28680e8.c797c"]]},{"id":"e1ca1037.8c351","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2569.6665992736816,"y":1605.428831577301,"wires":[["b728c619.b2c808"],[]]},{"id":"a485e2e1.5003e","type":"function","z":"d87addf3.3252","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2397.047504425049,"y":1608.0479445457458,"wires":[["e1ca1037.8c351"]]},{"id":"b728c619.b2c808","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2790.85733795166,"y":1591.3814215660095,"wires":[["8d0d3c42.81bc8"]]},{"id":"2092e21a.d4156e","type":"function","z":"d87addf3.3252","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2205.1430320739746,"y":1609.0003056526184,"wires":[["a485e2e1.5003e"]]},{"id":"8d0d3c42.81bc8","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2977.4913597106934,"y":1579.952661037445,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["c5ce5340.e6bef"]]},{"id":"fe335aad.343658","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1988.364459991455,"y":1557.8098902702332,"wires":[["2092e21a.d4156e"]]},{"id":"63de0a1f.31c2d4","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/StatusKlapan","method":"get","swaggerDoc":"","x":1952.7294883728027,"y":1610.1908316612244,"wires":[["2092e21a.d4156e"]]},{"id":"c5ce5340.e6bef","type":"function","z":"d87addf3.3252","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2215.142749786377,"y":1729.952739238739,"wires":[["8382084e.e58bf8"]]},{"id":"8382084e.e58bf8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2426.095111846924,"y":1742.809714794159,"wires":[["5afe7733.56bef8"],[]]},{"id":"5afe7733.56bef8","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2695.85701751709,"y":1722.8098139762878,"wires":[["4711d313.1bf7dc"]]},{"id":"4711d313.1bf7dc","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3119.3962020874023,"y":1710.1906752586365,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["966ff596.ce58f8"],[]]},{"id":"966ff596.ce58f8","type":"function","z":"d87addf3.3252","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2127.967716217041,"y":1832.8098282814026,"wires":[["45965de5.869924"]]},{"id":"45965de5.869924","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2332.253215789795,"y":1829.9527201652527,"wires":[["9cf0ac1e.ee9fd"],[]]},{"id":"9cf0ac1e.ee9fd","type":"function","z":"d87addf3.3252","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2513.681896209717,"y":1824.2385258674622,"wires":[["bb31a6b1.985178"]]},{"id":"bb31a6b1.985178","type":"function","z":"d87addf3.3252","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2694.313091278076,"y":1828.631365776062,"wires":[["8e4052f.7b046b","6d0f45c6.d7289c"]]},{"id":"8e4052f.7b046b","type":"http response","z":"d87addf3.3252","name":"","x":2952.812973022461,"y":1863.7623896598816,"wires":[]},{"id":"6d0f45c6.d7289c","type":"debug","z":"d87addf3.3252","name":"","active":true,"console":"false","complete":"payload","x":2971.801223754883,"y":1900.393135547638,"wires":[]},{"id":"ee0a7b11.6864e8","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1995.1898384094238,"y":1102.0955810546875,"wires":[["372da3b6.9f265c"]]},{"id":"372da3b6.9f265c","type":"function","z":"d87addf3.3252","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2211.9684104919434,"y":1153.2859964370728,"wires":[["df94892d.f7a978"]]},{"id":"df94892d.f7a978","type":"function","z":"d87addf3.3252","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2393.8728828430176,"y":1152.3336353302002,"wires":[["47c0b33a.4ec66c"]]},{"id":"bf6ed459.462b48","type":"function","z":"d87addf3.3252","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2311.968132019043,"y":1250.9050579071045,"wires":[["fb5bb72b.664f28"]]},{"id":"47c0b33a.4ec66c","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2576.4919776916504,"y":1149.7145223617554,"wires":[["52580344.cc9c7c"],[]]},{"id":"fb5bb72b.664f28","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2566.253746032715,"y":1253.7621431350708,"wires":[["95dcaed1.e442c"],[]]},{"id":"52580344.cc9c7c","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2777.682674407959,"y":1150.667106628418,"wires":[["89277d6d.16e97"]]},{"id":"95dcaed1.e442c","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2769.348970413208,"y":1248.762125968933,"wires":[["6526d522.f7013c"]]},{"id":"89277d6d.16e97","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2950.983455657959,"y":1045.905014038086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["bf6ed459.462b48"]]},{"id":"6526d522.f7013c","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3112.8882179260254,"y":1204.4763884544373,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["9c71b58a.868fc8"],[],[]]},{"id":"9c71b58a.868fc8","type":"function","z":"d87addf3.3252","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2228.1263847351074,"y":1335.4287886619568,"wires":[["ea7ade9a.383e"]]},{"id":"ea7ade9a.383e","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2424.078556060791,"y":1344.2383160591125,"wires":[["59e25a29.ad71a4"],[]]},{"id":"59e25a29.ad71a4","type":"function","z":"d87addf3.3252","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2625.507297515869,"y":1345.1908679008484,"wires":[["85d9e452.2f2628"]]},{"id":"85d9e452.2f2628","type":"function","z":"d87addf3.3252","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2759.471836090088,"y":1347.9169726371765,"wires":[["56566965.5c4688","1e779861.4f2ef8"]]},{"id":"56566965.5c4688","type":"http response","z":"d87addf3.3252","name":"","x":2916.3050079345703,"y":1348.0479321479797,"wires":[]},{"id":"1e779861.4f2ef8","type":"debug","z":"d87addf3.3252","name":"","active":true,"console":"false","complete":"payload","x":2950.2932929992676,"y":1396.3454146385193,"wires":[]},{"id":"2d5cdfad.6080c","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/StatusPump","method":"get","swaggerDoc":"","x":1949.5548667907715,"y":1154.4765224456787,"wires":[["372da3b6.9f265c"]]},{"id":"bc748a60.e2d628","type":"comment","z":"d87addf3.3252","name":"read_Upakovka_marshrut","info":"","x":2440,"y":86.98431873321533,"wires":[]},{"id":"73f51f3d.edfcc","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2938.9444885253906,"y":125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["57cb2566.90e2dc"]]},{"id":"e11f05d9.7667b8","type":"function","z":"d87addf3.3252","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2147.6944122314453,"y":161.24999618530273,"wires":[["dd4bd91a.582668"]]},{"id":"dd4bd91a.582668","type":"function","z":"d87addf3.3252","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2293.52787399292,"y":162.49999618530273,"wires":[["bb0f9994.f13dd8"]]},{"id":"bb0f9994.f13dd8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2472.2777404785156,"y":167.5,"wires":[["da364c01.8a691"],[]]},{"id":"da364c01.8a691","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2672.2777404785156,"y":161.25,"wires":[["73f51f3d.edfcc"]]},{"id":"57cb2566.90e2dc","type":"function","z":"d87addf3.3252","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2154.777877807617,"y":231.5000352859497,"wires":[["71d7259f.7c392c"]]},{"id":"71d7259f.7c392c","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2376.777889251709,"y":237.49999618530273,"wires":[["51a2999a.0fb358"],[]]},{"id":"51a2999a.0fb358","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2578.5277824401855,"y":235.49997425079346,"wires":[["36db975d.7a5968"]]},{"id":"36db975d.7a5968","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3060.4446449279785,"y":266.75001525878906,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["13ebbf1.cf81341"],[]]},{"id":"13ebbf1.cf81341","type":"function","z":"d87addf3.3252","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2144.777877807617,"y":300.25,"wires":[["ce4a17f3.27edb8"]]},{"id":"ce4a17f3.27edb8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2379.7778930664062,"y":296.2499599456787,"wires":[["1b7de62.9b8d71a"],[]]},{"id":"1b7de62.9b8d71a","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2584.5277824401855,"y":292.2499599456787,"wires":[["e2ec5690.8d38c8"]]},{"id":"e2ec5690.8d38c8","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2815.611000061035,"y":352.49998474121094,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["1abae06b.cace"],[],[]]},{"id":"1abae06b.cace","type":"function","z":"d87addf3.3252","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2141.611213684082,"y":369.0000476837158,"wires":[["97b833c8.101e9"]]},{"id":"97b833c8.101e9","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":2382.611228942871,"y":372.99996757507324,"wires":[["e767d34.443ea3"],[]]},{"id":"e767d34.443ea3","type":"function","z":"d87addf3.3252","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2575.118600845337,"y":369.01213359832764,"wires":[["5764122.e1afbec"]]},{"id":"5764122.e1afbec","type":"function","z":"d87addf3.3252","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2403.083251953125,"y":445.73824882507324,"wires":[["45aa33a6.4d537c","233f0bd0.81a064"]]},{"id":"45aa33a6.4d537c","type":"http response","z":"d87addf3.3252","name":"","x":2581.9164695739746,"y":437.86919021606445,"wires":[]},{"id":"233f0bd0.81a064","type":"debug","z":"d87addf3.3252","name":"","active":true,"console":"false","complete":"payload","x":2639.904754638672,"y":494.1666774749756,"wires":[]},{"id":"287b3012.d28e1","type":"comment","z":"d87addf3.3252","name":"read_register_error","info":"","x":4180,"y":550,"wires":[]},{"id":"a43154c4.f54f38","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3652.857177734375,"y":600.952392578125,"wires":[["d831c6c0.9fb898"]]},{"id":"d831c6c0.9fb898","type":"function","z":"d87addf3.3252","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0,\n  \"bit_5\": 0,\n  \"bit_6\": 0,\n  \"bit_7\": 0,\n  \"bit_8\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3933.8014221191406,"y":653.6583395004272,"wires":[["15905726.bfa5f9"]]},{"id":"80ffea0c.056778","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/RegisterError","method":"get","swaggerDoc":"","x":3630.9998931884766,"y":661.9524478912354,"wires":[["d831c6c0.9fb898"]]},{"id":"15905726.bfa5f9","type":"function","z":"d87addf3.3252","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4089.6348838806152,"y":654.9083395004272,"wires":[["bd481bee.02ccc8"]]},{"id":"bd481bee.02ccc8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4258.384750366211,"y":659.9083433151245,"wires":[["7ed3e2de.8e748c"],[]]},{"id":"7ed3e2de.8e748c","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4458.384750366211,"y":653.6583433151245,"wires":[["54ca37d.e22f7c8"]]},{"id":"54ca37d.e22f7c8","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4665.052349090576,"y":584.5513534545898,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["c7925f7e.72def"]]},{"id":"c7925f7e.72def","type":"function","z":"d87addf3.3252","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3940.8848876953125,"y":723.9083786010742,"wires":[["f847b864.b23e88"]]},{"id":"f847b864.b23e88","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4162.884899139404,"y":729.9083395004272,"wires":[["6bdc3b64.a30914"],[]]},{"id":"6bdc3b64.a30914","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4364.634792327881,"y":727.908317565918,"wires":[["8dbd8faf.98b5b"]]},{"id":"8dbd8faf.98b5b","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4847.980464935303,"y":699.1583938598633,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["1c73edfe.3ae182"],[]]},{"id":"1c73edfe.3ae182","type":"function","z":"d87addf3.3252","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3930.8848876953125,"y":792.6583433151245,"wires":[["6af68cbc.be4304"]]},{"id":"6af68cbc.be4304","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4165.884902954102,"y":788.6583032608032,"wires":[["366d0dda.249c32"],[]]},{"id":"366d0dda.249c32","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4370.634792327881,"y":784.6583032608032,"wires":[["ca0ebe01.30074"]]},{"id":"ca0ebe01.30074","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4548.8606605529785,"y":879.194091796875,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["8447bcd8.fd7f"],[],[]]},{"id":"8447bcd8.fd7f","type":"function","z":"d87addf3.3252","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3927.7182235717773,"y":861.4083909988403,"wires":[["6356649f.071b8c"]]},{"id":"6356649f.071b8c","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4168.718238830566,"y":865.4083108901978,"wires":[["34b782f7.c8cb0e"],[]]},{"id":"34b782f7.c8cb0e","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4372.583084106445,"y":861.3926620483398,"wires":[["fd05dbea.5ad828"]]},{"id":"fd05dbea.5ad828","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4736.583034515381,"y":933.4641876220703,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["70790eaf.3640d"],[],[],[]]},{"id":"70790eaf.3640d","type":"function","z":"d87addf3.3252","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3885.4403228759766,"y":968.5357942581177,"wires":[["e3f548db.19e1e8"]]},{"id":"e3f548db.19e1e8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4133.583221435547,"y":956.8213348388672,"wires":[["db2786ae.534018"],[]]},{"id":"db2786ae.534018","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4334.590789794922,"y":961.3771724700928,"wires":[["476ca65d.df0228"]]},{"id":"476ca65d.df0228","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4884.154632568359,"y":1062.3927612304688,"wires":[[],[],[],[],[],[],[],[],[],[],[],["786ec98b.e4d4f8"],[],[],[],[]]},{"id":"786ec98b.e4d4f8","type":"function","z":"d87addf3.3252","name":"R_22_bit_5","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3868.5829734802246,"y":1049.9640455245972,"wires":[["96e8673d.b48778"]]},{"id":"96e8673d.b48778","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4131.725891113281,"y":1041.2498531341553,"wires":[["2cac8a25.e06a86"],[]]},{"id":"2cac8a25.e06a86","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4326.773513793945,"y":1032.0592880249023,"wires":[["57de968a.2a6fd8"]]},{"id":"57de968a.2a6fd8","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4600.773777008057,"y":1135.392677307129,"wires":[[],[],[],[],[],[],[],[],[],[],["45372db9.65a1c4"],[],[],[],[],[]]},{"id":"45372db9.65a1c4","type":"function","z":"d87addf3.3252","name":"R_22_bit_6","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_5 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3868.7737312316895,"y":1127.7265043258667,"wires":[["7b0908e9.6b31d8"]]},{"id":"7b0908e9.6b31d8","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4098.916648864746,"y":1187.0119857788086,"wires":[["1b62e241.584a9e"],[]]},{"id":"4da3b7d8.8f3508","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":327.01953125,"y":1010.00390625,"wires":[["b4d8073b.dc1a08"]]},{"id":"b4d8073b.dc1a08","type":"function","z":"d87addf3.3252","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n /*var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('res_resetError',msg.res);\nmsg.req = '';\nmsg.res = '';\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":569.1941986083984,"y":1071.730146408081,"wires":[["467d63b.458539c"]]},{"id":"467d63b.458539c","type":"function","z":"d87addf3.3252","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":543.8290863037109,"y":993.6230449676514,"wires":[["90179d85.7e388"]]},{"id":"90179d85.7e388","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":725.6070327758789,"y":965.178544998169,"wires":[["7f79bde7.92a9a4"],[]]},{"id":"7f79bde7.92a9a4","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":918.1706771850586,"y":960.2438125610352,"wires":[["e53bc810.1ab268"]]},{"id":"e53bc810.1ab268","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1087.4956436157227,"y":903.2897205352783,"wires":[[],[],[],[],[],[],[],[],[],[],[],["d54fc727.1bd4b8"],[],[],[],[]]},{"id":"d54fc727.1bd4b8","type":"function","z":"d87addf3.3252","name":"bit_4_analis","func":"var if_bit_4_0 = 32768\nvar if_bit_4_1 = 32784;\nvar bit_4 = msg.payload;\nvar send_25 = 0;\n\n\nif(bit_4 == 1){\n    send_25 = if_bit_4_1;\n}else{\n    send_25 = if_bit_4_0;\n}\n\nflow.set('send_25',send_25);\nmsg.payload = \"\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":794.3289566040039,"y":1062.9562244415283,"wires":[["104da44f.c0152c"]]},{"id":"104da44f.c0152c","type":"function","z":"d87addf3.3252","name":"25","func":"var send_25 = flow.get('send_25');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': send_25, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":956.4443626403809,"y":1060.8411502838135,"wires":[["14fe80c7.cc230f"]]},{"id":"14fe80c7.cc230f","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1158.9722061157227,"y":1071.1744842529297,"wires":[["3320439e.f8d78c"],["d257456b.04a508"]]},{"id":"3320439e.f8d78c","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1288.5552253723145,"y":1003.8133163452148,"wires":[]},{"id":"d257456b.04a508","type":"delay","z":"d87addf3.3252","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":397.4004707336426,"y":1142.9088973999023,"wires":[["ca885024.578e6"]]},{"id":"ca885024.578e6","type":"function","z":"d87addf3.3252","name":"with_1C","func":"//var cmd_and_5002 = msg.payload;\nvar cmd_and_5002 = \n{\n  \"cmd_and_5002\": 0\n};\n\nflow.set('cmd_and_5002',cmd_and_5002);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":569.7694358825684,"y":1147.5873279571533,"wires":[["a330756b.333428"]]},{"id":"a330756b.333428","type":"function","z":"d87addf3.3252","name":"R_5002","func":"var cmd_and_5002 = flow.get('cmd_and_5002');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd_and_5002.cmd_and_5002, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":700.0194244384766,"y":1151.0039234161377,"wires":[["ff634f1a.e271b"]]},{"id":"ff634f1a.e271b","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":868.9083137512207,"y":1152.1150550842285,"wires":[[],["9f01c17d.0020e","9c6b1c01.ddbec"]]},{"id":"9f01c17d.0020e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1054.2138633728027,"y":1157.5873394012451,"wires":[]},{"id":"9c6b1c01.ddbec","type":"function","z":"d87addf3.3252","name":"","func":"msg.payload = \"ok\";\nmsg.res = flow.get('res_resetError');\nreturn msg;\n\n","outputs":1,"noerr":0,"x":721.1622886657715,"y":1215.9562339782715,"wires":[["3b231288.d6cd8e","557089a5.e91828"]]},{"id":"3b231288.d6cd8e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":964.1622772216797,"y":1259.9562072753906,"wires":[]},{"id":"557089a5.e91828","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":968.1625595092773,"y":1224.9562854766846,"wires":[]},{"id":"96c246f6.5e5318","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":551.1622734069824,"y":1197.9562330245972,"wires":[["9c6b1c01.ddbec"]]},{"id":"821a2581.139fe8","type":"function","z":"d87addf3.3252","name":"with_1c","func":"var setflowstar = msg.payload;\n/* var setflowstar = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstar',setflowstar);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":381.2744140625,"y":2983.129638671875,"wires":[["1000afc3.c17b8"]]},{"id":"1000afc3.c17b8","type":"function","z":"d87addf3.3252","name":"To float","func":"var x = flow.get('setflowstar').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":529.5243186950684,"y":2982.602306365967,"wires":[["381cb322.c7893c"]]},{"id":"2583b288.99f7de","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":225.9966049194336,"y":2953.685047149658,"wires":[["821a2581.139fe8"]]},{"id":"381cb322.c7893c","type":"function","z":"d87addf3.3252","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":670.6076545715332,"y":2982.3238105773926,"wires":[["54b495d.607816c"]]},{"id":"54b495d.607816c","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":866.0209884643555,"y":2967.578601837158,"wires":[["aae26e79.7d958"],[]]},{"id":"aae26e79.7d958","type":"function","z":"d87addf3.3252","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1064.0161056518555,"y":2961.077869415283,"wires":[["25c21d04.210242","81899ff0.6e3e2"]]},{"id":"25c21d04.210242","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1270.6077346801758,"y":2998.93510723114,"wires":[]},{"id":"81899ff0.6e3e2","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":1274.6077194213867,"y":2946.2963123321533,"wires":[]},{"id":"8ef8fba0.41a228","type":"function","z":"d87addf3.3252","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":558.138916015625,"y":3258.138671875,"wires":[["caa0298d.d40768"]]},{"id":"caa0298d.d40768","type":"function","z":"d87addf3.3252","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":695.1388168334961,"y":3251.750062942505,"wires":[["5b7a433a.5dfacc"]]},{"id":"5b7a433a.5dfacc","type":"function","z":"d87addf3.3252","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":828.8332786560059,"y":3250.638430595398,"wires":[["9aa2b951.60f4b8"]]},{"id":"9aa2b951.60f4b8","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":998.4166793823242,"y":3249.194094657898,"wires":[["79a80c7a.592f14"],[]]},{"id":"79a80c7a.592f14","type":"function","z":"d87addf3.3252","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1197.2139282226562,"y":3246.503849029541,"wires":[["30e7155d.2d01ea","538c4252.1a636c"]]},{"id":"30e7155d.2d01ea","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1403.8055572509766,"y":3284.361086845398,"wires":[]},{"id":"538c4252.1a636c","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":1407.8055419921875,"y":3231.722291946411,"wires":[]},{"id":"486b01f6.fc688","type":"function","z":"d87addf3.3252","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":593.138916015625,"y":3738.027587890625,"wires":[["b2d78f7d.b8268"]]},{"id":"b2d78f7d.b8268","type":"function","z":"d87addf3.3252","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":725.6387825012207,"y":3741.1386489868164,"wires":[["54656215.26aaac"]]},{"id":"54656215.26aaac","type":"function","z":"d87addf3.3252","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":860.5832443237305,"y":3738.2770767211914,"wires":[["bf751b57.277b48"]]},{"id":"bf751b57.277b48","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1025.1666145324707,"y":3720.3327407836914,"wires":[["612722c6.c9ac6c"],[]]},{"id":"612722c6.c9ac6c","type":"function","z":"d87addf3.3252","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1245.6306457519531,"y":3715.114740371704,"wires":[["43b93535.852e2c","dd369a02.78c3c8"]]},{"id":"43b93535.852e2c","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1413.2222137451172,"y":3675.9718561172485,"wires":[]},{"id":"dd369a02.78c3c8","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":1289.222225189209,"y":3609.3331842422485,"wires":[]},{"id":"88dfd4b3.714ef8","type":"function","z":"d87addf3.3252","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":531.3890571594238,"y":4130.833978652954,"wires":[["b869bb9f.914848"]]},{"id":"b869bb9f.914848","type":"function","z":"d87addf3.3252","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":685.8889045715332,"y":4129.944980621338,"wires":[["55f88a95.60f1f4"]]},{"id":"55f88a95.60f1f4","type":"function","z":"d87addf3.3252","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":854.3332481384277,"y":4124.833002090454,"wires":[["d6b1176d.0e95e8"]]},{"id":"d6b1176d.0e95e8","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1021.4166679382324,"y":4124.388339996338,"wires":[["bfec1f78.6ced7"],[]]},{"id":"bfec1f78.6ced7","type":"function","z":"d87addf3.3252","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1224.0389976501465,"y":4121.257452011108,"wires":[["2924ffca.cc11e","27935c7a.155094"]]},{"id":"27935c7a.155094","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":1447.6306114196777,"y":4072.475896835327,"wires":[]},{"id":"2924ffca.cc11e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":1443.630558013916,"y":4126.11469078064,"wires":[]},{"id":"8b4142f0.be412","type":"function","z":"d87addf3.3252","name":"R_22_bit_7","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_6 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3827.5,"y":1317.5,"wires":[["13d90959.e75a67"]]},{"id":"13d90959.e75a67","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4062.8925857543945,"y":1331.53564453125,"wires":[["9ad07e30.ff131"],[]]},{"id":"9ad07e30.ff131","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4291.833198547363,"y":1320.249719619751,"wires":[["34f59034.97287"]]},{"id":"7e7d0204.59996c","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4278.666397094727,"y":1451.749439239502,"wires":[["e6d7b3c8.a2748"]]},{"id":"7a7c6ac3.ac5384","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4049.725784301758,"y":1463.035364151001,"wires":[["7e7d0204.59996c"],[]]},{"id":"5b63fb40.64f414","type":"function","z":"d87addf3.3252","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_7 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3814.3331985473633,"y":1448.999719619751,"wires":[["7a7c6ac3.ac5384"]]},{"id":"a1f80c8c.b98cd","type":"function","z":"d87addf3.3252","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_8 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3811.8331985473633,"y":1567.749719619751,"wires":[["36d76a2e.d3d2b6"]]},{"id":"36d76a2e.d3d2b6","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4047.225784301758,"y":1581.785364151001,"wires":[["fd90b55d.eecf08"],[]]},{"id":"fd90b55d.eecf08","type":"function","z":"d87addf3.3252","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4229.9885330200195,"y":1598.2302322387695,"wires":[["d50e13ea.c0c35"]]},{"id":"d50e13ea.c0c35","type":"function","z":"d87addf3.3252","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4375.918224334717,"y":1585.5993719100952,"wires":[["199b6488.f840cb","df41f13c.78a03"]]},{"id":"199b6488.f840cb","type":"http response","z":"d87addf3.3252","name":"","x":4558.465587615967,"y":1591.6232976913452,"wires":[]},{"id":"df41f13c.78a03","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":4527.525157928467,"y":1660.6352615356445,"wires":[]},{"id":"e6d7b3c8.a2748","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4748.083263397217,"y":1503.9997653961182,"wires":[[],[],[],[],[],[],[],["a1f80c8c.b98cd"],[],[],[],[],[],[],[],[]]},{"id":"34f59034.97287","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4604.333263397217,"y":1388.9997653961182,"wires":[[],[],[],[],[],[],[],[],["5b63fb40.64f414"],[],[],[],[],[],[],[]]},{"id":"2a63198e.2076c6","type":"function","z":"d87addf3.3252","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4741.250297546387,"y":1227.5000324249268,"wires":[[],[],[],[],[],[],[],[],[],["8b4142f0.be412"],[],[],[],[],[],[]]},{"id":"1b62e241.584a9e","type":"function","z":"d87addf3.3252","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4302.440376281738,"y":1199.595238685608,"wires":[["2a63198e.2076c6"]]},{"id":"fe56cc19.064d1","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3775.6583862304688,"y":1843.75,"wires":[["f1cd7c29.7731a"]]},{"id":"f1cd7c29.7731a","type":"function","z":"d87addf3.3252","name":"with_1c","func":"var CorrectionSetpoint = msg.payload;\n/* var CorrectionSetpoint = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('CorrectionSetpoint',CorrectionSetpoint);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":4051.102912902832,"y":1915.8889436721802,"wires":[["edc3ac01.aef03"]]},{"id":"d9fb67c7.4eedb8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/CorrectionSetpoint","method":"post","swaggerDoc":"","x":3796.6583862304688,"y":1917.416893005371,"wires":[["f1cd7c29.7731a"]]},{"id":"edc3ac01.aef03","type":"function","z":"d87addf3.3252","name":"To float","func":"var x = flow.get('CorrectionSetpoint').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4188.102813720703,"y":1909.500334739685,"wires":[["dfff8e9e.e22d9"]]},{"id":"dfff8e9e.e22d9","type":"function","z":"d87addf3.3252","name":"6000+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6000, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4341.79736328125,"y":1897.388671875,"wires":[["edd24c2a.8a77c"]]},{"id":"c55fb0e1.4b63e","type":"comment","z":"d87addf3.3252","name":"write_/CorrectionSetpoint","info":"","x":4195.213966369629,"y":1843.6108860969543,"wires":[]},{"id":"af035458.9f83f8","type":"function","z":"d87addf3.3252","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4714.408386230469,"y":1908.75,"wires":[["6a3d0f04.96028","9c8e2c42.235fd"]]},{"id":"6a3d0f04.96028","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":4921.000015258789,"y":1946.607237815857,"wires":[]},{"id":"9c8e2c42.235fd","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":4925,"y":1893.9684429168701,"wires":[]},{"id":"8500d8e7.6ceb48","type":"function","z":"d87addf3.3252","name":"6000+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6000 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":4054.4083862304688,"y":2078.75,"wires":[["ee417fd7.7571b"]]},{"id":"52c02531.5e03ec","type":"comment","z":"d87addf3.3252","name":"read_CorrectionSetpoint","info":"","x":4202.74169921875,"y":2019.860878944397,"wires":[]},{"id":"c3c892de.aa8c8","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4536.18599319458,"y":2081.860939979553,"wires":[["e65bd523.2a0268","f90d5f36.cf706"]]},{"id":"e65bd523.2a0268","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4737.85274887085,"y":2151.860945701599,"wires":[["7df4accf.363ce4"]]},{"id":"7df4accf.363ce4","type":"http response","z":"d87addf3.3252","name":"","x":4888.963718414307,"y":2149.638695716858,"wires":[]},{"id":"f90d5f36.cf706","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":4810.519454956055,"y":2079.1943159103394,"wires":[]},{"id":"d6eba927.db13c8","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/CorrectionSetpoint","method":"get","swaggerDoc":"","x":3796.4083862304688,"y":2070.749861717224,"wires":[["8500d8e7.6ceb48"]]},{"id":"ee417fd7.7571b","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4278.158386230469,"y":2083.75,"wires":[["c3c892de.aa8c8"],[]]},{"id":"d7805772.73f408","type":"inject","z":"d87addf3.3252","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3768.1583862304688,"y":2212.5,"wires":[["18d113da.64be8c"]]},{"id":"18d113da.64be8c","type":"function","z":"d87addf3.3252","name":"with_1c","func":"var rezerv6002 = msg.payload;\n/* var rezerv6002 = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('rezerv6002',rezerv6002);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":4043.602912902832,"y":2284.63894367218,"wires":[["16249435.7fdc8c"]]},{"id":"4fc05a1b.7d4e94","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/rezerv6002","method":"post","swaggerDoc":"","x":3759.1583862304688,"y":2286.166893005371,"wires":[["18d113da.64be8c"]]},{"id":"16249435.7fdc8c","type":"function","z":"d87addf3.3252","name":"To float","func":"var x = flow.get('rezerv6002').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4180.602813720703,"y":2278.250334739685,"wires":[["7b20eb2c.c349f4"]]},{"id":"7b20eb2c.c349f4","type":"function","z":"d87addf3.3252","name":"6002+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6002, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4314.297275543213,"y":2277.138702392578,"wires":[["846c0c38.4c172"]]},{"id":"18106ea8.eb4c21","type":"comment","z":"d87addf3.3252","name":"write_rezerv6002","info":"","x":4157.713966369629,"y":2212.3608860969543,"wires":[]},{"id":"1785490c.259877","type":"function","z":"d87addf3.3252","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4706.908386230469,"y":2277.5,"wires":[["b938222.a6042e","621e435f.2e3dfc"]]},{"id":"b938222.a6042e","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":4913.500015258789,"y":2315.357237815857,"wires":[]},{"id":"621e435f.2e3dfc","type":"http response","z":"d87addf3.3252","name":"send to 1C","x":4917.5,"y":2262.71844291687,"wires":[]},{"id":"4c1b06fa.b4c7d8","type":"function","z":"d87addf3.3252","name":"6002+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6002 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":4046.9083862304688,"y":2447.5,"wires":[["5638de1.7297a2"]]},{"id":"5cf05d19.0a2844","type":"comment","z":"d87addf3.3252","name":"read_rezerv6002","info":"","x":4165.24169921875,"y":2388.610878944397,"wires":[]},{"id":"25828256.36dbce","type":"function","z":"d87addf3.3252","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4528.68599319458,"y":2450.610939979553,"wires":[["6fcbccd9.20ce44","fbdd0769.a03398"]]},{"id":"6fcbccd9.20ce44","type":"function","z":"d87addf3.3252","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4730.35274887085,"y":2520.610945701599,"wires":[["dfca42d2.deb77"]]},{"id":"dfca42d2.deb77","type":"http response","z":"d87addf3.3252","name":"","x":4881.463718414307,"y":2518.388695716858,"wires":[]},{"id":"fbdd0769.a03398","type":"debug","z":"d87addf3.3252","name":"","active":false,"console":"false","complete":"payload","x":4803.019454956055,"y":2447.9443159103394,"wires":[]},{"id":"e22cc19.cb3884","type":"http in","z":"d87addf3.3252","name":"","url":"/k4/rezerv6002","method":"get","swaggerDoc":"","x":3768.9083862304688,"y":2439.499861717224,"wires":[["4c1b06fa.b4c7d8"]]},{"id":"5638de1.7297a2","type":"modbus-flex-getter","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4270.658386230469,"y":2452.5,"wires":[["25828256.36dbce"],[]]},{"id":"edd24c2a.8a77c","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4517,"y":1892,"wires":[["af035458.9f83f8"],[]]},{"id":"846c0c38.4c172","type":"modbus-flex-write","z":"d87addf3.3252","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":4486,"y":2243,"wires":[["1785490c.259877"],[]]},{"id":"fe497830.477b88","type":"http in","z":"b67896f0.aa9288","name":"","url":"/k4/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["1c5d5332.e1dd0d"]]},{"id":"d745f7e7.167e38","type":"function","z":"b67896f0.aa9288","name":"R_83_second_for_scada","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":631.1428527832031,"y":859.8571472167969,"wires":[["c9bc2875.d4df88"]]},{"id":"6216f502.76771c","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"plotnost_flow\",parseFloat(fltView[0].toFixed(4)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.8572998046875,"y":816.4641418457031,"wires":[["d745f7e7.167e38"]]},{"id":"c9bc2875.d4df88","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":910.84521484375,"y":863.4638977050781,"wires":[["e2462316.6f7e5"],[]]},{"id":"26b44983.7ddc86","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":916.857177734375,"y":812.9640808105469,"wires":[["6216f502.76771c"],[]]},{"id":"e2462316.6f7e5","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"second_for_scada\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1130.857177734375,"y":865.2140808105469,"wires":[["56819ab7.d99344"]]},{"id":"9b1146c3.40f648","type":"function","z":"b67896f0.aa9288","name":"R_38+1_plotnost_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":635.357177734375,"y":806.9640808105469,"wires":[["26b44983.7ddc86"]]},{"id":"56819ab7.d99344","type":"function","z":"b67896f0.aa9288","name":"R_5002_mode_system","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":634.6072463989258,"y":915.797366142273,"wires":[["933c7467.8ed498"]]},{"id":"9953f445.d3a658","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"t_flow\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1146.357421875,"y":759.9642639160156,"wires":[["9b1146c3.40f648"]]},{"id":"933c7467.8ed498","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":907.3451843261719,"y":922.0471706390381,"wires":[["6c27d7f4.d949f8"],[]]},{"id":"61f9bd7.f7cf244","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":931.3572387695312,"y":757.4641418457031,"wires":[["9953f445.d3a658"],[]]},{"id":"6c27d7f4.d949f8","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"mode_system\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1108.357177734375,"y":925.7973327636719,"wires":[["509088d7.4de058"]]},{"id":"63cbc408.bb725c","type":"function","z":"b67896f0.aa9288","name":"R_36+1_t_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":626.1054992675781,"y":750.9431457519531,"wires":[["61f9bd7.f7cf244"]]},{"id":"509088d7.4de058","type":"function","z":"b67896f0.aa9288","name":"R_5004_zayavka","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":612.1072387695312,"y":962.8807067871094,"wires":[["1bc57b46.f8f8e5"]]},{"id":"ce698bc0.fc6ec8","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('register_error_status_bit_0',m[15]);\nflow.set('register_error_status_bit_1',m[14]);\nflow.set('register_error_status_bit_2',m[13]);\nflow.set('register_error_status_bit_3',m[12]);\nflow.set('register_error_status_bit_4',m[11]);\nflow.set('register_error_status_bit_5',m[10]);\nflow.set('register_error_status_bit_6',m[9]);\nflow.set('register_error_status_bit_7',m[8]);\nflow.set('register_error_status_bit_8',m[7]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1299.3110961914062,"y":710.8496398925781,"wires":[["63cbc408.bb725c"]]},{"id":"1bc57b46.f8f8e5","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":908.8451538085938,"y":973.1305236816406,"wires":[["52b7a8dd.b37678"],[]]},{"id":"9a88b5ef.163818","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1146.7261352539062,"y":707.6658630371094,"wires":[["ce698bc0.fc6ec8"]]},{"id":"52b7a8dd.b37678","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"zayavka\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1111.857177734375,"y":968.8807067871094,"wires":[["cd98f62e.080858"]]},{"id":"bb50b412.b2e1d8","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":947.7141723632812,"y":699.9157409667969,"wires":[["9a88b5ef.163818"],[]]},{"id":"cd98f62e.080858","type":"function","z":"b67896f0.aa9288","name":"R_5005_marshrut_setpoint_number","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":575.4998016357422,"y":1020.5111999511719,"wires":[["6b07ffa1.17455"]]},{"id":"8e061d6.520dde","type":"function","z":"b67896f0.aa9288","name":"R_25_register_error_status_bit_0_6","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":665.2617797851562,"y":698.5588073730469,"wires":[["bb50b412.b2e1d8"]]},{"id":"6b07ffa1.17455","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":903.4877319335938,"y":1020.0109558105469,"wires":[["91ed5006.847dc"],[]]},{"id":"2d84f38.c90fd0c","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1284.2278442382812,"y":645.6275329589844,"wires":[["8e061d6.520dde"]]},{"id":"91ed5006.847dc","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"marshrut_setpoint_number\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1113.2496337890625,"y":1022.7613220214844,"wires":[["b94beaeb.469a58"]]},{"id":"d803c771.2ca0c8","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1126.9423217773438,"y":640.2345275878906,"wires":[["2d84f38.c90fd0c"]]},{"id":"b94beaeb.469a58","type":"function","z":"b67896f0.aa9288","name":"R_5005_marshrut_setpoint_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":589.357177734375,"y":1067.1304626464844,"wires":[["be0876eb.c145e8"]]},{"id":"f0f113a6.cd5e4","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":942.4303588867188,"y":640.2344055175781,"wires":[["d803c771.2ca0c8"],[]]},{"id":"be0876eb.c145e8","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":899.3451538085938,"y":1072.3803405761719,"wires":[["110dd846.507448"],[]]},{"id":"b1e5ec3d.e9dff","type":"function","z":"b67896f0.aa9288","name":"R_22_status_hend_vent_bit_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.1445617675781,"y":641.3774108886719,"wires":[["f0f113a6.cd5e4"]]},{"id":"110dd846.507448","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1107.3571166992188,"y":1073.3808288574219,"wires":[["aa4e47bc.adbad8"]]},{"id":"ed0dcf28.42032","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_1',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1275.5610961914062,"y":582.0441589355469,"wires":[["b1e5ec3d.e9dff"]]},{"id":"aa4e47bc.adbad8","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('marshrut_setpoint_bit_0',m[15]);\nflow.set('marshrut_setpoint_bit_1',m[14]);\nflow.set('marshrut_setpoint_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1312.7398071289062,"y":1072.8661193847656,"wires":[["ae8b492.1eb8eb8"]]},{"id":"6f601b61.885cb4","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1128.2756118774414,"y":578.7623252868652,"wires":[["ed0dcf28.42032"]]},{"id":"ae8b492.1eb8eb8","type":"function","z":"b67896f0.aa9288","name":"R_5006+1_setpoint","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1661.9528198242188,"y":231.71481323242188,"wires":[["5eba1292.525c2c"]]},{"id":"2e201b28.9f18e4","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":937.7636260986328,"y":580.26220703125,"wires":[["6f601b61.885cb4"],[]]},{"id":"5eba1292.525c2c","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1950.9407539367676,"y":226.7143259048462,"wires":[["6f415b82.b154b4"],[]]},{"id":"d79abc1.4e93a4","type":"function","z":"b67896f0.aa9288","name":"R_22_status_hend_vent_bit_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":689.311279296875,"y":581.4052314758301,"wires":[["2e201b28.9f18e4"]]},{"id":"6f415b82.b154b4","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"setpoint\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2164.690830230713,"y":227.96437454223633,"wires":[["128c93c3.04cc8c"]]},{"id":"a3f20b7d.5ff598","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_0',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1278.7278442382812,"y":527.8496694564819,"wires":[["d79abc1.4e93a4"]]},{"id":"128c93c3.04cc8c","type":"function","z":"b67896f0.aa9288","name":"R_5008+1_set_lflow_start","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1681.952709197998,"y":286.71448802948,"wires":[["4bf24a7c.fb4224"]]},{"id":"1a287479.d31f9c","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1132.226173400879,"y":526.7492618560791,"wires":[["a3f20b7d.5ff598"]]},{"id":"4bf24a7c.fb4224","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1944.6906776428223,"y":287.96427726745605,"wires":[["ba5f177c.d81348"],[]]},{"id":"c9f7c630.85b758","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":936.7141952514648,"y":522.2490634918213,"wires":[["1a287479.d31f9c"],[]]},{"id":"ba5f177c.d81348","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_start\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2158.4407539367676,"y":289.2143259048462,"wires":[["37c94f67.ea4b1"]]},{"id":"3811b34e.9d5d4c","type":"function","z":"b67896f0.aa9288","name":"R_22_status_hend_vent_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":695.2617340087891,"y":521.3920803070068,"wires":[["c9f7c630.85b758"]]},{"id":"37c94f67.ea4b1","type":"function","z":"b67896f0.aa9288","name":"R_5010+1_set_lflow_stop","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1661.952709197998,"y":362.547739982605,"wires":[["e01db09b.230e4"]]},{"id":"8a37c0ce.99261","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_1_status_klapan',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1289.657974243164,"y":468.7374572753906,"wires":[["3811b34e.9d5d4c"]]},{"id":"e01db09b.230e4","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1924.6906776428223,"y":363.79752922058105,"wires":[["14aa765e.7f276a"],[]]},{"id":"a2ee8d67.e1a7c","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1130.7855606079102,"y":463.6899471282959,"wires":[["8a37c0ce.99261"]]},{"id":"14aa765e.7f276a","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_stop\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2138.4407539367676,"y":365.0475778579712,"wires":[["fff92b1e.4a81a8"]]},{"id":"637099e6.23ed18","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":929.7736358642578,"y":466.4398593902588,"wires":[["a2ee8d67.e1a7c"],[]]},{"id":"fff92b1e.4a81a8","type":"function","z":"b67896f0.aa9288","name":"R_5012+1_protok_min","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1644.452709197998,"y":433.3811140060425,"wires":[["6dfa21c0.93f97"]]},{"id":"4acd429f.c2ebcc","type":"function","z":"b67896f0.aa9288","name":"R_12_b1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":729.3211326599121,"y":458.33282947540283,"wires":[["637099e6.23ed18"]]},{"id":"6dfa21c0.93f97","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1917.1906776428223,"y":434.63090324401855,"wires":[["80b59a37.4e48e8"],[]]},{"id":"1d0629cc.c8e076","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_klapan',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1290.0865287780762,"y":403.16603565216064,"wires":[["4acd429f.c2ebcc"]]},{"id":"80b59a37.4e48e8","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_min\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2130.9407539367676,"y":435.8809518814087,"wires":[["f7f2c5e0.286ec8"]]},{"id":"837719cc.0daa78","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1138.452621459961,"y":403.8448181152344,"wires":[["1d0629cc.c8e076"]]},{"id":"f7f2c5e0.286ec8","type":"function","z":"b67896f0.aa9288","name":"R_5014+1_protok_dead_time","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1633.4407997131348,"y":499.214150428772,"wires":[["df0a0d5c.9b232"]]},{"id":"b8449550.48e768","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":933.7619781494141,"y":405.39223861694336,"wires":[["837719cc.0daa78"],[]]},{"id":"df0a0d5c.9b232","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1905.9406776428223,"y":500.46415519714355,"wires":[["519752ce.5a363c"],[]]},{"id":"8bec97bc.ab6888","type":"function","z":"b67896f0.aa9288","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":734.1428070068359,"y":407.0113582611084,"wires":[["b8449550.48e768"]]},{"id":"519752ce.5a363c","type":"function","z":"b67896f0.aa9288","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_dead_time\",parseInt(dwView[0]));\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":2134.6908226013184,"y":496.7141580581665,"wires":[["e1d74286.7fa84"]]},{"id":"72a385e3.42a9ec","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_18_status_pump',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1282.2573013305664,"y":338.88024520874023,"wires":[["8bec97bc.ab6888"]]},{"id":"e1d74286.7fa84","type":"function","z":"b67896f0.aa9288","name":"R_5016+1_counter_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1630.94087600708,"y":582.9641990661621,"wires":[["406a306a.a28fa"]]},{"id":"598d17a0.ac71a8","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1129.5512924194336,"y":337.41601371765137,"wires":[["72a385e3.42a9ec"]]},{"id":"406a306a.a28fa","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1933.4407539367676,"y":584.2142038345337,"wires":[["dcdf9836.082f78"],[]]},{"id":"3db18548.a6b70a","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":934.2061004638672,"y":342.4160270690918,"wires":[["598d17a0.ac71a8"],[]]},{"id":"dcdf9836.082f78","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_1\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2144.6907539367676,"y":583.3809518814087,"wires":[["b29b218d.3554a"]]},{"id":"c8b74449.7dd778","type":"function","z":"b67896f0.aa9288","name":"R_1_bit_3(18)","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":735.4205169677734,"y":343.0589962005615,"wires":[["3db18548.a6b70a"]]},{"id":"b29b218d.3554a","type":"function","z":"b67896f0.aa9288","name":"R_5018+1_counter_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1610.94087600708,"y":654.2141990661621,"wires":[["2602373a.6b6f38"]]},{"id":"7e24ca18.ba4c74","type":"function","z":"b67896f0.aa9288","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_pump',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1079.2694702148438,"y":263.1897945404053,"wires":[["c8b74449.7dd778"]]},{"id":"2602373a.6b6f38","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1913.4407539367676,"y":655.4642038345337,"wires":[["222f6f2.5dd429"],[]]},{"id":"e07f43f6.87baf","type":"function","z":"b67896f0.aa9288","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":909.6349792480469,"y":263.5709419250488,"wires":[["7e24ca18.ba4c74"]]},{"id":"222f6f2.5dd429","type":"function","z":"b67896f0.aa9288","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_2\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2124.6907539367676,"y":659.2142038345337,"wires":[["285b065e.ac6dca"]]},{"id":"5a2deb8a.ac1014","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":721.4443588256836,"y":264.36837005615234,"wires":[["e07f43f6.87baf"],[]]},{"id":"285b065e.ac6dca","type":"function","z":"b67896f0.aa9288","name":"R_5020+3_counter_3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1564.69087600708,"y":732.1309471130371,"wires":[["aba508b6.c28c38"]]},{"id":"b48c4bce.f92c48","type":"function","z":"b67896f0.aa9288","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":533.3251762390137,"y":267.987509727478,"wires":[["5a2deb8a.ac1014"]]},{"id":"aba508b6.c28c38","type":"modbus-flex-getter","z":"b67896f0.aa9288","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":1867.1907539367676,"y":733.3809518814087,"wires":[["70914e82.e05ec"],[]]},{"id":"5b588f57.9ed81","type":"inject","z":"b67896f0.aa9288","name":"","topic":"","payload":"support","payloadType":"str","repeat":"2","crontab":"","once":false,"x":370.67540740966797,"y":268.6663455963135,"wires":[["b48c4bce.f92c48"]]},{"id":"70914e82.e05ec","type":"function","z":"b67896f0.aa9288","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nflow.set(\"counter_3\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2104.690902709961,"y":731.7141695022583,"wires":[["b5d13044.1b168"]]},{"id":"b5d13044.1b168","type":"debug","z":"b67896f0.aa9288","name":"","active":false,"console":"false","complete":"false","x":2344.571201324463,"y":727.1898107528687,"wires":[]},{"id":"7791206a.52f51","type":"http response","z":"b67896f0.aa9288","name":"","x":616.0146408081055,"y":141.09483909606934,"wires":[]},{"id":"d9cd6630.91d818","type":"function","z":"b67896f0.aa9288","name":"init status_all","func":"//var status_all = msg.payload;\nflow.set(\"bit_0_status_pump\",0);\nflow.set(\"bit_18_status_pump\", 0);\nflow.set(\"bit_0_status_klapan\", 0);\nflow.set(\"bit_1_status_klapan\", 0);\nflow.set(\"status_hend_vent_bit_0\",0);\nflow.set(\"status_hend_vent_bit_1\",0);\nflow.set(\"status_hend_vent_bit_2\",0);\n  flow.set(\"register_error_status_bit_0\", 0);\n  flow.set(\"register_error_status_bit_1\", 0);\n  flow.set(\"register_error_status_bit_2\", 0);\n  flow.set(\"register_error_status_bit_3\", 0);\n  flow.set(\"register_error_status_bit_4\", 0);\n  flow.set(\"register_error_status_bit_5\", 0);\n  flow.set(\"register_error_status_bit_6\", 0);\n  flow.set(\"register_error_status_bit_7\", 0);\n  flow.set(\"register_error_status_bit_8\", 0);\n  flow.set(\"t_flow\", 0);\n  flow.set(\"plotnost_flow\", 0);\n  flow.set(\"second_for_scada\", 0);\n  flow.set(\"mode_system\", 0);\n  flow.set(\"zayavka\", 0);\n  flow.set(\"marshrut_setpoint_number\", 0);\n  flow.set(\"marshrut_setpoint_bit_0\", 0);\n  flow.set(\"marshrut_setpoint_bit_1\", 0);\n  flow.set(\"marshrut_setpoint_bit_2\", 0);\n  flow.set(\"setpoint\", 0);\n  flow.set(\"set_lflow_start\", 0);\n  flow.set(\"set_lflow_stop\", 0);\n  flow.set(\"protok_min\", 0);\n  flow.set(\"protok_dead_time\", 0);\n  flow.set(\"counter_1\", 0);\n  flow.set(\"counter_2\", 0);\n  flow.set(\"counter_3\", 0);\nreturn msg;","outputs":"1","noerr":0,"x":373.6427001953125,"y":341,"wires":[[]]},{"id":"8f4afedd.bf09f","type":"inject","z":"b67896f0.aa9288","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"x":197,"y":339.2436408996582,"wires":[["d9cd6630.91d818"]]},{"id":"1c5d5332.e1dd0d","type":"function","z":"b67896f0.aa9288","name":"response","func":"msg.payload = {\n\"bit_0_status_pump\":flow.get(\"bit_0_status_pump\"),\n\"bit_18_status_pump\":flow.get(\"bit_18_status_pump\"),\n\"bit_0_status_klapan\":flow.get(\"bit_0_status_klapan\"),\n\"bit_1_status_klapan\":flow.get(\"bit_1_status_klapan\"),\n\"status_hend_vent_bit_0\":flow.get(\"status_hend_vent_bit_0\"),\n\"status_hend_vent_bit_1\":flow.get(\"status_hend_vent_bit_1\"),\n\"status_hend_vent_bit_2\":flow.get(\"status_hend_vent_bit_2\"),\n\"register_error_status_bit_0\":flow.get(\"register_error_status_bit_0\"),\n\"register_error_status_bit_1\":flow.get(\"register_error_status_bit_1\"),\n\"register_error_status_bit_2\":flow.get(\"register_error_status_bit_2\"),\n\"register_error_status_bit_3\":flow.get(\"register_error_status_bit_3\"),\n\"register_error_status_bit_4\":flow.get(\"register_error_status_bit_4\"),\n\"register_error_status_bit_5\":flow.get(\"register_error_status_bit_5\"),\n\"register_error_status_bit_6\":flow.get(\"register_error_status_bit_6\"),\n\"register_error_status_bit_7\":flow.get(\"register_error_status_bit_7\"),\n\"register_error_status_bit_8\":flow.get(\"register_error_status_bit_8\"),\n\"t_flow\":flow.get(\"t_flow\"),\n\"plotnost_flow\":flow.get(\"plotnost_flow\"),\n\"second_for_scada\":flow.get(\"second_for_scada\"),\n\"mode_system\":flow.get(\"mode_system\"),\n\"zayavka\":flow.get(\"zayavka\"),\n\"marshrut_setpoint_number\":flow.get(\"marshrut_setpoint_number\"),\n\"marshrut_setpoint_bit_0\":flow.get(\"marshrut_setpoint_bit_0\"),\n\"marshrut_setpoint_bit_1\":flow.get(\"marshrut_setpoint_bit_1\"),\n\"marshrut_setpoint_bit_2\":flow.get(\"marshrut_setpoint_bit_2\"),\n\"setpoint\":flow.get(\"setpoint\"),\n\"set_lflow_start\":flow.get(\"set_lflow_start\"),\n\"set_lflow_stop\":flow.get(\"set_lflow_stop\"),\n\"protok_min\":flow.get(\"protok_min\"),\n\"protok_dead_time\":flow.get(\"protok_dead_time\"),\n\"counter_1\":flow.get(\"counter_1\"),\n\"counter_2\":flow.get(\"counter_2\"),\n\"counter_3\":flow.get(\"counter_3\")\n};\nreturn msg;","outputs":1,"noerr":0,"x":467.90889739990234,"y":149.5241870880127,"wires":[["7791206a.52f51"]]},{"id":"38a8793b.796566","type":"function","z":"26322f83.41d31","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["5730a6ff.4c07a8"]]},{"id":"9ed09c56.1d67a","type":"inject","z":"26322f83.41d31","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["38a8793b.796566"]]},{"id":"cd8890b0.ec0a9","type":"http in","z":"26322f83.41d31","name":"","url":"/k4/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["38a8793b.796566"]]},{"id":"f7b9144.9878ae8","type":"debug","z":"26322f83.41d31","name":"","active":true,"console":"false","complete":"payload","x":1173.6350288391113,"y":1821.1546459197998,"wires":[]},{"id":"641257c2.92d138","type":"function","z":"26322f83.41d31","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":983.2896156311035,"y":1822.2498760223389,"wires":[["7fa6463d.4a30a8","f7b9144.9878ae8"]]},{"id":"618b31c.ee2fad","type":"function","z":"26322f83.41d31","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":846.9441909790039,"y":1820.7142524719238,"wires":[["641257c2.92d138"]]},{"id":"7fa6463d.4a30a8","type":"http response","z":"26322f83.41d31","name":"","x":1154.6467781066895,"y":1784.5239000320435,"wires":[]},{"id":"93b82bc6.9ecd38","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":673.9898338317871,"y":1823.337664604187,"wires":[["618b31c.ee2fad"],[]]},{"id":"1d4d7c3.d311984","type":"function","z":"26322f83.41d31","name":"5751","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":411.2993965148926,"y":1818.2361040115356,"wires":[["93b82bc6.9ecd38"]]},{"id":"6e1243f4.3ad33c","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":915.5155792236328,"y":1772.1430549621582,"wires":[["1d4d7c3.d311984"]]},{"id":"560e52ca.ff1f8c","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":680.9124565124512,"y":1765.5555810928345,"wires":[["6e1243f4.3ad33c"],[]]},{"id":"8c40b1ba.3faf","type":"function","z":"26322f83.41d31","name":"5751_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":416.66651153564453,"y":1768.3428716659546,"wires":[["560e52ca.ff1f8c"]]},{"id":"586c5fc2.0423","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":909.8012847900391,"y":1727.8572664260864,"wires":[["8c40b1ba.3faf"]]},{"id":"ffadd066.783b2","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":679.245792388916,"y":1710.5555582046509,"wires":[["586c5fc2.0423"],[]]},{"id":"dea90b94.abb218","type":"function","z":"26322f83.41d31","name":"5750_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5750 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":413.6665496826172,"y":1714.3427057266235,"wires":[["ffadd066.783b2"]]},{"id":"c0efaaa.e1c2458","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":906.9441680908203,"y":1672.1429109573364,"wires":[["dea90b94.abb218"]]},{"id":"11bbd4f2.62389b","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":689.2458763122559,"y":1667.2222423553467,"wires":[["c0efaaa.e1c2458"],[]]},{"id":"b086206.0307be","type":"function","z":"26322f83.41d31","name":"5748_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5748 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":401,"y":1669.0095329284668,"wires":[["11bbd4f2.62389b"]]},{"id":"b6705a76.82a818","type":"function","z":"26322f83.41d31","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":902.6584320068359,"y":1622.1429452896118,"wires":[["b086206.0307be"]]},{"id":"f1059e95.0ad35","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":692.5790519714355,"y":1625.555612564087,"wires":[["b6705a76.82a818"],[]]},{"id":"58bf1947.f26ca8","type":"function","z":"26322f83.41d31","name":"5744_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5744 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":422.9999542236328,"y":1620.0096921920776,"wires":[["f1059e95.0ad35"]]},{"id":"ca1c56bc.3c9468","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":905.5155792236328,"y":1552.1429109573364,"wires":[["58bf1947.f26ca8"]]},{"id":"682959f2.3c5248","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":673.1347503662109,"y":1551.66685962677,"wires":[["ca1c56bc.3c9468"],[]]},{"id":"a2a5599c.6e4638","type":"function","z":"26322f83.41d31","name":"5742_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5742 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":403.4442596435547,"y":1559.5650272369385,"wires":[["682959f2.3c5248"]]},{"id":"34cd63fb.cebb4c","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":899.9600296020508,"y":1491.3269004821777,"wires":[["a2a5599c.6e4638"]]},{"id":"aafb33b8.05aa5","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":666.0117378234863,"y":1495.515986442566,"wires":[["34cd63fb.cebb4c"],[]]},{"id":"1c814454.f305ec","type":"function","z":"26322f83.41d31","name":"R_5741_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5741 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":417.9442596435547,"y":1510.1363124847412,"wires":[["aafb33b8.05aa5"]]},{"id":"c81607af.2a0b48","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":874.2457695007324,"y":1434.1840724945068,"wires":[["1c814454.f305ec"]]},{"id":"8f6131b7.a695c","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":671.7260246276855,"y":1442.6588916778564,"wires":[["c81607af.2a0b48"],[]]},{"id":"7174b46d.26e0ac","type":"function","z":"26322f83.41d31","name":"R_5740_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5740 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":419.0871276855469,"y":1453.851071357727,"wires":[["8f6131b7.a695c"]]},{"id":"d2646be3.4ad0b8","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":859.960090637207,"y":1387.0411462783813,"wires":[["7174b46d.26e0ac"]]},{"id":"bf80e974.6cd778","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":657.4402618408203,"y":1394.0872898101807,"wires":[["d2646be3.4ad0b8"],[]]},{"id":"d077047a.62fff8","type":"function","z":"26322f83.41d31","name":"R_5739_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5739 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":419.22996520996094,"y":1407.136713027954,"wires":[["bf80e974.6cd778"]]},{"id":"1fa593a8.2513ec","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.674388885498,"y":1337.041220664978,"wires":[["d077047a.62fff8"]]},{"id":"cfa2f2fd.72818","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":653.1545372009277,"y":1345.5159692764282,"wires":[["1fa593a8.2513ec"],[]]},{"id":"6d925384.13607c","type":"function","z":"26322f83.41d31","name":"R_5738_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5738 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":410.8014221191406,"y":1349.565094947815,"wires":[["cfa2f2fd.72818"]]},{"id":"79922014.65bf5","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.3886566162109,"y":1279.8985385894775,"wires":[["6d925384.13607c"]]},{"id":"67dd8b3d.37d074","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":653.1545486450195,"y":1295.5158882141113,"wires":[["79922014.65bf5"],[]]},{"id":"83e2bd6b.b5602","type":"function","z":"26322f83.41d31","name":"R_5737_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5737 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.22998046875,"y":1292.1366653442383,"wires":[["67dd8b3d.37d074"]]},{"id":"c27140c5.c7cd6","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":872.8171768188477,"y":1208.4698333740234,"wires":[["83e2bd6b.b5602"]]},{"id":"2a9ae718.1de458","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":674.5831451416016,"y":1224.0872859954834,"wires":[["c27140c5.c7cd6"],[]]},{"id":"c66c30bd.70b2c","type":"function","z":"26322f83.41d31","name":"R_5736_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5736 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.5156936645508,"y":1225.5650482177734,"wires":[["2a9ae718.1de458"]]},{"id":"d2933bef.966958","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":865.67431640625,"y":1149.8984699249268,"wires":[["c66c30bd.70b2c"]]},{"id":"e6830d47.4c381","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":667.4403305053711,"y":1152.6588325500488,"wires":[["d2933bef.966958"],[]]},{"id":"c841a125.6a12b","type":"function","z":"26322f83.41d31","name":"R_5735_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5735 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":420.94427490234375,"y":1151.7079887390137,"wires":[["e6830d47.4c381"]]},{"id":"b46c9d5d.5fdcc","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":875.6744003295898,"y":1107.0412216186523,"wires":[["c841a125.6a12b"]]},{"id":"6d144cf2.246024","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":661.7259750366211,"y":1114.0872993469238,"wires":[["b46c9d5d.5fdcc"],[]]},{"id":"f59a7b56.7e6c38","type":"function","z":"26322f83.41d31","name":"R_5734_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5734 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":427.3728332519531,"y":1103.9936294555664,"wires":[["6d144cf2.246024"]]},{"id":"67ee0bbd.a4ce54","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":867.1029586791992,"y":1045.612705230713,"wires":[["f59a7b56.7e6c38"]]},{"id":"87ae39e6.385328","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":661.7259750366211,"y":1055.5159149169922,"wires":[["67ee0bbd.a4ce54"],[]]},{"id":"516cbba1.0bdab4","type":"function","z":"26322f83.41d31","name":"R_5733_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5733 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":413.9442596435547,"y":1048.2792701721191,"wires":[["87ae39e6.385328"]]},{"id":"d63fcca9.5f13d","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":869.9600830078125,"y":994.1842060089111,"wires":[["516cbba1.0bdab4"]]},{"id":"67125ac7.5a4ce4","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":661.725959777832,"y":996.9444990158081,"wires":[["d63fcca9.5f13d"],[]]},{"id":"53379a7e.311674","type":"function","z":"26322f83.41d31","name":"R_5732_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5732 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":420.9442443847656,"y":998.279390335083,"wires":[["67125ac7.5a4ce4"]]},{"id":"27ee0680.d7f86a","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(4));\n\nreturn msg;","outputs":1,"noerr":0,"x":875.4638366699219,"y":951.387243270874,"wires":[["53379a7e.311674"]]},{"id":"7fd5fa95.917a14","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":659.8765182495117,"y":948.4389019012451,"wires":[["27ee0680.d7f86a"],[]]},{"id":"aa9efd64.6396d","type":"function","z":"26322f83.41d31","name":"5730+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5730 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":412.2020568847656,"y":946.3213787078857,"wires":[["7fd5fa95.917a14"]]},{"id":"4f89b5d6.9b0c0c","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":883.4995594024658,"y":898.0538940429688,"wires":[["aa9efd64.6396d"]]},{"id":"73cffda0.073074","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":667.4832725524902,"y":902.0698280334473,"wires":[["4f89b5d6.9b0c0c"],[]]},{"id":"3a9d3ba9.b99114","type":"function","z":"26322f83.41d31","name":"5728+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5728 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":419.6424865722656,"y":897.119065284729,"wires":[["73cffda0.073074"]]},{"id":"9251b35c.45edd","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":864.2138290405273,"y":848.0539207458496,"wires":[["3a9d3ba9.b99114"]]},{"id":"de0d9b11.6a4978","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":668.1975326538086,"y":847.7841053009033,"wires":[["9251b35c.45edd"],[]]},{"id":"2b7471bb.d545de","type":"function","z":"26322f83.41d31","name":"5726+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5726 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":415.32106018066406,"y":839.0475482940674,"wires":[["de0d9b11.6a4978"]]},{"id":"fdc2589c.e55748","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":859.0352401733398,"y":798.2324104309082,"wires":[["2b7471bb.d545de"]]},{"id":"8aa11ef9.c2f12","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":671.5903930664062,"y":797.9625778198242,"wires":[["fdc2589c.e55748"],[]]},{"id":"fdb46927.bb3268","type":"function","z":"26322f83.41d31","name":"5724+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5724 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":412.2496032714844,"y":786.1903667449951,"wires":[["8aa11ef9.c2f12"]]},{"id":"6af8c419.f996bc","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.3209457397461,"y":749.8395175933838,"wires":[["fdb46927.bb3268"]]},{"id":"4980aa42.feac24","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":652.8761672973633,"y":750.9983329772949,"wires":[["6af8c419.f996bc"],[]]},{"id":"b82f4bc9.d064b8","type":"function","z":"26322f83.41d31","name":"5722+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5722 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":416.7853240966797,"y":745.3689126968384,"wires":[["4980aa42.feac24"]]},{"id":"890de7b7.7fb158","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":861.3015403747559,"y":694.9308023452759,"wires":[["b82f4bc9.d064b8"]]},{"id":"b93581cd.d0fd1","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":656.7138519287109,"y":700.3752408027649,"wires":[["890de7b7.7fb158"],[]]},{"id":"fbdcbf53.fb451","type":"function","z":"26322f83.41d31","name":"5720+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5720 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":426.03548431396484,"y":701.2260875701904,"wires":[["b93581cd.d0fd1"]]},{"id":"b51490e7.f4ea3","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":861.3804512023926,"y":645.1134414672852,"wires":[["fbdcbf53.fb451"]]},{"id":"ff2f3873.b6f6f8","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":657.2218017578125,"y":649.3079853057861,"wires":[["b51490e7.f4ea3"],[]]},{"id":"c00ed10c.3a96","type":"function","z":"26322f83.41d31","name":"5718+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5718 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":423.11875915527344,"y":646.6190509796143,"wires":[["ff2f3873.b6f6f8"]]},{"id":"a0fc0e3f.b3134","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":862.2733268737793,"y":590.3515319824219,"wires":[["c00ed10c.3a96"]]},{"id":"c69d3db8.1d008","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":661.971435546875,"y":597.2245788574219,"wires":[["a0fc0e3f.b3134"],[]]},{"id":"9a06e305.78c74","type":"function","z":"26322f83.41d31","name":"5716+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5716 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":417.55914306640625,"y":598.4167356491089,"wires":[["c69d3db8.1d008"]]},{"id":"62979113.71ff9","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":858.7018966674805,"y":541.7801246643066,"wires":[["9a06e305.78c74"]]},{"id":"f30ea2b5.a0fa","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":654.1143035888672,"y":552.9388694763184,"wires":[["62979113.71ff9"],[]]},{"id":"c49e4b8a.0b4918","type":"function","z":"26322f83.41d31","name":"5714+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5714 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":425.2377471923828,"y":551.6309261322021,"wires":[["f30ea2b5.a0fa"]]},{"id":"f43b9a36.470d88","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":860.6661834716797,"y":490.530086517334,"wires":[["c49e4b8a.0b4918"]]},{"id":"7167a176.e1d9","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":654.649974822998,"y":505.9745922088623,"wires":[["f43b9a36.470d88"],[]]},{"id":"ecc868da.9d6458","type":"function","z":"26322f83.41d31","name":"5712+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5712 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":427.73777770996094,"y":505.34513664245605,"wires":[["7167a176.e1d9"]]},{"id":"87417bd9.ee0658","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.3804512023926,"y":450.70867919921875,"wires":[["ecc868da.9d6458"]]},{"id":"cc162b98.0c9728","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":656.792839050293,"y":454.7245969772339,"wires":[["87417bd9.ee0658"],[]]},{"id":"78224e5e.afe03","type":"function","z":"26322f83.41d31","name":"5710+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5710 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":431.9877624511719,"y":455.2380361557007,"wires":[["cc162b98.0c9728"]]},{"id":"8d5f224f.ac74d","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":862.9324798583984,"y":405.79992294311523,"wires":[["78224e5e.afe03"]]},{"id":"da19b3b1.203b1","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":655.4876480102539,"y":411.2443895339966,"wires":[["8d5f224f.ac74d"],[]]},{"id":"b61d492b.f89fa8","type":"function","z":"26322f83.41d31","name":"5708+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5708 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":425.38072204589844,"y":410.09517097473145,"wires":[["da19b3b1.203b1"]]},{"id":"3f6a8f4a.235f1","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":859.1308746337891,"y":357.9706678390503,"wires":[["b61d492b.f89fa8"]]},{"id":"fa8f4d22.c08e2","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":658.8289108276367,"y":364.8436851501465,"wires":[["3f6a8f4a.235f1"],[]]},{"id":"4d13eb23.bccc34","type":"function","z":"26322f83.41d31","name":"5706+1_Counterr_1v","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5706 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":431.72595977783203,"y":363.0118751525879,"wires":[["fa8f4d22.c08e2"]]},{"id":"7094af2e.ebff5","type":"function","z":"26322f83.41d31","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":855.3092269897461,"y":312.4944133758545,"wires":[["4d13eb23.bccc34"]]},{"id":"5a1c7556.b4c07c","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":651.3288650512695,"y":316.6293840408325,"wires":[["7094af2e.ebff5"],[]]},{"id":"60a960bb.7b4ed","type":"function","z":"26322f83.41d31","name":"5704+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5704 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":427.6902160644531,"y":318.2619342803955,"wires":[["5a1c7556.b4c07c"]]},{"id":"b255a43b.f39f18","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":829.4441528320312,"y":270.714289188385,"wires":[["60a960bb.7b4ed"]]},{"id":"9c670ab0.6de0b8","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":639.2853317260742,"y":271.4706516265869,"wires":[["b255a43b.f39f18"],[]]},{"id":"2b172677.3a7dda","type":"function","z":"26322f83.41d31","name":"5703_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5703 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":442.86875915527344,"y":277.94047927856445,"wires":[["9c670ab0.6de0b8"]]},{"id":"fc31e35d.d87fd","type":"function","z":"26322f83.41d31","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":862.3013000488281,"y":225,"wires":[["2b172677.3a7dda"]]},{"id":"d7685202.4ff6c","type":"modbus-flex-getter","z":"26322f83.41d31","name":"","showStatusActivities":false,"showErrors":false,"server":"b84fea20.d60318","x":681.2100677490234,"y":226.33176517486572,"wires":[["fc31e35d.d87fd"],[]]},{"id":"5730a6ff.4c07a8","type":"function","z":"26322f83.41d31","name":"R_5702_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5702 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":449.99974060058594,"y":227.80951595306396,"wires":[["d7685202.4ff6c"]]},{"id":"802858da.252d58","type":"http in","z":"76d04a24.33dbd4","name":"","url":"/k5/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["36842e9d.c40a02"]]},{"id":"84473b19.94a0b8","type":"http in","z":"9de15b38.b5e158","name":"","url":"/k6/status/all_system","method":"get","swaggerDoc":"","x":252.85714721679688,"y":97.14286041259766,"wires":[["a7b0a165.10c1f"]]},{"id":"187079dd.9edbf6","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["a2e44bac.c56b98","72ed19d1.0645b8"]]},{"id":"d3f04f86.19f94","type":"function","z":"c3bd0ed2.bdd29","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["187079dd.9edbf6"]]},{"id":"72ed19d1.0645b8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"7527888a.854198","type":"function","z":"c3bd0ed2.bdd29","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["d3f04f86.19f94"]]},{"id":"619666c1.49bef8","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["7527888a.854198","9eec37a.a31f5c8"]]},{"id":"a44e3033.cec2a","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["7527888a.854198"]]},{"id":"521b18d.fd85ae8","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":767.5554809570312,"y":173.65108585357666,"wires":[["72ed19d1.0645b8"],["5d92b7f7.e47518"]]},{"id":"5d92b7f7.e47518","type":"function","z":"c3bd0ed2.bdd29","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["5c87c3e4.4bccec"]]},{"id":"5c87c3e4.4bccec","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":644,"y":222.76220798492432,"wires":[[],["d61f7d83.2e4ad"]]},{"id":"2876e024.81ffc","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/status","method":"get","swaggerDoc":"","x":2007.5239639282227,"y":815.3496389389038,"wires":[["c57a0172.445f7"]]},{"id":"9eec37a.a31f5c8","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"a9eed290.528eb","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/status","method":"post","swaggerDoc":"","x":1981.6906814575195,"y":985.4329319000244,"wires":[["c08a8642.7d0a38","e2822c02.a6dec"]]},{"id":"c08a8642.7d0a38","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2213.940628051758,"y":983.6829471588135,"wires":[["89554518.bc8398"]]},{"id":"89554518.bc8398","type":"function","z":"c3bd0ed2.bdd29","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2344.190616607666,"y":987.0995426177979,"wires":[["7f467f1f.023ac"]]},{"id":"6521553.21814ac","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2747.6034622192383,"y":815.9845762252808,"wires":[]},{"id":"faac14f9.a7a028","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2000.3017349243164,"y":768.6829500198364,"wires":[["c57a0172.445f7"]]},{"id":"7f467f1f.023ac","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2513.07950592041,"y":988.2106742858887,"wires":[[],["f989c11d.5770a"]]},{"id":"f989c11d.5770a","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2698.385055541992,"y":993.6829586029053,"wires":[]},{"id":"8b6639d8.6e0c38","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2366.107307434082,"y":817.6551847457886,"wires":[["4062afad.6b05f"],[]]},{"id":"c57a0172.445f7","type":"function","z":"c3bd0ed2.bdd29","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2192.3295249938965,"y":815.4329614639282,"wires":[["8b6639d8.6e0c38"]]},{"id":"b1664f5e.658bb","type":"comment","z":"c3bd0ed2.bdd29","name":"Read_R5002","info":"","x":2308.190643310547,"y":770.5718288421631,"wires":[]},{"id":"ddcf93d9.f9097","type":"comment","z":"c3bd0ed2.bdd29","name":"Write_R5002","info":"","x":2306.1628189086914,"y":870.3496236801147,"wires":[]},{"id":"733b528c.f111ac","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1983.9406280517578,"y":943.6829471588135,"wires":[["c08a8642.7d0a38"]]},{"id":"f4504c6.d6c5eb","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2799.587459564209,"y":875.1909122467041,"wires":[]},{"id":"224cecec.afcf74","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2579.746139526367,"y":872.0163278579712,"wires":[["f4504c6.d6c5eb"]]},{"id":"d61f7d83.2e4ad","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"c84a2631.9b9738","type":"function","z":"c3bd0ed2.bdd29","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["521b18d.fd85ae8"]]},{"id":"a2e44bac.c56b98","type":"function","z":"c3bd0ed2.bdd29","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["c84a2631.9b9738"]]},{"id":"e30c8007.69f86","type":"comment","z":"c3bd0ed2.bdd29","name":"read_PLC input status","info":"","x":2256.238265991211,"y":659.96857213974,"wires":[]},{"id":"da4852ea.63b2f","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PLCInputStatus","method":"get","swaggerDoc":"","x":1974.7938194274902,"y":699.1908612251282,"wires":[["b4ee297c.c9f3d8"]]},{"id":"b4ee297c.c9f3d8","type":"function","z":"c3bd0ed2.bdd29","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2175.7938194274902,"y":697.1908612251282,"wires":[["4c54ecdd.1cf364"]]},{"id":"4c54ecdd.1cf364","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2371.7938194274902,"y":704.1908612251282,"wires":[["4b9d71e7.f9bdf","71ffe428.e1f7bc"],[]]},{"id":"4b9d71e7.f9bdf","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2570.7938194274902,"y":698.1908612251282,"wires":[]},{"id":"2e18cae7.1aa1d6","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1913.7938194274902,"y":648.1908612251282,"wires":[["b4ee297c.c9f3d8"]]},{"id":"af167f36.08d92","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"628f4eb.f3439b","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["ce9d3779.d550b8"]]},{"id":"ce9d3779.d550b8","type":"function","z":"c3bd0ed2.bdd29","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["f9eed7e3.f2c948"]]},{"id":"f9eed7e3.f2c948","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":724.9999389648438,"y":1374.3176727294922,"wires":[["f5c772d4.2c221"],[]]},{"id":"10ccd3cd.4ee01c","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["ce9d3779.d550b8"]]},{"id":"beae34ae.a3f5b8","type":"comment","z":"c3bd0ed2.bdd29","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"f6c50269.5ed06","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["e4f5b2da.02cc4"]]},{"id":"e4f5b2da.02cc4","type":"function","z":"c3bd0ed2.bdd29","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["6a8fc6c.7aea438"]]},{"id":"6a8fc6c.7aea438","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":729.4443817138672,"y":1509.7620887756348,"wires":[["d3700d16.29057"],[]]},{"id":"2d4f1405.eb644c","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["e4f5b2da.02cc4"]]},{"id":"be4452f1.ddaa","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/resetError","method":"post","swaggerDoc":"","x":226,"y":1089.0955295562744,"wires":[["8e8834ed.279cb8"]]},{"id":"5c082893.bfaa78","type":"comment","z":"c3bd0ed2.bdd29","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"f5eed8ae.3514c8","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["9b66c204.48907"]]},{"id":"9b66c204.48907","type":"function","z":"c3bd0ed2.bdd29","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["1be91c92.6bcc73"]]},{"id":"1be91c92.6bcc73","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":734.4443817138672,"y":1683.7620887756348,"wires":[["902566d5.b65038"],[]]},{"id":"7601e794.7cb7d8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"a83990aa.ac481","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["9b66c204.48907"]]},{"id":"72e43e8a.4b439","type":"comment","z":"c3bd0ed2.bdd29","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"bd9b982.45d1868","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["beefab50.136618"]]},{"id":"beefab50.136618","type":"function","z":"c3bd0ed2.bdd29","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["7693258a.6ea43c"]]},{"id":"7693258a.6ea43c","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":729.4443817138672,"y":1845.7620887756348,"wires":[["6b4a53c4.a74f1c"],[]]},{"id":"5a866548.23897c","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"259fe883.798058","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["beefab50.136618"]]},{"id":"7ebc8226.616d4c","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"d516c52c.eca618","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostFlow","method":"get","swaggerDoc":"","x":290.7777404785156,"y":2006.0954418182373,"wires":[["e06318a7.92be18"]]},{"id":"e06318a7.92be18","type":"function","z":"c3bd0ed2.bdd29","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["ce660b7e.b61898"]]},{"id":"ce660b7e.b61898","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":729.4443817138672,"y":1997.7620887756348,"wires":[["91db921a.140de"],[]]},{"id":"2b73824a.0c2cae","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["e06318a7.92be18"]]},{"id":"742d102d.e3534","type":"comment","z":"c3bd0ed2.bdd29","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"9e9e248c.ef9c08","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlowMiddle","method":"get","swaggerDoc":"","x":311.1943817138672,"y":2151.0122861862183,"wires":[["9a86bf9d.bdd77"]]},{"id":"9a86bf9d.bdd77","type":"function","z":"c3bd0ed2.bdd29","name":"5770+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5770 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":543.4443817138672,"y":2152.7620887756348,"wires":[["e3ae4aba.cc6d78"]]},{"id":"e3ae4aba.cc6d78","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":729.4443817138672,"y":2159.7620887756348,"wires":[["506374df.da9aec"],[]]},{"id":"5e524638.ddbd98","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["9a86bf9d.bdd77"]]},{"id":"a106ce4.ee94c3","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"acb32402.37d498","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostMiddle","method":"get","swaggerDoc":"","x":324.33331298828125,"y":2337.7622995376587,"wires":[["cf004099.3749b"]]},{"id":"cf004099.3749b","type":"function","z":"c3bd0ed2.bdd29","name":"5782+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5782 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":550.3333129882812,"y":2335.7621850967407,"wires":[["229d89f9.ee8c06"]]},{"id":"229d89f9.ee8c06","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":736.3333129882812,"y":2342.7621850967407,"wires":[["c98ec1af.5e849"],[]]},{"id":"6c6d6aab.676f54","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["cf004099.3749b"]]},{"id":"d11860a9.d2d63","type":"comment","z":"c3bd0ed2.bdd29","name":"write_error_reset","info":"","x":663.7778015136719,"y":883.0954647064209,"wires":[]},{"id":"ae920599.42f878","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["2eb3a8a1.b8e7b8","f7fc5c12.56f35"]]},{"id":"ecf27893.1ea258","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"2d30fbd6.b2bd34","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["ecf27893.1ea258"]]},{"id":"d792f23.2ebe31","type":"function","z":"c3bd0ed2.bdd29","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["2d30fbd6.b2bd34"]]},{"id":"2eb3a8a1.b8e7b8","type":"function","z":"c3bd0ed2.bdd29","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["d792f23.2ebe31"]]},{"id":"acd3cc93.b7dab","type":"comment","z":"c3bd0ed2.bdd29","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"f393b509.14baf8","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["45f82d4b.5ecf44","fa2f2b3c.7f2dd8"]]},{"id":"af412149.05ab9","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"5f577d64.f067c4","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":902.055534362793,"y":2665.151086807251,"wires":[[],["af412149.05ab9"]]},{"id":"49776d4.7112f94","type":"function","z":"c3bd0ed2.bdd29","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["5f577d64.f067c4"]]},{"id":"45f82d4b.5ecf44","type":"function","z":"c3bd0ed2.bdd29","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["49776d4.7112f94"]]},{"id":"b0d080dc.1d77d","type":"comment","z":"c3bd0ed2.bdd29","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"44a08043.52d76","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/SetLflowStart","method":"post","swaggerDoc":"","x":145,"y":2917.6509437561035,"wires":[["e630b936.1ce618"]]},{"id":"5b368a70.566b44","type":"comment","z":"c3bd0ed2.bdd29","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"e1075492.0de758","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"6ad3c3c0.94e57c","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/SetLflowStart","method":"get","swaggerDoc":"","x":313.94439697265625,"y":3119.178955078125,"wires":[["8d4a3e0a.aedcc"]]},{"id":"8d4a3e0a.aedcc","type":"function","z":"c3bd0ed2.bdd29","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["7668157a.556f4c"]]},{"id":"7668157a.556f4c","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":794.1944046020508,"y":3101.178910255432,"wires":[["8746c9bd.8d4d18"],[]]},{"id":"926a874c.d2b168","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"74bfeda6.32a004","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["8d4a3e0a.aedcc"]]},{"id":"470d8bcf.8ae9b4","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/SetLflowStop","method":"post","swaggerDoc":"","x":305.5,"y":3252.0955810546875,"wires":[["8c06911d.b682e"]]},{"id":"a1ac8962.e470b8","type":"comment","z":"c3bd0ed2.bdd29","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"8feb490a.c68c08","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"f7680234.4c10c","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["73357327.c29e0c"]]},{"id":"73357327.c29e0c","type":"function","z":"c3bd0ed2.bdd29","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["d92f4337.9ddef"]]},{"id":"d92f4337.9ddef","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":801.5554809570312,"y":3394.650938987732,"wires":[["3560713e.c84a1e"],[]]},{"id":"99ddec9b.8df66","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["73357327.c29e0c"]]},{"id":"182349a6.2dfbf6","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["699577c4.eb40b8"]]},{"id":"580c2aa5.614914","type":"comment","z":"c3bd0ed2.bdd29","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"43b285f6.3f9dac","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"26faea76.491ef6","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["71e4194f.b249c8"]]},{"id":"71e4194f.b249c8","type":"function","z":"c3bd0ed2.bdd29","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["5ff7a213.ddc6cc"]]},{"id":"5ff7a213.ddc6cc","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":774.8888473510742,"y":3898.678889274597,"wires":[["b54226b3.8602e8"],[]]},{"id":"afe4bf83.aa9aa","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["71e4194f.b249c8"]]},{"id":"23a9f4a3.e1ef5c","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["b42dc966.94d568"]]},{"id":"aed69b79.a02968","type":"comment","z":"c3bd0ed2.bdd29","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"ea390a3c.1b5728","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"24652a2d.12fdd6","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/ProtokDeadTime","method":"get","swaggerDoc":"","x":351.3332977294922,"y":4280.345643043518,"wires":[["97b8aab7.de1298"]]},{"id":"97b8aab7.de1298","type":"function","z":"c3bd0ed2.bdd29","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["352e6887.7492b8"]]},{"id":"352e6887.7492b8","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":739.8888473510742,"y":4276.734314918518,"wires":[["b078d270.5aa23"],[]]},{"id":"874b91cf.a502c","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["97b8aab7.de1298"]]},{"id":"6d38dbfe.2bfd54","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[[]]},{"id":"e2822c02.a6dec","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":2233.9406127929688,"y":925.905143737793,"wires":[]},{"id":"ded1eca9.ea104","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Upakovka_marshrut","info":"","x":2280.8413619995117,"y":35.984601974487305,"wires":[]},{"id":"972e3cd1.fbebc","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1955.1748123168945,"y":114.54005336761475,"wires":[["1e919493.a6ac3b"]]},{"id":"c53243aa.0837","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1919.508056640625,"y":59.7623233795166,"wires":[["1e919493.a6ac3b"]]},{"id":"8c7c6843.443e98","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2714.349353790283,"y":738.5242199897766,"wires":[]},{"id":"71ffe428.e1f7bc","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2558.793800354004,"y":742.9686427116394,"wires":[["8c7c6843.443e98"]]},{"id":"c6556835.208ca8","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"1451f371.fef61d","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["c6556835.208ca8"]]},{"id":"90dd337a.7c5f9","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"e61fdb6e.554c08","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["90dd337a.7c5f9"]]},{"id":"fa2f2b3c.7f2dd8","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"f7fc5c12.56f35","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"ea07bc25.42da5","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/SecondForScada","method":"get","swaggerDoc":"","x":300.99993896484375,"y":2835.678955078125,"wires":[["e1d57d13.cb486"]]},{"id":"20dc626d.17dc0e","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"e1d57d13.cb486","type":"function","z":"c3bd0ed2.bdd29","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["9c380fbe.8b0d6"]]},{"id":"9c380fbe.8b0d6","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":729.2499389648438,"y":2824.178864479065,"wires":[["34084079.36c61"],[]]},{"id":"28855535.b7311a","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"1d476b1d.6c1d05","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["dd5ff612.655848"]]},{"id":"dd5ff612.655848","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"966377e2.78d458","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["e1d57d13.cb486"]]},{"id":"192284b7.b8a2eb","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["d5778a9e.e9ec88"]]},{"id":"d5778a9e.e9ec88","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"fd991582.2c3ec8","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[[]]},{"id":"c0ce28d2.534198","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"16616b61.e1c9a5","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["9ec1d2af.0d452"]]},{"id":"9ec1d2af.0d452","type":"function","z":"c3bd0ed2.bdd29","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["cf749a89.06fc48"]]},{"id":"cf749a89.06fc48","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":736.5554885864258,"y":4617.726898193359,"wires":[["4dba8c18.15e224"],[]]},{"id":"3cb9e097.1901f","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["9ec1d2af.0d452"]]},{"id":"f94ed0d1.84115","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"afba3a29.63eee8","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["f7ccf381.d4b86"]]},{"id":"f7ccf381.d4b86","type":"function","z":"c3bd0ed2.bdd29","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["9913c6a1.84c238"]]},{"id":"9913c6a1.84c238","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":736.5554885864258,"y":4760.107833862305,"wires":[["3b82a8f8.7e6358"],[]]},{"id":"3c133f2e.7bd95","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["f7ccf381.d4b86"]]},{"id":"8746c9bd.8d4d18","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["926a874c.d2b168","192284b7.b8a2eb"]]},{"id":"6b4a53c4.a74f1c","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["5a866548.23897c","e61fdb6e.554c08"]]},{"id":"902566d5.b65038","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["1451f371.fef61d","7601e794.7cb7d8"]]},{"id":"13e87df0.027c12","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"356a1157.7ed53e","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"8e9368de.111588","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["356a1157.7ed53e"]]},{"id":"d3700d16.29057","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["8e9368de.111588","13e87df0.027c12"]]},{"id":"992d5cdf.848fa","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"c4ee23fa.45051","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"1886fb21.076945","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["c4ee23fa.45051"]]},{"id":"f5c772d4.2c221","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["1886fb21.076945","992d5cdf.848fa"]]},{"id":"385a15c1.a3f5ea","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"e52eb9b7.b21d38","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"7daa24d1.49ad9c","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["e52eb9b7.b21d38"]]},{"id":"91db921a.140de","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["7daa24d1.49ad9c","385a15c1.a3f5ea"]]},{"id":"ed4a41f0.b19dc","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"b71db136.d8d88","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"9a3a5314.4d55a","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["b71db136.d8d88"]]},{"id":"506374df.da9aec","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["9a3a5314.4d55a","ed4a41f0.b19dc"]]},{"id":"3d9a64ef.c034ac","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"f74d7ff0.2f7b2","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"883b56a4.54b388","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["f74d7ff0.2f7b2"]]},{"id":"c98ec1af.5e849","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["883b56a4.54b388","3d9a64ef.c034ac"]]},{"id":"c7ab3116.fa68d","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"e7bd654e.93bc18","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"a8271911.25d778","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["e7bd654e.93bc18"]]},{"id":"3560713e.c84a1e","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["a8271911.25d778","c7ab3116.fa68d"]]},{"id":"7ed8f16a.02ac5","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"3ab1b624.d2b52a","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"8bbc1a5c.b18c68","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["3ab1b624.d2b52a"]]},{"id":"b54226b3.8602e8","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["8bbc1a5c.b18c68","7ed8f16a.02ac5"]]},{"id":"70163f29.ef347","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"2e82b2dd.16bc5e","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"f5c9ac4e.d76df","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["2e82b2dd.16bc5e"]]},{"id":"28d024d3.7f9b3c","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"eaf31955.0ff348","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"701db260.45da6c","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["eaf31955.0ff348"]]},{"id":"4dba8c18.15e224","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["701db260.45da6c","28d024d3.7f9b3c"]]},{"id":"8180f934.9c9078","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"7710bb89.790e74","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"2f55b184.9ccc5e","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["7710bb89.790e74"]]},{"id":"3b82a8f8.7e6358","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["2f55b184.9ccc5e","8180f934.9c9078"]]},{"id":"ea1bca46.5e84c8","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"d092edeb.76809","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["d3b1261a.9c7e88"]]},{"id":"d3b1261a.9c7e88","type":"function","z":"c3bd0ed2.bdd29","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["1bcb8f39.b2cd01"]]},{"id":"1bcb8f39.b2cd01","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":750.5832901000977,"y":4913.679074287415,"wires":[["f21e7327.4991e"],[]]},{"id":"177b855a.190a2b","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["d3b1261a.9c7e88"]]},{"id":"d522b033.1ac1b","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"fc85e282.8e26a","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"57c7cb9a.bb0b14","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["fc85e282.8e26a"]]},{"id":"f21e7327.4991e","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["57c7cb9a.bb0b14","d522b033.1ac1b"]]},{"id":"e5e58b50.b05908","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["c2afebd4.cf2f78","4b098947.c9ca18"]]},{"id":"841cf31c.b4562","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"1d6e66f7.743ea9","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2847.0160369873047,"y":2257.968363761902,"wires":[["841cf31c.b4562"],[]]},{"id":"cbc07b5a.d1fd18","type":"comment","z":"c3bd0ed2.bdd29","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"c2afebd4.cf2f78","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"6da85a08.bf2d24","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["4b098947.c9ca18"]]},{"id":"4b098947.c9ca18","type":"function","z":"c3bd0ed2.bdd29","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["861e3afd.d82988"]]},{"id":"861e3afd.d82988","type":"function","z":"c3bd0ed2.bdd29","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["1d6e66f7.743ea9"]]},{"id":"6bdd4dfd.82ddd4","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"8ddc8f7c.9cb1f","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2743.8736000061035,"y":2363.159381389618,"wires":[["6bdd4dfd.82ddd4"],[]]},{"id":"95db9f15.1d88c","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"2f5ea853.109918","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["95db9f15.1d88c"],[]]},{"id":"67c8459e.17112c","type":"comment","z":"c3bd0ed2.bdd29","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"1b1d540b.9840ac","type":"function","z":"c3bd0ed2.bdd29","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["dbf91429.080a88"]]},{"id":"dbf91429.080a88","type":"function","z":"c3bd0ed2.bdd29","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["2f5ea853.109918"]]},{"id":"f3dbde10.732f6","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["95c97f07.6773b","1b1d540b.9840ac"]]},{"id":"95c97f07.6773b","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"989b4672.b1f198","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["1b1d540b.9840ac"]]},{"id":"d99d0aad.ce4538","type":"function","z":"c3bd0ed2.bdd29","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["118c1994.ddae66"]]},{"id":"118c1994.ddae66","type":"function","z":"c3bd0ed2.bdd29","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["8ddc8f7c.9cb1f"]]},{"id":"e0135caf.7e873","type":"comment","z":"c3bd0ed2.bdd29","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"7520b2e.b0ebb4c","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["78792229.3e051c","d99d0aad.ce4538"]]},{"id":"78792229.3e051c","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"b4a9d3a.de3c03","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"579c329b.18718c","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["484439f5.370fa8"]]},{"id":"484439f5.370fa8","type":"function","z":"c3bd0ed2.bdd29","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["14c9c9c7.c9b616"]]},{"id":"14c9c9c7.c9b616","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2524.82515335083,"y":2829.377022743225,"wires":[["5c157c5.4b2ff84"],[]]},{"id":"4dc15afa.8785d4","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"da89e3bd.f40e7","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["484439f5.370fa8"]]},{"id":"df50ed5b.3b8db","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"d884f84e.2e91b8","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["df50ed5b.3b8db"]]},{"id":"a4cad964.f057b8","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"470966b8.868f98","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["cb4121d1.771e4"]]},{"id":"cb4121d1.771e4","type":"function","z":"c3bd0ed2.bdd29","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["471c2d99.73d4a4"]]},{"id":"471c2d99.73d4a4","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2521.8252296447754,"y":2958.377064704895,"wires":[["986446e3.27cbd8"],[]]},{"id":"8b003de0.62f3a","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["cb4121d1.771e4"]]},{"id":"be996ac2.f13b58","type":"comment","z":"c3bd0ed2.bdd29","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"5261b0b5.7eaa","type":"comment","z":"c3bd0ed2.bdd29","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"f2f363c0.5840f","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["fbbab51d.048c58"]]},{"id":"fbbab51d.048c58","type":"function","z":"c3bd0ed2.bdd29","name":"5760+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5760 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2341.213996887207,"y":3137.3770027160645,"wires":[["3ec7c573.11e46a"]]},{"id":"3ec7c573.11e46a","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2527.213996887207,"y":3144.3770027160645,"wires":[["3c1d1a02.b84e56"],[]]},{"id":"8a3ae267.19031","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["fbbab51d.048c58"]]},{"id":"b1256b3d.47a258","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"efc2c7a0.dec0f8","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["b31ce33b.3008a"]]},{"id":"3c1d1a02.b84e56","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["efc2c7a0.dec0f8","b1256b3d.47a258"]]},{"id":"b31ce33b.3008a","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"106fb1b2.a0594e","type":"comment","z":"c3bd0ed2.bdd29","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"bf3748b3.c9f858","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["ac35548.f7bdfa8"]]},{"id":"ac35548.f7bdfa8","type":"function","z":"c3bd0ed2.bdd29","name":"5762+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5762 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2339.7776107788086,"y":3282.724784851074,"wires":[["e93414bc.58f648"]]},{"id":"e93414bc.58f648","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2525.7776107788086,"y":3289.724784851074,"wires":[["85c0848e.0a3168"],[]]},{"id":"3cef8fc4.59f7a","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["ac35548.f7bdfa8"]]},{"id":"111e4b8d.bd60d4","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"f2696146.1670d","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["7aaf7bca.327644"]]},{"id":"85c0848e.0a3168","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["f2696146.1670d","111e4b8d.bd60d4"]]},{"id":"7aaf7bca.327644","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"c9918624.79a998","type":"comment","z":"c3bd0ed2.bdd29","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"1eb8281f.d74518","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["598b5205.85572c"]]},{"id":"598b5205.85572c","type":"function","z":"c3bd0ed2.bdd29","name":"5764+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5764 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2347.555320739746,"y":3412.724784851074,"wires":[["b6b42cff.64b86"]]},{"id":"b6b42cff.64b86","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2533.555320739746,"y":3419.724784851074,"wires":[["8899c5e5.0c6c78"],[]]},{"id":"b0989920.4af0f8","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["598b5205.85572c"]]},{"id":"3d906487.20885c","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"d256f29b.ec2da","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["614fe28c.6cfcac"]]},{"id":"8899c5e5.0c6c78","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["d256f29b.ec2da","3d906487.20885c"]]},{"id":"614fe28c.6cfcac","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"f7c4fc3b.0eea6","type":"comment","z":"c3bd0ed2.bdd29","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"2a19c6e3.3d6b6a","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["ee47716f.de7f5"]]},{"id":"ee47716f.de7f5","type":"function","z":"c3bd0ed2.bdd29","name":"5766+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5766 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2344.222068786621,"y":3547.169120788574,"wires":[["e6b877ba.5d0698"]]},{"id":"e6b877ba.5d0698","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2530.222068786621,"y":3554.169120788574,"wires":[["f0dfa599.7ac678"],[]]},{"id":"f58e6a.70ce2198","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["ee47716f.de7f5"]]},{"id":"b89c9cca.eec9a","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"78b9b17f.6498e","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["4f0e5298.e494ac"]]},{"id":"f0dfa599.7ac678","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["78b9b17f.6498e","b89c9cca.eec9a"]]},{"id":"4f0e5298.e494ac","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"29b87f5a.80b15","type":"comment","z":"c3bd0ed2.bdd29","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"31ea3ad6.9cd326","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["7800f4d.6dc180c"]]},{"id":"7800f4d.6dc180c","type":"function","z":"c3bd0ed2.bdd29","name":"5768+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5768 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2338.666404724121,"y":3683.465507507324,"wires":[["e4fce7e9.90f1b8"]]},{"id":"e4fce7e9.90f1b8","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2524.666404724121,"y":3690.465507507324,"wires":[["70b8b44b.d2b71c"],[]]},{"id":"9b428be.293f178","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["7800f4d.6dc180c"]]},{"id":"25506801.54bf98","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"3e0067b6.7db4f8","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["bdcac51c.023df8"]]},{"id":"70b8b44b.d2b71c","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["3e0067b6.7db4f8","25506801.54bf98"]]},{"id":"bdcac51c.023df8","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"dfbabedb.f3231","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"1a370acd.b75975","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostFlow1","method":"get","swaggerDoc":"","x":2138.777618408203,"y":3932.983733177185,"wires":[["19080318.a79ddd"]]},{"id":"19080318.a79ddd","type":"function","z":"c3bd0ed2.bdd29","name":"5772+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5772 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2386.444290161133,"y":3915.9839010238647,"wires":[["6a379adc.ffbb24"]]},{"id":"6a379adc.ffbb24","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2572.444290161133,"y":3922.9839010238647,"wires":[["d3b99359.05df6"],[]]},{"id":"934d1094.18d74","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["19080318.a79ddd"]]},{"id":"d3b99359.05df6","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["25eaf229.266e9e","b13adce8.50f85"]]},{"id":"b13adce8.50f85","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"25eaf229.266e9e","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["9a4379d6.6bee08"]]},{"id":"9a4379d6.6bee08","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"efeff30d.c9f5b","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"786eb866.0a69c8","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostFlow2","method":"get","swaggerDoc":"","x":2156.2222595214844,"y":4058.724786758423,"wires":[["89fdb5f7.1189b8"]]},{"id":"89fdb5f7.1189b8","type":"function","z":"c3bd0ed2.bdd29","name":"5774+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5774 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2384.222122192383,"y":4056.7246236801147,"wires":[["3d04bc4b.d97e64"]]},{"id":"3d04bc4b.d97e64","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2570.222122192383,"y":4063.7246236801147,"wires":[["a9b99a07.a600e8"],[]]},{"id":"f886c34c.f8b44","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["89fdb5f7.1189b8"]]},{"id":"a9b99a07.a600e8","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["8c87bf3e.db45b","1af7ec4f.ce42d4"]]},{"id":"1af7ec4f.ce42d4","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"8c87bf3e.db45b","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["dae8dee6.78605"]]},{"id":"dae8dee6.78605","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"eb96a940.63a3b8","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"33b201b8.edc1ee","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["7bf8b67a.3d5128"]]},{"id":"7bf8b67a.3d5128","type":"function","z":"c3bd0ed2.bdd29","name":"5776+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5776 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2399.8887329101562,"y":4221.502682685852,"wires":[["19658c5a.569a74"]]},{"id":"19658c5a.569a74","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2556.8887481689453,"y":4221.502455711365,"wires":[["f1ce826.9ec4f8"],[]]},{"id":"16e20513.3427eb","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["7bf8b67a.3d5128"]]},{"id":"f1ce826.9ec4f8","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["d4713baa.590c98","bb8c9e63.d7142"]]},{"id":"bb8c9e63.d7142","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"d4713baa.590c98","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["a49cf8a4.704428"]]},{"id":"a49cf8a4.704428","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"93fcb495.0c0eb8","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"1c9bcc5b.567a44","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostFlow4","method":"get","swaggerDoc":"","x":2143.111114501953,"y":4365.947389602661,"wires":[["35068099.1a049"]]},{"id":"35068099.1a049","type":"function","z":"c3bd0ed2.bdd29","name":"5778+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5778 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2373.111038208008,"y":4358.94703578949,"wires":[["f8cf5b3b.80e198"]]},{"id":"f8cf5b3b.80e198","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2559.111038208008,"y":4365.94703578949,"wires":[["19f3f031.0e257"],[]]},{"id":"3b5c5aea.2fff46","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["35068099.1a049"]]},{"id":"19f3f031.0e257","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["68f1bc5c.b11534","50adaca9.40f064"]]},{"id":"50adaca9.40f064","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"68f1bc5c.b11534","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["63933445.0ba6ac"]]},{"id":"63933445.0ba6ac","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"b2752f0d.0b1a8","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"7da20f60.5965","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["dce06de4.12173"]]},{"id":"dce06de4.12173","type":"function","z":"c3bd0ed2.bdd29","name":"5780+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5780 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2373.111038208008,"y":4516.35426235199,"wires":[["bc15e74f.433fa8"]]},{"id":"bc15e74f.433fa8","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2559.111038208008,"y":4523.35426235199,"wires":[["eaaf7711.d26e28"],[]]},{"id":"12244a66.327786","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["dce06de4.12173"]]},{"id":"eaaf7711.d26e28","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["ecfc1419.25a1a8","df625e08.59935"]]},{"id":"df625e08.59935","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"ecfc1419.25a1a8","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["ef90d457.51f878"]]},{"id":"ef90d457.51f878","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"b078d270.5aa23","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["70163f29.ef347","f5c9ac4e.d76df"]]},{"id":"36fc2109.81010e","type":"comment","z":"c3bd0ed2.bdd29","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":4015.7423706054688,"y":80.86333560943604,"wires":[]},{"id":"f528bd16.8b12d","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["e0cea7fc.885b18"]]},{"id":"26b38914.d1b226","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["e0cea7fc.885b18"]]},{"id":"9c88d30.3a2933","type":"comment","z":"c3bd0ed2.bdd29","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"e0cea7fc.885b18","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["13d38ce3.741e43"]]},{"id":"5fae4173.2b653","type":"function","z":"c3bd0ed2.bdd29","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["2cbec1ac.dd9cbe"]]},{"id":"2cbec1ac.dd9cbe","type":"function","z":"c3bd0ed2.bdd29","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["42d7ce6c.c1de2","440ea8ab.f68918"]]},{"id":"42d7ce6c.c1de2","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"440ea8ab.f68918","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"13d38ce3.741e43","type":"function","z":"c3bd0ed2.bdd29","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["710b05a7.b3bbfc"]]},{"id":"aac21396.17575","type":"function","z":"c3bd0ed2.bdd29","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["2f5440ae.eb194"]]},{"id":"710b05a7.b3bbfc","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":946.3656005859375,"y":413.76866817474365,"wires":[["b3cf705e.6852c"],[]]},{"id":"2f5440ae.eb194","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":904.6988525390625,"y":492.102011680603,"wires":[["495ee8d6.313ba8"],[]]},{"id":"dd32aa43.9f5b28","type":"function","z":"c3bd0ed2.bdd29","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["d2878d31.4c986"]]},{"id":"d2878d31.4c986","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":892.3139419555664,"y":555.7012310028076,"wires":[["e6d9539f.4b77e"],[]]},{"id":"e6d9539f.4b77e","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["8064cce4.3d756"]]},{"id":"8064cce4.3d756","type":"function","z":"c3bd0ed2.bdd29","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["d2a855af.e5b218"]]},{"id":"d2a855af.e5b218","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":897.3139419555664,"y":614.0345439910889,"wires":[["5fae4173.2b653"],[]]},{"id":"b3cf705e.6852c","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["aac21396.17575"]]},{"id":"495ee8d6.313ba8","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["dd32aa43.9f5b28"]]},{"id":"4062afad.6b05f","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2557.6709594726562,"y":814.7202701568604,"wires":[["224cecec.afcf74","6521553.21814ac"]]},{"id":"34084079.36c61","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["1d476b1d.6c1d05","28855535.b7311a"]]},{"id":"5c157c5.4b2ff84","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["d884f84e.2e91b8","4dc15afa.8785d4"]]},{"id":"e69e731e.2823a","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"99a0d26f.a52d4","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"dfe30c97.f4dba","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["99a0d26f.a52d4"]]},{"id":"986446e3.27cbd8","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["dfe30c97.f4dba","e69e731e.2823a"]]},{"id":"d4d84a4c.3e5808","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2569.6665992736816,"y":1605.428831577301,"wires":[["6304b345.04badc"],[]]},{"id":"95d5f2b9.e9caf","type":"function","z":"c3bd0ed2.bdd29","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2397.047504425049,"y":1608.0479445457458,"wires":[["d4d84a4c.3e5808"]]},{"id":"6304b345.04badc","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2790.85733795166,"y":1591.3814215660095,"wires":[["ebf341ba.439e5"]]},{"id":"6a0f7c3c.13a764","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2205.1430320739746,"y":1609.0003056526184,"wires":[["95d5f2b9.e9caf"]]},{"id":"ebf341ba.439e5","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2977.4913597106934,"y":1579.952661037445,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["a17f4e7c.03482"]]},{"id":"4f340096.ae804","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1988.364459991455,"y":1557.8098902702332,"wires":[["6a0f7c3c.13a764"]]},{"id":"234c458c.aa6cda","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/StatusKlapan","method":"get","swaggerDoc":"","x":1952.7294883728027,"y":1610.1908316612244,"wires":[["6a0f7c3c.13a764"]]},{"id":"a17f4e7c.03482","type":"function","z":"c3bd0ed2.bdd29","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2215.142749786377,"y":1729.952739238739,"wires":[["a7c53c33.8cb9e"]]},{"id":"a7c53c33.8cb9e","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2426.095111846924,"y":1742.809714794159,"wires":[["711eb7d2.dd1328"],[]]},{"id":"711eb7d2.dd1328","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2695.85701751709,"y":1722.8098139762878,"wires":[["4cee2509.0b8d9c"]]},{"id":"4cee2509.0b8d9c","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3119.3962020874023,"y":1710.1906752586365,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["903abd73.eaf5a"],[]]},{"id":"903abd73.eaf5a","type":"function","z":"c3bd0ed2.bdd29","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2127.967716217041,"y":1832.8098282814026,"wires":[["13f5eb98.e16864"]]},{"id":"13f5eb98.e16864","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2332.253215789795,"y":1829.9527201652527,"wires":[["d99892ef.0d6f1"],[]]},{"id":"d99892ef.0d6f1","type":"function","z":"c3bd0ed2.bdd29","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2513.681896209717,"y":1824.2385258674622,"wires":[["9a8a49ce.74dfa8"]]},{"id":"9a8a49ce.74dfa8","type":"function","z":"c3bd0ed2.bdd29","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2694.313091278076,"y":1828.631365776062,"wires":[["56eeef49.1374b","8307368e.36a3c8"]]},{"id":"56eeef49.1374b","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2952.812973022461,"y":1863.7623896598816,"wires":[]},{"id":"8307368e.36a3c8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":2971.801223754883,"y":1900.393135547638,"wires":[]},{"id":"2defc54.9754b3a","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1995.1898384094238,"y":1102.0955810546875,"wires":[["b11dbba5.2449f8"]]},{"id":"b11dbba5.2449f8","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2211.9684104919434,"y":1153.2859964370728,"wires":[["d67da3b.9835f6"]]},{"id":"d67da3b.9835f6","type":"function","z":"c3bd0ed2.bdd29","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2393.8728828430176,"y":1152.3336353302002,"wires":[["66af63e5.f9ecec"]]},{"id":"200a5080.63eec","type":"function","z":"c3bd0ed2.bdd29","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2311.968132019043,"y":1250.9050579071045,"wires":[["628c083f.4c3c78"]]},{"id":"66af63e5.f9ecec","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2576.4919776916504,"y":1149.7145223617554,"wires":[["b2b52d1d.b01ee"],[]]},{"id":"628c083f.4c3c78","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2566.253746032715,"y":1253.7621431350708,"wires":[["e70ea318.d155e"],[]]},{"id":"b2b52d1d.b01ee","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2777.682674407959,"y":1150.667106628418,"wires":[["25e2f193.c3991e"]]},{"id":"e70ea318.d155e","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2769.348970413208,"y":1248.762125968933,"wires":[["6ccd867.6b0a978"]]},{"id":"25e2f193.c3991e","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2950.983455657959,"y":1045.905014038086,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["200a5080.63eec"]]},{"id":"6ccd867.6b0a978","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3112.8882179260254,"y":1204.4763884544373,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["33eea718.36b9e8"],[],[]]},{"id":"33eea718.36b9e8","type":"function","z":"c3bd0ed2.bdd29","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2228.1263847351074,"y":1335.4287886619568,"wires":[["9adb400b.f1c5d"]]},{"id":"9adb400b.f1c5d","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2424.078556060791,"y":1344.2383160591125,"wires":[["9feecb7b.d1b338"],[]]},{"id":"9feecb7b.d1b338","type":"function","z":"c3bd0ed2.bdd29","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2625.507297515869,"y":1345.1908679008484,"wires":[["7b9e610d.950c5"]]},{"id":"7b9e610d.950c5","type":"function","z":"c3bd0ed2.bdd29","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2759.471836090088,"y":1347.9169726371765,"wires":[["da26b415.c70ca8","ff2d553f.1b9d08"]]},{"id":"da26b415.c70ca8","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2916.3050079345703,"y":1348.0479321479797,"wires":[]},{"id":"ff2d553f.1b9d08","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":2950.2932929992676,"y":1396.3454146385193,"wires":[]},{"id":"af8288d1.4a7b88","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/StatusPump","method":"get","swaggerDoc":"","x":1949.5548667907715,"y":1154.4765224456787,"wires":[["b11dbba5.2449f8"]]},{"id":"8119fbaa.78d258","type":"comment","z":"c3bd0ed2.bdd29","name":"read_Upakovka_marshrut","info":"","x":2484.761993408203,"y":86.98431873321533,"wires":[]},{"id":"d46321ff.dbbe2","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2983.7064819335938,"y":125,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["11730dd8.6280a2"]]},{"id":"1e919493.a6ac3b","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2192.4564056396484,"y":161.24999618530273,"wires":[["2ddfa7b7.3d2278"]]},{"id":"2ddfa7b7.3d2278","type":"function","z":"c3bd0ed2.bdd29","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2338.289867401123,"y":162.49999618530273,"wires":[["3faf0a61.5fec26"]]},{"id":"3faf0a61.5fec26","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2517.0397338867188,"y":167.5,"wires":[["444f6c9f.27db04"],[]]},{"id":"444f6c9f.27db04","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2717.0397338867188,"y":161.25,"wires":[["d46321ff.dbbe2"]]},{"id":"11730dd8.6280a2","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2199.5398712158203,"y":231.5000352859497,"wires":[["37a49ef1.2f4c12"]]},{"id":"37a49ef1.2f4c12","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2421.539882659912,"y":237.49999618530273,"wires":[["450b74bf.72ae5c"],[]]},{"id":"450b74bf.72ae5c","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2623.2897758483887,"y":235.49997425079346,"wires":[["bdb67fe.4f28d8"]]},{"id":"bdb67fe.4f28d8","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3105.2066383361816,"y":266.75001525878906,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["318b32f8.c98efe"],[]]},{"id":"318b32f8.c98efe","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2189.5398712158203,"y":300.25,"wires":[["fa62344c.ea3b48"]]},{"id":"fa62344c.ea3b48","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2424.5398864746094,"y":296.2499599456787,"wires":[["82c62ca6.0ed52"],[]]},{"id":"82c62ca6.0ed52","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2629.2897758483887,"y":292.2499599456787,"wires":[["2a9e34c1.4d34bc"]]},{"id":"2a9e34c1.4d34bc","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2860.3729934692383,"y":352.49998474121094,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["cfa60d0f.0eb8f"],[],[]]},{"id":"cfa60d0f.0eb8f","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2186.373207092285,"y":369.0000476837158,"wires":[["1c952ad0.893fa5"]]},{"id":"1c952ad0.893fa5","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2427.373222351074,"y":372.99996757507324,"wires":[["bd932ea2.bd1da"],[]]},{"id":"bd932ea2.bd1da","type":"function","z":"c3bd0ed2.bdd29","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2619.88059425354,"y":369.01213359832764,"wires":[["b44b84d0.ba51a8"]]},{"id":"b44b84d0.ba51a8","type":"function","z":"c3bd0ed2.bdd29","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2447.845245361328,"y":445.73824882507324,"wires":[["a4d502da.15bd1","bf4253dc.dd629"]]},{"id":"a4d502da.15bd1","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":2626.6784629821777,"y":437.86919021606445,"wires":[]},{"id":"bf4253dc.dd629","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":true,"console":"false","complete":"payload","x":2684.666748046875,"y":494.1666774749756,"wires":[]},{"id":"35e61bce.a99c64","type":"comment","z":"c3bd0ed2.bdd29","name":"read_register_error","info":"","x":4165,"y":509.9999694824219,"wires":[]},{"id":"9e0733d5.445db","type":"function","z":"238115c.c26aaea","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":474.28570556640625,"y":134.28570556640625,"wires":[["7f2430b.e5a87d"]]},{"id":"39256068.0b197","type":"inject","z":"238115c.c26aaea","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":290.8529624938965,"y":93.9905014038086,"wires":[["9e0733d5.445db"]]},{"id":"e153dd9d.7b768","type":"http in","z":"238115c.c26aaea","name":"","url":"/k5/status/data","method":"get","swaggerDoc":"","x":233.47206115722656,"y":150.45876216888428,"wires":[["9e0733d5.445db"]]},{"id":"2fdc30f3.dcc2","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":844.9999389648438,"y":118.42886447906494,"wires":[[],["6a077196.27541","7ce44c37.c083c4"]]},{"id":"91d84c79.1204b","type":"function","z":"38cafb3c.f19c64","name":"R_5004","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.orderId, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":671.22216796875,"y":117.09553623199463,"wires":[["2fdc30f3.dcc2"]]},{"id":"7ce44c37.c083c4","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1001.3331909179688,"y":172.31776523590088,"wires":[]},{"id":"da38881a.6563b8","type":"function","z":"38cafb3c.f19c64","name":"wirh_1C/","func":"var order = msg.payload;\n/*var order = \n {\n   orderId: 4444,\n   track: 0,\n   volume: 444.25\n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":535.2221450805664,"y":115.98441791534424,"wires":[["91d84c79.1204b"]]},{"id":"820892b4.4bf4a","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/setOrders","method":"post","swaggerDoc":"","x":322.99993896484375,"y":50.42886447906494,"wires":[["da38881a.6563b8","fa5fcac9.6b3908"]]},{"id":"f2a383ac.44fdb","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":317.4443893432617,"y":112.65108680725098,"wires":[["da38881a.6563b8"]]},{"id":"d5df651b.924cf8","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":767.5554809570312,"y":173.65108585357666,"wires":[["7ce44c37.c083c4"],["7b952948.8108a8"]]},{"id":"7b952948.8108a8","type":"function","z":"38cafb3c.f19c64","name":"R_5005","func":"var order = flow.get('order');\nmsg.payload = { \n    'value':order.track, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5005, \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.6666564941406,"y":220.87329196929932,"wires":[["dc206f8f.cb96a"]]},{"id":"dc206f8f.cb96a","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":644,"y":222.76220798492432,"wires":[[],["6d378fb2.409"]]},{"id":"34071fc7.c16e4","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/status","method":"get","swaggerDoc":"","x":1629.6667175292969,"y":861.0638704299927,"wires":[["4161ec00.e2ce24"]]},{"id":"fa5fcac9.6b3908","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":542.9999389648438,"y":50.42886447906494,"wires":[]},{"id":"b6cdce1a.7c11a","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/status","method":"post","swaggerDoc":"","x":1603.8334350585938,"y":1031.1471633911133,"wires":[["368d40fa.f57c7","b41d3c5e.14535"]]},{"id":"368d40fa.f57c7","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"var cmd = msg.payload;\n/*var cmd = \n{\n  \"cmd\":2\n};\n*/\nflow.set('cmd',cmd);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":1836.083381652832,"y":1029.3971786499023,"wires":[["8baab7a2.383188"]]},{"id":"8baab7a2.383188","type":"function","z":"38cafb3c.f19c64","name":"R_5002","func":"var cmd = flow.get('cmd');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd.cmd, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1966.3333702087402,"y":1032.8137741088867,"wires":[["b83b4464.596548"]]},{"id":"cf3d1ed8.5cf8d","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2369.7462158203125,"y":861.6988077163696,"wires":[]},{"id":"3dcaca09.7c8756","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":1622.4444885253906,"y":814.3971815109253,"wires":[["4161ec00.e2ce24"]]},{"id":"b83b4464.596548","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2135.2222595214844,"y":1033.9249057769775,"wires":[[],["15fdbccc.4acf33"]]},{"id":"15fdbccc.4acf33","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2320.5278091430664,"y":1039.3971900939941,"wires":[]},{"id":"5dc8be02.e1fb1","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1988.2500610351562,"y":863.3694162368774,"wires":[["1bc3ceb2.90aff1"],[]]},{"id":"4161ec00.e2ce24","type":"function","z":"38cafb3c.f19c64","name":"R_5002","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1814.4722785949707,"y":861.1471929550171,"wires":[["5dc8be02.e1fb1"]]},{"id":"27519a75.794c96","type":"comment","z":"38cafb3c.f19c64","name":"Read_R5002","info":"","x":1930.333396911621,"y":816.286060333252,"wires":[]},{"id":"5c0db4da.e2c84c","type":"comment","z":"38cafb3c.f19c64","name":"Write_R5002","info":"","x":1928.3055725097656,"y":916.0638551712036,"wires":[]},{"id":"63bd2d25.719854","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1606.083381652832,"y":989.3971786499023,"wires":[["368d40fa.f57c7"]]},{"id":"92cc3cf5.b9d36","type":"http response","z":"38cafb3c.f19c64","name":"","x":2421.730213165283,"y":920.905143737793,"wires":[]},{"id":"a8d7e914.e879c8","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2201.8888931274414,"y":917.7305593490601,"wires":[["92cc3cf5.b9d36"]]},{"id":"6d378fb2.409","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"false","x":996.8778076171875,"y":219.6510934829712,"wires":[]},{"id":"e7d9e238.532fe","type":"function","z":"38cafb3c.f19c64","name":"R_5006","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5006, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":594.5555114746094,"y":175.31774234771729,"wires":[["d5df651b.924cf8"]]},{"id":"6a077196.27541","type":"function","z":"38cafb3c.f19c64","name":"To float","func":"var x = flow.get('order').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":456.8888168334961,"y":174.09554958343506,"wires":[["e7d9e238.532fe"]]},{"id":"d907c663.58d518","type":"comment","z":"38cafb3c.f19c64","name":"read_PLC input status","info":"","x":1939.8096008300781,"y":672.8257579803467,"wires":[]},{"id":"2ca2a36b.306fec","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PLCInputStatus","method":"get","swaggerDoc":"","x":1658.3651542663574,"y":712.0480470657349,"wires":[["264b2168.64cd1e"]]},{"id":"264b2168.64cd1e","type":"function","z":"38cafb3c.f19c64","name":"23","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 23 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":1859.3651542663574,"y":710.0480470657349,"wires":[["d7d71dc4.608e7"]]},{"id":"d7d71dc4.608e7","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2055.3651542663574,"y":717.0480470657349,"wires":[["42445a63.f92d64","65f4dbc6.8ec554"],[]]},{"id":"42445a63.f92d64","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2254.3651542663574,"y":711.0480470657349,"wires":[]},{"id":"93dd3b56.1c3008","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1597.3651542663574,"y":661.0480470657349,"wires":[["264b2168.64cd1e"]]},{"id":"2ac98dc0.429422","type":"comment","z":"38cafb3c.f19c64","name":"read_Speed_flow","info":"","x":630.9999389648438,"y":1313.3176727294922,"wires":[]},{"id":"35780f3e.16388","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/SpeedFlow","method":"get","swaggerDoc":"","x":327.99993896484375,"y":1369.3176727294922,"wires":[["d7ac199a.5b6d98"]]},{"id":"d7ac199a.5b6d98","type":"function","z":"38cafb3c.f19c64","name":"30+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 30 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":528.9999389648438,"y":1367.3176727294922,"wires":[["9a73a9f8.c31b08"]]},{"id":"9a73a9f8.c31b08","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":724.9999389648438,"y":1374.3176727294922,"wires":[["92c7d68c.9e2398"],[]]},{"id":"aade5ba9.60b008","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":266.99993896484375,"y":1318.3176727294922,"wires":[["d7ac199a.5b6d98"]]},{"id":"fc559556.749358","type":"comment","z":"38cafb3c.f19c64","name":"read_V_flow","info":"","x":599.4443817138672,"y":1427.7620887756348,"wires":[]},{"id":"f940eeb0.d5a7f","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/VFlow","method":"get","swaggerDoc":"","x":312.4443817138672,"y":1504.7620887756348,"wires":[["635fa954.8e7f58"]]},{"id":"635fa954.8e7f58","type":"function","z":"38cafb3c.f19c64","name":"32+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 32 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1502.7620887756348,"wires":[["8f86ce2e.67dba"]]},{"id":"8f86ce2e.67dba","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":729.4443817138672,"y":1509.7620887756348,"wires":[["8be8cee3.3f88d"],[]]},{"id":"d36accc6.037f6","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1453.7620887756348,"wires":[["635fa954.8e7f58"]]},{"id":"b491995f.e4c628","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/resetError","method":"post","swaggerDoc":"","x":182,"y":1059.095513343811,"wires":[["a1b686b5.842848"]]},{"id":"7b85a545.d1bd8c","type":"comment","z":"38cafb3c.f19c64","name":"read_M_flow","info":"","x":604.4443817138672,"y":1601.7620887756348,"wires":[]},{"id":"e72f93c1.6d2ea","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/MFlow","method":"get","swaggerDoc":"","x":327.4443817138672,"y":1678.7620887756348,"wires":[["2f82a685.4dbe4a"]]},{"id":"2f82a685.4dbe4a","type":"function","z":"38cafb3c.f19c64","name":"34+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 34 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":538.4443817138672,"y":1676.7620887756348,"wires":[["c262b915.1df418"]]},{"id":"c262b915.1df418","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":734.4443817138672,"y":1683.7620887756348,"wires":[["8fa64007.ba35f"],[]]},{"id":"14bd23f1.f27bbc","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1248.444393157959,"y":1679.4287452697754,"wires":[]},{"id":"c7e7931b.85df1","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":276.4443817138672,"y":1627.7620887756348,"wires":[["2f82a685.4dbe4a"]]},{"id":"30ae8901.ae3ba6","type":"comment","z":"38cafb3c.f19c64","name":"read_T_flow","info":"","x":599.4443817138672,"y":1763.7620887756348,"wires":[]},{"id":"e1cf8b15.371d18","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlow","method":"get","swaggerDoc":"","x":302.4443817138672,"y":1840.7620887756348,"wires":[["7755cb80.ed7c94"]]},{"id":"7755cb80.ed7c94","type":"function","z":"38cafb3c.f19c64","name":"36+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1838.7620887756348,"wires":[["9443cc00.ffe8f"]]},{"id":"9443cc00.ffe8f","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":729.4443817138672,"y":1845.7620887756348,"wires":[["f7e398b2.b86318"],[]]},{"id":"be6807e.2f9c4f8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1231.777717590332,"y":1844.7621250152588,"wires":[]},{"id":"90f7134b.a2b95","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1789.7620887756348,"wires":[["7755cb80.ed7c94"]]},{"id":"5ba13ea2.e3872","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_flow","info":"","x":619.4443817138672,"y":1915.7620887756348,"wires":[]},{"id":"78bf1da1.0ac724","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostFlow","method":"get","swaggerDoc":"","x":342.4443817138672,"y":1992.7620887756348,"wires":[["1a9f0409.b4733c"]]},{"id":"1a9f0409.b4733c","type":"function","z":"38cafb3c.f19c64","name":"38+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":533.4443817138672,"y":1990.7620887756348,"wires":[["5a077188.79a61"]]},{"id":"5a077188.79a61","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":729.4443817138672,"y":1997.7620887756348,"wires":[["5d563693.ce9df8"],[]]},{"id":"76f89f98.6191","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":1941.7620887756348,"wires":[["1a9f0409.b4733c"]]},{"id":"620b7b97.0b93f4","type":"comment","z":"38cafb3c.f19c64","name":"read_T_flow_middle","info":"","x":604.9999389648438,"y":2103.3177309036255,"wires":[]},{"id":"144624e.bcd94db","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlowMiddle","method":"get","swaggerDoc":"","x":342.4443817138672,"y":2154.7620887756348,"wires":[["2094fcf7.2f3244"]]},{"id":"2094fcf7.2f3244","type":"function","z":"38cafb3c.f19c64","name":"5770+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5770 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":543.4443817138672,"y":2152.7620887756348,"wires":[["80e878bf.527ae8"]]},{"id":"80e878bf.527ae8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":729.4443817138672,"y":2159.7620887756348,"wires":[["26b6cac3.ec82f6"],[]]},{"id":"ba060759.5ade38","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":271.4443817138672,"y":2103.7620887756348,"wires":[["2094fcf7.2f3244"]]},{"id":"bfedcf1d.34d96","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_middle","info":"","x":629.666633605957,"y":2277.428946495056,"wires":[]},{"id":"2c27f5cb.1b1cba","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostMiddle","method":"get","swaggerDoc":"","x":349.33331298828125,"y":2337.7621850967407,"wires":[["93edc45.d102838"]]},{"id":"93edc45.d102838","type":"function","z":"38cafb3c.f19c64","name":"5782+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5782 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":569.3333358764648,"y":2348.7622385025024,"wires":[["f04c061a.4f0438"]]},{"id":"f04c061a.4f0438","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":736.3333129882812,"y":2342.7621850967407,"wires":[["77d45491.ed429c"],[]]},{"id":"967d0767.592b48","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":278.33331298828125,"y":2286.7621850967407,"wires":[["93edc45.d102838"]]},{"id":"5aff541.b7294ac","type":"comment","z":"38cafb3c.f19c64","name":"write_error_reset","info":"","x":682.7777786254883,"y":801.0954837799072,"wires":[]},{"id":"131634c9.c45e1b","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/ResetCounter12","method":"post","swaggerDoc":"","x":370.91664123535156,"y":2553.7621574401855,"wires":[["8faa4b93.e49da8","c56f699a.1efd78"]]},{"id":"5a982cb5.3a0224","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1182.6943893432617,"y":2561.4725790023804,"wires":[]},{"id":"e6ab863b.9db798","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":927.6110610961914,"y":2560.2621574401855,"wires":[[],["5a982cb5.3a0224"]]},{"id":"a8c75133.916e8","type":"function","z":"38cafb3c.f19c64","name":"81","func":"var Reset_counter_1_2 = flow.get('Reset_counter_1_2');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': Reset_counter_1_2.Reset_counter_1_2, \n    'fc': 6, \n    'unitid': 1, \n    'address': 81 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":769.1388912200928,"y":2555.7621488571167,"wires":[["e6ab863b.9db798"]]},{"id":"8faa4b93.e49da8","type":"function","z":"38cafb3c.f19c64","name":"Reset_Error","func":"var Reset_counter_1_2 = msg.payload;\n/* var Reset_counter_1_2 = \n {\n   \"Reset_counter_1_2\": 1\n   \n };\n*/\nflow.set('Reset_counter_1_2',Reset_counter_1_2);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":619.6110916137695,"y":2554.2067375183105,"wires":[["a8c75133.916e8"]]},{"id":"c0b8b03c.70212","type":"comment","z":"38cafb3c.f19c64","name":"write_Reset_counter1/2","info":"","x":664.916633605957,"y":2509.7621564865112,"wires":[]},{"id":"607b84a9.965f5c","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/ResetCounter3","method":"post","swaggerDoc":"","x":352.1666488647461,"y":2661.2621994018555,"wires":[["c61ef183.90deb","bdd84e7f.33836"]]},{"id":"8de18aa7.2de668","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1107.6110076904297,"y":2660.0399494171143,"wires":[]},{"id":"2115d7f5.dd10d8","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":902.055534362793,"y":2665.151086807251,"wires":[[],["8de18aa7.2de668"]]},{"id":"a8f501e3.a219c","type":"function","z":"38cafb3c.f19c64","name":"82","func":"var ResetCounter3 = flow.get('ResetCounter3');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': ResetCounter3.ResetCounter3, \n    'fc': 6, \n    'unitid': 1, \n    'address': 82 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":730.3888740539551,"y":2663.373255252838,"wires":[["2115d7f5.dd10d8"]]},{"id":"c61ef183.90deb","type":"function","z":"38cafb3c.f19c64","name":"Reset_Error","func":"var ResetCounter3 = msg.payload;\n/* var ResetCounter3 = \n {\n   \"ResetCounter3\": 1 \n   \n };\n*/\nflow.set('ResetCounter3',ResetCounter3);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":587.1666488647461,"y":2662.9289474487305,"wires":[["a8f501e3.a219c"]]},{"id":"18a79003.f2552","type":"comment","z":"38cafb3c.f19c64","name":"write_Reset_counter_3","info":"","x":674.6388702392578,"y":2606.817618370056,"wires":[]},{"id":"1883d981.6b9e26","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/SetLflowStart","method":"post","swaggerDoc":"","x":145,"y":2918.9009437561035,"wires":[["874fcec0.bbed7"]]},{"id":"41aa9a97.7df654","type":"comment","z":"38cafb3c.f19c64","name":"write_Set_Lflow_start","info":"","x":672.5555267333984,"y":2879.595410346985,"wires":[]},{"id":"f6fd3d5e.8a61d","type":"comment","z":"38cafb3c.f19c64","name":"read_Set_Lflow_start","info":"","x":645.4444046020508,"y":3053.345414161682,"wires":[]},{"id":"a89c1fdb.8863c","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/SetLflowStart","method":"get","swaggerDoc":"","x":375.9444046020508,"y":3116.178910255432,"wires":[["fa5bd190.c6db4"]]},{"id":"fa5bd190.c6db4","type":"function","z":"38cafb3c.f19c64","name":"5008+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2 \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.1944046020508,"y":3115.428910255432,"wires":[["46a06a62.57fd54"]]},{"id":"46a06a62.57fd54","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":794.1944046020508,"y":3101.178910255432,"wires":[["6cff6823.255a68"],[]]},{"id":"7285bbab.82aca4","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1334.4444198608398,"y":3096.429310798645,"wires":[]},{"id":"6e05b27e.44a6dc","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":326.1944046020508,"y":3066.428910255432,"wires":[["fa5bd190.c6db4"]]},{"id":"d42e37cc.94e638","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/SetLflowStop","method":"post","swaggerDoc":"","x":338.8332977294922,"y":3247.0954160690308,"wires":[["80a95647.2eb158"]]},{"id":"64783ff5.97fdd","type":"comment","z":"38cafb3c.f19c64","name":"write_Set_Lflow_stop","info":"","x":692.5555191040039,"y":3195.2897505760193,"wires":[]},{"id":"a4255da8.4e329","type":"comment","z":"38cafb3c.f19c64","name":"read_Set_Lflow_stopt","info":"","x":694.8888320922852,"y":3303.761965751648,"wires":[]},{"id":"96789e26.7fa35","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/SetLflowStop","method":"get","swaggerDoc":"","x":354.5554962158203,"y":3409.6509761810303,"wires":[["c2063fd6.19905"]]},{"id":"c2063fd6.19905","type":"function","z":"38cafb3c.f19c64","name":"50010+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":615.5554809570312,"y":3387.650938987732,"wires":[["be6b04d4.4ee7e8"]]},{"id":"be6b04d4.4ee7e8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":801.5554809570312,"y":3394.650938987732,"wires":[["18663255.0f0a4e"],[]]},{"id":"91924eec.d092b","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":343.55548095703125,"y":3338.650938987732,"wires":[["c2063fd6.19905"]]},{"id":"4c28e6ce.ef8668","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/ProtokMin","method":"post","swaggerDoc":"","x":333.4166564941406,"y":3746.1232233047485,"wires":[["c844f609.3f3418"]]},{"id":"5f774487.9e5c8c","type":"comment","z":"38cafb3c.f19c64","name":"write_Protok_min","info":"","x":749.6388854980469,"y":3654.567536354065,"wires":[]},{"id":"81bebcad.8f1ad","type":"comment","z":"38cafb3c.f19c64","name":"read_Protok_Min","info":"","x":668.6388473510742,"y":3825.8453912734985,"wires":[]},{"id":"1ff68bfd.39c4e4","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/ProtokMin","method":"get","swaggerDoc":"","x":374.5555191040039,"y":3894.790214538574,"wires":[["a4f6c3ed.82117"]]},{"id":"a4f6c3ed.82117","type":"function","z":"38cafb3c.f19c64","name":"50012+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":588.8888473510742,"y":3891.678889274597,"wires":[["5a38a799.814608"]]},{"id":"5a38a799.814608","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":774.8888473510742,"y":3898.678889274597,"wires":[["ca6beacc.aa3ce8"],[]]},{"id":"17760a8d.321125","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":316.8888473510742,"y":3842.678889274597,"wires":[["a4f6c3ed.82117"]]},{"id":"eb723623.a91e98","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/ProtokDeadTime","method":"post","swaggerDoc":"","x":351.3332977294922,"y":4054.178647994995,"wires":[["77025c7f.9b61c4"]]},{"id":"53e99afc.b5c574","type":"comment","z":"38cafb3c.f19c64","name":"write_Protok_Dead_time","info":"","x":689.6388702392578,"y":4002.372982978821,"wires":[]},{"id":"d96c675b.82b3a8","type":"comment","z":"38cafb3c.f19c64","name":"read_Protok_Dead_time","info":"","x":671.1388473510742,"y":4195.150817871094,"wires":[]},{"id":"2879ddd6.eeea42","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/ProtokDeadTime","method":"get","swaggerDoc":"","x":310.33331298828125,"y":4291.345703125,"wires":[["bafdb6a1.df4c38"]]},{"id":"bafdb6a1.df4c38","type":"function","z":"38cafb3c.f19c64","name":"50014+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":568.8888473510742,"y":4278.484314918518,"wires":[["f2e1e139.c95"]]},{"id":"f2e1e139.c95","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":739.8888473510742,"y":4276.734314918518,"wires":[["dfddb73e.926038"],[]]},{"id":"79bc8f89.4e815","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":310.63884353637695,"y":4239.484313964844,"wires":[["bafdb6a1.df4c38"]]},{"id":"9fe8fdc7.73fe8","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":297.4444351196289,"y":4015.1508169174194,"wires":[[]]},{"id":"b41d3c5e.14535","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":1856.083366394043,"y":971.6193752288818,"wires":[]},{"id":"c921d4d8.bd6668","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/UpakovkaMarshrut","method":"get","swaggerDoc":"","x":1608.7461547851562,"y":117.39719104766846,"wires":[["5e61126.fd233ec"]]},{"id":"f3abd73d.843ee8","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":1573.0793991088867,"y":62.61946105957031,"wires":[["5e61126.fd233ec"]]},{"id":"2720f6fc.0b786a","type":"http response","z":"38cafb3c.f19c64","name":"","x":2397.9206886291504,"y":751.3814058303833,"wires":[]},{"id":"65f4dbc6.8ec554","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2242.365135192871,"y":755.8258285522461,"wires":[["2720f6fc.0b786a"]]},{"id":"c113daf8.770f08","type":"http response","z":"38cafb3c.f19c64","name":"","x":1326.888656616211,"y":1749.873125076294,"wires":[]},{"id":"29e0895f.66cd66","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1175.777687072754,"y":1752.0953750610352,"wires":[["c113daf8.770f08"]]},{"id":"3171e58a.d3ca1a","type":"http response","z":"38cafb3c.f19c64","name":"","x":1336.8888320922852,"y":1929.8732376098633,"wires":[]},{"id":"ac58c964.b02a18","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1185.7777404785156,"y":1928.762128829956,"wires":[["3171e58a.d3ca1a"]]},{"id":"bdd84e7f.33836","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":445.08329010009766,"y":2603.762159347534,"wires":[]},{"id":"c56f699a.1efd78","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":470.0832824707031,"y":2485.012119293213,"wires":[]},{"id":"3a14a27c.4b812e","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/SecondForScada","method":"get","swaggerDoc":"","x":347.99993896484375,"y":2821.678864479065,"wires":[["c165b7a6.f844c8"]]},{"id":"1a158fb6.420b8","type":"comment","z":"38cafb3c.f19c64","name":"read_Second_for_scada","info":"","x":680.4721603393555,"y":2767.2342834472656,"wires":[]},{"id":"c165b7a6.f844c8","type":"function","z":"38cafb3c.f19c64","name":"83","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":557.9999446868896,"y":2824.178906440735,"wires":[["25da40f6.ea02a"]]},{"id":"25da40f6.ea02a","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":729.2499389648438,"y":2824.178864479065,"wires":[["7a607e70.4032d"],[]]},{"id":"a6097593.2cb178","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1152.535732269287,"y":2812.4645252227783,"wires":[]},{"id":"197acafa.d62c85","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":906.3333587646484,"y":2885.1789445877075,"wires":[["17eb68c3.77ee87"]]},{"id":"17eb68c3.77ee87","type":"http response","z":"38cafb3c.f19c64","name":"","x":1049.6665802001953,"y":2885.178864479065,"wires":[]},{"id":"98b8bec2.4ac07","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":286.74993896484375,"y":2781.678864479065,"wires":[["c165b7a6.f844c8"]]},{"id":"b4feab23.354928","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1348.833267211914,"y":3179.178828239441,"wires":[["78fe8c2a.feacc4"]]},{"id":"78fe8c2a.feacc4","type":"http response","z":"38cafb3c.f19c64","name":"","x":1493.8332595825195,"y":3177.5121870040894,"wires":[]},{"id":"6984d28a.159c9c","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":282.99993896484375,"y":3195.428864479065,"wires":[[]]},{"id":"1b5159c7.d709e6","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":293.8332977294922,"y":3671.262085914612,"wires":[[]]},{"id":"5e2e2f90.a4821","type":"comment","z":"38cafb3c.f19c64","name":"read_Counter_1","info":"","x":637.8054885864258,"y":4536.143401145935,"wires":[]},{"id":"8387d589.f80278","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/Counter1","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4621.338226318359,"wires":[["8444f73c.ea6468"]]},{"id":"8444f73c.ea6468","type":"function","z":"38cafb3c.f19c64","name":"50016+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4619.476898193359,"wires":[["ff5f11e5.1b9f4"]]},{"id":"ff5f11e5.1b9f4","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":736.5554885864258,"y":4617.726898193359,"wires":[["3c6c4172.2a0d5e"],[]]},{"id":"e1ed232a.c0a12","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4580.476897239685,"wires":[["8444f73c.ea6468"]]},{"id":"83555733.bd3768","type":"comment","z":"38cafb3c.f19c64","name":"read_Counter_2","info":"","x":637.8054885864258,"y":4678.52433681488,"wires":[]},{"id":"a61f23fc.4289d","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/Counter2","method":"get","swaggerDoc":"","x":317.99993896484375,"y":4763.719161987305,"wires":[["6bcb7288.2aee0c"]]},{"id":"6bcb7288.2aee0c","type":"function","z":"38cafb3c.f19c64","name":"50018+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":565.5554885864258,"y":4761.857833862305,"wires":[["c086d804.e959e8"]]},{"id":"c086d804.e959e8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":736.5554885864258,"y":4760.107833862305,"wires":[["866e9ec4.e9a0f"],[]]},{"id":"3f55da3b.0bdb66","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":307.3054847717285,"y":4722.85783290863,"wires":[["6bcb7288.2aee0c"]]},{"id":"6cff6823.255a68","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1072.9998931884766,"y":3102.09516620636,"wires":[["7285bbab.82aca4","b4feab23.354928"]]},{"id":"f7e398b2.b86318","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":977.4443283081055,"y":1843.7619621753693,"wires":[["be6807e.2f9c4f8","ac58c964.b02a18"]]},{"id":"8fa64007.ba35f","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":974.1109313964844,"y":1682.0953693389893,"wires":[["29e0895f.66cd66","14bd23f1.f27bbc"]]},{"id":"2a8dd239.6d29de","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1239.1110229492188,"y":1512.0953407287598,"wires":[]},{"id":"d8c9d470.6e2568","type":"http response","z":"38cafb3c.f19c64","name":"","x":1317.5552864074707,"y":1582.5397205352783,"wires":[]},{"id":"f4b5b57e.332098","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1166.4443168640137,"y":1584.7619705200195,"wires":[["d8c9d470.6e2568"]]},{"id":"8be8cee3.3f88d","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":964.7775611877441,"y":1514.7619647979736,"wires":[["f4b5b57e.332098","2a8dd239.6d29de"]]},{"id":"3a5e1cb7.5532c4","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1368.7620887756348,"wires":[]},{"id":"35196d0f.545fb2","type":"http response","z":"38cafb3c.f19c64","name":"","x":1324.2219123840332,"y":1439.2064685821533,"wires":[]},{"id":"623921d.bb78ce","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":1441.4287185668945,"wires":[["35196d0f.545fb2"]]},{"id":"92c7d68c.9e2398","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":967.1584930419922,"y":1351.904896736145,"wires":[["623921d.bb78ce","3a5e1cb7.5532c4"]]},{"id":"66c5aa48.cce6a4","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1245.7776489257812,"y":1993.7620887756348,"wires":[]},{"id":"892d5b65.3b46c8","type":"http response","z":"38cafb3c.f19c64","name":"","x":1324.2219123840332,"y":2064.2064685821533,"wires":[]},{"id":"3c97a5b1.6fa9fa","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1173.1109428405762,"y":2066.4287185668945,"wires":[["892d5b65.3b46c8"]]},{"id":"5d563693.ce9df8","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":971.4441871643066,"y":1996.4287128448486,"wires":[["3c97a5b1.6fa9fa","66c5aa48.cce6a4"]]},{"id":"b8f8173c.3367c8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1284.1110229492188,"y":2152.0953407287598,"wires":[]},{"id":"ea561aeb.01b588","type":"http response","z":"38cafb3c.f19c64","name":"","x":1362.5552864074707,"y":2222.5397205352783,"wires":[]},{"id":"72ea8d80.ad4c94","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1211.4443168640137,"y":2224.7619705200195,"wires":[["ea561aeb.01b588"]]},{"id":"26b6cac3.ec82f6","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1009.7775611877441,"y":2154.7619647979736,"wires":[["72ea8d80.ad4c94","b8f8173c.3367c8"]]},{"id":"9fb41a2d.236118","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1257.9999542236328,"y":2340.4286890029907,"wires":[]},{"id":"b5982486.c59f28","type":"http response","z":"38cafb3c.f19c64","name":"","x":1378.1108856201172,"y":2404.206703186035,"wires":[]},{"id":"e510a365.738c7","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1226.9999160766602,"y":2406.4289531707764,"wires":[["b5982486.c59f28"]]},{"id":"77d45491.ed429c","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(4))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":983.6664924621582,"y":2343.0953130722046,"wires":[["e510a365.738c7","9fb41a2d.236118"]]},{"id":"bca20e6.7a02cf","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1314.6665649414062,"y":3387.095368385315,"wires":[]},{"id":"efdc4aba.7ba128","type":"http response","z":"38cafb3c.f19c64","name":"","x":1393.1108283996582,"y":3457.5397481918335,"wires":[]},{"id":"30dc9b30.a8f5f4","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1241.9998588562012,"y":3459.7619981765747,"wires":[["efdc4aba.7ba128"]]},{"id":"18663255.0f0a4e","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1040.3331031799316,"y":3389.761992454529,"wires":[["30dc9b30.a8f5f4","bca20e6.7a02cf"]]},{"id":"839ecf4c.8409f","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1284.3333435058594,"y":3892.0955991744995,"wires":[]},{"id":"5fe0d1e5.1bcc4","type":"http response","z":"38cafb3c.f19c64","name":"","x":1359.7775611877441,"y":3962.5397176742554,"wires":[]},{"id":"a5cf4562.e26378","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.666591644287,"y":3964.7619676589966,"wires":[["5fe0d1e5.1bcc4"]]},{"id":"ca6beacc.aa3ce8","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9999313354492,"y":3914.7619800567627,"wires":[["a5cf4562.e26378","839ecf4c.8409f"]]},{"id":"f7776b1b.54ca68","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1266.3332977294922,"y":4267.095337867737,"wires":[]},{"id":"13587cad.884a23","type":"http response","z":"38cafb3c.f19c64","name":"","x":1344.7775611877441,"y":4337.539717674255,"wires":[]},{"id":"7294654d.9429ec","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1193.666591644287,"y":4339.761967658997,"wires":[["13587cad.884a23"]]},{"id":"6cc84c3b.172834","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1281.3331909179688,"y":4612.095549583435,"wires":[]},{"id":"c5abc88d.d51f38","type":"http response","z":"38cafb3c.f19c64","name":"","x":1359.7774543762207,"y":4682.539929389954,"wires":[]},{"id":"490b5a15.3ef1a4","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1208.6664848327637,"y":4684.762179374695,"wires":[["c5abc88d.d51f38"]]},{"id":"3c6c4172.2a0d5e","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1006.9997291564941,"y":4614.762173652649,"wires":[["490b5a15.3ef1a4","6cc84c3b.172834"]]},{"id":"15307f1.62f7881","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1237.9999389648438,"y":4753.76212978363,"wires":[]},{"id":"5e0e9ace.dcae14","type":"http response","z":"38cafb3c.f19c64","name":"","x":1316.4442024230957,"y":4824.206509590149,"wires":[]},{"id":"77bfe5bf.90db4c","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1165.3332328796387,"y":4826.42875957489,"wires":[["5e0e9ace.dcae14"]]},{"id":"866e9ec4.e9a0f","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":963.6664772033691,"y":4756.428753852844,"wires":[["77bfe5bf.90db4c","15307f1.62f7881"]]},{"id":"64936f55.282c","type":"comment","z":"38cafb3c.f19c64","name":"read_Counter_3","info":"","x":651.8332901000977,"y":4832.09557723999,"wires":[]},{"id":"8829b513.5b0678","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/Counter3","method":"get","swaggerDoc":"","x":332.0277404785156,"y":4917.290402412415,"wires":[["eca36283.68312"]]},{"id":"eca36283.68312","type":"function","z":"38cafb3c.f19c64","name":"5020+3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":564.5833053588867,"y":4915.429249763489,"wires":[["742cbc1a.238184"]]},{"id":"742cbc1a.238184","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":750.5832901000977,"y":4913.679074287415,"wires":[["2a8bb1df.d687ce"],[]]},{"id":"7ea081ec.38b0c","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":321.3332862854004,"y":4876.42907333374,"wires":[["eca36283.68312"]]},{"id":"233611ca.90dbee","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1252.0277404785156,"y":4907.33337020874,"wires":[]},{"id":"bcc4c3c5.ef9d","type":"http response","z":"38cafb3c.f19c64","name":"","x":1330.4720039367676,"y":4977.777750015259,"wires":[]},{"id":"f9e3b4b1.a6ac78","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1179.3610343933105,"y":4980,"wires":[["bcc4c3c5.ef9d"]]},{"id":"2a8bb1df.d687ce","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n};\nreturn msg;","outputs":1,"noerr":0,"x":990.7776527404785,"y":4903.206524848938,"wires":[["f9e3b4b1.a6ac78","233611ca.90dbee"]]},{"id":"7e483a8.0f046c4","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/send_start_write_date","method":"post","swaggerDoc":"","x":2263.2381744384766,"y":2253.571979045868,"wires":[["48a3bac3.dae134","83534748.118868"]]},{"id":"804654d2.708f78","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":3179.7780532836914,"y":2246.8575925827026,"wires":[]},{"id":"eee7530d.c545e","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2847.0160369873047,"y":2257.968363761902,"wires":[["804654d2.708f78"],[]]},{"id":"dd3a8168.e8f56","type":"comment","z":"38cafb3c.f19c64","name":"Write_comand_time","info":"","x":2659.015937805176,"y":2157.4132285118103,"wires":[]},{"id":"48a3bac3.dae134","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":2570.5399627685547,"y":2216.187026500702,"wires":[]},{"id":"315df183.52cd6e","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2314.984172821045,"y":2203.2702956199646,"wires":[["83534748.118868"]]},{"id":"83534748.118868","type":"function","z":"38cafb3c.f19c64","name":"wirh_1C","func":"var order = msg.payload;\n/* var order = \n {\n   \"sendI\": 1,\n  \n };\n*/\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2551.095230102539,"y":2256.1433568000793,"wires":[["5d1631d6.db31c"]]},{"id":"5d1631d6.db31c","type":"function","z":"38cafb3c.f19c64","name":"84","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.sendI, \n    'fc': 6, \n    'unitid': 1, \n    'address': 84 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2681.3810653686523,"y":2257.2544236183167,"wires":[["eee7530d.c545e"]]},{"id":"ea89ffdd.1dcf8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2947.206615447998,"y":2361.428973674774,"wires":[]},{"id":"b5367c6e.c5d2f","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2743.8736000061035,"y":2363.159381389618,"wires":[["ea89ffdd.1dcf8"],[]]},{"id":"6bc93cba.0f1fd4","type":"debug","z":"38cafb3c.f19c64","name":"","active":true,"console":"false","complete":"payload","x":2973.0223541259766,"y":2558.7675199508667,"wires":[]},{"id":"a6aede5e.2fbd6","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2790.5779876708984,"y":2557.4976358413696,"wires":[["6bc93cba.0f1fd4"],[]]},{"id":"1f66b832.9f8548","type":"comment","z":"38cafb3c.f19c64","name":"write_18b_status_pump","info":"","x":2572.451011657715,"y":2434.21226978302,"wires":[]},{"id":"b12a95c.0494168","type":"function","z":"38cafb3c.f19c64","name":"wirh_1C","func":"var order = msg.payload;\n /*\n var order = \n {\n   write18b: 4,\n };\n */\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":2494.419189453125,"y":2555.7677829265594,"wires":[["9120cd31.67014"]]},{"id":"9120cd31.67014","type":"function","z":"38cafb3c.f19c64","name":"1","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': order.write18b, \n    'fc': 6, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2630.244815826416,"y":2558.3074567317963,"wires":[["a6aede5e.2fbd6"]]},{"id":"1a93fb4f.60ae65","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/send18bI_status_pump","method":"post","swaggerDoc":"","x":2227.0222549438477,"y":2561.545035123825,"wires":[["35521ca8.78a5b4","b12a95c.0494168"]]},{"id":"35521ca8.78a5b4","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":2479.7683029174805,"y":2478.9100952148438,"wires":[]},{"id":"ace954de.3e9b68","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2271.990520477295,"y":2490.021152496338,"wires":[["b12a95c.0494168"]]},{"id":"e084ae67.7f264","type":"function","z":"38cafb3c.f19c64","name":"all_date","func":"//var order = msg.payload;\nvar today = new Date();\nvar order = \n {\n   \"year\": today.getFullYear(),\n   \"mounth\": today.getMonth(),\n   \"day\": today.getDate(),\n   \"hour\": today.getHours(),\n  \"minute\": today.getMinutes() ,\n   \"second\": today.getSeconds()\n };\n\nflow.set('order',order);\nmsg.payload = \"\";\nreturn msg;\n\n\n \n\n \n","outputs":1,"noerr":0,"x":2386.0501708984375,"y":2359.2377219200134,"wires":[["aa12e107.6b22b"]]},{"id":"aa12e107.6b22b","type":"function","z":"38cafb3c.f19c64","name":"85-90","func":"var order = flow.get('order');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': [[order.year],[order.mounth],[order.day],[order.hour],[order.minute],[order.second]],\n    'fc': 16, \n    'unitid': 1, \n    'address': 85 , \n    'quantity': 6 \n    \n} ;\nreturn msg;\n\n\n","outputs":1,"noerr":0,"x":2538.936550140381,"y":2360.433000087738,"wires":[["b5367c6e.c5d2f"]]},{"id":"a0f372ae.4961a","type":"comment","z":"38cafb3c.f19c64","name":"Write_comand_time","info":"","x":2704.686347961426,"y":2317.4331250190735,"wires":[]},{"id":"a13aeb34.9086d8","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/write_date_PLC","method":"post","swaggerDoc":"","x":2154.6863174438477,"y":2357.432972431183,"wires":[["3465e028.86f","e084ae67.7f264"]]},{"id":"3465e028.86f","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":2376.6862716674805,"y":2312.4329104423523,"wires":[]},{"id":"43008460.c23f6c","type":"comment","z":"38cafb3c.f19c64","name":"read_Upakovka_5","info":"","x":2419.2695541381836,"y":2782.932644844055,"wires":[]},{"id":"f04e7534.cc8408","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/Upakovka5","method":"get","swaggerDoc":"","x":2135.6029357910156,"y":2845.4880990982056,"wires":[["3382def6.d818a2"]]},{"id":"3382def6.d818a2","type":"function","z":"38cafb3c.f19c64","name":"26","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 26 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2365.4918251037598,"y":2829.0436429977417,"wires":[["b16c58de.2b3f38"]]},{"id":"b16c58de.2b3f38","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2524.82515335083,"y":2829.377022743225,"wires":[["ec188122.8da5"],[]]},{"id":"b3f2ec59.052ac","type":"debug","z":"38cafb3c.f19c64","name":"","active":true,"console":"false","complete":"payload","x":2861.1267852783203,"y":2820.520125389099,"wires":[]},{"id":"8404cf09.e8863","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2077.936248779297,"y":2806.7103662490845,"wires":[["3382def6.d818a2"]]},{"id":"3534374c.301d78","type":"http response","z":"38cafb3c.f19c64","name":"","x":2989.761531829834,"y":2889.7578477859497,"wires":[]},{"id":"88cb37a5.834318","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2724.04736328125,"y":2881.82142162323,"wires":[["3534374c.301d78"]]},{"id":"3d75ea52.163c16","type":"comment","z":"38cafb3c.f19c64","name":"read_Upakovka_6","info":"","x":2420.2695541381836,"y":2903.932644844055,"wires":[]},{"id":"207b8a6b.534e96","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/Upakovka6","method":"get","swaggerDoc":"","x":2136.6029357910156,"y":2966.4880990982056,"wires":[["88298446.e9fb08"]]},{"id":"88298446.e9fb08","type":"function","z":"38cafb3c.f19c64","name":"27","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 27 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2351.491886138916,"y":2959.0436611175537,"wires":[["359b0092.1366"]]},{"id":"359b0092.1366","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2521.8252296447754,"y":2958.377064704895,"wires":[["3d17d278.b84a0e"],[]]},{"id":"c77cd63b.8e8ed8","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2078.936248779297,"y":2927.7103662490845,"wires":[["88298446.e9fb08"]]},{"id":"db68c850.426808","type":"comment","z":"38cafb3c.f19c64","name":"REZERVU","info":"","x":2429.269630432129,"y":2687.9326906204224,"wires":[]},{"id":"76c37ccc.94e494","type":"comment","z":"38cafb3c.f19c64","name":"T_flow_1","info":"","x":2392.769660949707,"y":3081.9327630996704,"wires":[]},{"id":"9f01ce17.3d98d","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlow1","method":"get","swaggerDoc":"","x":2120.213996887207,"y":3139.3770027160645,"wires":[["1cc8e210.b6efee"]]},{"id":"1cc8e210.b6efee","type":"function","z":"38cafb3c.f19c64","name":"5760+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5760 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2341.213996887207,"y":3137.3770027160645,"wires":[["5a2083cb.294eec"]]},{"id":"5a2083cb.294eec","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2527.213996887207,"y":3144.3770027160645,"wires":[["621fa5f1.b84d8c"],[]]},{"id":"80054f8c.3e41c","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2069.213996887207,"y":3088.3770027160645,"wires":[["1cc8e210.b6efee"]]},{"id":"2604e000.30d23","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2971.8806915283203,"y":3140.0437898635864,"wires":[]},{"id":"d3a07de2.47b73","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2972.547378540039,"y":3206.0436067581177,"wires":[["832bec0e.433fa"]]},{"id":"621fa5f1.b84d8c","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2751.9916381835938,"y":3140.4882068634033,"wires":[["d3a07de2.47b73","2604e000.30d23"]]},{"id":"832bec0e.433fa","type":"http response","z":"38cafb3c.f19c64","name":"","x":3113.6583156585693,"y":3204.932551383972,"wires":[]},{"id":"87de2f3c.91dd2","type":"comment","z":"38cafb3c.f19c64","name":"T_flow_2","info":"","x":2391.3332748413086,"y":3227.28054523468,"wires":[]},{"id":"29f985d7.98d52a","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlow2","method":"get","swaggerDoc":"","x":2118.7776107788086,"y":3284.724784851074,"wires":[["6beb79e0.a8cce8"]]},{"id":"6beb79e0.a8cce8","type":"function","z":"38cafb3c.f19c64","name":"5762+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5762 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2339.7776107788086,"y":3282.724784851074,"wires":[["e81f86b7.190398"]]},{"id":"e81f86b7.190398","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2525.7776107788086,"y":3289.724784851074,"wires":[["9811c47c.f8e648"],[]]},{"id":"eba49edd.ab689","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2067.7776107788086,"y":3233.724784851074,"wires":[["6beb79e0.a8cce8"]]},{"id":"d7b7f435.980a88","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2970.444305419922,"y":3285.391571998596,"wires":[]},{"id":"ac291387.3a7fa","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2971.1109924316406,"y":3351.3913888931274,"wires":[["30e3bf91.b8bc1"]]},{"id":"9811c47c.f8e648","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2750.5552520751953,"y":3285.835988998413,"wires":[["ac291387.3a7fa","d7b7f435.980a88"]]},{"id":"30e3bf91.b8bc1","type":"http response","z":"38cafb3c.f19c64","name":"","x":3112.221929550171,"y":3350.280333518982,"wires":[]},{"id":"57d6058d.33123c","type":"comment","z":"38cafb3c.f19c64","name":"T_flow_3","info":"","x":2399.110984802246,"y":3357.28054523468,"wires":[]},{"id":"b71484ec.3c6db8","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlow3","method":"get","swaggerDoc":"","x":2126.555320739746,"y":3414.724784851074,"wires":[["2635a955.f0d9e6"]]},{"id":"2635a955.f0d9e6","type":"function","z":"38cafb3c.f19c64","name":"5764+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5764 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2347.555320739746,"y":3412.724784851074,"wires":[["8e8b836.227ef8"]]},{"id":"8e8b836.227ef8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2533.555320739746,"y":3419.724784851074,"wires":[["397feff2.6a8f4"],[]]},{"id":"f0afea1f.8340a8","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2075.555320739746,"y":3363.724784851074,"wires":[["2635a955.f0d9e6"]]},{"id":"68bb14fc.7299fc","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2978.2220153808594,"y":3415.391571998596,"wires":[]},{"id":"8af16fe1.5c078","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2978.888702392578,"y":3481.3913888931274,"wires":[["fa436398.7a16c"]]},{"id":"397feff2.6a8f4","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2758.332962036133,"y":3415.835988998413,"wires":[["8af16fe1.5c078","68bb14fc.7299fc"]]},{"id":"fa436398.7a16c","type":"http response","z":"38cafb3c.f19c64","name":"","x":3119.9996395111084,"y":3480.280333518982,"wires":[]},{"id":"ea6c3053.2a621","type":"comment","z":"38cafb3c.f19c64","name":"T_flow_4","info":"","x":2395.777732849121,"y":3491.72488117218,"wires":[]},{"id":"adedfb83.fc9c68","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlow4","method":"get","swaggerDoc":"","x":2123.222068786621,"y":3549.169120788574,"wires":[["511974f2.04e58c"]]},{"id":"511974f2.04e58c","type":"function","z":"38cafb3c.f19c64","name":"5766+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5766 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2344.222068786621,"y":3547.169120788574,"wires":[["6c5e546b.100b2c"]]},{"id":"6c5e546b.100b2c","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2530.222068786621,"y":3554.169120788574,"wires":[["f7e1c69e.bfb1e8"],[]]},{"id":"cca5729e.bf13a","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2072.222068786621,"y":3498.169120788574,"wires":[["511974f2.04e58c"]]},{"id":"f6b411f7.29e41","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2974.8887634277344,"y":3549.835907936096,"wires":[]},{"id":"bd68b32c.51b45","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2975.555450439453,"y":3615.8357248306274,"wires":[["b44c34f7.8a4f68"]]},{"id":"f7e1c69e.bfb1e8","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2754.999710083008,"y":3550.280324935913,"wires":[["bd68b32c.51b45","f6b411f7.29e41"]]},{"id":"b44c34f7.8a4f68","type":"http response","z":"38cafb3c.f19c64","name":"","x":3116.6663875579834,"y":3614.724669456482,"wires":[]},{"id":"c1485fff.ce709","type":"comment","z":"38cafb3c.f19c64","name":"T_flow_5","info":"","x":2390.222068786621,"y":3628.02126789093,"wires":[]},{"id":"e8ff5e48.b88ee","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/TFlow5","method":"get","swaggerDoc":"","x":2117.666404724121,"y":3685.465507507324,"wires":[["529f102e.e488f"]]},{"id":"529f102e.e488f","type":"function","z":"38cafb3c.f19c64","name":"5768+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5768 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2338.666404724121,"y":3683.465507507324,"wires":[["295d3f80.2177a"]]},{"id":"295d3f80.2177a","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2524.666404724121,"y":3690.465507507324,"wires":[["7dee3bce.66fc14"],[]]},{"id":"57ffeefe.c5872","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2066.666404724121,"y":3634.465507507324,"wires":[["529f102e.e488f"]]},{"id":"111613d1.a42b2c","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":2969.3330993652344,"y":3686.132294654846,"wires":[]},{"id":"824e0c9c.1cce4","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2969.999786376953,"y":3752.1321115493774,"wires":[["c661a65d.334fe8"]]},{"id":"7dee3bce.66fc14","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2749.444046020508,"y":3686.576711654663,"wires":[["824e0c9c.1cce4","111613d1.a42b2c"]]},{"id":"c661a65d.334fe8","type":"http response","z":"38cafb3c.f19c64","name":"","x":3111.1107234954834,"y":3751.021056175232,"wires":[]},{"id":"d1e6291e.65b3a8","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_flow_1","info":"","x":2465.7776107788086,"y":3857.65066242218,"wires":[]},{"id":"14fca84b.3f6428","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostFlow1","method":"get","swaggerDoc":"","x":2185.444290161133,"y":3917.9839010238647,"wires":[["9809aba9.03d7b8"]]},{"id":"9809aba9.03d7b8","type":"function","z":"38cafb3c.f19c64","name":"5772+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5772 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2386.444290161133,"y":3915.9839010238647,"wires":[["556e9eaf.4cd95"]]},{"id":"556e9eaf.4cd95","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2572.444290161133,"y":3922.9839010238647,"wires":[["5ff7926f.43ca0c"],[]]},{"id":"8e7d6fe0.1586a","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2114.444290161133,"y":3866.9839010238647,"wires":[["9809aba9.03d7b8"]]},{"id":"5ff7926f.43ca0c","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2819.7774696350098,"y":3923.3170289993286,"wires":[["55c34b99.b04834","7ddc15a5.c3d6ac"]]},{"id":"7ddc15a5.c3d6ac","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":3094.1109313964844,"y":3920.6504049301147,"wires":[]},{"id":"55c34b99.b04834","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3021.4442253112793,"y":3993.3170347213745,"wires":[["7816a6b.8935758"]]},{"id":"7816a6b.8935758","type":"http response","z":"38cafb3c.f19c64","name":"","x":3172.5551948547363,"y":3991.0947847366333,"wires":[]},{"id":"aefff209.4b28c","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_flow_2","info":"","x":2463.5554428100586,"y":3998.39138507843,"wires":[]},{"id":"a7ccae07.9e74","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostFlow2","method":"get","swaggerDoc":"","x":2183.222122192383,"y":4058.7246236801147,"wires":[["219bfa56.187c16"]]},{"id":"219bfa56.187c16","type":"function","z":"38cafb3c.f19c64","name":"5774+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5774 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2402.2223205566406,"y":4058.7246627807617,"wires":[["3e100873.d646a8"]]},{"id":"3e100873.d646a8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2570.222122192383,"y":4063.7246236801147,"wires":[["59897787.202558"],[]]},{"id":"5ad0d885.1f0fa8","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2112.222122192383,"y":4007.7246236801147,"wires":[["219bfa56.187c16"]]},{"id":"59897787.202558","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2817.5553016662598,"y":4064.0577516555786,"wires":[["45b48c28.a4c834","bd108c7e.bb9e6"]]},{"id":"bd108c7e.bb9e6","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":3091.8887634277344,"y":4061.3911275863647,"wires":[]},{"id":"45b48c28.a4c834","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3019.2220573425293,"y":4134.0577573776245,"wires":[["602c1632.1159c8"]]},{"id":"602c1632.1159c8","type":"http response","z":"38cafb3c.f19c64","name":"","x":3170.3330268859863,"y":4131.835507392883,"wires":[]},{"id":"31014458.d3546c","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_flow_3","info":"","x":2450.222068786621,"y":4156.16921710968,"wires":[]},{"id":"dbe25225.64e2f","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostFlow3","method":"get","swaggerDoc":"","x":2169.8887481689453,"y":4216.502455711365,"wires":[["a5d90cb.e1553f"]]},{"id":"a5d90cb.e1553f","type":"function","z":"38cafb3c.f19c64","name":"5776+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5776 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2388.8887329101562,"y":4216.502678871155,"wires":[["a6de86e3.059338"]]},{"id":"a6de86e3.059338","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2556.8887481689453,"y":4221.502455711365,"wires":[["5bfd133a.450aec"],[]]},{"id":"5b66eb1.0e41914","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2098.8887481689453,"y":4165.502455711365,"wires":[["a5d90cb.e1553f"]]},{"id":"5bfd133a.450aec","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":2804.2219276428223,"y":4221.835583686829,"wires":[["b1778abf.f82ed8","705d723e.d132ec"]]},{"id":"705d723e.d132ec","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":3078.555389404297,"y":4219.168959617615,"wires":[]},{"id":"b1778abf.f82ed8","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3005.888683319092,"y":4291.8355894088745,"wires":[["b879cad8.65cfa8"]]},{"id":"b879cad8.65cfa8","type":"http response","z":"38cafb3c.f19c64","name":"","x":3156.999652862549,"y":4289.613339424133,"wires":[]},{"id":"53abfc1f.752134","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_flow_4","info":"","x":2452.4443588256836,"y":4300.613797187805,"wires":[]},{"id":"4171c33d.cee51c","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostFlow4","method":"get","swaggerDoc":"","x":2140.111114501953,"y":4360.947391033173,"wires":[["c8afb753.733488"]]},{"id":"c8afb753.733488","type":"function","z":"38cafb3c.f19c64","name":"5778+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5778 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2373.111038208008,"y":4358.94703578949,"wires":[["8b6d95fe.624ca8"]]},{"id":"8b6d95fe.624ca8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2559.111038208008,"y":4365.94703578949,"wires":[["c50c744f.064958"],[]]},{"id":"2b975b57.9a3f84","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4309.94703578949,"wires":[["c8afb753.733488"]]},{"id":"c50c744f.064958","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4366.280163764954,"wires":[["adf911f9.e0ce","6988a15b.35b5b"]]},{"id":"6988a15b.35b5b","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4363.61353969574,"wires":[]},{"id":"adf911f9.e0ce","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4436.2801694869995,"wires":[["341020ea.54164"]]},{"id":"341020ea.54164","type":"http response","z":"38cafb3c.f19c64","name":"","x":3159.2219429016113,"y":4434.057919502258,"wires":[]},{"id":"7e98a010.2b989","type":"comment","z":"38cafb3c.f19c64","name":"read_Plotnost_flow_5","info":"","x":2452.4443588256836,"y":4458.021023750305,"wires":[]},{"id":"89f8a97d.796f88","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/PlotnostFlow5","method":"get","swaggerDoc":"","x":2123.5396881103516,"y":4524.068830490112,"wires":[["1e4a1e3.7cfede2"]]},{"id":"1e4a1e3.7cfede2","type":"function","z":"38cafb3c.f19c64","name":"5780+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5780 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":2373.111038208008,"y":4516.35426235199,"wires":[["73823c1b.3e7264"]]},{"id":"73823c1b.3e7264","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2559.111038208008,"y":4523.35426235199,"wires":[["d0993fba.db6db"],[]]},{"id":"6432281a.27c268","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":2101.111038208008,"y":4467.35426235199,"wires":[["1e4a1e3.7cfede2"]]},{"id":"d0993fba.db6db","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2806.4442176818848,"y":4523.687390327454,"wires":[["58bbb10f.0f0ee","a1afd46c.e90888"]]},{"id":"a1afd46c.e90888","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":3080.7776794433594,"y":4521.02076625824,"wires":[]},{"id":"58bbb10f.0f0ee","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":3008.1109733581543,"y":4593.6873960494995,"wires":[["9d3c7608.f08068"]]},{"id":"9d3c7608.f08068","type":"http response","z":"38cafb3c.f19c64","name":"","x":3159.2219429016113,"y":4591.465146064758,"wires":[]},{"id":"dfddb73e.926038","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n \"val\":parseInt(dwView[0])\n}\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":977.3333435058594,"y":4277.76233291626,"wires":[["f7776b1b.54ca68","7294654d.9429ec"]]},{"id":"695dd942.b86d58","type":"comment","z":"38cafb3c.f19c64","name":"Date_order 40092  40093  40094+1 40096+1  40108+1  40120+1  40122-40126 40127-40131  40132-40133 40134-135  40136-40137 40138-40139 40140 40141","info":"40092 \n40093 \n40094+1\n40096+1 \n40108+1 \n40120+1 \n40122-40126\n40127-40131 \n40132-40133\n","x":2390.7428588867188,"y":605.8633480072021,"wires":[]},{"id":"baa8bda5.0f1b5","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/setOrders","method":"get","swaggerDoc":"","x":327.99993896484375,"y":417.10199069976807,"wires":[["183cab4f.ebe695"]]},{"id":"e019c51f.c4fda8","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":300.7777099609375,"y":370.4353017807007,"wires":[["183cab4f.ebe695"]]},{"id":"6068e686.13c988","type":"comment","z":"38cafb3c.f19c64","name":"Read_R5004 5005 5006","info":"","x":606.9999542236328,"y":323.99078369140625,"wires":[]},{"id":"183cab4f.ebe695","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"//var order = msg.payload;\nvar order_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n \n };\nmsg.payload = order_get;\nflow.set('order_get',order_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":524.6991348266602,"y":418.76868438720703,"wires":[["1ec37aae.5105f5"]]},{"id":"cf9d6435.ce9da8","type":"function","z":"38cafb3c.f19c64","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":866.3656234741211,"y":708.7686910629272,"wires":[["9fb86fb5.25f31"]]},{"id":"9fb86fb5.25f31","type":"function","z":"38cafb3c.f19c64","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('order_get');\nreturn msg;","outputs":1,"noerr":0,"x":1002.7110481262207,"y":710.3043146133423,"wires":[["768ccd36.433a34","b0367da9.5aaf9"]]},{"id":"768ccd36.433a34","type":"http response","z":"38cafb3c.f19c64","name":"","x":1174.0682106018066,"y":672.5783386230469,"wires":[]},{"id":"b0367da9.5aaf9","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1193.0564613342285,"y":709.2090845108032,"wires":[]},{"id":"1ec37aae.5105f5","type":"function","z":"38cafb3c.f19c64","name":"R_45004_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":718.0322647094727,"y":412.1020460128784,"wires":[["72bff508.09360c"]]},{"id":"18fff91f.0ebfa7","type":"function","z":"38cafb3c.f19c64","name":"45005_route","func":"var order_get = flow.get('order_get');\norder_get.order_req = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6988296508789,"y":482.10202503204346,"wires":[["31b29a6f.ed8c96"]]},{"id":"72bff508.09360c","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":946.3656005859375,"y":413.76866817474365,"wires":[["5dbd00b5.e789e"],[]]},{"id":"31b29a6f.ed8c96","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":904.6988525390625,"y":492.102011680603,"wires":[["9b5dc37b.41933"],[]]},{"id":"ca64fe24.ba00e","type":"function","z":"38cafb3c.f19c64","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.route = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":684.6989974975586,"y":547.1020450592041,"wires":[["5e46f653.8b6d08"]]},{"id":"5e46f653.8b6d08","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":892.3139419555664,"y":555.7012310028076,"wires":[["65fabeda.71421"],[]]},{"id":"65fabeda.71421","type":"function","z":"38cafb3c.f19c64","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1096.294303894043,"y":551.5662603378296,"wires":[["c411aa76.6fc428"]]},{"id":"c411aa76.6fc428","type":"function","z":"38cafb3c.f19c64","name":"45006+1_Setpoint","func":"var order_get = flow.get('order_get');\norder_get.setpoint = msg.payload;\nflow.set('order_get',order_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":689.6989974975586,"y":605.4353580474854,"wires":[["803b5e38.9dda9"]]},{"id":"803b5e38.9dda9","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":897.3139419555664,"y":614.0345439910889,"wires":[["cf9d6435.ce9da8"],[]]},{"id":"5dbd00b5.e789e","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1124.6992530822754,"y":410.4353551864624,"wires":[["18fff91f.0ebfa7"]]},{"id":"9b5dc37b.41933","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1116.3653564453125,"y":487.1020498275757,"wires":[["ca64fe24.ba00e"]]},{"id":"1bc3ceb2.90aff1","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2179.8137130737305,"y":860.4345016479492,"wires":[["a8d7e914.e879c8","cf3d1ed8.5cf8d"]]},{"id":"7a607e70.4032d","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":921.5992813110352,"y":2768.827723503113,"wires":[["197acafa.d62c85","a6097593.2cb178"]]},{"id":"ec188122.8da5","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2704.4564819335938,"y":2751.862946510315,"wires":[["88cb37a5.834318","b3f2ec59.052ac"]]},{"id":"233ba563.9f518a","type":"debug","z":"38cafb3c.f19c64","name":"","active":true,"console":"false","complete":"payload","x":2978.7421379089355,"y":2954.7200055122375,"wires":[]},{"id":"3bfcb809.314438","type":"http response","z":"38cafb3c.f19c64","name":"","x":2980.234125137329,"y":3023.9577808380127,"wires":[]},{"id":"4651479d.3cda78","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":2791.6627197265625,"y":3024.59291267395,"wires":[["3bfcb809.314438"]]},{"id":"3d17d278.b84a0e","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseInt(fltView[0])\n};\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2762.071823120117,"y":2950.3485898971558,"wires":[["4651479d.3cda78","233ba563.9f518a"]]},{"id":"a74f319e.9ea83","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2669.666778564453,"y":1617.095465183258,"wires":[["c51ae63c.849d48"],[]]},{"id":"4c9b153a.8687ac","type":"function","z":"38cafb3c.f19c64","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2497.0476837158203,"y":1619.7145781517029,"wires":[["a74f319e.9ea83"]]},{"id":"c51ae63c.849d48","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2890.8575172424316,"y":1603.0480551719666,"wires":[["5a71d997.81b7f8"]]},{"id":"114ca4c6.b7695b","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"//var order = msg.payload;\nvar bits_kl = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0\n  \n \n };\nmsg.payload = bits_kl;\nflow.set('bits_kl',bits_kl);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2305.143211364746,"y":1620.6669392585754,"wires":[["4c9b153a.8687ac"]]},{"id":"5a71d997.81b7f8","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3077.491539001465,"y":1591.619294643402,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e990b143.e4733"]]},{"id":"f34fc732.549c68","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2088.3646392822266,"y":1569.4765238761902,"wires":[["114ca4c6.b7695b"]]},{"id":"2b7fd6b0.309fca","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/StatusKlapan","method":"get","swaggerDoc":"","x":2052.729667663574,"y":1621.8574652671814,"wires":[["114ca4c6.b7695b"]]},{"id":"e990b143.e4733","type":"function","z":"38cafb3c.f19c64","name":"R_12_b1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_0 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2315.1429290771484,"y":1741.619372844696,"wires":[["eece635d.0b132"]]},{"id":"eece635d.0b132","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2526.0952911376953,"y":1754.476348400116,"wires":[["8de04eac.7abf6"],[]]},{"id":"8de04eac.7abf6","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2795.8571968078613,"y":1734.4764475822449,"wires":[["972853db.fbe42"]]},{"id":"972853db.fbe42","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3219.396381378174,"y":1721.8573088645935,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["7b5936e9.1578f8"],[]]},{"id":"7b5936e9.1578f8","type":"function","z":"38cafb3c.f19c64","name":"R_12_b_1","func":"var bits_kl = flow.get('bits_kl');\nbits_kl.bit_1 = msg.payload;\nflow.set('bits_kl',bits_kl);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2227.9678955078125,"y":1844.4764618873596,"wires":[["e388b3d6.e3f15"]]},{"id":"e388b3d6.e3f15","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2432.2533950805664,"y":1841.6193537712097,"wires":[["150dc9f5.7f59a6"],[]]},{"id":"150dc9f5.7f59a6","type":"function","z":"38cafb3c.f19c64","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2613.6820755004883,"y":1835.9051594734192,"wires":[["eb6d084e.476968"]]},{"id":"eb6d084e.476968","type":"function","z":"38cafb3c.f19c64","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_kl');\nreturn msg;","outputs":1,"noerr":0,"x":2794.3132705688477,"y":1840.297999382019,"wires":[["a1efc149.730a7","443b36f1.f60208"]]},{"id":"a1efc149.730a7","type":"http response","z":"38cafb3c.f19c64","name":"","x":3052.8131523132324,"y":1875.4290232658386,"wires":[]},{"id":"443b36f1.f60208","type":"debug","z":"38cafb3c.f19c64","name":"","active":true,"console":"false","complete":"payload","x":3071.8014030456543,"y":1912.059769153595,"wires":[]},{"id":"b8d301ce.926ca","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"x":2095.1900177001953,"y":1113.7622146606445,"wires":[["4be531c.6f099d"]]},{"id":"4be531c.6f099d","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"//var order = msg.payload;\nvar bits = \n{\n  \"bit_0\": 0,\n  \"bit_18\": 0\n  \n \n };\nmsg.payload = bits;\nflow.set('bits',bits);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":2311.968589782715,"y":1164.9526300430298,"wires":[["612217e6.35b008"]]},{"id":"612217e6.35b008","type":"function","z":"38cafb3c.f19c64","name":"R_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":2493.873062133789,"y":1164.0002689361572,"wires":[["fce9d3a8.9d134"]]},{"id":"b3e26bd1.0d5bd8","type":"function","z":"38cafb3c.f19c64","name":"R_1","func":"var bits = flow.get('bits');\nbits.bit_0 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2411.9683113098145,"y":1262.5716915130615,"wires":[["180a7a1d.a57356"]]},{"id":"fce9d3a8.9d134","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2676.492156982422,"y":1161.3811559677124,"wires":[["4c040262.bc88cc"],[]]},{"id":"180a7a1d.a57356","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2666.2539253234863,"y":1265.4287767410278,"wires":[["646cf36a.4d4d4c"],[]]},{"id":"4c040262.bc88cc","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2877.6828536987305,"y":1162.333740234375,"wires":[["c00408d1.91f338"]]},{"id":"646cf36a.4d4d4c","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":2869.3491497039795,"y":1260.4287595748901,"wires":[["bef42927.2c0708"]]},{"id":"c00408d1.91f338","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3050.9836349487305,"y":1057.571647644043,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["b3e26bd1.0d5bd8"]]},{"id":"bef42927.2c0708","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":3212.888397216797,"y":1216.1430220603943,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["d50b1b48.480208"],[],[]]},{"id":"d50b1b48.480208","type":"function","z":"38cafb3c.f19c64","name":"R_1_b_18","func":"var bits = flow.get('bits');\nbits.bit_18 = msg.payload;\nflow.set('bits',bits);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":2328.126564025879,"y":1347.0954222679138,"wires":[["c722cb15.c64418"]]},{"id":"c722cb15.c64418","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2524.0787353515625,"y":1355.9049496650696,"wires":[["1273b92.20b5c47"],[]]},{"id":"1273b92.20b5c47","type":"function","z":"38cafb3c.f19c64","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2725.5074768066406,"y":1356.8575015068054,"wires":[["6ce35394.5548fc"]]},{"id":"6ce35394.5548fc","type":"function","z":"38cafb3c.f19c64","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits');\nreturn msg;","outputs":1,"noerr":0,"x":2859.4720153808594,"y":1359.5836062431335,"wires":[["b137304e.a114c","18b47cab.4c01e3"]]},{"id":"b137304e.a114c","type":"http response","z":"38cafb3c.f19c64","name":"","x":3016.305187225342,"y":1359.7145657539368,"wires":[]},{"id":"18b47cab.4c01e3","type":"debug","z":"38cafb3c.f19c64","name":"","active":true,"console":"false","complete":"payload","x":3050.293472290039,"y":1408.0120482444763,"wires":[]},{"id":"8a59ee42.0c062","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/StatusPump","method":"get","swaggerDoc":"","x":2049.555046081543,"y":1166.1431560516357,"wires":[["4be531c.6f099d"]]},{"id":"b8d3838e.e88c5","type":"comment","z":"38cafb3c.f19c64","name":"read_Upakovka_marshrut","info":"","x":2080.952392578125,"y":97.14285278320312,"wires":[]},{"id":"2c3857f3.8cd388","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2579.8968811035156,"y":135.1585340499878,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["d7637ef2.833c7"]]},{"id":"5e61126.fd233ec","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"//var order = msg.payload;\nvar bits_22 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0\n  \n \n };\nmsg.payload = bits_22;\nflow.set('bits_22',bits_22);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":1788.6468048095703,"y":171.40853023529053,"wires":[["ffbedfb7.d0864"]]},{"id":"ffbedfb7.d0864","type":"function","z":"38cafb3c.f19c64","name":"22","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":1934.480266571045,"y":172.65853023529053,"wires":[["88fcd4f5.60b878"]]},{"id":"88fcd4f5.60b878","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2113.2301330566406,"y":177.6585340499878,"wires":[["ee7a0d44.1fd1a"],[]]},{"id":"ee7a0d44.1fd1a","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2313.2301330566406,"y":171.4085340499878,"wires":[["2c3857f3.8cd388"]]},{"id":"d7637ef2.833c7","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_1","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_0 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1795.7302703857422,"y":241.6585693359375,"wires":[["1d81638.60b4b9d"]]},{"id":"1d81638.60b4b9d","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2017.730281829834,"y":247.65853023529053,"wires":[["d835415b.309b8"],[]]},{"id":"d835415b.309b8","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2219.4801750183105,"y":245.65850830078125,"wires":[["241b68ee.92c8f8"]]},{"id":"241b68ee.92c8f8","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2701.3970375061035,"y":276.90854930877686,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["f79d2ca4.108f2"],[]]},{"id":"f79d2ca4.108f2","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_1 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1785.7302703857422,"y":310.4085340499878,"wires":[["a276eca3.4aadb"]]},{"id":"a276eca3.4aadb","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2020.7302856445312,"y":306.4084939956665,"wires":[["936aebda.dc3cd8"],[]]},{"id":"936aebda.dc3cd8","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":2225.4801750183105,"y":302.4084939956665,"wires":[["4a3c572e.849218"]]},{"id":"4a3c572e.849218","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":2456.56339263916,"y":362.65851879119873,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["eb688aa9.40e448"],[],[]]},{"id":"eb688aa9.40e448","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_2","func":"var bits_22 = flow.get('bits_22');\nbits_22.bit_2 = msg.payload;\nflow.set('bits_22',bits_22);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1782.563606262207,"y":379.1585817337036,"wires":[["d2311c25.d7cc8"]]},{"id":"d2311c25.d7cc8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":2023.563621520996,"y":383.15850162506104,"wires":[["7783e7aa.980cb8"],[]]},{"id":"7783e7aa.980cb8","type":"function","z":"38cafb3c.f19c64","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":2216.070993423462,"y":379.17066764831543,"wires":[["8519e04c.755b2"]]},{"id":"8519e04c.755b2","type":"function","z":"38cafb3c.f19c64","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_22');\nreturn msg;","outputs":1,"noerr":0,"x":2044.03564453125,"y":455.89678287506104,"wires":[["acfff341.61cf4","ee006626.483378"]]},{"id":"acfff341.61cf4","type":"http response","z":"38cafb3c.f19c64","name":"","x":2222.8688621520996,"y":448.02772426605225,"wires":[]},{"id":"ee006626.483378","type":"debug","z":"38cafb3c.f19c64","name":"","active":true,"console":"false","complete":"payload","x":2280.857147216797,"y":504.3252115249634,"wires":[]},{"id":"935ad71c.348578","type":"comment","z":"38cafb3c.f19c64","name":"read_register_error","info":"","x":4212.5,"y":512.5,"wires":[]},{"id":"a83eaded.74fd2","type":"inject","z":"7c979a3f.780724","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":318.852970123291,"y":102.99050235748291,"wires":[[]]},{"id":"66e8ace6.02f524","type":"http in","z":"7c979a3f.780724","name":"","url":"/k6/status/data","method":"get","swaggerDoc":"","x":239.47206115722656,"y":155.4587574005127,"wires":[["41c60630.9cc9b8"]]},{"id":"f09035a5.df74a8","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3574.28564453125,"y":556.1904907226562,"wires":[["c34e777e.e27218"]]},{"id":"c34e777e.e27218","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0,\n  \"bit_5\": 0,\n  \"bit_6\": 0,\n  \"bit_7\": 0,\n  \"bit_8\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3855.2298889160156,"y":608.8964376449585,"wires":[["ba3bcb91.a55958"]]},{"id":"d7378dfc.87337","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/RegisterError","method":"get","swaggerDoc":"","x":3552.4283599853516,"y":617.1905460357666,"wires":[["c34e777e.e27218"]]},{"id":"ba3bcb91.a55958","type":"function","z":"c3bd0ed2.bdd29","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4011.0633506774902,"y":610.1464376449585,"wires":[["9eb1ab87.ab1988"]]},{"id":"9eb1ab87.ab1988","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4179.813217163086,"y":615.1464414596558,"wires":[["aaa18382.dd28"],[]]},{"id":"aaa18382.dd28","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4379.813217163086,"y":608.8964414596558,"wires":[["298e5e9.e32e8a2"]]},{"id":"298e5e9.e32e8a2","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4586.480815887451,"y":539.7894515991211,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["93326b87.c6f558"]]},{"id":"93326b87.c6f558","type":"function","z":"c3bd0ed2.bdd29","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3862.3133544921875,"y":679.1464767456055,"wires":[["d149b178.b733d"]]},{"id":"d149b178.b733d","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4084.3133659362793,"y":685.1464376449585,"wires":[["70ed3a9.b9a1ec4"],[]]},{"id":"70ed3a9.b9a1ec4","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4286.063259124756,"y":683.1464157104492,"wires":[["40e6fa08.f62a04"]]},{"id":"40e6fa08.f62a04","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4769.408931732178,"y":654.3964920043945,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["e36cf091.07de5"],[]]},{"id":"e36cf091.07de5","type":"function","z":"c3bd0ed2.bdd29","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3852.3133544921875,"y":747.8964414596558,"wires":[["ebf10045.57a07"]]},{"id":"ebf10045.57a07","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4087.313652038574,"y":771.039303779602,"wires":[["a8d33539.f72b68"],[]]},{"id":"a8d33539.f72b68","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4292.063259124756,"y":739.8964014053345,"wires":[["7043397.63f88c8"]]},{"id":"7043397.63f88c8","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4470.2891273498535,"y":834.4321899414062,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["b2cfada.b01305"],[],[]]},{"id":"b2cfada.b01305","type":"function","z":"c3bd0ed2.bdd29","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3849.1466903686523,"y":816.6464891433716,"wires":[["c9b362b.6ed95a"]]},{"id":"c9b362b.6ed95a","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4090.1467056274414,"y":820.646409034729,"wires":[["7f9cc9fb.4ddc18"],[]]},{"id":"7f9cc9fb.4ddc18","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4294.01155090332,"y":816.6307601928711,"wires":[["c687f508.3fec08"]]},{"id":"c687f508.3fec08","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4658.011501312256,"y":888.7022857666016,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["15d69869.c18788"],[],[],[]]},{"id":"15d69869.c18788","type":"function","z":"c3bd0ed2.bdd29","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3806.8687896728516,"y":923.7738924026489,"wires":[["99b079c.c27bc88"]]},{"id":"99b079c.c27bc88","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4055.011688232422,"y":912.0594329833984,"wires":[["6a575cec.0f1094"],[]]},{"id":"6a575cec.0f1094","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4256.019256591797,"y":916.615270614624,"wires":[["784acc4.675ed34"]]},{"id":"784acc4.675ed34","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4805.583099365234,"y":1017.630859375,"wires":[[],[],[],[],[],[],[],[],[],[],[],["3824beb8.d386b2"],[],[],[],[]]},{"id":"3824beb8.d386b2","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_5","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3790.0114402770996,"y":1005.2021436691284,"wires":[["660ad860.c59068"]]},{"id":"660ad860.c59068","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4053.1543579101562,"y":996.4879512786865,"wires":[["ebfcae36.0bfc2"],[]]},{"id":"ebfcae36.0bfc2","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4248.20198059082,"y":987.2973861694336,"wires":[["8a1f6a0b.d1bea8"]]},{"id":"8a1f6a0b.d1bea8","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4522.202243804932,"y":1090.6307754516602,"wires":[[],[],[],[],[],[],[],[],[],[],["8b07a253.558d5"],[],[],[],[],[]]},{"id":"8b07a253.558d5","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_6","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_5 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3790.2021980285645,"y":1082.964602470398,"wires":[["15a2e3e5.5a377c"]]},{"id":"15a2e3e5.5a377c","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4020.345115661621,"y":1142.2500839233398,"wires":[["6c1fc325.44b1cc"],[]]},{"id":"c1296349.da0e6","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3555.71435546875,"y":570.952392578125,"wires":[["e65afe92.fc923"]]},{"id":"e65afe92.fc923","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"//var order = msg.payload;\nvar bits_25 = \n{\n  \"bit_0\": 0,\n  \"bit_1\": 0,\n  \"bit_2\": 0,\n  \"bit_3\": 0,\n  \"bit_4\": 0,\n  \"bit_5\": 0,\n  \"bit_6\": 0,\n  \"bit_7\": 0,\n  \"bit_8\": 0\n  \n \n };\nmsg.payload = bits_25;\nflow.set('bits_25',bits_25);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":3836.6585998535156,"y":623.6583395004272,"wires":[["3448e52b.3000fa"]]},{"id":"a3e01106.2c417","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/RegisterError","method":"get","swaggerDoc":"","x":3533.8570709228516,"y":631.9524478912354,"wires":[["e65afe92.fc923"]]},{"id":"3448e52b.3000fa","type":"function","z":"38cafb3c.f19c64","name":"25_b_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":3992.4920616149902,"y":624.9083395004272,"wires":[["6ca41839.956ac8"]]},{"id":"6ca41839.956ac8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4161.241928100586,"y":629.9083433151245,"wires":[["41692398.c39d2c"],[]]},{"id":"41692398.c39d2c","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4361.241928100586,"y":623.6583433151245,"wires":[["96c66a78.7f70b8"]]},{"id":"96c66a78.7f70b8","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4567.909526824951,"y":554.5513534545898,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],["5201f002.35b98"]]},{"id":"5201f002.35b98","type":"function","z":"38cafb3c.f19c64","name":"R_25_bit_1","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_0 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3843.7420654296875,"y":693.9083786010742,"wires":[["e353955.7e00c68"]]},{"id":"e353955.7e00c68","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4065.7420768737793,"y":699.9083395004272,"wires":[["45e04f31.66143"],[]]},{"id":"45e04f31.66143","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4267.491970062256,"y":697.908317565918,"wires":[["cdfc6f2c.09de"]]},{"id":"cdfc6f2c.09de","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4750.837642669678,"y":669.1583938598633,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],["8fad4025.d4db6"],[]]},{"id":"8fad4025.d4db6","type":"function","z":"38cafb3c.f19c64","name":"R_25_bit_2","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_1 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3833.7420654296875,"y":762.6583433151245,"wires":[["70eb5cd9.a7d064"]]},{"id":"70eb5cd9.a7d064","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4068.7420806884766,"y":758.6583032608032,"wires":[["76b96316.dee5bc"],[]]},{"id":"76b96316.dee5bc","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4273.491970062256,"y":754.6583032608032,"wires":[["cac29f8e.e7a18"]]},{"id":"cac29f8e.e7a18","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4451.7178382873535,"y":849.194091796875,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],[],["3d226157.75763e"],[],[]]},{"id":"3d226157.75763e","type":"function","z":"38cafb3c.f19c64","name":"R_25_bit_3","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_2 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3830.5754013061523,"y":831.4083909988403,"wires":[["255d2ee7.f171d2"]]},{"id":"255d2ee7.f171d2","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4071.5754165649414,"y":835.4083108901978,"wires":[["8e4ab445.b32658"],[]]},{"id":"8e4ab445.b32658","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4275.44026184082,"y":831.3926620483398,"wires":[["346ef891.13d6a8"]]},{"id":"346ef891.13d6a8","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4639.440212249756,"y":903.4641876220703,"wires":[[],[],[],[],[],[],[],[],[],[],[],[],["d7cbaa60.633848"],[],[],[]]},{"id":"d7cbaa60.633848","type":"function","z":"38cafb3c.f19c64","name":"R_25_bit_4","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_3 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3788.2975006103516,"y":938.5357942581177,"wires":[["271f35.184010cc"]]},{"id":"271f35.184010cc","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4036.440399169922,"y":926.8213348388672,"wires":[["cab1a6be.c5e2f8"],[]]},{"id":"cab1a6be.c5e2f8","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4237.447967529297,"y":931.3771724700928,"wires":[["b19f50c6.4dad1"]]},{"id":"b19f50c6.4dad1","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4787.011810302734,"y":1032.3927612304688,"wires":[[],[],[],[],[],[],[],[],[],[],[],["5a5e38e4.01e948"],[],[],[],[]]},{"id":"5a5e38e4.01e948","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_5","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_4 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3771.4401512145996,"y":1019.9640455245972,"wires":[["ae7f1610.2bbab8"]]},{"id":"ae7f1610.2bbab8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4034.5830688476562,"y":1011.2498531341553,"wires":[["ba714222.cdde8"],[]]},{"id":"ba714222.cdde8","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4229.63069152832,"y":1002.0592880249023,"wires":[["711d3833.31a5b8"]]},{"id":"711d3833.31a5b8","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4503.630954742432,"y":1105.392677307129,"wires":[[],[],[],[],[],[],[],[],[],[],["72246d7a.7b8684"],[],[],[],[],[]]},{"id":"72246d7a.7b8684","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_6","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_5 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;\n\n\n\n","outputs":"1","noerr":0,"x":3771.6309089660645,"y":1097.7265043258667,"wires":[["fbcb5dfe.6b045"]]},{"id":"fbcb5dfe.6b045","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4001.773826599121,"y":1157.0119857788086,"wires":[["da80e99a.9dcc68"],[]]},{"id":"7f2430b.e5a87d","type":"function","z":"238115c.c26aaea","name":"R_5702_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5702 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":439.01960372924805,"y":258.003924369812,"wires":[["92d3810a.2b235"]]},{"id":"92d3810a.2b235","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":670.2299308776855,"y":256.52617359161377,"wires":[["ca365877.d277e8"],[]]},{"id":"ca365877.d277e8","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":851.3211631774902,"y":255.19440841674805,"wires":[["4b4184d8.7b855c"]]},{"id":"4b4184d8.7b855c","type":"function","z":"238115c.c26aaea","name":"5703_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5703 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":431.88862228393555,"y":308.1348876953125,"wires":[["6565643d.f4a7fc"]]},{"id":"6565643d.f4a7fc","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":628.3051948547363,"y":301.66506004333496,"wires":[["fd1754ba.849038"],[]]},{"id":"fd1754ba.849038","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":818.4640159606934,"y":300.90869760513306,"wires":[["a96a1fdf.067d6"]]},{"id":"a96a1fdf.067d6","type":"function","z":"238115c.c26aaea","name":"5704+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5704 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":416.71007919311523,"y":348.45634269714355,"wires":[["e968e474.521f58"]]},{"id":"e968e474.521f58","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":640.3487281799316,"y":346.82379245758057,"wires":[["16db0e36.58a2c2"],[]]},{"id":"16db0e36.58a2c2","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":844.3290901184082,"y":342.68882179260254,"wires":[["db966ea8.83602"]]},{"id":"db966ea8.83602","type":"function","z":"238115c.c26aaea","name":"5706+1_Counterr_1v","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5706 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":420.74582290649414,"y":393.20628356933594,"wires":[["4dce576d.9b6408"]]},{"id":"4dce576d.9b6408","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":647.8487739562988,"y":395.03809356689453,"wires":[["6cac1ff6.b4403"],[]]},{"id":"6cac1ff6.b4403","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.1507377624512,"y":388.16507625579834,"wires":[["6dbd2923.831798"]]},{"id":"6dbd2923.831798","type":"function","z":"238115c.c26aaea","name":"5708+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5708 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":414.40058517456055,"y":440.2895793914795,"wires":[["bcdc6e9a.18646"]]},{"id":"bcdc6e9a.18646","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":644.507511138916,"y":441.43879795074463,"wires":[["7875bea1.00325"],[]]},{"id":"7875bea1.00325","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.9523429870605,"y":435.9943313598633,"wires":[["ab676222.3954b"]]},{"id":"ab676222.3954b","type":"function","z":"238115c.c26aaea","name":"5710+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5710 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":421.007625579834,"y":485.43244457244873,"wires":[["def035f8.0f6478"]]},{"id":"def035f8.0f6478","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":645.8127021789551,"y":484.91900539398193,"wires":[["ab7e2d2.d5121d"],[]]},{"id":"ab7e2d2.d5121d","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":840.4003143310547,"y":480.9030876159668,"wires":[["8c92e542.f61888"]]},{"id":"8c92e542.f61888","type":"function","z":"238115c.c26aaea","name":"5712+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5712 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":416.75764083862305,"y":535.5395450592041,"wires":[["e061c541.8d4fb8"]]},{"id":"e061c541.8d4fb8","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":643.6698379516602,"y":536.1690006256104,"wires":[["d6ed4f04.f739e"],[]]},{"id":"d6ed4f04.f739e","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":849.6860466003418,"y":520.724494934082,"wires":[["a802a5d6.4ad418"]]},{"id":"a802a5d6.4ad418","type":"function","z":"238115c.c26aaea","name":"5714+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5714 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":414.2576103210449,"y":581.8253345489502,"wires":[["299c1185.57ea6e"]]},{"id":"299c1185.57ea6e","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":643.1341667175293,"y":583.1332778930664,"wires":[["df39ac39.01c81"],[]]},{"id":"df39ac39.01c81","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":847.7217597961426,"y":571.9745330810547,"wires":[["b45f9204.eab2f"]]},{"id":"b45f9204.eab2f","type":"function","z":"238115c.c26aaea","name":"5716+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5716 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":406.57900619506836,"y":628.6111440658569,"wires":[["c32d11ea.eafc9"]]},{"id":"c32d11ea.eafc9","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":650.9912986755371,"y":627.4189872741699,"wires":[["b23e22cb.1bb7f"],[]]},{"id":"b23e22cb.1bb7f","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":851.2931900024414,"y":620.5459403991699,"wires":[["a58cdca.14ff62"]]},{"id":"a58cdca.14ff62","type":"function","z":"238115c.c26aaea","name":"5718+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5718 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":412.13862228393555,"y":676.8134593963623,"wires":[["6d9ad338.989d1c"]]},{"id":"6d9ad338.989d1c","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":646.2416648864746,"y":679.5023937225342,"wires":[["6fec41bd.3810e"],[]]},{"id":"6fec41bd.3810e","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":850.4003143310547,"y":675.3078498840332,"wires":[["af733c0.63aa3c8"]]},{"id":"af733c0.63aa3c8","type":"function","z":"238115c.c26aaea","name":"5720+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5720 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":415.05534744262695,"y":731.4204959869385,"wires":[["b147453c.31de68"]]},{"id":"b147453c.31de68","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":645.733715057373,"y":730.5696492195129,"wires":[["ff287259.abcfa"],[]]},{"id":"ff287259.abcfa","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":850.321403503418,"y":725.1252107620239,"wires":[["7cb27da5.242144"]]},{"id":"7cb27da5.242144","type":"function","z":"238115c.c26aaea","name":"5722+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5722 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":405.8051872253418,"y":775.5633211135864,"wires":[["dfedb338.49d1f"]]},{"id":"dfedb338.49d1f","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":641.8960304260254,"y":781.192741394043,"wires":[["c7bb99a6.752bb8"],[]]},{"id":"c7bb99a6.752bb8","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":837.3408088684082,"y":780.0339260101318,"wires":[["94958758.4ece48"]]},{"id":"94958758.4ece48","type":"function","z":"238115c.c26aaea","name":"5724+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5724 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":401.2694664001465,"y":816.3847751617432,"wires":[["55a692c3.a7050c"]]},{"id":"55a692c3.a7050c","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":660.6102561950684,"y":828.1569862365723,"wires":[["51bf3530.c364ec"],[]]},{"id":"51bf3530.c364ec","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":848.055103302002,"y":828.4268188476562,"wires":[["fb31a206.c5345"]]},{"id":"fb31a206.c5345","type":"function","z":"238115c.c26aaea","name":"5726+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5726 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":404.3409233093262,"y":869.2419567108154,"wires":[["2f90acf7.173184"]]},{"id":"2f90acf7.173184","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":657.2173957824707,"y":877.9785137176514,"wires":[["dd84e568.c1c368"],[]]},{"id":"dd84e568.c1c368","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":853.2336921691895,"y":878.2483291625977,"wires":[["934a63b0.1ba1b"]]},{"id":"934a63b0.1ba1b","type":"function","z":"238115c.c26aaea","name":"5728+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5728 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":408.66234970092773,"y":927.313473701477,"wires":[["26ce9ae0.ef5236"]]},{"id":"26ce9ae0.ef5236","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":656.5031356811523,"y":932.2642364501953,"wires":[["69b1a1f7.59345"],[]]},{"id":"69b1a1f7.59345","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":872.5194225311279,"y":928.2483024597168,"wires":[["48ad6c19.da8734"]]},{"id":"48ad6c19.da8734","type":"function","z":"238115c.c26aaea","name":"5730+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5730 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":401.22192001342773,"y":976.5157871246338,"wires":[["35b90c6f.c1d944"]]},{"id":"35b90c6f.c1d944","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":648.8963813781738,"y":978.6333103179932,"wires":[["38cf7792.feebb8"],[]]},{"id":"38cf7792.feebb8","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(4));\n\nreturn msg;","outputs":1,"noerr":0,"x":864.483699798584,"y":981.5816516876221,"wires":[["4e17659a.aa521c"]]},{"id":"4e17659a.aa521c","type":"function","z":"238115c.c26aaea","name":"R_5732_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5732 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":409.96410751342773,"y":1028.473798751831,"wires":[["76eb2c46.ef7e24"]]},{"id":"76eb2c46.ef7e24","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":650.7458229064941,"y":1027.1389074325562,"wires":[["c332d915.979cf8"],[]]},{"id":"c332d915.979cf8","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":858.9799461364746,"y":1024.3786144256592,"wires":[["379ef231.a524be"]]},{"id":"379ef231.a524be","type":"function","z":"238115c.c26aaea","name":"R_5733_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5733 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":402.9641227722168,"y":1078.4736785888672,"wires":[["a6306a65.a2ac38"]]},{"id":"a6306a65.a2ac38","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":650.7458381652832,"y":1085.7103233337402,"wires":[["99852f8.ea2dfd"],[]]},{"id":"99852f8.ea2dfd","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":856.1228218078613,"y":1075.807113647461,"wires":[["fcb120f7.a744"]]},{"id":"fcb120f7.a744","type":"function","z":"238115c.c26aaea","name":"R_5734_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5734 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":416.39269638061523,"y":1134.1880378723145,"wires":[["dce015d5.790b48"]]},{"id":"dce015d5.790b48","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":650.7458381652832,"y":1144.2817077636719,"wires":[["80e1cec1.016e4"],[]]},{"id":"80e1cec1.016e4","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":864.694263458252,"y":1137.2356300354004,"wires":[["c01343d8.58c98"]]},{"id":"c01343d8.58c98","type":"function","z":"238115c.c26aaea","name":"R_5735_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5735 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":409.96413803100586,"y":1181.9023971557617,"wires":[["1d866755.c3ca59"]]},{"id":"1d866755.c3ca59","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":656.4601936340332,"y":1182.8532409667969,"wires":[["6fc3aba9.a36764"],[]]},{"id":"6fc3aba9.a36764","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":854.6941795349121,"y":1180.0928783416748,"wires":[["332e6bbc.0a22d4"]]},{"id":"332e6bbc.0a22d4","type":"function","z":"238115c.c26aaea","name":"R_5736_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5736 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":405.5355567932129,"y":1255.7594566345215,"wires":[["908b0d89.bbc51"]]},{"id":"908b0d89.bbc51","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":663.6030082702637,"y":1254.2816944122314,"wires":[["c26386e9.b74d08"],[]]},{"id":"c26386e9.b74d08","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":861.8370399475098,"y":1238.6642417907715,"wires":[["47d7cacc.6c54e4"]]},{"id":"47d7cacc.6c54e4","type":"function","z":"238115c.c26aaea","name":"R_5737_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5737 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":405.2498435974121,"y":1322.3310737609863,"wires":[["97e20695.a8f468"]]},{"id":"97e20695.a8f468","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":642.1744117736816,"y":1325.7102966308594,"wires":[["2a4221af.43520e"],[]]},{"id":"2a4221af.43520e","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":850.408519744873,"y":1310.0929470062256,"wires":[["eb553d39.00eb7"]]},{"id":"eb553d39.00eb7","type":"function","z":"238115c.c26aaea","name":"R_5738_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5738 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":399.82128524780273,"y":1379.759503364563,"wires":[["a631c9d4.920e28"]]},{"id":"a631c9d4.920e28","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":642.1744003295898,"y":1375.7103776931763,"wires":[["f795d075.3ef49"],[]]},{"id":"f795d075.3ef49","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":844.6942520141602,"y":1367.235629081726,"wires":[["51a41a06.c37084"]]},{"id":"51a41a06.c37084","type":"function","z":"238115c.c26aaea","name":"R_5739_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5739 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":408.24982833862305,"y":1437.3311214447021,"wires":[["babfd23a.10bd9"]]},{"id":"babfd23a.10bd9","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":646.4601249694824,"y":1424.2816982269287,"wires":[["b611dd8f.5946d"],[]]},{"id":"b611dd8f.5946d","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":848.9799537658691,"y":1417.2355546951294,"wires":[["7c4148ff.f38c18"]]},{"id":"7c4148ff.f38c18","type":"function","z":"238115c.c26aaea","name":"R_5740_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5740 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":408.106990814209,"y":1484.045479774475,"wires":[["cf88a40e.d950d8"]]},{"id":"cf88a40e.d950d8","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":660.7458877563477,"y":1472.8533000946045,"wires":[["5b57ac37.657fb4"],[]]},{"id":"5b57ac37.657fb4","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":863.2656326293945,"y":1464.3784809112549,"wires":[["1fab3664.a594ea"]]},{"id":"1fab3664.a594ea","type":"function","z":"238115c.c26aaea","name":"R_5741_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5741 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":406.9641227722168,"y":1540.3307209014893,"wires":[["860ddd7a.13736"]]},{"id":"860ddd7a.13736","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":655.0316009521484,"y":1525.710394859314,"wires":[["60718c08.4fda74"],[]]},{"id":"60718c08.4fda74","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":888.9798927307129,"y":1521.5213088989258,"wires":[["32ead2f1.7bec6e"]]},{"id":"32ead2f1.7bec6e","type":"function","z":"238115c.c26aaea","name":"5742_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5742 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":392.4641227722168,"y":1589.7594356536865,"wires":[["c3f2af6c.5df37"]]},{"id":"c3f2af6c.5df37","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":662.154613494873,"y":1581.861268043518,"wires":[["8d6eaffc.f4dee"],[]]},{"id":"8d6eaffc.f4dee","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":894.5354423522949,"y":1582.3373193740845,"wires":[["c9527604.f2c6f8"]]},{"id":"c9527604.f2c6f8","type":"function","z":"238115c.c26aaea","name":"5744_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5744 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":412.0198173522949,"y":1650.2041006088257,"wires":[["3d1f6e1c.369552"]]},{"id":"3d1f6e1c.369552","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":681.5989151000977,"y":1655.750020980835,"wires":[["55211bff.bf6b94"],[]]},{"id":"55211bff.bf6b94","type":"function","z":"238115c.c26aaea","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":891.678295135498,"y":1652.3373537063599,"wires":[["f90b0091.1c99c"]]},{"id":"f90b0091.1c99c","type":"function","z":"238115c.c26aaea","name":"5748_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5748 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":390.0198631286621,"y":1699.2039413452148,"wires":[["41f2912e.012ba"]]},{"id":"41f2912e.012ba","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":678.265739440918,"y":1697.4166507720947,"wires":[["63e0c1d6.a8069"],[]]},{"id":"63e0c1d6.a8069","type":"function","z":"238115c.c26aaea","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":895.9640312194824,"y":1702.3373193740845,"wires":[["c947bf29.cca97"]]},{"id":"c947bf29.cca97","type":"function","z":"238115c.c26aaea","name":"5750_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5750 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":402.6864128112793,"y":1744.5371141433716,"wires":[["6cbc39f1.fb8128"]]},{"id":"6cbc39f1.fb8128","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":668.2656555175781,"y":1740.749966621399,"wires":[["1495f0a1.31c2df"],[]]},{"id":"1495f0a1.31c2df","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":898.8211479187012,"y":1758.0516748428345,"wires":[["dc276b62.d9b638"]]},{"id":"dc276b62.d9b638","type":"function","z":"238115c.c26aaea","name":"5751_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":405.68637466430664,"y":1798.5372800827026,"wires":[["a44e0c6a.9b006"]]},{"id":"a44e0c6a.9b006","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":669.9323196411133,"y":1795.7499895095825,"wires":[["de49bc48.52326"],[]]},{"id":"de49bc48.52326","type":"function","z":"238115c.c26aaea","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":904.5354423522949,"y":1802.3374633789062,"wires":[["52edad50.ac4434"]]},{"id":"52edad50.ac4434","type":"function","z":"238115c.c26aaea","name":"5751","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":400.3192596435547,"y":1848.4305124282837,"wires":[["e89492a8.2ca03"]]},{"id":"e89492a8.2ca03","type":"modbus-flex-getter","z":"238115c.c26aaea","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":663.0096969604492,"y":1853.532073020935,"wires":[["1ac8520c.9f9bbe"],[]]},{"id":"1ac8520c.9f9bbe","type":"function","z":"238115c.c26aaea","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":835.964054107666,"y":1850.9086608886719,"wires":[["6d45da5.5f99b24"]]},{"id":"6d45da5.5f99b24","type":"function","z":"238115c.c26aaea","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":972.3094787597656,"y":1852.444284439087,"wires":[["a2121d60.6c4a7","e9c212d.4e5f9f"]]},{"id":"a2121d60.6c4a7","type":"http response","z":"238115c.c26aaea","name":"","x":1143.6666412353516,"y":1814.7183084487915,"wires":[]},{"id":"e9c212d.4e5f9f","type":"debug","z":"238115c.c26aaea","name":"","active":true,"console":"false","complete":"payload","x":1166.6548194885254,"y":1845.3490362167358,"wires":[]},{"id":"115c6497.11961b","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":240.01953125,"y":1020.00390625,"wires":[["8e8834ed.279cb8"]]},{"id":"8e8834ed.279cb8","type":"function","z":"c3bd0ed2.bdd29","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n /*var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('res_resetError',msg.res);\nmsg.req = '';\nmsg.res = '';\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":482.19419860839844,"y":1081.730146408081,"wires":[["86536ef.199b89"]]},{"id":"86536ef.199b89","type":"function","z":"c3bd0ed2.bdd29","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":456.82908630371094,"y":1003.6230449676514,"wires":[["78fc19fd.a0b008"]]},{"id":"78fc19fd.a0b008","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":638.6070327758789,"y":975.178544998169,"wires":[["10c2f73a.d280d9"],[]]},{"id":"10c2f73a.d280d9","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":831.1706771850586,"y":970.2438125610352,"wires":[["9780d1f9.8cc5c"]]},{"id":"9780d1f9.8cc5c","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1000.4956436157227,"y":913.2897205352783,"wires":[[],[],[],[],[],[],[],[],[],[],[],["478b0882.d57548"],[],[],[],[]]},{"id":"478b0882.d57548","type":"function","z":"c3bd0ed2.bdd29","name":"bit_4_analis","func":"var if_bit_4_0 = 32768\nvar if_bit_4_1 = 32784;\nvar bit_4 = msg.payload;\nvar send_25 = 0;\n\n\nif(bit_4 == 1){\n    send_25 = if_bit_4_1;\n}else{\n    send_25 = if_bit_4_0;\n}\n\nflow.set('send_25',send_25);\nmsg.payload = \"\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":707.3289566040039,"y":1072.9562244415283,"wires":[["2a5e9af4.f876d6"]]},{"id":"2a5e9af4.f876d6","type":"function","z":"c3bd0ed2.bdd29","name":"25","func":"var send_25 = flow.get('send_25');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': send_25, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":869.4443626403809,"y":1070.8411502838135,"wires":[["f12ac5b.e1bd638"]]},{"id":"f12ac5b.e1bd638","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1071.9722061157227,"y":1081.1744842529297,"wires":[["8a4dc76c.4e94a8"],["61ee89c3.731f28"]]},{"id":"8a4dc76c.4e94a8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1201.5552253723145,"y":1013.8133163452148,"wires":[]},{"id":"61ee89c3.731f28","type":"delay","z":"c3bd0ed2.bdd29","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":310.4004707336426,"y":1152.9088973999023,"wires":[["4e05c718.e94568"]]},{"id":"4e05c718.e94568","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"//var cmd_and_5002 = msg.payload;\nvar cmd_and_5002 = \n{\n  \"cmd_and_5002\": 0\n};\n\nflow.set('cmd_and_5002',cmd_and_5002);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":482.76943588256836,"y":1157.5873279571533,"wires":[["6d083105.bdb69"]]},{"id":"6d083105.bdb69","type":"function","z":"c3bd0ed2.bdd29","name":"R_5002","func":"var cmd_and_5002 = flow.get('cmd_and_5002');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd_and_5002.cmd_and_5002, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":613.0194244384766,"y":1161.0039234161377,"wires":[["c1023d5.ae4bcc"]]},{"id":"c1023d5.ae4bcc","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":781.9083137512207,"y":1162.1150550842285,"wires":[[],["acac9215.5298b","c669a246.17c42"]]},{"id":"acac9215.5298b","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":967.2138633728027,"y":1167.5873394012451,"wires":[]},{"id":"c669a246.17c42","type":"function","z":"c3bd0ed2.bdd29","name":"","func":"msg.payload = \"ok\";\nmsg.res = flow.get('res_resetError');\nreturn msg;\n\n","outputs":1,"noerr":0,"x":634.1622886657715,"y":1225.9562339782715,"wires":[["fc68c0d.0f9574","1dc73097.42deff"]]},{"id":"fc68c0d.0f9574","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":839.162223815918,"y":1249.9562072753906,"wires":[]},{"id":"1dc73097.42deff","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":840.1625785827637,"y":1213.9563121795654,"wires":[]},{"id":"856cd711.797af8","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":464.1622734069824,"y":1207.9562330245972,"wires":[["c669a246.17c42"]]},{"id":"7f56ddb2.ce2654","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":245.01953125,"y":1000.00390625,"wires":[["a1b686b5.842848"]]},{"id":"a1b686b5.842848","type":"function","z":"38cafb3c.f19c64","name":"Reset_Error","func":"var Reset_Error = msg.payload;\n /*var Reset_Error = \n {\n   \"Reset_Error\": 32768\n   \n };\n*/\nflow.set('res_resetError',msg.res);\nmsg.req = '';\nmsg.res = '';\nflow.set('Reset_Error',Reset_Error);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":487.19419860839844,"y":1061.730146408081,"wires":[["d531709d.21994"]]},{"id":"d531709d.21994","type":"function","z":"38cafb3c.f19c64","name":"25","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":461.82908630371094,"y":983.6230449676514,"wires":[["81f6349e.7e19a8"]]},{"id":"81f6349e.7e19a8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":641.6070709228516,"y":983.1785507202148,"wires":[["2492b511.e407da"],[]]},{"id":"2492b511.e407da","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":822.1706619262695,"y":965.2438583374023,"wires":[["ece8a4f0.35e1f8"]]},{"id":"ece8a4f0.35e1f8","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":1005.4956436157227,"y":893.2897205352783,"wires":[[],[],[],[],[],[],[],[],[],[],[],["f359dbd3.942358"],[],[],[],[]]},{"id":"f359dbd3.942358","type":"function","z":"38cafb3c.f19c64","name":"bit_4_analis","func":"var if_bit_4_0 = 32768\nvar if_bit_4_1 = 32784;\nvar bit_4 = msg.payload;\nvar send_25 = 0;\n\n\nif(bit_4 == 1){\n    send_25 = if_bit_4_1;\n}else{\n    send_25 = if_bit_4_0;\n}\n\nflow.set('send_25',send_25);\nmsg.payload = \"\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":712.3289566040039,"y":1052.9562244415283,"wires":[["ba24aa64.8ff588"]]},{"id":"ba24aa64.8ff588","type":"function","z":"38cafb3c.f19c64","name":"25","func":"var send_25 = flow.get('send_25');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': send_25, \n    'fc': 6, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":874.4443626403809,"y":1050.8411502838135,"wires":[["c68e720a.512d6"]]},{"id":"c68e720a.512d6","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1076.9722061157227,"y":1061.1744842529297,"wires":[["aa6a4fc1.709ac"],["1a929254.20ca7e"]]},{"id":"aa6a4fc1.709ac","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1206.5552253723145,"y":993.8133163452148,"wires":[]},{"id":"1a929254.20ca7e","type":"delay","z":"38cafb3c.f19c64","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":315.4004707336426,"y":1132.9088973999023,"wires":[["e7061e9a.acab9"]]},{"id":"e7061e9a.acab9","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"//var cmd_and_5002 = msg.payload;\nvar cmd_and_5002 = \n{\n  \"cmd_and_5002\": 0\n};\n\nflow.set('cmd_and_5002',cmd_and_5002);\nmsg.payload = \"\";\nreturn msg;","outputs":"1","noerr":0,"x":487.76943588256836,"y":1137.5873279571533,"wires":[["531100d1.2d863"]]},{"id":"531100d1.2d863","type":"function","z":"38cafb3c.f19c64","name":"R_5002","func":"var cmd_and_5002 = flow.get('cmd_and_5002');\nmsg.req = '';\nmsg.res = '';\nmsg.payload = { \n    'value': cmd_and_5002.cmd_and_5002, \n    'fc': 6, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":618.0194244384766,"y":1141.0039234161377,"wires":[["e5d57af4.e39188"]]},{"id":"e5d57af4.e39188","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":786.9083137512207,"y":1142.1150550842285,"wires":[[],["73f541b5.bc743","5235f482.fe33dc"]]},{"id":"73f541b5.bc743","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":972.2138633728027,"y":1147.5873394012451,"wires":[]},{"id":"5235f482.fe33dc","type":"function","z":"38cafb3c.f19c64","name":"","func":"msg.payload = \"ok\";\nmsg.res = flow.get('res_resetError');\nreturn msg;\n\n","outputs":1,"noerr":0,"x":639.1623001098633,"y":1190.9562187194824,"wires":[["7d80b146.14cd","a0d4e8f4.55ac48"]]},{"id":"7d80b146.14cd","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":842.162223815918,"y":1231.9562044143677,"wires":[]},{"id":"a0d4e8f4.55ac48","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":838.1625823974609,"y":1191.9563102722168,"wires":[]},{"id":"78de10e7.7d805","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":497.1622619628906,"y":1184.95618724823,"wires":[["5235f482.fe33dc"]]},{"id":"a5b0845c.27e228","type":"function","z":"7c979a3f.780724","name":"R_5702_order_req","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5702 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":430.01953125,"y":281.00390625,"wires":[["6330ae6f.edf4a"]]},{"id":"6330ae6f.edf4a","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":661.2298583984375,"y":279.52615547180176,"wires":[["20237f42.94698"],[]]},{"id":"20237f42.94698","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":842.3210906982422,"y":278.19439029693604,"wires":[["7ed4ae4.61a5c5"]]},{"id":"7ed4ae4.61a5c5","type":"function","z":"7c979a3f.780724","name":"5703_route","func":"var regime_get = flow.get('regime_get');\nregime_get.order_req = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5703 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":422.8885498046875,"y":331.1348695755005,"wires":[["b1256e5d.55af1"]]},{"id":"b1256e5d.55af1","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":619.3051223754883,"y":324.66504192352295,"wires":[["3320b8f6.6c5d78"],[]]},{"id":"3320b8f6.6c5d78","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":809.4639434814453,"y":323.90867948532104,"wires":[["d006e221.b4345"]]},{"id":"d006e221.b4345","type":"function","z":"7c979a3f.780724","name":"5704+1_Setpoint","func":"var regime_get = flow.get('regime_get');\nregime_get.route = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5704 , \n    'quantity': 2 \n    \n};\nreturn msg;","outputs":"1","noerr":0,"x":407.7100067138672,"y":371.45632457733154,"wires":[["8543afed.67f2d"]]},{"id":"8543afed.67f2d","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":631.3486557006836,"y":369.82377433776855,"wires":[["649c2be0.a0ba84"],[]]},{"id":"649c2be0.a0ba84","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":835.3290176391602,"y":365.6888036727905,"wires":[["f79e2de5.2e975"]]},{"id":"f79e2de5.2e975","type":"function","z":"7c979a3f.780724","name":"5706+1_Counterr_1v","func":"var regime_get = flow.get('regime_get');\nregime_get.setpoint = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5706 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":411.7457504272461,"y":416.2062654495239,"wires":[["4056eed4.0dc64"]]},{"id":"4056eed4.0dc64","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":638.8487014770508,"y":418.0380754470825,"wires":[["bac12d1b.d237d"],[]]},{"id":"bac12d1b.d237d","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":839.1506652832031,"y":411.1650581359863,"wires":[["15aa65be.155a3a"]]},{"id":"15aa65be.155a3a","type":"function","z":"7c979a3f.780724","name":"5708+1_T_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.counterr = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5708 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":405.4005126953125,"y":463.2895612716675,"wires":[["367c69ae.764716"]]},{"id":"367c69ae.764716","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":635.507438659668,"y":464.4387798309326,"wires":[["1f18e41.a62ab1c"],[]]},{"id":"1f18e41.a62ab1c","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":842.9522705078125,"y":458.99431324005127,"wires":[["37a0d72a.2b3dc8"]]},{"id":"37a0d72a.2b3dc8","type":"function","z":"7c979a3f.780724","name":"5710+1_T_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5710 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":412.00755310058594,"y":508.4324264526367,"wires":[["e61e0fa5.7cc18"]]},{"id":"e61e0fa5.7cc18","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":636.812629699707,"y":507.9189872741699,"wires":[["1f87a966.a42cc7"],[]]},{"id":"1f87a966.a42cc7","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":831.4002418518066,"y":503.9030694961548,"wires":[["44b56a6c.fc8424"]]},{"id":"44b56a6c.fc8424","type":"function","z":"7c979a3f.780724","name":"5712+1_T_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5712 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":407.757568359375,"y":558.5395269393921,"wires":[["9ccda1d.8b0356"]]},{"id":"9ccda1d.8b0356","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":634.6697654724121,"y":559.1689825057983,"wires":[["f323a15e.f6879"],[]]},{"id":"f323a15e.f6879","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":840.6859741210938,"y":543.72447681427,"wires":[["946f8890.e917a8"]]},{"id":"946f8890.e917a8","type":"function","z":"7c979a3f.780724","name":"5714+1_T_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5714 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":405.2575378417969,"y":604.8253164291382,"wires":[["139bece6.a9bc93"]]},{"id":"139bece6.a9bc93","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":634.1340942382812,"y":606.1332597732544,"wires":[["72781fe6.2d3c6"],[]]},{"id":"72781fe6.2d3c6","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":838.7216873168945,"y":594.9745149612427,"wires":[["b750e98.9b92618"]]},{"id":"b750e98.9b92618","type":"function","z":"7c979a3f.780724","name":"5716+1_T_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5716 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":397.5789337158203,"y":651.6111259460449,"wires":[["5bf00eaf.04875"]]},{"id":"5bf00eaf.04875","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":641.9912261962891,"y":650.4189691543579,"wires":[["9d69aeda.c4c0b"],[]]},{"id":"9d69aeda.c4c0b","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":842.2931175231934,"y":643.5459222793579,"wires":[["f7a1c48d.054e68"]]},{"id":"f7a1c48d.054e68","type":"function","z":"7c979a3f.780724","name":"5718+1_T_flow_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5718 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":403.1385498046875,"y":699.8134412765503,"wires":[["525467f7.987ea8"]]},{"id":"525467f7.987ea8","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":637.2415924072266,"y":702.5023756027222,"wires":[["1a9e267e.e398da"],[]]},{"id":"1a9e267e.e398da","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":841.4002418518066,"y":698.3078317642212,"wires":[["fe4f1cab.5c279"]]},{"id":"fe4f1cab.5c279","type":"function","z":"7c979a3f.780724","name":"5720+1_Plotnost_flow_1","func":"var regime_get = flow.get('regime_get');\nregime_get.t_flow_middle = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5720 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":406.0552749633789,"y":754.4204778671265,"wires":[["cdd4fa2f.96e868"]]},{"id":"cdd4fa2f.96e868","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":636.733642578125,"y":753.5696310997009,"wires":[["fbfc1e73.3275d"],[]]},{"id":"fbfc1e73.3275d","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":841.3213310241699,"y":748.1251926422119,"wires":[["2b61c73.3ff3438"]]},{"id":"2b61c73.3ff3438","type":"function","z":"7c979a3f.780724","name":"5722+1_Plotnost_flow_2","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_1 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5722 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":396.80511474609375,"y":798.5633029937744,"wires":[["292669bc.9427d6"]]},{"id":"292669bc.9427d6","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":632.8959579467773,"y":804.192723274231,"wires":[["4f08ff12.bb8cc"],[]]},{"id":"4f08ff12.bb8cc","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":828.3407363891602,"y":803.0339078903198,"wires":[["119699e7.605bd6"]]},{"id":"119699e7.605bd6","type":"function","z":"7c979a3f.780724","name":"5724+1_Plotnost_flow_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_2 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5724 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.26939392089844,"y":839.3847570419312,"wires":[["f583ec2c.23217"]]},{"id":"f583ec2c.23217","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":651.6101837158203,"y":851.1569681167603,"wires":[["2496c954.1fd8d6"],[]]},{"id":"2496c954.1fd8d6","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":839.0550308227539,"y":851.4268007278442,"wires":[["93dea8cd.dd0928"]]},{"id":"93dea8cd.dd0928","type":"function","z":"7c979a3f.780724","name":"5726+1_Plotnost_flow_4","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5726 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":395.3408508300781,"y":892.2419385910034,"wires":[["5c6cb49f.857e2c"]]},{"id":"5c6cb49f.857e2c","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":648.2173233032227,"y":900.9784955978394,"wires":[["a9f033ae.2ab9a"],[]]},{"id":"a9f033ae.2ab9a","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":844.2336196899414,"y":901.2483110427856,"wires":[["80a3155d.e3ad38"]]},{"id":"80a3155d.e3ad38","type":"function","z":"7c979a3f.780724","name":"5728+1_Plotnost_flow_5","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_4 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5728 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":399.6622772216797,"y":950.313455581665,"wires":[["11023181.50609e"]]},{"id":"11023181.50609e","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":647.5030632019043,"y":955.2642183303833,"wires":[["d2aea2bb.36c1c"],[]]},{"id":"d2aea2bb.36c1c","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":863.5193500518799,"y":951.2482843399048,"wires":[["fb7f89b7.849908"]]},{"id":"fb7f89b7.849908","type":"function","z":"7c979a3f.780724","name":"5730+1_Plotnost_middle","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_flow_5 = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5730 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":392.2218475341797,"y":999.5157690048218,"wires":[["350d4fdc.8e9df"]]},{"id":"350d4fdc.8e9df","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":639.8963088989258,"y":1001.6332921981812,"wires":[["5b3640ce.c468d"],[]]},{"id":"5b3640ce.c468d","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(4));\n\nreturn msg;","outputs":1,"noerr":0,"x":855.4836273193359,"y":1004.5816335678101,"wires":[["529efba8.9528b4"]]},{"id":"529efba8.9528b4","type":"function","z":"7c979a3f.780724","name":"R_5732_T_Start_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.Plotnost_middle = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5732 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":400.9640350341797,"y":1051.473780632019,"wires":[["dacdd78.54c4d28"]]},{"id":"dacdd78.54c4d28","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":641.7457504272461,"y":1050.1388893127441,"wires":[["cb90f829.4d1bf8"],[]]},{"id":"cb90f829.4d1bf8","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":849.9798736572266,"y":1047.3785963058472,"wires":[["17198f3b.c50a31"]]},{"id":"17198f3b.c50a31","type":"function","z":"7c979a3f.780724","name":"R_5733_T_Start_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5733 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":393.96405029296875,"y":1101.4736604690552,"wires":[["602d054.3059bfc"]]},{"id":"602d054.3059bfc","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":641.7457656860352,"y":1108.7103052139282,"wires":[["af427882.1347b8"],[]]},{"id":"af427882.1347b8","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":847.1227493286133,"y":1098.807095527649,"wires":[["9652fe75.edcca"]]},{"id":"9652fe75.edcca","type":"function","z":"7c979a3f.780724","name":"R_5734_T_Start_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5734 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":407.3926239013672,"y":1157.1880197525024,"wires":[["398acee9.c3bbb2"]]},{"id":"398acee9.c3bbb2","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":641.7457656860352,"y":1167.2816896438599,"wires":[["4daddfa2.47af2"],[]]},{"id":"4daddfa2.47af2","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":855.6941909790039,"y":1160.2356119155884,"wires":[["31cc0a48.667946"]]},{"id":"31cc0a48.667946","type":"function","z":"7c979a3f.780724","name":"R_5735_T_Start_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5735 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":400.9640655517578,"y":1204.9023790359497,"wires":[["d8936e13.a4ba1"]]},{"id":"d8936e13.a4ba1","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":647.4601211547852,"y":1205.8532228469849,"wires":[["5e2d7cbc.8c17a4"],[]]},{"id":"5e2d7cbc.8c17a4","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":845.6941070556641,"y":1203.0928602218628,"wires":[["1613b065.65eed"]]},{"id":"1613b065.65eed","type":"function","z":"7c979a3f.780724","name":"R_5736_T_Start_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5736 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":396.53548431396484,"y":1278.7594385147095,"wires":[["217546dd.f5119a"]]},{"id":"217546dd.f5119a","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":654.6029357910156,"y":1277.2816762924194,"wires":[["b3536f49.206d3"],[]]},{"id":"b3536f49.206d3","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":852.8369674682617,"y":1261.6642236709595,"wires":[["32ff3f4a.427d7"]]},{"id":"32ff3f4a.427d7","type":"function","z":"7c979a3f.780724","name":"R_5737_T_End_Year","func":"var regime_get = flow.get('regime_get');\nregime_get.t_start_minute = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5737 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":396.24977111816406,"y":1345.3310556411743,"wires":[["9f67924.cf5e57"]]},{"id":"9f67924.cf5e57","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":633.1743392944336,"y":1348.7102785110474,"wires":[["10a1bb5.cf0bf45"],[]]},{"id":"10a1bb5.cf0bf45","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":841.408447265625,"y":1333.0929288864136,"wires":[["2672519f.70392e"]]},{"id":"2672519f.70392e","type":"function","z":"7c979a3f.780724","name":"R_5738_T_End_Month","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_year = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5738 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":390.8212127685547,"y":1402.759485244751,"wires":[["1b16ec18.1dce94"]]},{"id":"1b16ec18.1dce94","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":633.1743278503418,"y":1398.7103595733643,"wires":[["57ecdac9.f098b4"],[]]},{"id":"57ecdac9.f098b4","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":835.6941795349121,"y":1390.235610961914,"wires":[["aa4a1698.b27d18"]]},{"id":"aa4a1698.b27d18","type":"function","z":"7c979a3f.780724","name":"R_5739_T_End_day","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_month = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5739 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":399.249755859375,"y":1460.3311033248901,"wires":[["887836ac.d42358"]]},{"id":"887836ac.d42358","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":637.4600524902344,"y":1447.2816801071167,"wires":[["808a1f4b.69364"],[]]},{"id":"808a1f4b.69364","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":839.9798812866211,"y":1440.2355365753174,"wires":[["bcb34a79.af2528"]]},{"id":"bcb34a79.af2528","type":"function","z":"7c979a3f.780724","name":"R_5740_T_End_Hour","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_day = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5740 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":399.10691833496094,"y":1507.045461654663,"wires":[["19c4e9bb.c936d6"]]},{"id":"19c4e9bb.c936d6","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":651.7458152770996,"y":1495.8532819747925,"wires":[["803f3dc1.0a9aa"],[]]},{"id":"803f3dc1.0a9aa","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":854.2655601501465,"y":1487.3784627914429,"wires":[["896e19c7.1dfe68"]]},{"id":"896e19c7.1dfe68","type":"function","z":"7c979a3f.780724","name":"R_5741_T_End_Minute","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_hour = msg.payload;\nflow.set('regime_get',regime_get);\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5741 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":397.96405029296875,"y":1563.3307027816772,"wires":[["1cd86831.c83eb8"]]},{"id":"1cd86831.c83eb8","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":646.0315284729004,"y":1548.710376739502,"wires":[["aceb2e50.a81e3"],[]]},{"id":"aceb2e50.a81e3","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":879.9798202514648,"y":1544.5212907791138,"wires":[["19eb872c.e02559"]]},{"id":"19eb872c.e02559","type":"function","z":"7c979a3f.780724","name":"5742_Counter1M","func":"var regime_get = flow.get('regime_get');\nregime_get.t_end_minute = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5742 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":383.46405029296875,"y":1612.7594175338745,"wires":[["f4eb7911.b55008"]]},{"id":"f4eb7911.b55008","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":653.154541015625,"y":1604.861249923706,"wires":[["138d1993.663d26"],[]]},{"id":"138d1993.663d26","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":885.5353698730469,"y":1605.3373012542725,"wires":[["2c9efc25.0e3c64"]]},{"id":"2c9efc25.0e3c64","type":"function","z":"7c979a3f.780724","name":"5744_Counter_3","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter1M = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5744 , \n    'quantity': 4 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":403.0197448730469,"y":1673.2040824890137,"wires":[["c21ccdcd.f377c"]]},{"id":"c21ccdcd.f377c","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":672.5988426208496,"y":1678.750002861023,"wires":[["ce2eb293.eb341"],[]]},{"id":"ce2eb293.eb341","type":"function","z":"7c979a3f.780724","name":"to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\n\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":882.67822265625,"y":1675.3373355865479,"wires":[["aefd92be.9c784"]]},{"id":"aefd92be.9c784","type":"function","z":"7c979a3f.780724","name":"5748_rezervf","func":"var regime_get = flow.get('regime_get');\nregime_get.Counter_3 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5748 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":381.01979064941406,"y":1722.2039232254028,"wires":[["33ab998e.4fd106"]]},{"id":"33ab998e.4fd106","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":669.2656669616699,"y":1720.4166326522827,"wires":[["6368a6b9.f81398"],[]]},{"id":"6368a6b9.f81398","type":"function","z":"7c979a3f.780724","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[1]; //low\nintView[1] = msg.payload[0]; //high\n\nmsg.payload = parseFloat(fltView[0].toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":886.9639587402344,"y":1725.3373012542725,"wires":[["88a4a472.d746b8"]]},{"id":"88a4a472.d746b8","type":"function","z":"7c979a3f.780724","name":"5750_rezervw1","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervf = msg.payload;\nflow.set('regime_get',regime_get);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5750 , \n    'quantity': 1 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":393.68634033203125,"y":1767.5370960235596,"wires":[["a46ee5e.4c44e18"]]},{"id":"a46ee5e.4c44e18","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":659.2655830383301,"y":1763.749948501587,"wires":[["6f5e514.086c2b"],[]]},{"id":"6f5e514.086c2b","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":889.8210754394531,"y":1781.0516567230225,"wires":[["4eb3a362.0fe0ec"]]},{"id":"4eb3a362.0fe0ec","type":"function","z":"7c979a3f.780724","name":"5751_rezervw2","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw1 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":396.6863021850586,"y":1821.5372619628906,"wires":[["96a37c21.28e18"]]},{"id":"96a37c21.28e18","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":660.9322471618652,"y":1818.7499713897705,"wires":[["cabe1d0a.e1a1a"],[]]},{"id":"cabe1d0a.e1a1a","type":"function","z":"7c979a3f.780724","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":895.5353698730469,"y":1825.3374452590942,"wires":[["bb94ed35.ea8eb"]]},{"id":"bb94ed35.ea8eb","type":"function","z":"7c979a3f.780724","name":"5751","func":"var regime_get = flow.get('regime_get');\nregime_get.rezervw2 = msg.payload;\nflow.set('regime_get',regime_get);\n\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5751 , \n    'quantity': 1\n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":391.31918716430664,"y":1871.4304943084717,"wires":[["e18fcc24.c0766"]]},{"id":"e18fcc24.c0766","type":"modbus-flex-getter","z":"7c979a3f.780724","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":654.0096244812012,"y":1876.532054901123,"wires":[["e12e0a81.af8088"],[]]},{"id":"e12e0a81.af8088","type":"function","z":"7c979a3f.780724","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":826.963981628418,"y":1873.9086427688599,"wires":[["891cb6f3.b57b28"]]},{"id":"891cb6f3.b57b28","type":"function","z":"7c979a3f.780724","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('regime_get');\nreturn msg;","outputs":1,"noerr":0,"x":963.3094062805176,"y":1875.444266319275,"wires":[["6b422e7f.b2b4b","446a82bb.3f25dc"]]},{"id":"6b422e7f.b2b4b","type":"http response","z":"7c979a3f.780724","name":"","x":1134.6665687561035,"y":1837.7182903289795,"wires":[]},{"id":"446a82bb.3f25dc","type":"debug","z":"7c979a3f.780724","name":"","active":true,"console":"false","complete":"payload","x":1157.6547470092773,"y":1868.3490180969238,"wires":[]},{"id":"41c60630.9cc9b8","type":"function","z":"7c979a3f.780724","name":"with_1C","func":"//var order = msg.payload;\nvar regime_get = \n{\n  \"order_req\": 0,\n  \"route\": 0,\n  \"setpoint\": 0,\n  \"counterr\": 0,\n  \"t_flow_1\": 0,\n  \"t_flow_2\": 0,\n  \"t_flow_3\": 0,\n  \"t_flow_4\": 0,\n  \"t_flow_5\": 0,\n  \"t_flow_middle\": 0,\n  \"Plotnost_flow_1\": 0,\n  \"Plotnost_flow_2\": 0,\n  \"Plotnost_flow_3\": 0,\n  \"Plotnost_flow_4\": 0,\n  \"Plotnost_flow_5\": 0,\n  \"Plotnost_middle\": 0,\n  \"t_start_year\": 0,\n  \"t_start_month\": 0,\n  \"t_start_day\": 0,\n  \"t_start_hour\": 0,\n  \"t_start_minute\": 0,\n  \"t_end_year\":0,\n  \"t_end_month\":0,\n  \"t_end_day\":0,\n  \"t_end_hour\":0,\n  \"t_end_minute\":0,\n   \"Counter1M\":0,\n  \"Counter_3\":0,\n  \"rezervf\": 0,\n  \"rezervw1\": 0,\n   \"rezervw2\": 0\n };\nmsg.payload = regime_get;\nflow.set('regime_get',regime_get);\nflow.set('res2',msg.res);\nmsg.res = '';\nmsg.req = '';\nreturn msg;","outputs":"1","noerr":0,"x":465.2856330871582,"y":157.28568744659424,"wires":[["a5b0845c.27e228"]]},{"id":"e630b936.1ce618","type":"function","z":"c3bd0ed2.bdd29","name":"with_1c","func":"var setflowstar = msg.payload;\n/* var setflowstar = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstar',setflowstar);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":362.5244140625,"y":2998.754638671875,"wires":[["4a0f773d.a21f18"]]},{"id":"4a0f773d.a21f18","type":"function","z":"c3bd0ed2.bdd29","name":"To float","func":"var x = flow.get('setflowstar').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":510.77431869506836,"y":2998.227306365967,"wires":[["3078d4b9.a878dc"]]},{"id":"26814f8f.24b4c","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":207.2466049194336,"y":2969.310047149658,"wires":[["e630b936.1ce618"]]},{"id":"3078d4b9.a878dc","type":"function","z":"c3bd0ed2.bdd29","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":651.8576545715332,"y":2997.9488105773926,"wires":[["b681cb93.050be8"]]},{"id":"b681cb93.050be8","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":847.2709884643555,"y":2983.203601837158,"wires":[["19dc2bb3.832fd4"],[]]},{"id":"19dc2bb3.832fd4","type":"function","z":"c3bd0ed2.bdd29","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1045.2661056518555,"y":2976.702869415283,"wires":[["31e9c7e5.b4f3b8","5857c280.c0095c"]]},{"id":"31e9c7e5.b4f3b8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1251.8577346801758,"y":3014.56010723114,"wires":[]},{"id":"5857c280.c0095c","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":1255.8577194213867,"y":2961.9213123321533,"wires":[]},{"id":"874fcec0.bbed7","type":"function","z":"38cafb3c.f19c64","name":"with_1c","func":"var setflowstar = msg.payload;\n/* var setflowstar = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstar',setflowstar);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":335.0244140625,"y":3001.254638671875,"wires":[["6e450f84.782e5"]]},{"id":"6e450f84.782e5","type":"function","z":"38cafb3c.f19c64","name":"To float","func":"var x = flow.get('setflowstar').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":483.27431869506836,"y":3000.727306365967,"wires":[["cccf2d05.50746"]]},{"id":"bf07b290.31978","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":179.7466049194336,"y":2971.810047149658,"wires":[["874fcec0.bbed7"]]},{"id":"cccf2d05.50746","type":"function","z":"38cafb3c.f19c64","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5008, \n    'quantity': 2 \n    \n} ;\n\nreturn msg;","outputs":1,"noerr":0,"x":624.3576545715332,"y":3000.4488105773926,"wires":[["70529b06.763544"]]},{"id":"70529b06.763544","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":819.7709884643555,"y":2985.703601837158,"wires":[["50172328.f40b5c"],[]]},{"id":"50172328.f40b5c","type":"function","z":"38cafb3c.f19c64","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1017.7661056518555,"y":2979.202869415283,"wires":[["e38569fd.b07e38","64f3d16.406ae3"]]},{"id":"e38569fd.b07e38","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1224.3577346801758,"y":3017.06010723114,"wires":[]},{"id":"64f3d16.406ae3","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":1228.3577194213867,"y":2964.4213123321533,"wires":[]},{"id":"54ecec69.42ce64","type":"function","z":"76d04a24.33dbd4","name":"R_83_second_for_scada","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":681.1428527832031,"y":864.8571472167969,"wires":[["7f87a285.012d6c"]]},{"id":"13ce4782.9d1a58","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"plotnost_flow\",parseFloat(fltView[0].toFixed(4)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1174.8572998046875,"y":821.4641418457031,"wires":[["54ecec69.42ce64"]]},{"id":"7f87a285.012d6c","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":960.84521484375,"y":868.4638977050781,"wires":[["636840e7.64814"],[]]},{"id":"704efc1d.c90974","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":966.857177734375,"y":817.9640808105469,"wires":[["13ce4782.9d1a58"],[]]},{"id":"636840e7.64814","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"second_for_scada\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1180.857177734375,"y":870.2140808105469,"wires":[["f7e0e6bb.287498"]]},{"id":"463aa5a5.ace46c","type":"function","z":"76d04a24.33dbd4","name":"R_38+1_plotnost_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":685.357177734375,"y":811.9640808105469,"wires":[["704efc1d.c90974"]]},{"id":"f7e0e6bb.287498","type":"function","z":"76d04a24.33dbd4","name":"R_5002_mode_system","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":684.6072463989258,"y":920.797366142273,"wires":[["3acd0fee.e302a"]]},{"id":"3b836ad4.fb5c56","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"t_flow\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1196.357421875,"y":764.9642639160156,"wires":[["463aa5a5.ace46c"]]},{"id":"3acd0fee.e302a","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":957.3451843261719,"y":927.0471706390381,"wires":[["2b44aef2.c8b522"],[]]},{"id":"e591b00a.3736f","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":981.3572387695312,"y":762.4641418457031,"wires":[["3b836ad4.fb5c56"],[]]},{"id":"2b44aef2.c8b522","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"mode_system\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1158.357177734375,"y":930.7973327636719,"wires":[["5d94fdfd.316754"]]},{"id":"8e004329.b8fd1","type":"function","z":"76d04a24.33dbd4","name":"R_36+1_t_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":676.1054992675781,"y":755.9431457519531,"wires":[["e591b00a.3736f"]]},{"id":"5d94fdfd.316754","type":"function","z":"76d04a24.33dbd4","name":"R_5004_zayavka","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":662.1072387695312,"y":967.8807067871094,"wires":[["5103ff4.dc0f5"]]},{"id":"6144b247.d9b60c","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('register_error_status_bit_0',m[15]);\nflow.set('register_error_status_bit_1',m[14]);\nflow.set('register_error_status_bit_2',m[13]);\nflow.set('register_error_status_bit_3',m[12]);\nflow.set('register_error_status_bit_4',m[11]);\nflow.set('register_error_status_bit_5',m[10]);\nflow.set('register_error_status_bit_6',m[9]);\nflow.set('register_error_status_bit_7',m[8]);\nflow.set('register_error_status_bit_8',m[7]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1349.3110961914062,"y":715.8496398925781,"wires":[["8e004329.b8fd1"]]},{"id":"5103ff4.dc0f5","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":958.8451538085938,"y":978.1305236816406,"wires":[["964df6a5.195a28"],[]]},{"id":"7b99ba68.ac0c84","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1196.7261352539062,"y":712.6658630371094,"wires":[["6144b247.d9b60c"]]},{"id":"964df6a5.195a28","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"zayavka\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1161.857177734375,"y":973.8807067871094,"wires":[["c8c1ba4b.4e4098"]]},{"id":"8330df82.3eeec","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":997.7141723632812,"y":704.9157409667969,"wires":[["7b99ba68.ac0c84"],[]]},{"id":"c8c1ba4b.4e4098","type":"function","z":"76d04a24.33dbd4","name":"R_5005_marshrut_setpoint_number","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":625.4998016357422,"y":1025.5111999511719,"wires":[["303485fc.2bce6a"]]},{"id":"f3074560.80a768","type":"function","z":"76d04a24.33dbd4","name":"R_25_register_error_status_bit_0_6","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":721.9284362792969,"y":706.8921508789062,"wires":[["8330df82.3eeec"]]},{"id":"303485fc.2bce6a","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":953.4877319335938,"y":1025.0109558105469,"wires":[["695bac4b.add5c4"],[]]},{"id":"c5a97529.817528","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1334.2278442382812,"y":650.6275329589844,"wires":[["f3074560.80a768"]]},{"id":"695bac4b.add5c4","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"marshrut_setpoint_number\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1163.2496337890625,"y":1027.7613220214844,"wires":[["329a1bce.287304"]]},{"id":"5488eae4.4eab04","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1176.9423217773438,"y":645.2345275878906,"wires":[["c5a97529.817528"]]},{"id":"329a1bce.287304","type":"function","z":"76d04a24.33dbd4","name":"R_5005_marshrut_setpoint_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":639.357177734375,"y":1072.1304626464844,"wires":[["15380bec.8a6cd4"]]},{"id":"53c670e4.c2056","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":992.4303588867188,"y":645.2344055175781,"wires":[["5488eae4.4eab04"],[]]},{"id":"15380bec.8a6cd4","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":949.3451538085938,"y":1077.3803405761719,"wires":[["f0703fbe.490fd"],[]]},{"id":"e92d5f8e.0c87b","type":"function","z":"76d04a24.33dbd4","name":"R_22_status_hend_vent_bit_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":734.1445617675781,"y":646.3774108886719,"wires":[["53c670e4.c2056"]]},{"id":"f0703fbe.490fd","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1157.3571166992188,"y":1078.3808288574219,"wires":[["ae19bad7.710028"]]},{"id":"2b97e170.b1033e","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_1',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1325.5610961914062,"y":587.0441589355469,"wires":[["e92d5f8e.0c87b"]]},{"id":"ae19bad7.710028","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('marshrut_setpoint_bit_0',m[15]);\nflow.set('marshrut_setpoint_bit_1',m[14]);\nflow.set('marshrut_setpoint_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1362.7398071289062,"y":1077.8661193847656,"wires":[["f7053c4.d82fac"]]},{"id":"d7d9a405.6a6298","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1178.2756118774414,"y":583.7623252868652,"wires":[["2b97e170.b1033e"]]},{"id":"f7053c4.d82fac","type":"function","z":"76d04a24.33dbd4","name":"R_5006+1_setpoint","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1711.9528198242188,"y":236.71481323242188,"wires":[["12234fa0.4b40a"]]},{"id":"52af4c0c.958e64","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":987.7636260986328,"y":585.26220703125,"wires":[["d7d9a405.6a6298"],[]]},{"id":"12234fa0.4b40a","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":2000.9407539367676,"y":231.7143259048462,"wires":[["1ee05488.48280b"],[]]},{"id":"6d85c861.ba4038","type":"function","z":"76d04a24.33dbd4","name":"R_22_status_hend_vent_bit_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":739.311279296875,"y":586.4052314758301,"wires":[["52af4c0c.958e64"]]},{"id":"1ee05488.48280b","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"setpoint\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2214.690830230713,"y":232.96437454223633,"wires":[["f403ef6f.d9fdd"]]},{"id":"b975fe74.a91e7","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_0',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1328.7278442382812,"y":532.8496694564819,"wires":[["6d85c861.ba4038"]]},{"id":"f403ef6f.d9fdd","type":"function","z":"76d04a24.33dbd4","name":"R_5008+1_set_lflow_start","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1731.952709197998,"y":291.71448802948,"wires":[["7f95590f.b25b78"]]},{"id":"cd5ae9b.0d06e18","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1182.226173400879,"y":531.7492618560791,"wires":[["b975fe74.a91e7"]]},{"id":"7f95590f.b25b78","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1994.6906776428223,"y":292.96427726745605,"wires":[["7d1709f2.026cc8"],[]]},{"id":"65d26eb.dd2309","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":986.7141952514648,"y":527.2490634918213,"wires":[["cd5ae9b.0d06e18"],[]]},{"id":"7d1709f2.026cc8","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_start\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2208.4407539367676,"y":294.2143259048462,"wires":[["39af647a.8bf05c"]]},{"id":"76d1c7f5.049208","type":"function","z":"76d04a24.33dbd4","name":"R_22_status_hend_vent_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":745.2617340087891,"y":526.3920803070068,"wires":[["65d26eb.dd2309"]]},{"id":"39af647a.8bf05c","type":"function","z":"76d04a24.33dbd4","name":"R_5010+1_set_lflow_stop","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1711.952709197998,"y":367.547739982605,"wires":[["3696ae42.20b792"]]},{"id":"86518e87.b8902","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_1_status_klapan',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1339.657974243164,"y":473.7374572753906,"wires":[["76d1c7f5.049208"]]},{"id":"3696ae42.20b792","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1974.6906776428223,"y":368.79752922058105,"wires":[["437c6bc9.2a0a14"],[]]},{"id":"99bb5d4b.34488","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1180.7855606079102,"y":468.6899471282959,"wires":[["86518e87.b8902"]]},{"id":"437c6bc9.2a0a14","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_stop\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2188.4407539367676,"y":370.0475778579712,"wires":[["1204a0f4.fb2def"]]},{"id":"bb6245ed.e86538","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":979.7736358642578,"y":471.4398593902588,"wires":[["99bb5d4b.34488"],[]]},{"id":"1204a0f4.fb2def","type":"function","z":"76d04a24.33dbd4","name":"R_5012+1_protok_min","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1694.452709197998,"y":438.3811140060425,"wires":[["a69d540.46aa0b"]]},{"id":"3aa623bb.95ad5c","type":"function","z":"76d04a24.33dbd4","name":"R_12_b1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":779.3211326599121,"y":463.33282947540283,"wires":[["bb6245ed.e86538"]]},{"id":"a69d540.46aa0b","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1967.1906776428223,"y":439.63090324401855,"wires":[["1aa3aa8.541e656"],[]]},{"id":"a27e9c5e.07b54","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_klapan',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1340.0865287780762,"y":408.16603565216064,"wires":[["3aa623bb.95ad5c"]]},{"id":"1aa3aa8.541e656","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_min\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2180.9407539367676,"y":440.8809518814087,"wires":[["3ccb1f11.52eff"]]},{"id":"b5f0794b.0d5578","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1188.452621459961,"y":408.8448181152344,"wires":[["a27e9c5e.07b54"]]},{"id":"3ccb1f11.52eff","type":"function","z":"76d04a24.33dbd4","name":"R_5014+1_protok_dead_time","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1683.4407997131348,"y":504.214150428772,"wires":[["48bae527.2a30dc"]]},{"id":"d491da63.d25aa8","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":983.7619781494141,"y":410.39223861694336,"wires":[["b5f0794b.0d5578"],[]]},{"id":"48bae527.2a30dc","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1955.9406776428223,"y":505.46415519714355,"wires":[["fb96f47e.cf51e8"],[]]},{"id":"8659fdb6.94fa7","type":"function","z":"76d04a24.33dbd4","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":784.1428070068359,"y":412.0113582611084,"wires":[["d491da63.d25aa8"]]},{"id":"fb96f47e.cf51e8","type":"function","z":"76d04a24.33dbd4","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_dead_time\",parseInt(dwView[0]));\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":2184.6908226013184,"y":501.7141580581665,"wires":[["be911c6c.7b79a"]]},{"id":"91e1d7d2.d952e8","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_18_status_pump',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1332.2573013305664,"y":343.88024520874023,"wires":[["8659fdb6.94fa7"]]},{"id":"be911c6c.7b79a","type":"function","z":"76d04a24.33dbd4","name":"R_5016+1_counter_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1680.94087600708,"y":587.9641990661621,"wires":[["50ebd8ed.54aa98"]]},{"id":"a84fa106.d5443","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1179.5512924194336,"y":342.41601371765137,"wires":[["91e1d7d2.d952e8"]]},{"id":"50ebd8ed.54aa98","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1983.4407539367676,"y":589.2142038345337,"wires":[["2baa5351.aea93c"],[]]},{"id":"b815a3d9.98173","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":984.2061004638672,"y":347.4160270690918,"wires":[["a84fa106.d5443"],[]]},{"id":"2baa5351.aea93c","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_1\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2194.6907539367676,"y":588.3809518814087,"wires":[["58a148e2.96e288"]]},{"id":"7fe352e.ca9f9ac","type":"function","z":"76d04a24.33dbd4","name":"R_1_bit_3(18)","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":785.4205169677734,"y":348.0589962005615,"wires":[["b815a3d9.98173"]]},{"id":"58a148e2.96e288","type":"function","z":"76d04a24.33dbd4","name":"R_5018+1_counter_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1660.94087600708,"y":659.2141990661621,"wires":[["d1db0625.b67b48"]]},{"id":"bac05c8c.b44de","type":"function","z":"76d04a24.33dbd4","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_pump',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1129.2694702148438,"y":268.1897945404053,"wires":[["7fe352e.ca9f9ac"]]},{"id":"d1db0625.b67b48","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1963.4407539367676,"y":660.4642038345337,"wires":[["b3abc80f.8c1a18"],[]]},{"id":"8c2a310e.500b2","type":"function","z":"76d04a24.33dbd4","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":959.6349792480469,"y":268.5709419250488,"wires":[["bac05c8c.b44de"]]},{"id":"b3abc80f.8c1a18","type":"function","z":"76d04a24.33dbd4","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_2\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2174.6907539367676,"y":664.2142038345337,"wires":[["ea1b0e1d.b7c2c"]]},{"id":"b43262e1.f34e2","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":771.4443588256836,"y":269.36837005615234,"wires":[["8c2a310e.500b2"],[]]},{"id":"ea1b0e1d.b7c2c","type":"function","z":"76d04a24.33dbd4","name":"R_5020+3_counter_3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1614.69087600708,"y":737.1309471130371,"wires":[["32eeb908.b5a366"]]},{"id":"9de8b4ef.e7c7f8","type":"function","z":"76d04a24.33dbd4","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":583.3251762390137,"y":272.987509727478,"wires":[["b43262e1.f34e2"]]},{"id":"32eeb908.b5a366","type":"modbus-flex-getter","z":"76d04a24.33dbd4","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1917.1907539367676,"y":738.3809518814087,"wires":[["4a26a2d7.69365c"],[]]},{"id":"b3bbb4c2.c02dd8","type":"inject","z":"76d04a24.33dbd4","name":"","topic":"","payload":"","payloadType":"str","repeat":"2","crontab":"","once":false,"x":410.67540740966797,"y":273.6663455963135,"wires":[["9de8b4ef.e7c7f8"]]},{"id":"4a26a2d7.69365c","type":"function","z":"76d04a24.33dbd4","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nflow.set(\"counter_3\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2154.690902709961,"y":736.7141695022583,"wires":[["71de0e71.bc627"]]},{"id":"71de0e71.bc627","type":"debug","z":"76d04a24.33dbd4","name":"","active":false,"console":"false","complete":"false","x":2394.571201324463,"y":732.1898107528687,"wires":[]},{"id":"1eba142a.10b0fc","type":"http response","z":"76d04a24.33dbd4","name":"","x":666.0146408081055,"y":146.09483909606934,"wires":[]},{"id":"942547aa.9236a8","type":"function","z":"9de15b38.b5e158","name":"R_83_second_for_scada","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 83 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":662.8094787597656,"y":863.1904907226562,"wires":[["c85dce77.b5ab5"]]},{"id":"8ea583be.17b42","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"plotnost_flow\",parseFloat(fltView[0].toFixed(4)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1156.52392578125,"y":819.7974853515625,"wires":[["942547aa.9236a8"]]},{"id":"c85dce77.b5ab5","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":942.5118408203125,"y":866.7972412109375,"wires":[["84777782.bff748"],[]]},{"id":"13fb4938.c59a47","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":948.5238037109375,"y":816.2974243164062,"wires":[["8ea583be.17b42"],[]]},{"id":"84777782.bff748","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"second_for_scada\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.5238037109375,"y":868.5474243164062,"wires":[["1d655d1d.08edc3"]]},{"id":"e099f34.a77d51","type":"function","z":"9de15b38.b5e158","name":"R_38+1_plotnost_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 38 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":667.0238037109375,"y":810.2974243164062,"wires":[["13fb4938.c59a47"]]},{"id":"1d655d1d.08edc3","type":"function","z":"9de15b38.b5e158","name":"R_5002_mode_system","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5002 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":666.2738723754883,"y":919.1307096481323,"wires":[["419d857f.cd20dc"]]},{"id":"1998dc1e.4a2024","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"t_flow\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":1178.0240478515625,"y":763.297607421875,"wires":[["e099f34.a77d51"]]},{"id":"419d857f.cd20dc","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":939.0118103027344,"y":925.3805141448975,"wires":[["c7e6a1ad.5a75c"],[]]},{"id":"2689540a.86af4c","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":963.0238647460938,"y":760.7974853515625,"wires":[["1998dc1e.4a2024"],[]]},{"id":"c7e6a1ad.5a75c","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"mode_system\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1140.0238037109375,"y":929.1306762695312,"wires":[["fd0e5dc1.ca658"]]},{"id":"e3142684.f7f1d8","type":"function","z":"9de15b38.b5e158","name":"R_36+1_t_flow","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 36 , \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":657.7721252441406,"y":754.2764892578125,"wires":[["2689540a.86af4c"]]},{"id":"fd0e5dc1.ca658","type":"function","z":"9de15b38.b5e158","name":"R_5004_zayavka","func":"\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5004 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":643.7738647460938,"y":966.2140502929688,"wires":[["5e280320.a5019c"]]},{"id":"11005609.a249fa","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('register_error_status_bit_0',m[15]);\nflow.set('register_error_status_bit_1',m[14]);\nflow.set('register_error_status_bit_2',m[13]);\nflow.set('register_error_status_bit_3',m[12]);\nflow.set('register_error_status_bit_4',m[11]);\nflow.set('register_error_status_bit_5',m[10]);\nflow.set('register_error_status_bit_6',m[9]);\nflow.set('register_error_status_bit_7',m[8]);\nflow.set('register_error_status_bit_8',m[7]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1330.9777221679688,"y":714.1829833984375,"wires":[["e3142684.f7f1d8"]]},{"id":"5e280320.a5019c","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":940.5117797851562,"y":976.4638671875,"wires":[["72cbe3b1.561c7c"],[]]},{"id":"d812e2f7.30c76","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1178.3927612304688,"y":710.9992065429688,"wires":[["11005609.a249fa"]]},{"id":"72cbe3b1.561c7c","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"zayavka\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1143.5238037109375,"y":972.2140502929688,"wires":[["add8c495.9f1eb8"]]},{"id":"cb883689.709a48","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":979.3807983398438,"y":703.2490844726562,"wires":[["d812e2f7.30c76"],[]]},{"id":"add8c495.9f1eb8","type":"function","z":"9de15b38.b5e158","name":"R_5005_marshrut_setpoint_number","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":607.1664276123047,"y":1023.8445434570312,"wires":[["bba9ba8.7c81c48"]]},{"id":"8a6fc72d.2a8ed8","type":"function","z":"9de15b38.b5e158","name":"R_25_register_error_status_bit_0_6","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":731.9284057617188,"y":701.8921508789062,"wires":[["cb883689.709a48"]]},{"id":"bba9ba8.7c81c48","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":935.1543579101562,"y":1023.3442993164062,"wires":[["91e356f1.d76538"],[]]},{"id":"1ea49ced.74db43","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1315.8944702148438,"y":648.9608764648438,"wires":[["8a6fc72d.2a8ed8"]]},{"id":"91e356f1.d76538","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"marshrut_setpoint_number\",parseInt(fltView[0]));\n\nreturn msg;","outputs":1,"noerr":0,"x":1144.916259765625,"y":1026.0946655273438,"wires":[["e1001357.74a29"]]},{"id":"9e794ba7.1622d8","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1158.6089477539062,"y":643.56787109375,"wires":[["1ea49ced.74db43"]]},{"id":"e1001357.74a29","type":"function","z":"9de15b38.b5e158","name":"R_5005_marshrut_setpoint_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5005 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":621.0238037109375,"y":1070.4638061523438,"wires":[["6c18a546.66d4bc"]]},{"id":"adcd90a1.8ea1f","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":974.0969848632812,"y":643.5677490234375,"wires":[["9e794ba7.1622d8"],[]]},{"id":"6c18a546.66d4bc","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":931.0117797851562,"y":1075.7136840820312,"wires":[["5de066a3.2fe3f8"],[]]},{"id":"59619a53.82d664","type":"function","z":"9de15b38.b5e158","name":"R_22_status_hend_vent_bit_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":715.8111877441406,"y":644.7107543945312,"wires":[["adcd90a1.8ea1f"]]},{"id":"5de066a3.2fe3f8","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1139.0237426757812,"y":1076.7141723632812,"wires":[["b12726c.3155cd8"]]},{"id":"d7db47b2.1ce1a8","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_1',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1307.2277221679688,"y":585.3775024414062,"wires":[["59619a53.82d664"]]},{"id":"b12726c.3155cd8","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('marshrut_setpoint_bit_0',m[15]);\nflow.set('marshrut_setpoint_bit_1',m[14]);\nflow.set('marshrut_setpoint_bit_2',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1344.4064331054688,"y":1076.199462890625,"wires":[["1c24d014.00dd"]]},{"id":"31ce281e.d2b918","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1159.942237854004,"y":582.0956687927246,"wires":[["d7db47b2.1ce1a8"]]},{"id":"1c24d014.00dd","type":"function","z":"9de15b38.b5e158","name":"R_5006+1_setpoint","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5006 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1693.6194458007812,"y":235.04815673828125,"wires":[["3a1070f1.bff39"]]},{"id":"ed6e5a12.7fa718","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":969.4302520751953,"y":583.5955505371094,"wires":[["31ce281e.d2b918"],[]]},{"id":"3a1070f1.bff39","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1982.60737991333,"y":230.04766941070557,"wires":[["7f7b65ef.40513c"],[]]},{"id":"45b75411.66a60c","type":"function","z":"9de15b38.b5e158","name":"R_22_status_hend_vent_bit_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":720.9779052734375,"y":584.7385749816895,"wires":[["ed6e5a12.7fa718"]]},{"id":"7f7b65ef.40513c","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"setpoint\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2196.3574562072754,"y":231.2977180480957,"wires":[["d06d5ec8.b8a25"]]},{"id":"f1719889.bd9538","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n     m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('status_hend_vent_bit_0',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1310.3944702148438,"y":531.1830129623413,"wires":[["45b75411.66a60c"]]},{"id":"d06d5ec8.b8a25","type":"function","z":"9de15b38.b5e158","name":"R_5008+1_set_lflow_start","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5008 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1713.6193351745605,"y":290.04783153533936,"wires":[["f4014c36.ca092"]]},{"id":"a5c4ab71.0679f8","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1163.8927993774414,"y":530.0826053619385,"wires":[["f1719889.bd9538"]]},{"id":"f4014c36.ca092","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1976.3573036193848,"y":291.29762077331543,"wires":[["bc9d4ec8.6a902"],[]]},{"id":"59027218.80c45c","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":968.3808212280273,"y":525.5824069976807,"wires":[["a5c4ab71.0679f8"],[]]},{"id":"bc9d4ec8.6a902","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_start\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2190.10737991333,"y":292.54766941070557,"wires":[["221850c2.00e06"]]},{"id":"4099a73c.e5b2f8","type":"function","z":"9de15b38.b5e158","name":"R_22_status_hend_vent_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 22 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":726.9283599853516,"y":524.7254238128662,"wires":[["59027218.80c45c"]]},{"id":"221850c2.00e06","type":"function","z":"9de15b38.b5e158","name":"R_5010+1_set_lflow_stop","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5010 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1693.6193351745605,"y":365.88108348846436,"wires":[["c21094c2.1226e8"]]},{"id":"41b5cac1.5f9b44","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_1_status_klapan',m[14]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1321.3246002197266,"y":472.07080078125,"wires":[["4099a73c.e5b2f8"]]},{"id":"c21094c2.1226e8","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1956.3573036193848,"y":367.13087272644043,"wires":[["27633c68.9a5c24"],[]]},{"id":"f89a9516.918fe8","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1162.4521865844727,"y":467.0232906341553,"wires":[["41b5cac1.5f9b44"]]},{"id":"27633c68.9a5c24","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"set_lflow_stop\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2170.10737991333,"y":368.38092136383057,"wires":[["6475d77a.d8f248"]]},{"id":"cd53e343.6917f","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":961.4402618408203,"y":469.77320289611816,"wires":[["f89a9516.918fe8"],[]]},{"id":"6475d77a.d8f248","type":"function","z":"9de15b38.b5e158","name":"R_5012+1_protok_min","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5012 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1676.1193351745605,"y":436.71445751190186,"wires":[["e5e725e8.64eeb8"]]},{"id":"57ffa77d.0b5bf8","type":"function","z":"9de15b38.b5e158","name":"R_12_b1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":760.9877586364746,"y":461.6661729812622,"wires":[["cd53e343.6917f"]]},{"id":"e5e725e8.64eeb8","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1948.8573036193848,"y":437.96424674987793,"wires":[["6dc8f01f.5ed53"],[]]},{"id":"4235da66.c850c4","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_klapan',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1321.7531547546387,"y":406.49937915802,"wires":[["57ffa77d.0b5bf8"]]},{"id":"6dc8f01f.5ed53","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_min\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2162.60737991333,"y":439.21429538726807,"wires":[["e148638c.6c457"]]},{"id":"142fd1f7.2f64de","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1170.1192474365234,"y":407.17816162109375,"wires":[["4235da66.c850c4"]]},{"id":"e148638c.6c457","type":"function","z":"9de15b38.b5e158","name":"R_5014+1_protok_dead_time","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5014 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1665.1074256896973,"y":502.54749393463135,"wires":[["5764d7c1.025088"]]},{"id":"1819807f.6e18a","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":965.4286041259766,"y":408.72558212280273,"wires":[["142fd1f7.2f64de"],[]]},{"id":"5764d7c1.025088","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1937.6073036193848,"y":503.79749870300293,"wires":[["a69977ea.52a9a8"],[]]},{"id":"bc34a17c.85322","type":"function","z":"9de15b38.b5e158","name":"R_12_b0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 12 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":765.8094329833984,"y":410.3447017669678,"wires":[["1819807f.6e18a"]]},{"id":"a69977ea.52a9a8","type":"function","z":"9de15b38.b5e158","name":"conver_to DWORD","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar dwView = new Uint32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"protok_dead_time\",parseInt(dwView[0]));\n\nreturn msg;\n\n\n\n","outputs":1,"noerr":0,"x":2166.357448577881,"y":500.0475015640259,"wires":[["53ffb613.af31c8"]]},{"id":"f2ccdc11.a0caa","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\nflow.set('bit_18_status_pump',m[13]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1313.923927307129,"y":342.2135887145996,"wires":[["bc34a17c.85322"]]},{"id":"53ffb613.af31c8","type":"function","z":"9de15b38.b5e158","name":"R_5016+1_counter_1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5016 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1662.6075019836426,"y":586.2975425720215,"wires":[["7ed31f6b.3a9d"]]},{"id":"1a2a7e68.27c182","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":1161.217918395996,"y":340.74935722351074,"wires":[["f2ccdc11.a0caa"]]},{"id":"7ed31f6b.3a9d","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1965.10737991333,"y":587.5475473403931,"wires":[["d722ce0b.0753f"],[]]},{"id":"47db4851.da36b8","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":965.8727264404297,"y":345.7493705749512,"wires":[["1a2a7e68.27c182"],[]]},{"id":"d722ce0b.0753f","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_1\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2176.35737991333,"y":586.7142953872681,"wires":[["1cbd66d8.e8a539"]]},{"id":"5ea2571b.5117d8","type":"function","z":"9de15b38.b5e158","name":"R_1_bit_3(18)","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 1 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":767.0871429443359,"y":346.3923397064209,"wires":[["47db4851.da36b8"]]},{"id":"1cbd66d8.e8a539","type":"function","z":"9de15b38.b5e158","name":"R_5018+1_counter_2","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5018 , \n    'quantity': 2\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1642.6075019836426,"y":657.5475425720215,"wires":[["b8c89453.bc8ce8"]]},{"id":"fda5bb8a.227cc8","type":"function","z":"9de15b38.b5e158","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = ((p & 0x8000) ? 1 : 0);\n    p = p << 1; // divide by two and keep as an integer\n}\n\nflow.set('bit_0_status_pump',m[15]);\n\nreturn msg;","outputs":"1","noerr":0,"x":1110.9360961914062,"y":266.52313804626465,"wires":[["5ea2571b.5117d8"]]},{"id":"b8c89453.bc8ce8","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1945.10737991333,"y":658.7975473403931,"wires":[["e5199d1c.57c9c"],[]]},{"id":"51b05aee.44c5e4","type":"function","z":"9de15b38.b5e158","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\n\nreturn msg;","outputs":1,"noerr":0,"x":941.3016052246094,"y":266.9042854309082,"wires":[["fda5bb8a.227cc8"]]},{"id":"e5199d1c.57c9c","type":"function","z":"9de15b38.b5e158","name":"conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nflow.set(\"counter_2\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2156.35737991333,"y":662.5475473403931,"wires":[["4100357d.5151fc"]]},{"id":"b2fad045.47dbe","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":753.1109848022461,"y":267.7017135620117,"wires":[["51b05aee.44c5e4"],[]]},{"id":"4100357d.5151fc","type":"function","z":"9de15b38.b5e158","name":"R_5020+3_counter_3","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 5020 , \n    'quantity': 4\n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":1596.3575019836426,"y":735.4642906188965,"wires":[["39fcd71e.71fc98"]]},{"id":"f1e9975a.368958","type":"function","z":"9de15b38.b5e158","name":"R_0_bit_0","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 0 , \n    'quantity': 1 \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":564.9918022155762,"y":271.3208532333374,"wires":[["b2fad045.47dbe"]]},{"id":"39fcd71e.71fc98","type":"modbus-flex-getter","z":"9de15b38.b5e158","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1898.85737991333,"y":736.7142953872681,"wires":[["20486d0a.2c2692"],[]]},{"id":"d67d1ed9.66eed","type":"inject","z":"9de15b38.b5e158","name":"","topic":"","payload":"","payloadType":"str","repeat":"2","crontab":"","once":false,"x":392.34203338623047,"y":271.99968910217285,"wires":[["f1e9975a.368958"]]},{"id":"20486d0a.2c2692","type":"function","z":"9de15b38.b5e158","name":"conver_to float_64","func":"var buf = new ArrayBuffer(8);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float64Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\nintView[2] = msg.payload[2]; //low\nintView[3] = msg.payload[3]; //high\n\n\n\nflow.set(\"counter_3\",parseFloat(fltView[0].toFixed(2)));\n\nreturn msg;","outputs":1,"noerr":0,"x":2136.3575286865234,"y":735.0475130081177,"wires":[["e004e349.b0093"]]},{"id":"e004e349.b0093","type":"debug","z":"9de15b38.b5e158","name":"","active":false,"console":"false","complete":"false","x":2376.2378273010254,"y":730.523154258728,"wires":[]},{"id":"ff2ffa7c.117c28","type":"http response","z":"9de15b38.b5e158","name":"","x":647.681266784668,"y":144.4281826019287,"wires":[]},{"id":"8c06911d.b682e","type":"function","z":"c3bd0ed2.bdd29","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":549.8055419921875,"y":3253.91650390625,"wires":[["32fe917.71e2e6e"]]},{"id":"32fe917.71e2e6e","type":"function","z":"c3bd0ed2.bdd29","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":686.8054428100586,"y":3247.527894973755,"wires":[["19ad2f5a.777ea1"]]},{"id":"19ad2f5a.777ea1","type":"function","z":"c3bd0ed2.bdd29","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":820.4999046325684,"y":3246.416262626648,"wires":[["7d8e613a.99668"]]},{"id":"7d8e613a.99668","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":990.0833053588867,"y":3244.971926689148,"wires":[["affaf361.8b974"],[]]},{"id":"affaf361.8b974","type":"function","z":"c3bd0ed2.bdd29","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1188.8805541992188,"y":3242.281681060791,"wires":[["dd6ad7db.7702b8","7b17c1e4.28cc2"]]},{"id":"dd6ad7db.7702b8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1395.472183227539,"y":3280.138918876648,"wires":[]},{"id":"7b17c1e4.28cc2","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":1399.47216796875,"y":3227.500123977661,"wires":[]},{"id":"80a95647.2eb158","type":"function","z":"38cafb3c.f19c64","name":"with_1c","func":"var setflowstop = msg.payload;\n/* var setflowstop = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('setflowstop',setflowstop);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":563.138916015625,"y":3249.805419921875,"wires":[["1458bbdd.f2a464"]]},{"id":"1458bbdd.f2a464","type":"function","z":"38cafb3c.f19c64","name":"To float","func":"var x = flow.get('setflowstop').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":700.1388168334961,"y":3243.41681098938,"wires":[["89a811cd.b2a72"]]},{"id":"89a811cd.b2a72","type":"function","z":"38cafb3c.f19c64","name":"50010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5010, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":833.8332786560059,"y":3242.305178642273,"wires":[["e8a07f26.bd02e"]]},{"id":"e8a07f26.bd02e","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1003.4166793823242,"y":3240.860842704773,"wires":[["2a9d1a8f.caa576"],[]]},{"id":"2a9d1a8f.caa576","type":"function","z":"38cafb3c.f19c64","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1202.2139282226562,"y":3238.170597076416,"wires":[["102f5ddf.b9ab32","99266959.3da338"]]},{"id":"102f5ddf.b9ab32","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1408.8055572509766,"y":3276.027834892273,"wires":[]},{"id":"99266959.3da338","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":1412.8055419921875,"y":3223.389039993286,"wires":[]},{"id":"699577c4.eb40b8","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":568.138916015625,"y":3758.805419921875,"wires":[["2609f6ce.94954a"]]},{"id":"2609f6ce.94954a","type":"function","z":"c3bd0ed2.bdd29","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":700.6387825012207,"y":3761.9164810180664,"wires":[["71b8f96f.10c7a8"]]},{"id":"71b8f96f.10c7a8","type":"function","z":"c3bd0ed2.bdd29","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":835.5832443237305,"y":3759.0549087524414,"wires":[["d371ff29.1abd4"]]},{"id":"d371ff29.1abd4","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":1000.1666145324707,"y":3741.1105728149414,"wires":[["719af011.d70f5"],[]]},{"id":"719af011.d70f5","type":"function","z":"c3bd0ed2.bdd29","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1220.6306457519531,"y":3735.892572402954,"wires":[["eaac2a6b.3139e8","b1ca4276.7b6c4"]]},{"id":"eaac2a6b.3139e8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1388.2222137451172,"y":3696.7496881484985,"wires":[]},{"id":"b1ca4276.7b6c4","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":1264.222225189209,"y":3630.1110162734985,"wires":[]},{"id":"b42dc966.94d568","type":"function","z":"c3bd0ed2.bdd29","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":506.3890571594238,"y":4151.611810684204,"wires":[["5e47fe7a.eea9f"]]},{"id":"5e47fe7a.eea9f","type":"function","z":"c3bd0ed2.bdd29","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":660.8889045715332,"y":4150.722812652588,"wires":[["43c78d5.06f5274"]]},{"id":"43c78d5.06f5274","type":"function","z":"c3bd0ed2.bdd29","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":829.3332481384277,"y":4145.610834121704,"wires":[["d5254b99.434048"]]},{"id":"d5254b99.434048","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":996.4166679382324,"y":4145.166172027588,"wires":[["a9f5190d.da93e8"],[]]},{"id":"a9f5190d.da93e8","type":"function","z":"c3bd0ed2.bdd29","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1199.0389976501465,"y":4142.035284042358,"wires":[["2bdb78ca.2672b8","69bb4eda.87c74"]]},{"id":"69bb4eda.87c74","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":1422.6306114196777,"y":4093.253728866577,"wires":[]},{"id":"2bdb78ca.2672b8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":1418.630558013916,"y":4146.89252281189,"wires":[]},{"id":"c844f609.3f3418","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"var protokmin = msg.payload;\n/*var protokmin = \n {\n   \"volume\": 668.75\n   \n };\n*/\nflow.set('protokmin',protokmin);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":583.138916015625,"y":3749.16650390625,"wires":[["318e98e3.a0cd48"]]},{"id":"318e98e3.a0cd48","type":"function","z":"38cafb3c.f19c64","name":"To float","func":"var x = flow.get('protokmin').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":715.6387825012207,"y":3752.2775650024414,"wires":[["77fef804.08b9d8"]]},{"id":"77fef804.08b9d8","type":"function","z":"38cafb3c.f19c64","name":"50012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5012, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":850.5832443237305,"y":3749.4159927368164,"wires":[["239629b6.ddd266"]]},{"id":"239629b6.ddd266","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1015.1666145324707,"y":3731.4716567993164,"wires":[["6fb12768.da8d48"],[]]},{"id":"6fb12768.da8d48","type":"function","z":"38cafb3c.f19c64","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1235.6306457519531,"y":3726.253656387329,"wires":[["7a7cc7b0.751fb8","b08a9c4e.50232"]]},{"id":"7a7cc7b0.751fb8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1403.2222137451172,"y":3687.1107721328735,"wires":[]},{"id":"b08a9c4e.50232","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":1279.222225189209,"y":3620.4721002578735,"wires":[]},{"id":"77025c7f.9b61c4","type":"function","z":"38cafb3c.f19c64","name":"with_1C","func":"var protokdeadtime = msg.payload;\n  /*var protokdeadtime = \n {\n   \"volume\": 655365\n   \n };\n*/\nflow.set('protokdeadtime',protokdeadtime);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":521.3890571594238,"y":4141.972894668579,"wires":[["7d1344bc.0b88bc"]]},{"id":"7d1344bc.0b88bc","type":"function","z":"38cafb3c.f19c64","name":"To DINT","func":"var x = flow.get('protokdeadtime').volume;\n\nvar b = new Buffer(4);\nb.writeInt32BE(x,0);\n\n// const buf2 = Buffer.allocUnsafe(2);\n// buf2.writeInt16BE(x, 2);\n\nmsg.payload = [b.readInt16BE(2),b.readInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":675.8889045715332,"y":4141.083896636963,"wires":[["4988f971.d5edd8"]]},{"id":"4988f971.d5edd8","type":"function","z":"38cafb3c.f19c64","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 5014, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":844.3332481384277,"y":4135.971918106079,"wires":[["48303109.9d0a2"]]},{"id":"48303109.9d0a2","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":1011.4166679382324,"y":4135.527256011963,"wires":[["fffec610.543b58"],[]]},{"id":"fffec610.543b58","type":"function","z":"38cafb3c.f19c64","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":1214.0389976501465,"y":4132.396368026733,"wires":[["e3db4d3f.03d93","c39e2113.9fa64"]]},{"id":"c39e2113.9fa64","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":1437.6306114196777,"y":4083.614812850952,"wires":[]},{"id":"e3db4d3f.03d93","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":1433.630558013916,"y":4137.253606796265,"wires":[]},{"id":"80acb2ca.af7fb","type":"function","z":"76d04a24.33dbd4","name":"init status_all","func":"//var status_all = msg.payload;\nflow.set(\"bit_0_status_pump\",0);\nflow.set(\"bit_18_status_pump\", 0);\nflow.set(\"bit_0_status_klapan\", 0);\nflow.set(\"bit_1_status_klapan\", 0);\nflow.set(\"status_hend_vent_bit_0\",0);\nflow.set(\"status_hend_vent_bit_1\",0);\nflow.set(\"status_hend_vent_bit_2\",0);\n  flow.set(\"register_error_status_bit_0\", 0);\n  flow.set(\"register_error_status_bit_1\", 0);\n  flow.set(\"register_error_status_bit_2\", 0);\n  flow.set(\"register_error_status_bit_3\", 0);\n  flow.set(\"register_error_status_bit_4\", 0);\n  flow.set(\"register_error_status_bit_5\", 0);\n  flow.set(\"register_error_status_bit_6\", 0);\n  flow.set(\"register_error_status_bit_7\", 0);\n  flow.set(\"register_error_status_bit_8\", 0);\n  flow.set(\"t_flow\", 0);\n  flow.set(\"plotnost_flow\", 0);\n  flow.set(\"second_for_scada\", 0);\n  flow.set(\"mode_system\", 0);\n  flow.set(\"zayavka\", 0);\n  flow.set(\"marshrut_setpoint_number\", 0);\n  flow.set(\"marshrut_setpoint_bit_0\", 0);\n  flow.set(\"marshrut_setpoint_bit_1\", 0);\n  flow.set(\"marshrut_setpoint_bit_2\", 0);\n  flow.set(\"setpoint\", 0);\n  flow.set(\"set_lflow_start\", 0);\n  flow.set(\"set_lflow_stop\", 0);\n  flow.set(\"protok_min\", 0);\n  flow.set(\"protok_dead_time\", 0);\n  flow.set(\"counter_1\", 0);\n  flow.set(\"counter_2\", 0);\n  flow.set(\"counter_3\", 0);\nreturn msg;","outputs":"1","noerr":0,"x":423.6427001953125,"y":412.0000114440918,"wires":[[]]},{"id":"21ecd45.5932d2c","type":"inject","z":"76d04a24.33dbd4","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"x":247,"y":410.24365234375,"wires":[["80acb2ca.af7fb"]]},{"id":"36842e9d.c40a02","type":"function","z":"76d04a24.33dbd4","name":"response","func":"msg.payload = {\n\"bit_0_status_pump\":flow.get(\"bit_0_status_pump\"),\n\"bit_18_status_pump\":flow.get(\"bit_18_status_pump\"),\n\"bit_0_status_klapan\":flow.get(\"bit_0_status_klapan\"),\n\"bit_1_status_klapan\":flow.get(\"bit_1_status_klapan\"),\n\"status_hend_vent_bit_0\":flow.get(\"status_hend_vent_bit_0\"),\n\"status_hend_vent_bit_1\":flow.get(\"status_hend_vent_bit_1\"),\n\"status_hend_vent_bit_2\":flow.get(\"status_hend_vent_bit_2\"),\n\"register_error_status_bit_0\":flow.get(\"register_error_status_bit_0\"),\n\"register_error_status_bit_1\":flow.get(\"register_error_status_bit_1\"),\n\"register_error_status_bit_2\":flow.get(\"register_error_status_bit_2\"),\n\"register_error_status_bit_3\":flow.get(\"register_error_status_bit_3\"),\n\"register_error_status_bit_4\":flow.get(\"register_error_status_bit_4\"),\n\"register_error_status_bit_5\":flow.get(\"register_error_status_bit_5\"),\n\"register_error_status_bit_6\":flow.get(\"register_error_status_bit_6\"),\n\"register_error_status_bit_7\":flow.get(\"register_error_status_bit_7\"),\n\"register_error_status_bit_8\":flow.get(\"register_error_status_bit_8\"),\n\"t_flow\":flow.get(\"t_flow\"),\n\"plotnost_flow\":flow.get(\"plotnost_flow\"),\n\"second_for_scada\":flow.get(\"second_for_scada\"),\n\"mode_system\":flow.get(\"mode_system\"),\n\"zayavka\":flow.get(\"zayavka\"),\n\"marshrut_setpoint_number\":flow.get(\"marshrut_setpoint_number\"),\n\"marshrut_setpoint_bit_0\":flow.get(\"marshrut_setpoint_bit_0\"),\n\"marshrut_setpoint_bit_1\":flow.get(\"marshrut_setpoint_bit_1\"),\n\"marshrut_setpoint_bit_2\":flow.get(\"marshrut_setpoint_bit_2\"),\n\"setpoint\":flow.get(\"setpoint\"),\n\"set_lflow_start\":flow.get(\"set_lflow_start\"),\n\"set_lflow_stop\":flow.get(\"set_lflow_stop\"),\n\"protok_min\":flow.get(\"protok_min\"),\n\"protok_dead_time\":flow.get(\"protok_dead_time\"),\n\"counter_1\":flow.get(\"counter_1\"),\n\"counter_2\":flow.get(\"counter_2\"),\n\"counter_3\":flow.get(\"counter_3\")\n};\nreturn msg;","outputs":1,"noerr":0,"x":520.9088973999023,"y":124.5241870880127,"wires":[["1eba142a.10b0fc"]]},{"id":"5aaa4cac.f07aa4","type":"function","z":"9de15b38.b5e158","name":"init status_all","func":"//var status_all = msg.payload;\nflow.set(\"bit_0_status_pump\",0);\nflow.set(\"bit_18_status_pump\", 0);\nflow.set(\"bit_0_status_klapan\", 0);\nflow.set(\"bit_1_status_klapan\", 0);\nflow.set(\"status_hend_vent_bit_0\",0);\nflow.set(\"status_hend_vent_bit_1\",0);\nflow.set(\"status_hend_vent_bit_2\",0);\n  flow.set(\"register_error_status_bit_0\", 0);\n  flow.set(\"register_error_status_bit_1\", 0);\n  flow.set(\"register_error_status_bit_2\", 0);\n  flow.set(\"register_error_status_bit_3\", 0);\n  flow.set(\"register_error_status_bit_4\", 0);\n  flow.set(\"register_error_status_bit_5\", 0);\n  flow.set(\"register_error_status_bit_6\", 0);\n  flow.set(\"register_error_status_bit_7\", 0);\n  flow.set(\"register_error_status_bit_8\", 0);\n  flow.set(\"t_flow\", 0);\n  flow.set(\"plotnost_flow\", 0);\n  flow.set(\"second_for_scada\", 0);\n  flow.set(\"mode_system\", 0);\n  flow.set(\"zayavka\", 0);\n  flow.set(\"marshrut_setpoint_number\", 0);\n  flow.set(\"marshrut_setpoint_bit_0\", 0);\n  flow.set(\"marshrut_setpoint_bit_1\", 0);\n  flow.set(\"marshrut_setpoint_bit_2\", 0);\n  flow.set(\"setpoint\", 0);\n  flow.set(\"set_lflow_start\", 0);\n  flow.set(\"set_lflow_stop\", 0);\n  flow.set(\"protok_min\", 0);\n  flow.set(\"protok_dead_time\", 0);\n  flow.set(\"counter_1\", 0);\n  flow.set(\"counter_2\", 0);\n  flow.set(\"counter_3\", 0);\nreturn msg;","outputs":"1","noerr":0,"x":384.6427001953125,"y":347,"wires":[[]]},{"id":"cf241c54.4f72e","type":"inject","z":"9de15b38.b5e158","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":true,"x":208,"y":345.2436408996582,"wires":[["5aaa4cac.f07aa4"]]},{"id":"a7b0a165.10c1f","type":"function","z":"9de15b38.b5e158","name":"response","func":"msg.payload = {\n\"bit_0_status_pump\":flow.get(\"bit_0_status_pump\"),\n\"bit_18_status_pump\":flow.get(\"bit_18_status_pump\"),\n\"bit_0_status_klapan\":flow.get(\"bit_0_status_klapan\"),\n\"bit_1_status_klapan\":flow.get(\"bit_1_status_klapan\"),\n\"status_hend_vent_bit_0\":flow.get(\"status_hend_vent_bit_0\"),\n\"status_hend_vent_bit_1\":flow.get(\"status_hend_vent_bit_1\"),\n\"status_hend_vent_bit_2\":flow.get(\"status_hend_vent_bit_2\"),\n\"register_error_status_bit_0\":flow.get(\"register_error_status_bit_0\"),\n\"register_error_status_bit_1\":flow.get(\"register_error_status_bit_1\"),\n\"register_error_status_bit_2\":flow.get(\"register_error_status_bit_2\"),\n\"register_error_status_bit_3\":flow.get(\"register_error_status_bit_3\"),\n\"register_error_status_bit_4\":flow.get(\"register_error_status_bit_4\"),\n\"register_error_status_bit_5\":flow.get(\"register_error_status_bit_5\"),\n\"register_error_status_bit_6\":flow.get(\"register_error_status_bit_6\"),\n\"register_error_status_bit_7\":flow.get(\"register_error_status_bit_7\"),\n\"register_error_status_bit_8\":flow.get(\"register_error_status_bit_8\"),\n\"t_flow\":flow.get(\"t_flow\"),\n\"plotnost_flow\":flow.get(\"plotnost_flow\"),\n\"second_for_scada\":flow.get(\"second_for_scada\"),\n\"mode_system\":flow.get(\"mode_system\"),\n\"zayavka\":flow.get(\"zayavka\"),\n\"marshrut_setpoint_number\":flow.get(\"marshrut_setpoint_number\"),\n\"marshrut_setpoint_bit_0\":flow.get(\"marshrut_setpoint_bit_0\"),\n\"marshrut_setpoint_bit_1\":flow.get(\"marshrut_setpoint_bit_1\"),\n\"marshrut_setpoint_bit_2\":flow.get(\"marshrut_setpoint_bit_2\"),\n\"setpoint\":flow.get(\"setpoint\"),\n\"set_lflow_start\":flow.get(\"set_lflow_start\"),\n\"set_lflow_stop\":flow.get(\"set_lflow_stop\"),\n\"protok_min\":flow.get(\"protok_min\"),\n\"protok_dead_time\":flow.get(\"protok_dead_time\"),\n\"counter_1\":flow.get(\"counter_1\"),\n\"counter_2\":flow.get(\"counter_2\"),\n\"counter_3\":flow.get(\"counter_3\")\n};\nreturn msg;","outputs":1,"noerr":0,"x":478.90889739990234,"y":155.5241870880127,"wires":[["ff2ffa7c.117c28"]]},{"id":"8734c558.ed5a08","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_7","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_6 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3762.5,"y":1287.5,"wires":[["5e81ecf9.4a1ff4"]]},{"id":"5e81ecf9.4a1ff4","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":3997.8925857543945,"y":1301.53564453125,"wires":[["aff18fd3.691af"],[]]},{"id":"aff18fd3.691af","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4226.833198547363,"y":1290.249719619751,"wires":[["b4e97347.856dc"]]},{"id":"8426095f.aefbb8","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4213.666397094727,"y":1421.749439239502,"wires":[["c3da1299.b8aec"]]},{"id":"b73b2443.0e56f8","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":3984.725784301758,"y":1433.035364151001,"wires":[["8426095f.aefbb8"],[]]},{"id":"be6ceb32.bc7ba8","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_7 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3749.3331985473633,"y":1418.999719619751,"wires":[["b73b2443.0e56f8"]]},{"id":"565ed488.c3074c","type":"function","z":"c3bd0ed2.bdd29","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_8 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3746.8331985473633,"y":1537.749719619751,"wires":[["b5495bcb.c5bb38"]]},{"id":"b5495bcb.c5bb38","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":3982.225784301758,"y":1551.785364151001,"wires":[["ae94979b.6d48d8"],[]]},{"id":"ae94979b.6d48d8","type":"function","z":"c3bd0ed2.bdd29","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4164.9885330200195,"y":1568.2302322387695,"wires":[["7cd67ef8.bae96"]]},{"id":"7cd67ef8.bae96","type":"function","z":"c3bd0ed2.bdd29","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4310.918224334717,"y":1555.5993719100952,"wires":[["7c7ff694.b6e4b8","ec2e7c12.abf7d"]]},{"id":"7c7ff694.b6e4b8","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":4493.465587615967,"y":1561.6232976913452,"wires":[]},{"id":"ec2e7c12.abf7d","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":4462.525157928467,"y":1630.6352615356445,"wires":[]},{"id":"c3da1299.b8aec","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4683.083263397217,"y":1473.9997653961182,"wires":[[],[],[],[],[],[],[],["565ed488.c3074c"],[],[],[],[],[],[],[],[]]},{"id":"b4e97347.856dc","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4539.333263397217,"y":1358.9997653961182,"wires":[[],[],[],[],[],[],[],[],["be6ceb32.bc7ba8"],[],[],[],[],[],[],[]]},{"id":"d638fcc.f551c","type":"function","z":"c3bd0ed2.bdd29","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4676.250297546387,"y":1197.5000324249268,"wires":[[],[],[],[],[],[],[],[],[],["8734c558.ed5a08"],[],[],[],[],[],[]]},{"id":"6c1fc325.44b1cc","type":"function","z":"c3bd0ed2.bdd29","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4237.440376281738,"y":1169.595238685608,"wires":[["d638fcc.f551c"]]},{"id":"54c82612.e18168","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_7","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_6 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3737.500114440918,"y":1299.999997138977,"wires":[["3e5029ec.7e8bd6"]]},{"id":"3e5029ec.7e8bd6","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":3972.8927001953125,"y":1314.035641670227,"wires":[["3ccc6c3.afa4794"],[]]},{"id":"3ccc6c3.afa4794","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4201.833312988281,"y":1302.749716758728,"wires":[["f8217137.915a2"]]},{"id":"5b967ec8.1ecab","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4188.6665115356445,"y":1434.249436378479,"wires":[["a40a6e6.f86b59"]]},{"id":"b09a2def.2bf76","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":3959.725898742676,"y":1445.535361289978,"wires":[["5b967ec8.1ecab"],[]]},{"id":"e8def51f.911c18","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_7 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3724.3333129882812,"y":1431.499716758728,"wires":[["b09a2def.2bf76"]]},{"id":"61040496.c65c6c","type":"function","z":"38cafb3c.f19c64","name":"R_22_bit_8","func":"var bits_25 = flow.get('bits_25');\nbits_25.bit_8 = msg.payload;\nflow.set('bits_25',bits_25);\n\nmsg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 25 , \n    'quantity': 1 \n    \n} ;\nreturn msg;","outputs":"1","noerr":0,"x":3721.8333129882812,"y":1550.249716758728,"wires":[["9e8c564.54c6ca8"]]},{"id":"9e8c564.54c6ca8","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":3957.225898742676,"y":1564.285361289978,"wires":[["fe66a7b2.9382d8"],[]]},{"id":"fe66a7b2.9382d8","type":"function","z":"38cafb3c.f19c64","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"x":4139.9886474609375,"y":1580.7302293777466,"wires":[["44105f5f.c0429"]]},{"id":"44105f5f.c0429","type":"function","z":"38cafb3c.f19c64","name":"response","func":"msg.res = flow.get('res2');\nmsg.payload = flow.get('bits_25');\nreturn msg;","outputs":1,"noerr":0,"x":4285.918338775635,"y":1568.0993690490723,"wires":[["c584750.d154e88","a2edcbca.7ce8d8"]]},{"id":"c584750.d154e88","type":"http response","z":"38cafb3c.f19c64","name":"","x":4468.465702056885,"y":1574.1232948303223,"wires":[]},{"id":"a2edcbca.7ce8d8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":4437.525272369385,"y":1643.1352586746216,"wires":[]},{"id":"a40a6e6.f86b59","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4658.083377838135,"y":1486.4997625350952,"wires":[[],[],[],[],[],[],[],["61040496.c65c6c"],[],[],[],[],[],[],[],[]]},{"id":"f8217137.915a2","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4514.333377838135,"y":1371.4997625350952,"wires":[[],[],[],[],[],[],[],[],["e8def51f.911c18"],[],[],[],[],[],[],[]]},{"id":"456d4537.8a030c","type":"function","z":"38cafb3c.f19c64","name":"Split16","func":"var p = parseInt(msg.payload);\nvar m = [];\nfor (var i=0; i<16; i++) {\n    // test top bit and set corresponding payload\n    m[i] = {payload: ((p & 0x8000) ? 1 : 0) };\n    p = p << 1; // divide by two and keep as an integer\n}\n\nreturn m;","outputs":"16","noerr":0,"x":4651.250411987305,"y":1210.0000295639038,"wires":[[],[],[],[],[],[],[],[],[],["54c82612.e18168"],[],[],[],[],[],[]]},{"id":"da80e99a.9dcc68","type":"function","z":"38cafb3c.f19c64","name":"conver_to int","func":"var buf = new ArrayBuffer(2);\nvar intView = new Uint16Array(buf);\nvar fltView = new Uint16Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = parseInt(fltView[0]);\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"x":4212.440490722656,"y":1182.095235824585,"wires":[["456d4537.8a030c"]]},{"id":"fef0bbae.6c2df8","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3646.25,"y":1757.5,"wires":[["ad4178f7.9a8f08"]]},{"id":"ad4178f7.9a8f08","type":"function","z":"c3bd0ed2.bdd29","name":"with_1c","func":"var CorrectionSetpoint = msg.payload;\n/* var CorrectionSetpoint = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('CorrectionSetpoint',CorrectionSetpoint);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3921.6945266723633,"y":1829.6389436721802,"wires":[["300522c6.39083e"]]},{"id":"376a242e.b25f0c","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/CorrectionSetpoint","method":"post","swaggerDoc":"","x":3667.25,"y":1831.166893005371,"wires":[["ad4178f7.9a8f08"]]},{"id":"300522c6.39083e","type":"function","z":"c3bd0ed2.bdd29","name":"To float","func":"var x = flow.get('CorrectionSetpoint').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4058.6944274902344,"y":1823.250334739685,"wires":[["8a7be316.c0c79"]]},{"id":"8a7be316.c0c79","type":"function","z":"c3bd0ed2.bdd29","name":"6000+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6000, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4192.388889312744,"y":1822.1387023925781,"wires":[["641ca730.55a868"]]},{"id":"573c7dfd.5b8e14","type":"comment","z":"c3bd0ed2.bdd29","name":"write_/CorrectionSetpoint","info":"","x":4065.80558013916,"y":1757.3608860969543,"wires":[]},{"id":"ba331ddb.115cc","type":"function","z":"c3bd0ed2.bdd29","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4585,"y":1822.5,"wires":[["730f75e1.e2ddbc","30ec113b.f5270e"]]},{"id":"730f75e1.e2ddbc","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":4791.59162902832,"y":1860.357237815857,"wires":[]},{"id":"30ec113b.f5270e","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":4795.591613769531,"y":1807.7184429168701,"wires":[]},{"id":"89799ba0.b5e668","type":"function","z":"c3bd0ed2.bdd29","name":"6000+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6000 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3925,"y":1992.5,"wires":[["782d1162.1550f"]]},{"id":"4c5e53ec.4abcec","type":"comment","z":"c3bd0ed2.bdd29","name":"read_CorrectionSetpoint","info":"","x":4073.3333129882812,"y":1933.610878944397,"wires":[]},{"id":"e9269a41.b73518","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4406.777606964111,"y":1995.6109399795532,"wires":[["e5e61d93.52887","aa9a1a6b.50ae78"]]},{"id":"e5e61d93.52887","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4608.444362640381,"y":2065.610945701599,"wires":[["57bb00bf.0d07d"]]},{"id":"57bb00bf.0d07d","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":4759.555332183838,"y":2063.388695716858,"wires":[]},{"id":"aa9a1a6b.50ae78","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":4681.111068725586,"y":1992.9443159103394,"wires":[]},{"id":"d91056fd.5c0198","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/CorrectionSetpoint","method":"get","swaggerDoc":"","x":3667,"y":1984.4998617172241,"wires":[["89799ba0.b5e668"]]},{"id":"782d1162.1550f","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4148.75,"y":1997.5,"wires":[["e9269a41.b73518"],[]]},{"id":"98dfadfe.e7894","type":"inject","z":"c3bd0ed2.bdd29","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3638.75,"y":2126.25,"wires":[["a606c301.36026"]]},{"id":"a606c301.36026","type":"function","z":"c3bd0ed2.bdd29","name":"with_1c","func":"var rezerv6002 = msg.payload;\n/* var rezerv6002 = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('rezerv6002',rezerv6002);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3914.1945266723633,"y":2198.38894367218,"wires":[["8f238a90.3746b8"]]},{"id":"836b8cf2.1ecdb","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/rezerv6002","method":"post","swaggerDoc":"","x":3629.75,"y":2199.916893005371,"wires":[["a606c301.36026"]]},{"id":"8f238a90.3746b8","type":"function","z":"c3bd0ed2.bdd29","name":"To float","func":"var x = flow.get('rezerv6002').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4051.1944274902344,"y":2192.000334739685,"wires":[["809fdd1.486d72"]]},{"id":"809fdd1.486d72","type":"function","z":"c3bd0ed2.bdd29","name":"6002+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6002, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4184.888889312744,"y":2190.888702392578,"wires":[["f49e471c.0e5648"]]},{"id":"7dc27e9f.bf421","type":"comment","z":"c3bd0ed2.bdd29","name":"write_rezerv6002","info":"","x":4028.30558013916,"y":2126.1108860969543,"wires":[]},{"id":"5830a886.295508","type":"function","z":"c3bd0ed2.bdd29","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4577.5,"y":2191.25,"wires":[["cf2619b0.6cf2c8","62c4c9f6.20c5f8"]]},{"id":"cf2619b0.6cf2c8","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":4784.09162902832,"y":2229.107237815857,"wires":[]},{"id":"62c4c9f6.20c5f8","type":"http response","z":"c3bd0ed2.bdd29","name":"send to 1C","x":4788.091613769531,"y":2176.46844291687,"wires":[]},{"id":"dbb4a373.cf59f","type":"function","z":"c3bd0ed2.bdd29","name":"6002+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6002 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3917.5,"y":2361.25,"wires":[["cc14a355.6e5ec"]]},{"id":"10be14f6.f5431b","type":"comment","z":"c3bd0ed2.bdd29","name":"read_rezerv6002","info":"","x":4035.8333129882812,"y":2302.360878944397,"wires":[]},{"id":"ef9c056.48ec4f8","type":"function","z":"c3bd0ed2.bdd29","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4399.277606964111,"y":2364.360939979553,"wires":[["1e614dc6.76f232","75465ab2.eae764"]]},{"id":"1e614dc6.76f232","type":"function","z":"c3bd0ed2.bdd29","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4600.944362640381,"y":2434.360945701599,"wires":[["fad9e1b7.440da"]]},{"id":"fad9e1b7.440da","type":"http response","z":"c3bd0ed2.bdd29","name":"","x":4752.055332183838,"y":2432.138695716858,"wires":[]},{"id":"75465ab2.eae764","type":"debug","z":"c3bd0ed2.bdd29","name":"","active":false,"console":"false","complete":"payload","x":4673.611068725586,"y":2361.6943159103394,"wires":[]},{"id":"a3826bb6.1625e8","type":"http in","z":"c3bd0ed2.bdd29","name":"","url":"/k5/rezerv6002","method":"get","swaggerDoc":"","x":3639.5,"y":2353.249861717224,"wires":[["dbb4a373.cf59f"]]},{"id":"cc14a355.6e5ec","type":"modbus-flex-getter","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4141.25,"y":2366.25,"wires":[["ef9c056.48ec4f8"],[]]},{"id":"d9f9fda5.4d721","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3600,"y":1897.5,"wires":[["5e02f8a2.385a98"]]},{"id":"5e02f8a2.385a98","type":"function","z":"38cafb3c.f19c64","name":"with_1c","func":"var CorrectionSetpoint = msg.payload;\n/* var CorrectionSetpoint = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('CorrectionSetpoint',CorrectionSetpoint);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3875.4445266723633,"y":1969.6389436721802,"wires":[["e597f387.32183"]]},{"id":"6ea0d5a8.c1b11c","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/CorrectionSetpoint","method":"post","swaggerDoc":"","x":3621,"y":1971.166893005371,"wires":[["5e02f8a2.385a98"]]},{"id":"e597f387.32183","type":"function","z":"38cafb3c.f19c64","name":"To float","func":"var x = flow.get('CorrectionSetpoint').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4012.4444274902344,"y":1963.250334739685,"wires":[["2dc91d6d.b13612"]]},{"id":"2dc91d6d.b13612","type":"function","z":"38cafb3c.f19c64","name":"6000+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6000, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4146.138889312744,"y":1962.1387023925781,"wires":[["e9f5d0e.8c2e53"]]},{"id":"4ec7f3f4.f97b3c","type":"comment","z":"38cafb3c.f19c64","name":"write_/CorrectionSetpoint","info":"","x":4019.55558013916,"y":1897.3608860969543,"wires":[]},{"id":"9fc86903.f38a48","type":"function","z":"38cafb3c.f19c64","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4538.75,"y":1962.5,"wires":[["ca5c1f19.f3d6c","a45742f5.3bdf6"]]},{"id":"ca5c1f19.f3d6c","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":4745.34162902832,"y":2000.357237815857,"wires":[]},{"id":"a45742f5.3bdf6","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":4749.341613769531,"y":1947.7184429168701,"wires":[]},{"id":"55696715.a61798","type":"function","z":"38cafb3c.f19c64","name":"6000+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6000 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3878.75,"y":2132.5,"wires":[["f81370cd.f04da"]]},{"id":"5f98d768.1cafc8","type":"comment","z":"38cafb3c.f19c64","name":"read_CorrectionSetpoint","info":"","x":4027.0833129882812,"y":2073.610878944397,"wires":[]},{"id":"98d132ee.3a855","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4360.527606964111,"y":2135.610939979553,"wires":[["8cbc0316.c2591","dc6ef76c.a0c3d8"]]},{"id":"8cbc0316.c2591","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4562.194362640381,"y":2205.610945701599,"wires":[["f75fde0d.3d748"]]},{"id":"f75fde0d.3d748","type":"http response","z":"38cafb3c.f19c64","name":"","x":4713.305332183838,"y":2203.388695716858,"wires":[]},{"id":"dc6ef76c.a0c3d8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":4634.861068725586,"y":2132.9443159103394,"wires":[]},{"id":"c0c120d4.08488","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/CorrectionSetpoint","method":"get","swaggerDoc":"","x":3620.75,"y":2124.499861717224,"wires":[["55696715.a61798"]]},{"id":"f81370cd.f04da","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4102.5,"y":2137.5,"wires":[["98d132ee.3a855"],[]]},{"id":"d4892cc1.baf33","type":"inject","z":"38cafb3c.f19c64","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":3592.5,"y":2266.25,"wires":[["d5df1beb.c69928"]]},{"id":"d5df1beb.c69928","type":"function","z":"38cafb3c.f19c64","name":"with_1c","func":"var rezerv6002 = msg.payload;\n/* var rezerv6002 = \n {\n   \"volume\": 789.25 \n   \n };\n*/\nflow.set('rezerv6002',rezerv6002);\nmsg.payload = \"\";\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;","outputs":"1","noerr":0,"x":3867.9445266723633,"y":2338.38894367218,"wires":[["4b8494b9.c42a5c"]]},{"id":"699a90d3.e3d65","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/rezerv6002","method":"post","swaggerDoc":"","x":3583.5,"y":2339.916893005371,"wires":[["d5df1beb.c69928"]]},{"id":"4b8494b9.c42a5c","type":"function","z":"38cafb3c.f19c64","name":"To float","func":"var x = flow.get('rezerv6002').volume;\n\nvar b = new Buffer(4);\nb.writeFloatBE(x,0);\n\n\n\nmsg.payload = [b.readUInt16BE(2),b.readUInt16BE(0)]; \nreturn msg;","outputs":1,"noerr":0,"x":4004.9444274902344,"y":2332.000334739685,"wires":[["251a0c84.08e954"]]},{"id":"251a0c84.08e954","type":"function","z":"38cafb3c.f19c64","name":"6002+1","func":"\nvar x = msg.payload;\n\nmsg.payload = { \n    'value': [x[0],x[1]], \n    'fc': 16, \n    'unitid': 1, \n    'address': 6002, \n    'quantity': 2 \n    \n} ;\nreturn msg;","outputs":1,"noerr":0,"x":4138.638889312744,"y":2330.888702392578,"wires":[["f7020246.4ab46"]]},{"id":"c72ee9aa.913bf8","type":"comment","z":"38cafb3c.f19c64","name":"write_rezerv6002","info":"","x":3982.05558013916,"y":2266.1108860969543,"wires":[]},{"id":"c8b027a1.0ba258","type":"function","z":"38cafb3c.f19c64","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4531.25,"y":2331.25,"wires":[["805138ed.d926e8","dd43fbc1.d98b88"]]},{"id":"805138ed.d926e8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":4737.84162902832,"y":2369.107237815857,"wires":[]},{"id":"dd43fbc1.d98b88","type":"http response","z":"38cafb3c.f19c64","name":"send to 1C","x":4741.841613769531,"y":2316.46844291687,"wires":[]},{"id":"d1fbe7b4.74e1c8","type":"function","z":"38cafb3c.f19c64","name":"6002+1","func":"msg.payload = { \n    'fc': 3, \n    'unitid': 1, \n    'address': 6002 , \n    'quantity': 2 \n    \n} ;\nflow.set('res',msg.res);\nmsg.req = '';\nmsg.res = '';\nreturn msg;\n\n","outputs":1,"noerr":0,"x":3871.25,"y":2501.25,"wires":[["a5369c85.85ded"]]},{"id":"a97e1763.474bb8","type":"comment","z":"38cafb3c.f19c64","name":"read_rezerv6002","info":"","x":3989.5833129882812,"y":2442.360878944397,"wires":[]},{"id":"2a9cef57.2235f","type":"function","z":"38cafb3c.f19c64","name":"Wen_read_conver_to float","func":"var buf = new ArrayBuffer(4);\nvar intView = new Uint16Array(buf);\nvar fltView = new Float32Array(buf);\n\nintView[0] = msg.payload[0]; //low\nintView[1] = msg.payload[1]; //high\n\nmsg.payload = {\n    \"val\":parseFloat(fltView[0].toFixed(2))\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":4353.027606964111,"y":2504.360939979553,"wires":[["82fd23f7.10347","83ad179.6de2de8"]]},{"id":"82fd23f7.10347","type":"function","z":"38cafb3c.f19c64","name":"set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":4554.694362640381,"y":2574.360945701599,"wires":[["c3721531.779478"]]},{"id":"c3721531.779478","type":"http response","z":"38cafb3c.f19c64","name":"","x":4705.805332183838,"y":2572.138695716858,"wires":[]},{"id":"83ad179.6de2de8","type":"debug","z":"38cafb3c.f19c64","name":"","active":false,"console":"false","complete":"payload","x":4627.361068725586,"y":2501.6943159103394,"wires":[]},{"id":"e90430c5.e086d","type":"http in","z":"38cafb3c.f19c64","name":"","url":"/k6/rezerv6002","method":"get","swaggerDoc":"","x":3593.25,"y":2493.249861717224,"wires":[["d1fbe7b4.74e1c8"]]},{"id":"a5369c85.85ded","type":"modbus-flex-getter","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4095,"y":2506.25,"wires":[["2a9cef57.2235f"],[]]},{"id":"641ca730.55a868","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4387,"y":1807,"wires":[["ba331ddb.115cc"],[]]},{"id":"f49e471c.0e5648","type":"modbus-flex-write","z":"c3bd0ed2.bdd29","name":"","showStatusActivities":false,"showErrors":false,"server":"ec229c44.10de8","x":4358,"y":2182,"wires":[["5830a886.295508"],[]]},{"id":"e9f5d0e.8c2e53","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4335,"y":1951,"wires":[["9fc86903.f38a48"],[]]},{"id":"f7020246.4ab46","type":"modbus-flex-write","z":"38cafb3c.f19c64","name":"","showStatusActivities":false,"showErrors":false,"server":"fc070094.acbd8","x":4317,"y":2324,"wires":[["c8b027a1.0ba258"],[]]},{"id":"a7e02eda.583d3","type":"http in","z":"64ffbfa5.9f63d","name":"","url":"/k3/CorrectionSetpoint","method":"get","swaggerDoc":"","x":3396.666748046875,"y":3422,"wires":[["85ec7188.94539"]]},{"id":"481afcd4.a95984","type":"modbus-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"unitid":"","dataType":"MHoldingRegisters","adr":"5014","quantity":"2","server":"1ea9b448.b760ec","x":746.1666870117188,"y":4044.3333435058594,"wires":[["b1a6103e.92b53"],[]]},{"id":"faf7d672.cecd48","type":"function","z":"64ffbfa5.9f63d","name":"50014+1","func":"\nvar x = msg.payload;\n\nmsg.payload = [x[0],x[1]] ;\nreturn msg;","outputs":1,"noerr":0,"x":569,"y":4042,"wires":[["481afcd4.a95984"]]},{"id":"b1a6103e.92b53","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":918,"y":4026,"wires":[["e46c821d.f00f9","8a66dbd3.9055c8"]]},{"id":"8a66dbd3.9055c8","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1141.5916137695312,"y":3977.2184448242188,"wires":[]},{"id":"e46c821d.f00f9","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1137.5915603637695,"y":4030.8572387695312,"wires":[]},{"id":"9dd11ae.d4236e8","type":"function","z":"64ffbfa5.9f63d","name":"5012+1","func":"\nvar x = msg.payload;\n\nmsg.payload = [x[0],x[1]] ;\nreturn msg;","outputs":1,"noerr":0,"x":624,"y":3761.333251953125,"wires":[["3e8bf3b3.79069c"]]},{"id":"3e8bf3b3.79069c","type":"modbus-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"unitid":"","dataType":"MHoldingRegisters","adr":"5012","quantity":"2","server":"1ea9b448.b760ec","x":801.1666870117188,"y":3763.6665954589844,"wires":[["615c73a4.16b8ec"],[]]},{"id":"615c73a4.16b8ec","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":973,"y":3745.333251953125,"wires":[["b32cdf51.e3049","2ae7654e.d2fb9a"]]},{"id":"b32cdf51.e3049","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1192.5915603637695,"y":3750.1904907226562,"wires":[]},{"id":"2ae7654e.d2fb9a","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1196.5916137695312,"y":3696.5516967773438,"wires":[]},{"id":"b40fe077.5cbe3","type":"function","z":"64ffbfa5.9f63d","name":"5010+1","func":"\nvar x = msg.payload;\n\nmsg.payload = [x[0],x[1]] ;\nreturn msg;","outputs":1,"noerr":0,"x":622,"y":3309,"wires":[["974cbaa6.48b518"]]},{"id":"974cbaa6.48b518","type":"modbus-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"unitid":"","dataType":"MHoldingRegisters","adr":"5010","quantity":"2","server":"1ea9b448.b760ec","x":799.1666870117188,"y":3311.3333435058594,"wires":[["28e4fd8d.6d27c2"],[]]},{"id":"28e4fd8d.6d27c2","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":971,"y":3293,"wires":[["fd78b2a3.d1718","4a1bf525.9542dc"]]},{"id":"fd78b2a3.d1718","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1193.5915870666504,"y":3320.8571939468384,"wires":[]},{"id":"4a1bf525.9542dc","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1203.5915870666504,"y":3365.218521118164,"wires":[]},{"id":"212e0523.cf153a","type":"function","z":"64ffbfa5.9f63d","name":"5008+1","func":"\nvar x = msg.payload;\n\nmsg.payload = [x[0],x[1]] ;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":3010.666748046875,"wires":[["eecc476c.e2c138"]]},{"id":"eecc476c.e2c138","type":"modbus-write","z":"64ffbfa5.9f63d","name":"","showStatusActivities":false,"showErrors":false,"unitid":"","dataType":"MHoldingRegisters","adr":"5008","quantity":"2","server":"1ea9b448.b760ec","x":747.1666870117188,"y":3013.0000915527344,"wires":[["4227aef7.a6a0a"],[]]},{"id":"4227aef7.a6a0a","type":"function","z":"64ffbfa5.9f63d","name":"Set response","func":"msg.res = flow.get('res');\nreturn msg;","outputs":1,"noerr":0,"x":919,"y":2994.666748046875,"wires":[["59e25e02.b702","76fb22bf.9324bc"]]},{"id":"59e25e02.b702","type":"debug","z":"64ffbfa5.9f63d","name":"","active":false,"console":"false","complete":"payload","x":1141.5915870666504,"y":3022.5239419937134,"wires":[]},{"id":"76fb22bf.9324bc","type":"http response","z":"64ffbfa5.9f63d","name":"send to 1C","x":1151.5915870666504,"y":3066.885269165039,"wires":[]},{"id":"ea454bb6.d31db8","type":"debug","z":"1457c252.91a1de","name":"","active":true,"console":"false","complete":"false","x":260.16668701171875,"y":326.66668701171875,"wires":[]}]
